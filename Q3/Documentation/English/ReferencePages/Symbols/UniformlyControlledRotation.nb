(* Content-type: application/vnd.wolfram.mathematica *)

(*** Wolfram Notebook File ***)
(* http://www.wolfram.com/nb *)

(* CreatedBy='Mathematica 14.0' *)

(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[       158,          7]
NotebookDataLength[    184354,       4586]
NotebookOptionsPosition[    168410,       4263]
NotebookOutlinePosition[    171218,       4328]
CellTagsIndexPosition[    171131,       4323]
WindowTitle->UniformlyControlledRotation
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{
Cell[BoxData[GridBox[{
   {GridBox[{
      {
       ItemBox[Cell[BoxData[
         RowBox[{
          TemplateBox[{12},
           "Spacer1"], Cell["Q3 SYMBOL", "PacletNameCell",
           TextAlignment->Center,ExpressionUUID->
           "f1449c39-4052-4d3f-be07-001d7606eb02"], 
          TemplateBox[{8},
           "Spacer1"]}]],
         TextAlignment->Center,ExpressionUUID->
         "6cd14507-6257-49fe-a730-53af4f519fcb"],
        Background->RGBColor[0.490196, 0.576471, 0.690196],
        ItemSize->Full], ""}
     },
     GridBoxAlignment->{"Rows" -> {{Center}}},
     GridBoxItemSize->{"Columns" -> {Full, 
         Scaled[0.02]}, "Rows" -> {{2.5}}}], Cell[TextData[{
     Cell[BoxData[
      TagBox[
       ActionMenuBox[
        FrameBox[Cell[TextData[{
          "See Also",
          " ",
          Cell[BoxData[
           GraphicsBox[
            {GrayLevel[0.66667], Thickness[0.13], 
             LineBox[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]},
            AspectRatio->1,
            AxesStyle->Large,
            FrameStyle->Large,
            ImageSize->20,
            PlotRange->{{-3, 4}, {-1, 1}},
            PlotRangePadding->Scaled[0.025]]],ExpressionUUID->
           "faa6a533-fa4c-4d61-a424-562795dcbe09"]
         }],ExpressionUUID->"f8392738-a219-485d-9a87-9121613ba149"],
         StripOnInput->False],{
        "\"ControlledGate\"" :> 
         Documentation`HelpLookup["paclet:Q3/ref/ControlledGate"], 
         "\"ControlledPower\"" :> 
         Documentation`HelpLookup["paclet:Q3/ref/ControlledPower"], 
         "\"CNOT\"" :> Documentation`HelpLookup["paclet:Q3/ref/CNOT"], 
         "\"CZ\"" :> Documentation`HelpLookup["paclet:Q3/ref/CZ"], 
         "\"AmplitudeEmbeddingGate\"" :> 
         Documentation`HelpLookup["paclet:Q3/ref/AmplitudeEmbeddingGate"], 
         "\"UniformlyControlledGate\"" :> 
         Documentation`HelpLookup["paclet:Q3/ref/UniformlyControlledGate"]},
        Appearance->None,
        MenuAppearance->Automatic,
        MenuStyle->"SeeAlso"],
       MouseAppearanceTag["LinkHand"]]],
      LineSpacing->{1.4, 0},ExpressionUUID->
      "0cc83b6e-26f3-46e8-b844-f038f86562db"],
     "\[ThickSpace]\[ThickSpace]\[ThickSpace]\[ThickSpace]\[ThickSpace]\
\[ThickSpace]",
     Cell[BoxData[
      TagBox[
       ActionMenuBox[
        FrameBox[Cell[TextData[{
          "Related Guides",
          " ",
          Cell[BoxData[
           GraphicsBox[
            {GrayLevel[0.66667], Thickness[0.13], 
             LineBox[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]},
            AspectRatio->1,
            AxesStyle->Large,
            FrameStyle->Large,
            ImageSize->20,
            PlotRange->{{-3, 4}, {-1, 1}},
            PlotRangePadding->Scaled[0.025]]],ExpressionUUID->
           "c96c17ec-5309-4daf-b1fd-236106124d4e"]
         }],ExpressionUUID->"b1779de9-b842-4bc1-a839-f0b9051da4ae"],
         StripOnInput->False],{
        "\"Quantum Information Systems\"" :> 
         Documentation`HelpLookup[
          "paclet:Q3/guide/QuantumInformationSystems"], "\"Q3\"" :> 
         Documentation`HelpLookup["paclet:Q3/guide/Q3"]},
        Appearance->None,
        MenuAppearance->Automatic,
        MenuStyle->"MoreAbout"],
       MouseAppearanceTag["LinkHand"]]],
      LineSpacing->{1.4, 0},ExpressionUUID->
      "a9a917ad-ac2c-4a30-8b37-9a5b152970bb"],
     "\[ThickSpace]\[ThickSpace]\[ThickSpace]\[ThickSpace]\[ThickSpace]\
\[ThickSpace]",
     Cell[BoxData[
      TagBox[
       ActionMenuBox[
        FrameBox[Cell[TextData[{
          "Tech Notes",
          " ",
          Cell[BoxData[
           GraphicsBox[
            {GrayLevel[0.66667], Thickness[0.13], 
             LineBox[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]},
            AspectRatio->1,
            AxesStyle->Large,
            FrameStyle->Large,
            ImageSize->20,
            PlotRange->{{-3, 4}, {-1, 1}},
            PlotRangePadding->Scaled[0.025]]],ExpressionUUID->
           "cd82ae01-a813-47c0-904b-598f6130013b"]
         }],ExpressionUUID->"3a0da5d5-12a2-43c8-ba95-2a6b39406a46"],
         StripOnInput->False],{
        "\"Multi-Control Unitary Gates\"" :> 
         Documentation`HelpLookup[
          "paclet:Q3/tutorial/MultiControlUnitaryGates"], 
         "\"Quantum Information Systems with Q3\"" :> 
         Documentation`HelpLookup[
          "paclet:Q3/tutorial/QuantumInformationSystems"], 
         "\"Quick Quantum Computing with Q3\"" :> 
         Documentation`HelpLookup[
          "paclet:Q3/tutorial/QuickQuantumComputingWithQ3"], 
         "\"Q3: Quick Start\"" :> 
         Documentation`HelpLookup["paclet:Q3/tutorial/Q3QuickStart"]},
        Appearance->None,
        MenuAppearance->Automatic,
        MenuStyle->"Tutorials"],
       MouseAppearanceTag["LinkHand"]]],
      LineSpacing->{1.4, 0},ExpressionUUID->
      "45b2d222-51d6-4520-98cd-cfdcff4aa8e4"],
     "\[ThickSpace]\[ThickSpace]\[ThickSpace]\[ThickSpace]\[ThickSpace]\
\[ThickSpace]",
     Cell[BoxData[
      TagBox[
       ActionMenuBox[
        FrameBox[Cell[TextData[{
          "URL",
          " ",
          Cell[BoxData[
           GraphicsBox[
            {GrayLevel[0.66667], Thickness[0.13], 
             LineBox[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]},
            AspectRatio->1,
            AxesStyle->Large,
            FrameStyle->Large,
            ImageSize->20,
            PlotRange->{{-3, 4}, {-1, 1}},
            PlotRangePadding->Scaled[0.025]]],ExpressionUUID->
           "5363f6c2-be28-4687-b104-7126f12329fd"]
         }],ExpressionUUID->"20325442-27ae-48df-a0af-592d78c85eea"],
         StripOnInput->False],{
        "\"Q3/ref/UniformlyControlledRotation\"" :> None, 
         "\"Copy Wolfram Documentation Center URL\"" :> 
         Module[{DocumentationSearch`Private`nb$}, 
           DocumentationSearch`Private`nb$ = 
            NotebookPut[
             Notebook[{Cell["Q3/ref/UniformlyControlledRotation"]}, Visible -> 
               False]]; 
           SelectionMove[DocumentationSearch`Private`nb$, All, Notebook]; 
           FrontEndTokenExecute[DocumentationSearch`Private`nb$, "Copy"]; 
           NotebookClose[DocumentationSearch`Private`nb$]; Null], Delimiter, 
         "\"Copy web URL\"" :> 
         Module[{DocumentationSearch`Private`nb$}, 
           DocumentationSearch`Private`nb$ = 
            NotebookPut[
             Notebook[{
               Cell[BoxData[
                 MakeBoxes[
                  Hyperlink[
                   "http://reference.wolfram.com/language/Q3/ref/\
UniformlyControlledRotation.html"], StandardForm]], "Input", 
                 TextClipboardType -> "PlainText"]}, Visible -> False]]; 
           SelectionMove[DocumentationSearch`Private`nb$, All, Notebook]; 
           FrontEndTokenExecute[DocumentationSearch`Private`nb$, "Copy"]; 
           NotebookClose[DocumentationSearch`Private`nb$]; Null], 
         "\"Go to web URL\"" :> 
         FrontEndExecute[{
           NotebookLocate[{
             URL[If[TrueQ[False], 
                 "http://reference.wolfram.com/system-modeler/", 
                 "http://reference.wolfram.com/language/"] <> 
               "Q3/ref/UniformlyControlledRotation" <> ".html"], None}]}]},
        Appearance->None,
        MenuAppearance->Automatic,
        MenuStyle->"URLMenu"],
       MouseAppearanceTag["LinkHand"]]],
      LineSpacing->{1.4, 0},ExpressionUUID->
      "0111becf-f60e-4299-b39f-ae38c66cb2e3"]
    }], "AnchorBar",
     CacheGraphics->False,ExpressionUUID->
     "2bdb3842-40de-4e97-b10a-bd6e9763c03b"]}
  }]], "AnchorBarGrid",
 CellID->1,ExpressionUUID->"7b349a32-9026-449c-aab3-57d4356fa186"],

Cell["Q3`", "ContextNameCell",ExpressionUUID->"b390e9cb-7833-4484-83e9-fece3c607c94"],

Cell[CellGroupData[{

Cell[BoxData[GridBox[{
   {Cell[TextData[{
     Cell[
     "UniformlyControlledRotation", "ObjectName",ExpressionUUID->
      "f2827072-2e3d-4e24-a432-0a8f3b3c2f2c"],
     Cell[BoxData[
      TemplateBox[{8},
       "Spacer1"]],ExpressionUUID->"99ff3ede-c5fd-4432-9486-678e0456c52f"],
     Cell[BoxData[
     ""], "ObjectNameTranslation",ExpressionUUID->
      "85fc855b-c535-4827-8433-311fda5662fb"]
    }],ExpressionUUID->"c3b0e58c-74f6-4619-b37e-8e134266cd98"], Cell[BoxData[
     StyleBox[
      GraphicsBox[InsetBox[
        StyleBox["\<\"UPDATED IN 14.0\"\>",
         StripOnInput->False,
         FontFamily->"Source Sans Pro",
         FontSize->17,
         FontWeight->"Bold",
         FontSlant->"Italic",
         FontColor->RGBColor[0.968627, 0.466667, 0]], {Right, Center}, {
        Right, Center}],
       AxesStyle->Large,
       FrameStyle->Large,
       ImageSize->{125, 24},
       PlotRangePadding->Scaled[0.025]], "NewInGraphic",
      StripOnInput->False]],
     Deployed->True,
     Magnification->1,ExpressionUUID->
     "076a1f0a-4ec9-47f4-b082-4134354687be"]}
  }]], "ObjectNameGrid",
 CacheGraphics->False,ExpressionUUID->"810eb626-778e-4fd7-a0b3-130adef6c762"],

Cell[BoxData[GridBox[{
   {"", Cell[TextData[{
     Cell[BoxData[
      RowBox[{
       TemplateBox[{
         Cell[
          TextData["UniformlyControlledRotation"]], 
         "paclet:Q3/ref/UniformlyControlledRotation", "Q3 Package Symbol"},
        "PackageLink",
        BaseStyle->"InlineFormula"], "[", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{
          SubscriptBox[
           StyleBox["c", "TI"], 
           StyleBox["1", "TR"]], ",", 
          SubscriptBox[
           StyleBox["c", "TI"], 
           StyleBox["2", "TR"]], ",", 
          StyleBox["\[Ellipsis]", "TR"], ",", 
          SubscriptBox[
           StyleBox["c", "TI"], 
           StyleBox["n", "TI"]]}], "}"}], ",", 
        RowBox[{"{", 
         RowBox[{
          SubscriptBox[
           StyleBox["\[Theta]", "TR"], 
           StyleBox["1", "TR"]], ",", 
          SubscriptBox[
           StyleBox["\[Theta]", "TR"], 
           StyleBox["2", "TR"]], ",", 
          StyleBox["\[Ellipsis]", "TR"], ",", 
          SubscriptBox[
           StyleBox["\[Theta]", "TR"], 
           SuperscriptBox[
            StyleBox["2", "TI"], 
            StyleBox["n", "TI"]]]}], "}"}], ",", 
        RowBox[{"{", 
         RowBox[{
          StyleBox["x", "TI"], ",", 
          StyleBox["y", "TI"], ",", 
          StyleBox["z", "TI"]}], "}"}], ",", 
        StyleBox["s", "TI"]}], "]"}]], "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "813d28a7-7316-40e9-af35-0583ba6ab7d9"],
     "\[LineSeparator]represents the uniformly controlled rotation on qubit ",
     
     Cell[BoxData[
      StyleBox["s", "TI"]], "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "470c7032-9767-4ab0-9448-d38dd3752f75"],
     " around axis ",
     Cell[BoxData[
      RowBox[{"{", 
       RowBox[{
        StyleBox["x", "TI"], ",", 
        StyleBox["y", "TI"], ",", 
        StyleBox["z", "TI"]}], "}"}]], "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "0d9eef65-7a04-4718-bf56-1ddbb7beeddc"],
     " by angles ",
     Cell[BoxData[
      RowBox[{
       SubscriptBox[
        StyleBox["\[Theta]", "TR"], 
        StyleBox["1", "TR"]], ",", 
       SubscriptBox[
        StyleBox["\[Theta]", "TR"], 
        StyleBox["2", "TR"]], ",", 
       StyleBox["\[Ellipsis]", "TR"], ",", 
       SubscriptBox[
        StyleBox["\[Theta]", "TR"], 
        StyleBox[
         SuperscriptBox[
          StyleBox["2", "TI"], 
          StyleBox["n", "TI"]], "TI"]]}]], "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "e0a4b7b2-7277-4d5e-81d8-c5b9f161a958"],
     " depending on all possible bit sequences of control qubits ",
     Cell[BoxData[
      RowBox[{
       SubscriptBox[
        StyleBox["c", "TI"], 
        StyleBox["1", "TR"]], ",", 
       SubscriptBox[
        StyleBox["c", "TI"], 
        StyleBox["2", "TR"]], ",", 
       StyleBox["\[Ellipsis]", "TR"], ",", 
       SubscriptBox[
        StyleBox["c", "TI"], 
        StyleBox["n", "TI"]]}]], "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "abdabbaa-72d6-47c8-b2b9-796641028575"],
     "."
    }],ExpressionUUID->"221214ab-289b-4c0b-8844-575c93f7dd48"]},
   {"", Cell[TextData[{
     Cell[BoxData[
      RowBox[{
       TemplateBox[{
         Cell[
          TextData["UniformlyControlledRotation"]], 
         "paclet:Q3/ref/UniformlyControlledRotation", "Q3 Package Symbol"},
        "PackageLink",
        BaseStyle->"InlineFormula"], "[", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{
          SubscriptBox[
           StyleBox["c", "TI"], 
           StyleBox["1", "TR"]], ",", 
          SubscriptBox[
           StyleBox["c", "TI"], 
           StyleBox["2", "TR"]], ",", 
          StyleBox["\[Ellipsis]", "TR"], ",", 
          SubscriptBox[
           StyleBox["c", "TI"], 
           StyleBox["n", "TI"]]}], "}"}], ",", 
        RowBox[{"{", 
         RowBox[{
          SubscriptBox[
           StyleBox["\[Theta]", "TR"], 
           StyleBox["1", "TR"]], ",", 
          SubscriptBox[
           StyleBox["\[Theta]", "TR"], 
           StyleBox["2", "TR"]], ",", 
          StyleBox["\[Ellipsis]", "TR"], ",", 
          SubscriptBox[
           StyleBox["\[Theta]", "TR"], 
           SuperscriptBox[
            StyleBox["2", "TI"], 
            StyleBox["n", "TI"]]]}], "}"}], ",", 
        RowBox[{
         StyleBox["s", "TI"], "[", 
         RowBox[{
          StyleBox["\[Ellipsis]", "TR"], ",", 
          StyleBox["k", "TI"]}], "]"}]}], "]"}]], "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "2e1658d0-4fe3-40b2-8822-54f064def2de"],
     "\[LineSeparator]uses the ",
     Cell[BoxData[
      StyleBox["k", "TI"]], "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "036aa4e1-8019-4fe8-b15d-27d3dac20740"],
     "-axis as the rotation axis."
    }],ExpressionUUID->"9044a9dd-9e87-40ad-9f09-b9c0f02dd5bc"]}
  }]], "Usage",
 CellID->1604475725,ExpressionUUID->"f0e31d49-56bb-40c1-9c4a-db9b3061f805"]
}, Open  ]],

Cell[CellGroupData[{

Cell[TextData[Cell[BoxData[
 ButtonBox[Cell[TextData[{
   Cell[BoxData[
    DynamicBox[ToBoxes[
      If[
       MatchQ[
        CurrentValue[
         EvaluationNotebook[], {TaggingRules, "Openers", "NotesSection"}, 
         Closed], 
        Alternatives[Open, True]], 
       Style[
        Graphics[{
          Thickness[0.18], 
          RGBColor[0.8509803921568627, 0.396078431372549, 0], 
          Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
         PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
        0.68 Inherited], 
       Rotate[
        Style[
         Graphics[{
           Thickness[0.18], 
           RGBColor[0.8509803921568627, 0.396078431372549, 0], 
           Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
          PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
         0.68 Inherited], Rational[1, 2] Pi, {-1.65, -1}]]],
     ImageSizeCache->{14., {0.45000000000000107`, 13.549999999999999`}}]],
    ExpressionUUID->"27bcea92-470f-4781-8899-79d96121246d"],
   Cell[BoxData[
    TemplateBox[{1},
     "Spacer1"]],ExpressionUUID->"2595ddd7-ddb0-457d-aad8-b46506764e9d"],
   "Details and Options"
  }], "NotesFrameText",ExpressionUUID->"8f5c8be2-cac3-4775-b7a6-8a4b808398c4"],
  Appearance->{Automatic, None, "Normal", Automatic},
  BaseStyle->None,
  ButtonFunction:>(FrontEndExecute[{
     FrontEnd`SelectionMove[
      FrontEnd`SelectedNotebook[], All, ButtonCell], 
     FrontEndToken["OpenCloseGroup"], 
     FrontEnd`SelectionMove[
      FrontEnd`SelectedNotebook[], After, CellContents]}]& ),
  Evaluator->None,
  Method->
   "Preemptive"]],ExpressionUUID->"e1b728e1-45c4-458d-a233-1dc7860e0d0b"]], \
"NotesSection",
 WholeCellGroupOpener->True,
 CellGroupingRules->{"SectionGrouping", 50},
 CacheGraphics->False,
 CellID->671148040,ExpressionUUID->"3bc327d9-7fcf-48c8-b04e-ea11a52fdb0c"],

Cell[TextData[{
 "In general, ",
 Cell[BoxData[
  RowBox[{
   TemplateBox[{
     Cell[
      TextData["UniformlyControlledRotation"]], 
     "paclet:Q3/ref/UniformlyControlledRotation", "Q3 Package Symbol"},
    "PackageLink",
    BaseStyle->"InlineFormula"], "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{
      SubscriptBox[
       StyleBox["c", "TI"], 
       StyleBox["1", "TR"]], ",", 
      SubscriptBox[
       StyleBox["c", "TI"], 
       StyleBox["2", "TR"]], ",", 
      StyleBox["\[Ellipsis]", "TR"], ",", 
      SubscriptBox[
       StyleBox["c", "TI"], 
       StyleBox["n", "TI"]]}], "}"}], ",", 
    RowBox[{"{", 
     RowBox[{
      SubscriptBox[
       StyleBox["\[Theta]", "TR"], 
       StyleBox["1", "TR"]], ",", 
      SubscriptBox[
       StyleBox["\[Theta]", "TR"], 
       StyleBox["2", "TR"]], ",", 
      StyleBox["\[Ellipsis]", "TR"], ",", 
      SubscriptBox[
       StyleBox["\[Theta]", "TR"], 
       SuperscriptBox[
        StyleBox["2", "TI"], 
        StyleBox["n", "TI"]]]}], "}"}], ",", 
    RowBox[{"{", 
     RowBox[{
      StyleBox["x", "TI"], ",", 
      StyleBox["y", "TI"], ",", 
      StyleBox["z", "TI"]}], "}"}], ",", 
    StyleBox["s", "TI"]}], "]"}]], "InlineFormula",
  FontFamily->"Source Sans Pro",ExpressionUUID->
  "966cba12-4c7f-490e-8828-7e3fb96cb020"],
 " is a product of ",
 Cell[BoxData[
  FormBox[
   SuperscriptBox["2", "n"], TraditionalForm]],ExpressionUUID->
  "5d26a16a-948f-422f-8ce2-05bbc91ea88e"],
 " two-level matrices."
}], "Notes",
 CellID->471354696,ExpressionUUID->"ae0bbd84-36cf-4df2-abb8-07b3d8ef73be"],

Cell[TextData[{
 "Note also that ",
 Cell[BoxData[
  RowBox[{
   TemplateBox[{
     Cell[
      TextData["UniformlyControlledRotation"]], 
     "paclet:Q3/ref/UniformlyControlledRotation", "Q3 Package Symbol"},
    "PackageLink",
    BaseStyle->"InlineFormula"], "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{
      SubscriptBox[
       StyleBox["c", "TI"], 
       StyleBox["1", "TR"]], ",", 
      SubscriptBox[
       StyleBox["c", "TI"], 
       StyleBox["2", "TR"]], ",", 
      StyleBox["\[Ellipsis]", "TR"], ",", 
      SubscriptBox[
       StyleBox["c", "TI"], 
       StyleBox["n", "TI"]]}], "}"}], ",", 
    RowBox[{"{", 
     RowBox[{
      SubscriptBox[
       StyleBox["\[Theta]", "TR"], 
       StyleBox["1", "TR"]], ",", 
      SubscriptBox[
       StyleBox["\[Theta]", "TR"], 
       StyleBox["2", "TR"]], ",", 
      StyleBox["\[Ellipsis]", "TR"], ",", 
      SubscriptBox[
       StyleBox["\[Theta]", "TR"], 
       SuperscriptBox[
        StyleBox["2", "TI"], 
        StyleBox["n", "TI"]]]}], "}"}], ",", 
    RowBox[{"{", 
     RowBox[{
      StyleBox["x", "TI"], ",", 
      StyleBox["y", "TI"], ",", 
      StyleBox["z", "TI"]}], "}"}], ",", 
    StyleBox["s", "TI"]}], "]"}]], "InlineFormula",
  FontFamily->"Source Sans Pro",ExpressionUUID->
  "f9de45c7-39bd-48a8-a795-4d56eba6506c"],
 " equals to ",
 Cell[BoxData[
  FormBox[
   RowBox[{
    RowBox[{
     SubscriptBox["R", 
      StyleBox["v",
       FontWeight->"Bold"]], "(", 
     SubscriptBox["\[Theta]", "1"], ")"}], "\[CirclePlus]", 
    RowBox[{
     SubscriptBox["R", 
      StyleBox["v",
       FontWeight->"Bold"]], "(", 
     SubscriptBox["\[Theta]", "2"], ")"}], "\[CirclePlus]", "\[Ellipsis]", 
    "\[CirclePlus]", 
    RowBox[{
     SubscriptBox["R", 
      StyleBox["v",
       FontWeight->"Bold"]], "(", 
     SubscriptBox["\[Theta]", 
      SuperscriptBox["2", "n"]], ")"}]}], TraditionalForm]],ExpressionUUID->
  "38d59cae-193b-4552-8d01-a073e5bbe82c"],
 ", where ",
 Cell[BoxData[
  FormBox[
   RowBox[{
    StyleBox["v",
     FontWeight->"Bold"], "\[Congruent]", 
    RowBox[{"{", 
     RowBox[{"x", ",", "y", ",", "z"}], "}"}]}], TraditionalForm]],
  ExpressionUUID->"f350371f-a000-4871-92e3-c2f12fd3aab9"],
 ", and hence is block diagonal."
}], "Notes",
 CellID->1734206947,ExpressionUUID->"3b7a3b8a-d1fa-42ce-ae8e-f5f6de2d4b3e"],

Cell[TextData[{
 "An arbitrary multi-qubit unitary matrix ",
 Cell[BoxData[
  FormBox["U", TraditionalForm]],ExpressionUUID->
  "1c60fff4-b446-4985-9bc2-3fe9d06bf993"],
 " can be decomposed into a product of uniformly controlled rotations; see M\
\[ODoubleDot]tt\[ODoubleDot]nen ",
 StyleBox["et al",
  FontSlant->"Italic"],
 ". (2004)."
}], "Notes",
 CellID->940907943,ExpressionUUID->"67d2a3c7-cb3d-4ad3-9716-8f3879367beb"]
}, Dynamic[CurrentValue[
 EvaluationNotebook[], {TaggingRules, "Openers", "NotesSection"}, Closed]]]],

Cell[CellGroupData[{

Cell[TextData[{
 Cell[BoxData[
  DynamicBox[ToBoxes[
    If[
     MatchQ[
      CurrentValue[
       EvaluationNotebook[], {
       TaggingRules, "Openers", "PrimaryExamplesSection"}, Open], 
      Alternatives[True, Open]], 
     Style[
      Graphics[{
        Thickness[0.18], 
        RGBColor[0.8509803921568627, 0.396078431372549, 0], 
        Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
       PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
      0.68 Inherited], 
     Rotate[
      Style[
       Graphics[{
         Thickness[0.18], 
         RGBColor[0.8509803921568627, 0.396078431372549, 0], 
         Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
        PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
       0.68 Inherited], Rational[1, 2] Pi, {-1.65, -1}]]],
   ImageSizeCache->{14., {5., 9.}}]],ExpressionUUID->
  "86bbb315-5033-4223-841c-23896c674ddf"],
 Cell[BoxData[
  TemplateBox[{1},
   "Spacer1"]],ExpressionUUID->"54cc03cd-243a-4ee4-93f1-da7817142fcb"],
 "Examples",
 "\[NonBreakingSpace]\[NonBreakingSpace]",
 Cell["(4)", "ExampleCount",ExpressionUUID->
  "54262fe9-c088-45e9-95bb-d0221fcb1633"]
}], "PrimaryExamplesSection",
 WholeCellGroupOpener->True,
 CacheGraphics->False,
 CellTags->"PrimaryExamplesSection",
 CellID->1400994236,ExpressionUUID->"af3c2d0b-7e3f-4ec8-8d1a-eee04636a36d"],

Cell[BoxData[
 RowBox[{"Needs", "[", "\"\<Q3`\>\"", "]"}]], "Input", "ExampleInitialization",
 CellLabel->"In[1]:=",
 CellID->1759966869,ExpressionUUID->"96c47721-5f98-45ed-9938-103103a6dbf8"],

Cell[CellGroupData[{

Cell[TextData[{
 Cell[BoxData[
  DynamicBox[ToBoxes[
    If[
     MatchQ[
      CurrentValue[
       EvaluationNotebook[], {TaggingRules, "Openers", "ExampleSection", "0"},
        Closed], 
      Alternatives[Open, True]], 
     Style[
      Graphics[{
        Thickness[0.18], 
        RGBColor[0.8509803921568627, 0.396078431372549, 0], 
        Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
       PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
      0.68 Inherited], 
     Rotate[
      Style[
       Graphics[{
         Thickness[0.18], 
         RGBColor[0.8509803921568627, 0.396078431372549, 0], 
         Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
        PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
       0.68 Inherited], Rational[1, 2] Pi, {-1.65, -1}]]],
   ImageSizeCache->{14., {5., 9.}}]],ExpressionUUID->
  "74891c75-aed0-4389-9e50-bb913b092298"],
 Cell[BoxData[
  TemplateBox[{1},
   "Spacer1"]],ExpressionUUID->"2851fb6f-756c-405a-98ba-1ad747a67d42"],
 "Basic Examples",
 "\[NonBreakingSpace]\[NonBreakingSpace]",
 Cell["(1)", "ExampleCount",ExpressionUUID->
  "fad8f1a4-dcf6-4e1d-9be0-a92d910c9941"]
}], "ExampleSection", "ExampleSection",
 WholeCellGroupOpener->True,
 CacheGraphics->False,
 CellID->1499418744,ExpressionUUID->"655911d7-33cf-4563-8328-73128508f5e4"],

Cell[BoxData[
 RowBox[{"Let", "[", 
  RowBox[{"Qubit", ",", "S", ",", "T"}], "]"}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[1]:=",
 CellID->1226794958,ExpressionUUID->"175b08b0-7149-48ff-b55f-d26d2322e5da"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"$n", "=", "3"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"$N", "=", 
   RowBox[{"Power", "[", 
    RowBox[{"2", ",", "$n"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"kk", "=", 
   RowBox[{"Range", "[", "$n", "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"SS", "=", 
  RowBox[{"S", "[", 
   RowBox[{"kk", ",", "$"}], "]"}]}]}], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[2]:=",
 CellID->968013306,ExpressionUUID->"b35f5711-3cde-4aa7-8a73-8e6894ced45c"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   InterpretationBox[
    SubscriptBox["S", 
     TemplateBox[{",", "\",\"", "1"},
      "RowWithSeparators"]],
    $CellContext`S[1, Q3`$]], ",", 
   InterpretationBox[
    SubscriptBox["S", 
     TemplateBox[{",", "\",\"", "2"},
      "RowWithSeparators"]],
    $CellContext`S[2, Q3`$]], ",", 
   InterpretationBox[
    SubscriptBox["S", 
     TemplateBox[{",", "\",\"", "3"},
      "RowWithSeparators"]],
    $CellContext`S[3, Q3`$]]}], "}"}]], "Output",
 CellLabel->"Out[2]=",
 CellID->881552362,ExpressionUUID->"c445deb2-0c50-4aa8-86da-b28d1d8ca24d"]
}, Open  ]],

Cell[TextData[{
 "Define a series of rotations on qubit ",
 StyleBox["T[1,$]", "Input"],
 "."
}], "ExampleText",
 CellID->2035556350,ExpressionUUID->"2e179b0f-523f-4f10-b4f2-176c3012d595"],

Cell[BoxData[
 RowBox[{
  RowBox[{"SeedRandom", "[", "351", "]"}], ";"}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[3]:=",
 CellID->223772532,ExpressionUUID->"43f05214-3852-42dc-9704-7e7fa78da07a"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"aa", "=", 
  RowBox[{
   RowBox[{"RandomReal", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"0", ",", "1"}], "}"}], ",", "$N"}], "]"}], "*", 
   "Pi"}]}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[4]:=",
 CellID->694985576,ExpressionUUID->"310656d4-c653-4b24-9c3f-b7f7474ec298"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
  "1.173425652439431`", ",", "0.2417740740290115`", ",", 
   "0.5671918826722581`", ",", "1.471027482714407`", ",", 
   "2.2209597200615527`", ",", "0.3828968911510376`", ",", 
   "1.0453760749498053`", ",", "0.2199870128247587`"}], "}"}]], "Output",
 CellLabel->"Out[4]=",
 CellID->1300308543,ExpressionUUID->"f33909fd-c8c3-40b4-8852-2f549655017f"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"op", "=", 
  RowBox[{"UniformlyControlledRotation", "[", 
   RowBox[{"SS", ",", "aa", ",", " ", 
    RowBox[{"T", "[", "2", "]"}]}], "]"}]}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[5]:=",
 CellID->250707124,ExpressionUUID->"97d02a23-5a20-47a9-98a7-ea8e27d85294"],

Cell[BoxData[
 RowBox[{"UniformlyControlledRotation", "[", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{
     InterpretationBox[
      SubscriptBox["S", 
       TemplateBox[{",", "\",\"", "1"},
        "RowWithSeparators"]],
      $CellContext`S[1, Q3`$]], ",", 
     InterpretationBox[
      SubscriptBox["S", 
       TemplateBox[{",", "\",\"", "2"},
        "RowWithSeparators"]],
      $CellContext`S[2, Q3`$]], ",", 
     InterpretationBox[
      SubscriptBox["S", 
       TemplateBox[{",", "\",\"", "3"},
        "RowWithSeparators"]],
      $CellContext`S[3, Q3`$]]}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
    "1.173425652439431`", ",", "0.2417740740290115`", ",", 
     "0.5671918826722581`", ",", "1.471027482714407`", ",", 
     "2.2209597200615527`", ",", "0.3828968911510376`", ",", 
     "1.0453760749498053`", ",", "0.2199870128247587`"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"0", ",", "1", ",", "0"}], "}"}], ",", 
   InterpretationBox["T",
    $CellContext`T[Q3`$]]}], "]"}]], "Output",
 CellLabel->"Out[5]=",
 CellID->156761091,ExpressionUUID->"1af55b15-909a-448a-b90d-d6a2c729b1a6"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"qc", "=", 
  RowBox[{"QuantumCircuit", "[", "op", "]"}]}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[6]:=",
 CellID->1555841960,ExpressionUUID->"7c18c4c8-6418-40e8-a1e3-d1f26a7b7d74"],

Cell[BoxData[
 InterpretationBox[
  GraphicsBox[{
    {Dashing[{Small, Small}], LineBox[{}]}, 
    LineBox[{{{0, -1}, {2, -1}}, {{0, -2}, {2, -2}}, {{0, -3}, {2, -3}}, {{
     0, -4}, {2, -4}}}], {LineBox[{{1, -1}, {1, -2}, {1, -3}, {1, -4}}], 
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      DiskBox[{1, -1}, 0.09, 
       NCache[{Rational[1, 4] Pi, Rational[5, 4] Pi}, {0.7853981633974483, 
        3.9269908169872414`}]], 
      {GrayLevel[0], 
       DiskBox[{1, -1}, 0.09, 
        NCache[{Rational[-3, 4] Pi, Rational[1, 4] Pi}, {-2.356194490192345, 
         0.7853981633974483}]]}}, 
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      DiskBox[{1, -2}, 0.09, 
       NCache[{Rational[1, 4] Pi, Rational[5, 4] Pi}, {0.7853981633974483, 
        3.9269908169872414`}]], 
      {GrayLevel[0], 
       DiskBox[{1, -2}, 0.09, 
        NCache[{Rational[-3, 4] Pi, Rational[1, 4] Pi}, {-2.356194490192345, 
         0.7853981633974483}]]}}, 
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      DiskBox[{1, -3}, 0.09, 
       NCache[{Rational[1, 4] Pi, Rational[5, 4] Pi}, {0.7853981633974483, 
        3.9269908169872414`}]], 
      {GrayLevel[0], 
       DiskBox[{1, -3}, 0.09, 
        NCache[{Rational[-3, 4] Pi, Rational[1, 4] Pi}, {-2.356194490192345, 
         0.7853981633974483}]]}}, 
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{0.6, -4.4}, {1.4, -3.6}]}, InsetBox[
      StyleBox[
       SubscriptBox["\<\"R\"\>", "\<\"y\"\>"],
       StripOnInput->False,
       FontSize->Scaled[0.2],
       FontWeight->"Light",
       FontSlant->Italic], {1., -4.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}},
   AxesStyle->Large,
   FrameStyle->Large,
   ImagePadding->{{25.56, 25.56}, {7.2, 7.2}},
   ImageSize->118.8,
   PlotRange->{{0, 2}, {-4.5, -0.5}},
   PlotRangePadding->Scaled[0.025]],
  Q3`QuantumCircuit[
   Q3`UniformlyControlledRotation[{
     $CellContext`S[1, Q3`$], 
     $CellContext`S[2, Q3`$], 
     $CellContext`S[3, Q3`$]}, {1.173425652439431, 0.2417740740290115, 
    0.5671918826722581, 1.471027482714407, 2.2209597200615527`, 
    0.3828968911510376, 1.0453760749498053`, 0.2199870128247587}, {0, 1, 0}, 
    $CellContext`T[Q3`$]]]]], "Output",
 CellLabel->"Out[6]=",
 CellID->828472699,ExpressionUUID->"97974037-3097-4113-acae-3d3609550809"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"op", "**", 
  RowBox[{"Ket", "[", "SS", "]"}]}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[7]:=",
 CellID->602405762,ExpressionUUID->"d66179ed-bdf7-48cc-a4d3-0f8dbf88bf57"],

Cell[BoxData[
 RowBox[{
  RowBox[{"0.8327650418079633`", " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        SubscriptBox["0", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["S", 
             TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
            $CellContext`S[1, Q3`$]]}, "RowWithSeparators"]], 
        SubscriptBox["0", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["S", 
             TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
            $CellContext`S[2, Q3`$]]}, "RowWithSeparators"]], 
        SubscriptBox["0", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["S", 
             TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
            $CellContext`S[3, Q3`$]]}, "RowWithSeparators"]], 
        SubscriptBox["0", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox["T", 
            $CellContext`T[Q3`$]]}, "RowWithSeparators"]]}, 
       "RowWithSeparators"]},
     "Ket"],
    Ket[<|$CellContext`S[1, Q3`$] -> 0, $CellContext`S[2, Q3`$] -> 
      0, $CellContext`S[3, Q3`$] -> 0, $CellContext`T[Q3`$] -> 0|>]]}], "+", 
  RowBox[{
   RowBox[{"(", 
    RowBox[{"0.5536265755385855`", "\[VeryThinSpace]", "+", 
     RowBox[{"0.`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        SubscriptBox["0", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["S", 
             TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
            $CellContext`S[1, Q3`$]]}, "RowWithSeparators"]], 
        SubscriptBox["0", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["S", 
             TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
            $CellContext`S[2, Q3`$]]}, "RowWithSeparators"]], 
        SubscriptBox["0", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["S", 
             TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
            $CellContext`S[3, Q3`$]]}, "RowWithSeparators"]], 
        SubscriptBox["1", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox["T", 
            $CellContext`T[Q3`$]]}, "RowWithSeparators"]]}, 
       "RowWithSeparators"]},
     "Ket"],
    Ket[<|$CellContext`S[1, Q3`$] -> 0, $CellContext`S[2, Q3`$] -> 
      0, $CellContext`S[3, Q3`$] -> 0, $CellContext`T[Q3`$] -> 
      1|>]]}]}]], "Output",
 CellLabel->"Out[7]=",
 CellID->252616253,ExpressionUUID->"0adae52a-9a24-4e9f-9e8e-43feb6a10a11"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{"Elaborate", "[", "op", "]"}], "//", "Chop"}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[8]:=",
 CellID->494556011,ExpressionUUID->"bb779a81-a09b-4381-bca4-239355dc7b08"],

Cell[BoxData[
 RowBox[{"0.8516759058112331`", "\[VeryThinSpace]", "+", 
  RowBox[{"0.06980017477449493`", " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[1, 3]], 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[2, 3]]}, "RowWithSeparators"]},
     "RowDefault"],
    Q3`Multiply[
     $CellContext`S[1, 3], 
     $CellContext`S[2, 3]]]}], "+", 
  RowBox[{"0.09045083769257223`", " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[1, 3]], 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[3, 3]]}, "RowWithSeparators"]},
     "RowDefault"],
    Q3`Multiply[
     $CellContext`S[1, 3], 
     $CellContext`S[3, 3]]]}], "+", 
  RowBox[{
   RowBox[{"(", 
    RowBox[{"0.`", "\[VeryThinSpace]", "+", 
     RowBox[{"0.008772328443630989`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[1, 3]], 
        InterpretationBox[
         TemplateBox[{"T", 
           
           TemplateBox[{"\[ThinSpace]", "\"\[ThinSpace]\"", "\"Y\""}, 
            "RowWithSeparators"]}, "Superscript", SyntaxForm -> 
          SuperscriptBox], 
         $CellContext`T[2]]}, "RowWithSeparators"]},
     "RowDefault"],
    Q3`Multiply[
     $CellContext`S[1, 3], 
     $CellContext`T[2]]]}], "-", 
  RowBox[{"0.09856599197894056`", " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[2, 3]], 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[3, 3]]}, "RowWithSeparators"]},
     "RowDefault"],
    Q3`Multiply[
     $CellContext`S[2, 3], 
     $CellContext`S[3, 3]]]}], "-", 
  RowBox[{
   RowBox[{"(", 
    RowBox[{"0.`", "\[VeryThinSpace]", "+", 
     RowBox[{"0.025081447626788142`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[2, 3]], 
        InterpretationBox[
         TemplateBox[{"T", 
           
           TemplateBox[{"\[ThinSpace]", "\"\[ThinSpace]\"", "\"Y\""}, 
            "RowWithSeparators"]}, "Superscript", SyntaxForm -> 
          SuperscriptBox], 
         $CellContext`T[2]]}, "RowWithSeparators"]},
     "RowDefault"],
    Q3`Multiply[
     $CellContext`S[2, 3], 
     $CellContext`T[2]]]}], "-", 
  RowBox[{
   RowBox[{"(", 
    RowBox[{"0.`", "\[VeryThinSpace]", "+", 
     RowBox[{"0.14211818002728027`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[3, 3]], 
        InterpretationBox[
         TemplateBox[{"T", 
           
           TemplateBox[{"\[ThinSpace]", "\"\[ThinSpace]\"", "\"Y\""}, 
            "RowWithSeparators"]}, "Superscript", SyntaxForm -> 
          SuperscriptBox], 
         $CellContext`T[2]]}, "RowWithSeparators"]},
     "RowDefault"],
    Q3`Multiply[
     $CellContext`S[3, 3], 
     $CellContext`T[2]]]}], "+", 
  RowBox[{"0.003939408153809498`", " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[1, 3]], 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[2, 3]], 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[3, 3]]}, "RowWithSeparators"]},
     "RowDefault"],
    Q3`Multiply[
     $CellContext`S[1, 3], 
     $CellContext`S[2, 3], 
     $CellContext`S[3, 3]]]}], "+", 
  RowBox[{
   RowBox[{"(", 
    RowBox[{"0.`", "\[VeryThinSpace]", "+", 
     RowBox[{"0.09422108162371133`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[1, 3]], 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[2, 3]], 
        InterpretationBox[
         TemplateBox[{"T", 
           
           TemplateBox[{"\[ThinSpace]", "\"\[ThinSpace]\"", "\"Y\""}, 
            "RowWithSeparators"]}, "Superscript", SyntaxForm -> 
          SuperscriptBox], 
         $CellContext`T[2]]}, "RowWithSeparators"]},
     "RowDefault"],
    Q3`Multiply[
     $CellContext`S[1, 3], 
     $CellContext`S[2, 3], 
     $CellContext`T[2]]]}], "+", 
  RowBox[{
   RowBox[{"(", 
    RowBox[{"0.`", "\[VeryThinSpace]", "+", 
     RowBox[{"0.13164934639362158`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[1, 3]], 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[3, 3]], 
        InterpretationBox[
         TemplateBox[{"T", 
           
           TemplateBox[{"\[ThinSpace]", "\"\[ThinSpace]\"", "\"Y\""}, 
            "RowWithSeparators"]}, "Superscript", SyntaxForm -> 
          SuperscriptBox], 
         $CellContext`T[2]]}, "RowWithSeparators"]},
     "RowDefault"],
    Q3`Multiply[
     $CellContext`S[1, 3], 
     $CellContext`S[3, 3], 
     $CellContext`T[2]]]}], "-", 
  RowBox[{
   RowBox[{"(", 
    RowBox[{"0.`", "\[VeryThinSpace]", "+", 
     RowBox[{"0.14254797978125247`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[2, 3]], 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[3, 3]], 
        InterpretationBox[
         TemplateBox[{"T", 
           
           TemplateBox[{"\[ThinSpace]", "\"\[ThinSpace]\"", "\"Y\""}, 
            "RowWithSeparators"]}, "Superscript", SyntaxForm -> 
          SuperscriptBox], 
         $CellContext`T[2]]}, "RowWithSeparators"]},
     "RowDefault"],
    Q3`Multiply[
     $CellContext`S[2, 3], 
     $CellContext`S[3, 3], 
     $CellContext`T[2]]]}], "-", 
  RowBox[{
   RowBox[{"(", 
    RowBox[{"0.`", "\[VeryThinSpace]", "+", 
     RowBox[{"0.06350006531193167`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[1, 3]], 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[2, 3]], 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[3, 3]], 
        InterpretationBox[
         TemplateBox[{"T", 
           
           TemplateBox[{"\[ThinSpace]", "\"\[ThinSpace]\"", "\"Y\""}, 
            "RowWithSeparators"]}, "Superscript", SyntaxForm -> 
          SuperscriptBox], 
         $CellContext`T[2]]}, "RowWithSeparators"]},
     "RowDefault"],
    Q3`Multiply[
     $CellContext`S[1, 3], 
     $CellContext`S[2, 3], 
     $CellContext`S[3, 3], 
     $CellContext`T[2]]]}], "+", 
  RowBox[{"0.03007627250101011`", " ", 
   InterpretationBox[
    TemplateBox[{"S", 
      TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"], 
      TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]},
     "Subsuperscript"],
    $CellContext`S[1, 3]]}], "-", 
  RowBox[{"0.038818804122387196`", " ", 
   InterpretationBox[
    TemplateBox[{"S", 
      TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"], 
      TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]},
     "Subsuperscript"],
    $CellContext`S[2, 3]]}], "-", 
  RowBox[{"0.07579276102382893`", " ", 
   InterpretationBox[
    TemplateBox[{"S", 
      TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"], 
      TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]},
     "Subsuperscript"],
    $CellContext`S[3, 3]]}], "-", 
  RowBox[{
   RowBox[{"(", 
    RowBox[{"0.`", "\[VeryThinSpace]", "+", 
     RowBox[{"0.41502165925229684`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
   InterpretationBox[
    TemplateBox[{"T", 
      TemplateBox[{"\[ThinSpace]", "\"\[ThinSpace]\"", "\"Y\""}, 
       "RowWithSeparators"]},
     "Superscript"],
    $CellContext`T[2]]}]}]], "Output",
 CellLabel->"Out[8]=",
 CellID->507286329,ExpressionUUID->"c86d7113-2066-462e-8744-bb504a58c44a"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{" ", 
  RowBox[{
   RowBox[{
    RowBox[{"Matrix", "[", "op", "]"}], "//", "Chop"}], "//", 
   "MatrixForm"}]}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[9]:=",
 CellID->707741982,ExpressionUUID->"632018de-1827-4759-bda2-7a75df532218"],

Cell[BoxData[
 TagBox[
  RowBox[{"(", "\[NoBreak]", GridBox[{
     {"0.8327650418079633`", 
      RowBox[{"-", "0.5536265755385855`"}], "0", "0", "0", "0", "0", "0", "0",
       "0", "0", "0", "0", "0", "0", "0"},
     {"0.5536265755385855`", "0.8327650418079633`", "0", "0", "0", "0", "0", 
      "0", "0", "0", "0", "0", "0", "0", "0", "0"},
     {"0", "0", "0.9927020561207387`", 
      RowBox[{"-", "0.12059281808489981`"}], "0", "0", "0", "0", "0", "0", 
      "0", "0", "0", "0", "0", "0"},
     {"0", "0", "0.12059281808489981`", "0.9927020561207387`", "0", "0", "0", 
      "0", "0", "0", "0", "0", "0", "0", "0", "0"},
     {"0", "0", "0", "0", "0.9600554681540099`", 
      RowBox[{"-", "0.2798097533460635`"}], "0", "0", "0", "0", "0", "0", "0",
       "0", "0", "0"},
     {"0", "0", "0", "0", "0.2798097533460635`", "0.9600554681540099`", "0", 
      "0", "0", "0", "0", "0", "0", "0", "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0.7414861471662612`", 
      RowBox[{"-", "0.6709681762651145`"}], "0", "0", "0", "0", "0", "0", "0",
       "0"},
     {"0", "0", "0", "0", "0", "0", "0.6709681762651145`", 
      "0.7414861471662612`", "0", "0", "0", "0", "0", "0", "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0.44423165556418975`", 
      RowBox[{"-", "0.8959119578366499`"}], "0", "0", "0", "0", "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0.8959119578366499`", 
      "0.44423165556418975`", "0", "0", "0", "0", "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0.9817296532624921`", 
      RowBox[{"-", "0.1902810760562046`"}], "0", "0", "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0.1902810760562046`",
       "0.9817296532624921`", "0", "0", "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0.8664804136234541`", 
      RowBox[{"-", "0.4992110703970094`"}], "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0.4992110703970094`", "0.8664804136234541`", "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0.9939568107907563`", 
      RowBox[{"-", "0.10977184649384719`"}]},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0.10977184649384719`", "0.9939568107907563`"}
    },
    GridBoxAlignment->{"Columns" -> {{Center}}, "Rows" -> {{Baseline}}},
    GridBoxSpacings->{"Columns" -> {
        Offset[0.27999999999999997`], {
         Offset[0.7]}, 
        Offset[0.27999999999999997`]}, "Rows" -> {
        Offset[0.2], {
         Offset[0.4]}, 
        Offset[0.2]}}], "\[NoBreak]", ")"}],
  Function[BoxForm`e$, 
   MatrixForm[
   SparseArray[
    Automatic, {16, 16}, 0, {
     1, {{0, 2, 4, 6, 8, 10, 12, 14, 16, 18, 20, 22, 24, 26, 28, 30, 32}, {{
       1}, {2}, {2}, {1}, {3}, {4}, {4}, {3}, {5}, {6}, {6}, {5}, {7}, {8}, {
       8}, {7}, {9}, {10}, {10}, {9}, {11}, {12}, {12}, {11}, {13}, {14}, {
       14}, {13}, {15}, {16}, {16}, {15}}}, {
      0.8327650418079633, -0.5536265755385855, 0.8327650418079633, 
      0.5536265755385855, 0.9927020561207387, -0.12059281808489981`, 
      0.9927020561207387, 0.12059281808489981`, 
      0.9600554681540099, -0.2798097533460635, 0.9600554681540099, 
      0.2798097533460635, 0.7414861471662612, -0.6709681762651145, 
      0.7414861471662612, 0.6709681762651145, 
      0.44423165556418975`, -0.8959119578366499, 0.44423165556418975`, 
      0.8959119578366499, 0.9817296532624921, -0.1902810760562046, 
      0.9817296532624921, 0.1902810760562046, 
      0.8664804136234541, -0.4992110703970094, 0.8664804136234541, 
      0.4992110703970094, 0.9939568107907563, -0.10977184649384719`, 
      0.9939568107907563, 0.10977184649384719`}}]]]]], "Output",
 CellLabel->"Out[9]//MatrixForm=",
 CellID->168128178,ExpressionUUID->"a5f747ea-49a0-4df6-86cc-38b7bfb4da17"]
}, Open  ]],

Cell["\<\
The uniformly controlled unitary gate may be expanded as a product of \
multi-control unitary gates.\
\>", "ExampleText",
 CellID->906806088,ExpressionUUID->"135b2504-3956-40a0-9f08-c21f78cf8de0"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"new", "=", 
  RowBox[{"Expand", "[", "op", "]"}]}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[10]:=",
 CellID->757126852,ExpressionUUID->"757bbad6-58f0-4555-b248-edcf2f28cd70"],

Cell[BoxData[
 InterpretationBox[
  GraphicsBox[{
    {Dashing[{Small, Small}], LineBox[{}]}, 
    LineBox[{{{0, -1}, {9, -1}}, {{0, -2}, {9, -2}}, {{0, -3}, {9, -3}}, {{
     0, -4}, {9, -4}}}], {LineBox[{{1, -1}, {1, -2}, {1, -3}, {1, -4}}], 
     {GrayLevel[1], EdgeForm[Opacity[1]], DiskBox[{1, -1}, 0.09]}, 
     {GrayLevel[1], EdgeForm[Opacity[1]], DiskBox[{1, -2}, 0.09]}, 
     {GrayLevel[1], EdgeForm[Opacity[1]], DiskBox[{1, -3}, 0.09]}, 
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{0.6, -4.4}, {1.4, -3.6}]}, InsetBox[
      StyleBox[
       SubscriptBox["\<\"R\"\>", "\<\"y\"\>"],
       StripOnInput->False,
       FontSize->Scaled[0.044444444444444446`],
       FontWeight->"Light",
       FontSlant->Italic], {1., -4.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {LineBox[{{2, -1}, {2, -2}, {2, -3}, {2, -4}}], 
     {GrayLevel[1], EdgeForm[Opacity[1]], DiskBox[{2, -1}, 0.09]}, 
     {GrayLevel[1], EdgeForm[Opacity[1]], DiskBox[{2, -2}, 0.09]}, 
     DiskBox[{2, -3}, 0.09], 
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{1.6, -4.4}, {2.4, -3.6}]}, InsetBox[
      StyleBox[
       SubscriptBox["\<\"R\"\>", "\<\"y\"\>"],
       StripOnInput->False,
       FontSize->Scaled[0.044444444444444446`],
       FontWeight->"Light",
       FontSlant->Italic], {2., -4.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {LineBox[{{3, -1}, {3, -2}, {3, -3}, {3, -4}}], 
     {GrayLevel[1], EdgeForm[Opacity[1]], DiskBox[{3, -1}, 0.09]}, 
     DiskBox[{3, -2}, 0.09], 
     {GrayLevel[1], EdgeForm[Opacity[1]], DiskBox[{3, -3}, 0.09]}, 
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{2.6, -4.4}, {3.4, -3.6}]}, InsetBox[
      StyleBox[
       SubscriptBox["\<\"R\"\>", "\<\"y\"\>"],
       StripOnInput->False,
       FontSize->Scaled[0.044444444444444446`],
       FontWeight->"Light",
       FontSlant->Italic], {3., -4.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {LineBox[{{4, -1}, {4, -2}, {4, -3}, {4, -4}}], 
     {GrayLevel[1], EdgeForm[Opacity[1]], DiskBox[{4, -1}, 0.09]}, 
     DiskBox[{4, -2}, 0.09], DiskBox[{4, -3}, 0.09], 
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{3.6, -4.4}, {4.4, -3.6}]}, InsetBox[
      StyleBox[
       SubscriptBox["\<\"R\"\>", "\<\"y\"\>"],
       StripOnInput->False,
       FontSize->Scaled[0.044444444444444446`],
       FontWeight->"Light",
       FontSlant->Italic], {4., -4.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {LineBox[{{5, -1}, {5, -2}, {5, -3}, {5, -4}}], 
     DiskBox[{5, -1}, 0.09], 
     {GrayLevel[1], EdgeForm[Opacity[1]], DiskBox[{5, -2}, 0.09]}, 
     {GrayLevel[1], EdgeForm[Opacity[1]], DiskBox[{5, -3}, 0.09]}, 
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{4.6, -4.4}, {5.4, -3.6}]}, InsetBox[
      StyleBox[
       SubscriptBox["\<\"R\"\>", "\<\"y\"\>"],
       StripOnInput->False,
       FontSize->Scaled[0.044444444444444446`],
       FontWeight->"Light",
       FontSlant->Italic], {5., -4.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {LineBox[{{6, -1}, {6, -2}, {6, -3}, {6, -4}}], 
     DiskBox[{6, -1}, 0.09], 
     {GrayLevel[1], EdgeForm[Opacity[1]], DiskBox[{6, -2}, 0.09]}, 
     DiskBox[{6, -3}, 0.09], 
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{5.6, -4.4}, {6.4, -3.6}]}, InsetBox[
      StyleBox[
       SubscriptBox["\<\"R\"\>", "\<\"y\"\>"],
       StripOnInput->False,
       FontSize->Scaled[0.044444444444444446`],
       FontWeight->"Light",
       FontSlant->Italic], {6., -4.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {LineBox[{{7, -1}, {7, -2}, {7, -3}, {7, -4}}], 
     DiskBox[{7, -1}, 0.09], DiskBox[{7, -2}, 0.09], 
     {GrayLevel[1], EdgeForm[Opacity[1]], DiskBox[{7, -3}, 0.09]}, 
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{6.6, -4.4}, {7.4, -3.6}]}, InsetBox[
      StyleBox[
       SubscriptBox["\<\"R\"\>", "\<\"y\"\>"],
       StripOnInput->False,
       FontSize->Scaled[0.044444444444444446`],
       FontWeight->"Light",
       FontSlant->Italic], {7., -4.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {LineBox[{{8, -1}, {8, -2}, {8, -3}, {8, -4}}], 
     DiskBox[{8, -1}, 0.09], DiskBox[{8, -2}, 0.09], DiskBox[{8, -3}, 0.09], 
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{7.6, -4.4}, {8.4, -3.6}]}, InsetBox[
      StyleBox[
       SubscriptBox["\<\"R\"\>", "\<\"y\"\>"],
       StripOnInput->False,
       FontSize->Scaled[0.044444444444444446`],
       FontWeight->"Light",
       FontSlant->Italic], {8., -4.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}},
   AxesStyle->Large,
   FrameStyle->Large,
   ImagePadding->{{25.56, 25.56}, {7.2, 7.2}},
   ImageSize->370.8,
   PlotRange->{{0, 9}, {-4.5, -0.5}},
   PlotRangePadding->Scaled[0.025]],
  Q3`QuantumCircuit[
   Q3`ControlledGate[{$CellContext`S[1, Q3`$] -> 0, $CellContext`S[2, Q3`$] -> 
     0, $CellContext`S[3, Q3`$] -> 0}, 
    Q3`Rotation[1.173425652439431, {0, 1, 0}, 
     $CellContext`T[Q3`$]]], 
   Q3`ControlledGate[{$CellContext`S[1, Q3`$] -> 0, $CellContext`S[2, Q3`$] -> 
     0, $CellContext`S[3, Q3`$] -> 1}, 
    Q3`Rotation[0.2417740740290115, {0, 1, 0}, 
     $CellContext`T[Q3`$]]], 
   Q3`ControlledGate[{$CellContext`S[1, Q3`$] -> 0, $CellContext`S[2, Q3`$] -> 
     1, $CellContext`S[3, Q3`$] -> 0}, 
    Q3`Rotation[0.5671918826722581, {0, 1, 0}, 
     $CellContext`T[Q3`$]]], 
   Q3`ControlledGate[{$CellContext`S[1, Q3`$] -> 0, $CellContext`S[2, Q3`$] -> 
     1, $CellContext`S[3, Q3`$] -> 1}, 
    Q3`Rotation[1.471027482714407, {0, 1, 0}, 
     $CellContext`T[Q3`$]]], 
   Q3`ControlledGate[{$CellContext`S[1, Q3`$] -> 1, $CellContext`S[2, Q3`$] -> 
     0, $CellContext`S[3, Q3`$] -> 0}, 
    Q3`Rotation[2.2209597200615527`, {0, 1, 0}, 
     $CellContext`T[Q3`$]]], 
   Q3`ControlledGate[{$CellContext`S[1, Q3`$] -> 1, $CellContext`S[2, Q3`$] -> 
     0, $CellContext`S[3, Q3`$] -> 1}, 
    Q3`Rotation[0.3828968911510376, {0, 1, 0}, 
     $CellContext`T[Q3`$]]], 
   Q3`ControlledGate[{$CellContext`S[1, Q3`$] -> 1, $CellContext`S[2, Q3`$] -> 
     1, $CellContext`S[3, Q3`$] -> 0}, 
    Q3`Rotation[1.0453760749498053`, {0, 1, 0}, 
     $CellContext`T[Q3`$]]], 
   Q3`ControlledGate[{$CellContext`S[1, Q3`$] -> 1, $CellContext`S[2, Q3`$] -> 
     1, $CellContext`S[3, Q3`$] -> 1}, 
    Q3`Rotation[0.2199870128247587, {0, 1, 0}, 
     $CellContext`T[Q3`$]]]]]], "Output",
 CellLabel->"Out[10]=",
 CellID->75716345,ExpressionUUID->"bd055ff8-2674-4a50-8d97-4f95858dd890"]
}, Open  ]],

Cell[TextData[{
 "Of course, you can expand it inside ",
 Cell[BoxData[
  TemplateBox[{
    Cell[
     TextData["QuantumCircuit"]], "paclet:Q3/ref/QuantumCircuit", 
    "Q3 Package Symbol"},
   "PackageLink",
   BaseStyle->"InlineFormula"]], "InlineFormula",
  FontFamily->"Source Sans Pro",ExpressionUUID->
  "956e6c2c-12af-4c24-9bbf-f7d536921bf2"],
 " as well."
}], "ExampleText",
 CellID->1187733402,ExpressionUUID->"774f5a02-1d29-4cfe-90dd-03fc699e855b"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"qc", "=", 
  RowBox[{"QuantumCircuit", "[", 
   RowBox[{"Expand", "@", "op"}], "]"}]}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[11]:=",
 CellID->486908243,ExpressionUUID->"28273c5d-fcfa-4e26-8db9-2ddbe0f4ce4b"],

Cell[BoxData[
 InterpretationBox[
  GraphicsBox[{
    {Dashing[{Small, Small}], LineBox[{}]}, 
    LineBox[{{{0, -1}, {9, -1}}, {{0, -2}, {9, -2}}, {{0, -3}, {9, -3}}, {{
     0, -4}, {9, -4}}}], {LineBox[{{1, -1}, {1, -2}, {1, -3}, {1, -4}}], 
     {GrayLevel[1], EdgeForm[Opacity[1]], DiskBox[{1, -1}, 0.09]}, 
     {GrayLevel[1], EdgeForm[Opacity[1]], DiskBox[{1, -2}, 0.09]}, 
     {GrayLevel[1], EdgeForm[Opacity[1]], DiskBox[{1, -3}, 0.09]}, 
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{0.6, -4.4}, {1.4, -3.6}]}, InsetBox[
      StyleBox[
       SubscriptBox["\<\"R\"\>", "\<\"y\"\>"],
       StripOnInput->False,
       FontSize->Scaled[0.044444444444444446`],
       FontWeight->"Light",
       FontSlant->Italic], {1., -4.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {LineBox[{{2, -1}, {2, -2}, {2, -3}, {2, -4}}], 
     {GrayLevel[1], EdgeForm[Opacity[1]], DiskBox[{2, -1}, 0.09]}, 
     {GrayLevel[1], EdgeForm[Opacity[1]], DiskBox[{2, -2}, 0.09]}, 
     DiskBox[{2, -3}, 0.09], 
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{1.6, -4.4}, {2.4, -3.6}]}, InsetBox[
      StyleBox[
       SubscriptBox["\<\"R\"\>", "\<\"y\"\>"],
       StripOnInput->False,
       FontSize->Scaled[0.044444444444444446`],
       FontWeight->"Light",
       FontSlant->Italic], {2., -4.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {LineBox[{{3, -1}, {3, -2}, {3, -3}, {3, -4}}], 
     {GrayLevel[1], EdgeForm[Opacity[1]], DiskBox[{3, -1}, 0.09]}, 
     DiskBox[{3, -2}, 0.09], 
     {GrayLevel[1], EdgeForm[Opacity[1]], DiskBox[{3, -3}, 0.09]}, 
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{2.6, -4.4}, {3.4, -3.6}]}, InsetBox[
      StyleBox[
       SubscriptBox["\<\"R\"\>", "\<\"y\"\>"],
       StripOnInput->False,
       FontSize->Scaled[0.044444444444444446`],
       FontWeight->"Light",
       FontSlant->Italic], {3., -4.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {LineBox[{{4, -1}, {4, -2}, {4, -3}, {4, -4}}], 
     {GrayLevel[1], EdgeForm[Opacity[1]], DiskBox[{4, -1}, 0.09]}, 
     DiskBox[{4, -2}, 0.09], DiskBox[{4, -3}, 0.09], 
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{3.6, -4.4}, {4.4, -3.6}]}, InsetBox[
      StyleBox[
       SubscriptBox["\<\"R\"\>", "\<\"y\"\>"],
       StripOnInput->False,
       FontSize->Scaled[0.044444444444444446`],
       FontWeight->"Light",
       FontSlant->Italic], {4., -4.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {LineBox[{{5, -1}, {5, -2}, {5, -3}, {5, -4}}], 
     DiskBox[{5, -1}, 0.09], 
     {GrayLevel[1], EdgeForm[Opacity[1]], DiskBox[{5, -2}, 0.09]}, 
     {GrayLevel[1], EdgeForm[Opacity[1]], DiskBox[{5, -3}, 0.09]}, 
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{4.6, -4.4}, {5.4, -3.6}]}, InsetBox[
      StyleBox[
       SubscriptBox["\<\"R\"\>", "\<\"y\"\>"],
       StripOnInput->False,
       FontSize->Scaled[0.044444444444444446`],
       FontWeight->"Light",
       FontSlant->Italic], {5., -4.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {LineBox[{{6, -1}, {6, -2}, {6, -3}, {6, -4}}], 
     DiskBox[{6, -1}, 0.09], 
     {GrayLevel[1], EdgeForm[Opacity[1]], DiskBox[{6, -2}, 0.09]}, 
     DiskBox[{6, -3}, 0.09], 
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{5.6, -4.4}, {6.4, -3.6}]}, InsetBox[
      StyleBox[
       SubscriptBox["\<\"R\"\>", "\<\"y\"\>"],
       StripOnInput->False,
       FontSize->Scaled[0.044444444444444446`],
       FontWeight->"Light",
       FontSlant->Italic], {6., -4.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {LineBox[{{7, -1}, {7, -2}, {7, -3}, {7, -4}}], 
     DiskBox[{7, -1}, 0.09], DiskBox[{7, -2}, 0.09], 
     {GrayLevel[1], EdgeForm[Opacity[1]], DiskBox[{7, -3}, 0.09]}, 
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{6.6, -4.4}, {7.4, -3.6}]}, InsetBox[
      StyleBox[
       SubscriptBox["\<\"R\"\>", "\<\"y\"\>"],
       StripOnInput->False,
       FontSize->Scaled[0.044444444444444446`],
       FontWeight->"Light",
       FontSlant->Italic], {7., -4.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {LineBox[{{8, -1}, {8, -2}, {8, -3}, {8, -4}}], 
     DiskBox[{8, -1}, 0.09], DiskBox[{8, -2}, 0.09], DiskBox[{8, -3}, 0.09], 
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{7.6, -4.4}, {8.4, -3.6}]}, InsetBox[
      StyleBox[
       SubscriptBox["\<\"R\"\>", "\<\"y\"\>"],
       StripOnInput->False,
       FontSize->Scaled[0.044444444444444446`],
       FontWeight->"Light",
       FontSlant->Italic], {8., -4.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}},
   AxesStyle->Large,
   FrameStyle->Large,
   ImagePadding->{{25.56, 25.56}, {7.2, 7.2}},
   ImageSize->370.8,
   PlotRange->{{0, 9}, {-4.5, -0.5}},
   PlotRangePadding->Scaled[0.025]],
  Q3`QuantumCircuit[
   Q3`ControlledGate[{$CellContext`S[1, Q3`$] -> 0, $CellContext`S[2, Q3`$] -> 
     0, $CellContext`S[3, Q3`$] -> 0}, 
    Q3`Rotation[1.173425652439431, {0, 1, 0}, 
     $CellContext`T[Q3`$]]], 
   Q3`ControlledGate[{$CellContext`S[1, Q3`$] -> 0, $CellContext`S[2, Q3`$] -> 
     0, $CellContext`S[3, Q3`$] -> 1}, 
    Q3`Rotation[0.2417740740290115, {0, 1, 0}, 
     $CellContext`T[Q3`$]]], 
   Q3`ControlledGate[{$CellContext`S[1, Q3`$] -> 0, $CellContext`S[2, Q3`$] -> 
     1, $CellContext`S[3, Q3`$] -> 0}, 
    Q3`Rotation[0.5671918826722581, {0, 1, 0}, 
     $CellContext`T[Q3`$]]], 
   Q3`ControlledGate[{$CellContext`S[1, Q3`$] -> 0, $CellContext`S[2, Q3`$] -> 
     1, $CellContext`S[3, Q3`$] -> 1}, 
    Q3`Rotation[1.471027482714407, {0, 1, 0}, 
     $CellContext`T[Q3`$]]], 
   Q3`ControlledGate[{$CellContext`S[1, Q3`$] -> 1, $CellContext`S[2, Q3`$] -> 
     0, $CellContext`S[3, Q3`$] -> 0}, 
    Q3`Rotation[2.2209597200615527`, {0, 1, 0}, 
     $CellContext`T[Q3`$]]], 
   Q3`ControlledGate[{$CellContext`S[1, Q3`$] -> 1, $CellContext`S[2, Q3`$] -> 
     0, $CellContext`S[3, Q3`$] -> 1}, 
    Q3`Rotation[0.3828968911510376, {0, 1, 0}, 
     $CellContext`T[Q3`$]]], 
   Q3`ControlledGate[{$CellContext`S[1, Q3`$] -> 1, $CellContext`S[2, Q3`$] -> 
     1, $CellContext`S[3, Q3`$] -> 0}, 
    Q3`Rotation[1.0453760749498053`, {0, 1, 0}, 
     $CellContext`T[Q3`$]]], 
   Q3`ControlledGate[{$CellContext`S[1, Q3`$] -> 1, $CellContext`S[2, Q3`$] -> 
     1, $CellContext`S[3, Q3`$] -> 1}, 
    Q3`Rotation[0.2199870128247587, {0, 1, 0}, 
     $CellContext`T[Q3`$]]]]]], "Output",
 CellLabel->"Out[11]=",
 CellID->46353308,ExpressionUUID->"e3e7ad3b-28af-4494-adc7-378a6e6ba8a9"]
}, Open  ]]
}, Dynamic[CurrentValue[
 EvaluationNotebook[], {TaggingRules, "Openers", "ExampleSection", "0"}, 
  Closed]]]],

Cell[CellGroupData[{

Cell[TextData[{
 Cell[BoxData[
  DynamicBox[ToBoxes[
    If[
     MatchQ[
      CurrentValue[
       EvaluationNotebook[], {TaggingRules, "Openers", "ExampleSection", "1"},
        Closed], 
      Alternatives[Open, True]], 
     Style[
      Graphics[{
        Thickness[0.18], 
        RGBColor[0.8509803921568627, 0.396078431372549, 0], 
        Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
       PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
      0.68 Inherited], 
     Rotate[
      Style[
       Graphics[{
         Thickness[0.18], 
         RGBColor[0.8509803921568627, 0.396078431372549, 0], 
         Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
        PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
       0.68 Inherited], Rational[1, 2] Pi, {-1.65, -1}]]],
   ImageSizeCache->{14., {0.45000000000000107`, 13.549999999999999`}}]],
  ExpressionUUID->"473a94ad-ffcc-49de-9419-e1afdace4bee"],
 Cell[BoxData[
  TemplateBox[{1},
   "Spacer1"]],ExpressionUUID->"da22d00f-ddf9-40a0-a082-b794cdf9c44f"],
 "Scope",
 "\[NonBreakingSpace]\[NonBreakingSpace]",
 Cell["(3)", "ExampleCount",ExpressionUUID->
  "3a487fc4-de05-43c7-9454-3dbb1844409c"]
}], "ExampleSection", "ExampleSection",
 WholeCellGroupOpener->True,
 CacheGraphics->False,
 CellID->221896986,ExpressionUUID->"eed9fbe2-0173-40fa-a861-5e3cef642e82"],

Cell[CellGroupData[{

Cell[TextData[{
 Cell[BoxData[
  DynamicBox[ToBoxes[
    If[
     MatchQ[
      CurrentValue[
       EvaluationNotebook[], {
       TaggingRules, "Openers", "ExampleSubsection", "0"}, Closed], 
      Alternatives[Open, True]], 
     Style[
      Graphics[{
        Thickness[0.18], 
        RGBColor[0.8509803921568627, 0.396078431372549, 0], 
        Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
       PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
      0.68 Inherited], 
     Rotate[
      Style[
       Graphics[{
         Thickness[0.18], 
         RGBColor[0.8509803921568627, 0.396078431372549, 0], 
         Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
        PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
       0.68 Inherited], Rational[1, 2] Pi, {-1.65, -1}]]],
   ImageSizeCache->{14., {0.45000000000000107`, 13.549999999999999`}}]],
  ExpressionUUID->"b46e52ec-bda3-44f1-823c-ac9618e8dffc"],
 Cell[BoxData[
  TemplateBox[{1},
   "Spacer1"]],ExpressionUUID->"027604db-1894-4c25-8fa9-f883cc82a464"],
 "Dagger",
 "\[NonBreakingSpace]\[NonBreakingSpace]",
 Cell["(1)", "ExampleCount",ExpressionUUID->
  "737d66ab-c849-4c02-a980-31004621c0ce"]
}], "ExampleSubsection", "ExampleSubsection",
 WholeCellGroupOpener->True,
 CacheGraphics->False,
 CellID->648435845,ExpressionUUID->"639c0fa7-b3e9-4216-8a32-5b108aed9aa1"],

Cell[BoxData[
 RowBox[{"Let", "[", 
  RowBox[{"Qubit", ",", "S", ",", "T"}], "]"}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[1]:=",
 CellID->1561406280,ExpressionUUID->"3a220eec-ee76-41f3-a646-565b33ae9edb"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"$n", "=", "3"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"$N", "=", 
   RowBox[{"Power", "[", 
    RowBox[{"2", ",", "$n"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"kk", "=", 
   RowBox[{"Range", "[", "$n", "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"SS", "=", 
  RowBox[{"S", "[", 
   RowBox[{"kk", ",", "$"}], "]"}]}]}], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[2]:=",
 CellID->305181620,ExpressionUUID->"c54cc7c7-0c5c-48c3-90a3-7054a141a5ca"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   InterpretationBox[
    SubscriptBox["S", 
     TemplateBox[{",", "\",\"", "1"},
      "RowWithSeparators"]],
    $CellContext`S[1, Q3`$]], ",", 
   InterpretationBox[
    SubscriptBox["S", 
     TemplateBox[{",", "\",\"", "2"},
      "RowWithSeparators"]],
    $CellContext`S[2, Q3`$]], ",", 
   InterpretationBox[
    SubscriptBox["S", 
     TemplateBox[{",", "\",\"", "3"},
      "RowWithSeparators"]],
    $CellContext`S[3, Q3`$]]}], "}"}]], "Output",
 CellLabel->"Out[2]=",
 CellID->2060989139,ExpressionUUID->"e20decaf-56ae-4e6e-88a8-32a87b64305f"]
}, Open  ]],

Cell[BoxData[
 RowBox[{
  RowBox[{"SeedRandom", "[", "351", "]"}], ";"}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[3]:=",
 CellID->1946632720,ExpressionUUID->"d09deae8-4e13-42ef-b78f-1ec18409ad91"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"aa", "=", 
  RowBox[{
   RowBox[{"RandomReal", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"0", ",", "1"}], "}"}], ",", "$N"}], "]"}], "*", 
   "Pi"}]}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[4]:=",
 CellID->121249603,ExpressionUUID->"216bb6d5-5688-435f-8ea1-4ac04fffbd31"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
  "1.173425652439431`", ",", "0.2417740740290115`", ",", 
   "0.5671918826722581`", ",", "1.471027482714407`", ",", 
   "2.2209597200615527`", ",", "0.3828968911510376`", ",", 
   "1.0453760749498053`", ",", "0.2199870128247587`"}], "}"}]], "Output",
 CellLabel->"Out[4]=",
 CellID->44348034,ExpressionUUID->"4ffce465-02e5-41cb-83d6-d7d8c042b372"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"op", "=", 
   RowBox[{"UniformlyControlledRotation", "[", 
    RowBox[{"SS", ",", "aa", ",", 
     RowBox[{"T", "[", "3", "]"}]}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"qc", "=", 
  RowBox[{"QuantumCircuit", "[", 
   RowBox[{"Expand", "@", "op"}], "]"}]}]}], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[5]:=",
 CellID->1716533849,ExpressionUUID->"e4f41a2c-2b63-4621-bc73-d8c26df1cddd"],

Cell[BoxData[
 InterpretationBox[
  GraphicsBox[{
    {Dashing[{Small, Small}], LineBox[{}]}, 
    LineBox[{{{0, -1}, {9, -1}}, {{0, -2}, {9, -2}}, {{0, -3}, {9, -3}}, {{
     0, -4}, {9, -4}}}], {LineBox[{{1, -1}, {1, -2}, {1, -3}, {1, -4}}], 
     {GrayLevel[1], EdgeForm[Opacity[1]], DiskBox[{1, -1}, 0.09]}, 
     {GrayLevel[1], EdgeForm[Opacity[1]], DiskBox[{1, -2}, 0.09]}, 
     {GrayLevel[1], EdgeForm[Opacity[1]], DiskBox[{1, -3}, 0.09]}, 
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{0.6, -4.4}, {1.4, -3.6}]}, InsetBox[
      StyleBox[
       SubscriptBox["\<\"R\"\>", "\<\"z\"\>"],
       StripOnInput->False,
       FontSize->Scaled[0.044444444444444446`],
       FontWeight->"Light",
       FontSlant->Italic], {1., -4.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {LineBox[{{2, -1}, {2, -2}, {2, -3}, {2, -4}}], 
     {GrayLevel[1], EdgeForm[Opacity[1]], DiskBox[{2, -1}, 0.09]}, 
     {GrayLevel[1], EdgeForm[Opacity[1]], DiskBox[{2, -2}, 0.09]}, 
     DiskBox[{2, -3}, 0.09], 
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{1.6, -4.4}, {2.4, -3.6}]}, InsetBox[
      StyleBox[
       SubscriptBox["\<\"R\"\>", "\<\"z\"\>"],
       StripOnInput->False,
       FontSize->Scaled[0.044444444444444446`],
       FontWeight->"Light",
       FontSlant->Italic], {2., -4.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {LineBox[{{3, -1}, {3, -2}, {3, -3}, {3, -4}}], 
     {GrayLevel[1], EdgeForm[Opacity[1]], DiskBox[{3, -1}, 0.09]}, 
     DiskBox[{3, -2}, 0.09], 
     {GrayLevel[1], EdgeForm[Opacity[1]], DiskBox[{3, -3}, 0.09]}, 
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{2.6, -4.4}, {3.4, -3.6}]}, InsetBox[
      StyleBox[
       SubscriptBox["\<\"R\"\>", "\<\"z\"\>"],
       StripOnInput->False,
       FontSize->Scaled[0.044444444444444446`],
       FontWeight->"Light",
       FontSlant->Italic], {3., -4.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {LineBox[{{4, -1}, {4, -2}, {4, -3}, {4, -4}}], 
     {GrayLevel[1], EdgeForm[Opacity[1]], DiskBox[{4, -1}, 0.09]}, 
     DiskBox[{4, -2}, 0.09], DiskBox[{4, -3}, 0.09], 
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{3.6, -4.4}, {4.4, -3.6}]}, InsetBox[
      StyleBox[
       SubscriptBox["\<\"R\"\>", "\<\"z\"\>"],
       StripOnInput->False,
       FontSize->Scaled[0.044444444444444446`],
       FontWeight->"Light",
       FontSlant->Italic], {4., -4.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {LineBox[{{5, -1}, {5, -2}, {5, -3}, {5, -4}}], 
     DiskBox[{5, -1}, 0.09], 
     {GrayLevel[1], EdgeForm[Opacity[1]], DiskBox[{5, -2}, 0.09]}, 
     {GrayLevel[1], EdgeForm[Opacity[1]], DiskBox[{5, -3}, 0.09]}, 
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{4.6, -4.4}, {5.4, -3.6}]}, InsetBox[
      StyleBox[
       SubscriptBox["\<\"R\"\>", "\<\"z\"\>"],
       StripOnInput->False,
       FontSize->Scaled[0.044444444444444446`],
       FontWeight->"Light",
       FontSlant->Italic], {5., -4.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {LineBox[{{6, -1}, {6, -2}, {6, -3}, {6, -4}}], 
     DiskBox[{6, -1}, 0.09], 
     {GrayLevel[1], EdgeForm[Opacity[1]], DiskBox[{6, -2}, 0.09]}, 
     DiskBox[{6, -3}, 0.09], 
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{5.6, -4.4}, {6.4, -3.6}]}, InsetBox[
      StyleBox[
       SubscriptBox["\<\"R\"\>", "\<\"z\"\>"],
       StripOnInput->False,
       FontSize->Scaled[0.044444444444444446`],
       FontWeight->"Light",
       FontSlant->Italic], {6., -4.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {LineBox[{{7, -1}, {7, -2}, {7, -3}, {7, -4}}], 
     DiskBox[{7, -1}, 0.09], DiskBox[{7, -2}, 0.09], 
     {GrayLevel[1], EdgeForm[Opacity[1]], DiskBox[{7, -3}, 0.09]}, 
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{6.6, -4.4}, {7.4, -3.6}]}, InsetBox[
      StyleBox[
       SubscriptBox["\<\"R\"\>", "\<\"z\"\>"],
       StripOnInput->False,
       FontSize->Scaled[0.044444444444444446`],
       FontWeight->"Light",
       FontSlant->Italic], {7., -4.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {LineBox[{{8, -1}, {8, -2}, {8, -3}, {8, -4}}], 
     DiskBox[{8, -1}, 0.09], DiskBox[{8, -2}, 0.09], DiskBox[{8, -3}, 0.09], 
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{7.6, -4.4}, {8.4, -3.6}]}, InsetBox[
      StyleBox[
       SubscriptBox["\<\"R\"\>", "\<\"z\"\>"],
       StripOnInput->False,
       FontSize->Scaled[0.044444444444444446`],
       FontWeight->"Light",
       FontSlant->Italic], {8., -4.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}},
   AxesStyle->Large,
   FrameStyle->Large,
   ImagePadding->{{25.56, 25.56}, {7.2, 7.2}},
   ImageSize->370.8,
   PlotRange->{{0, 9}, {-4.5, -0.5}},
   PlotRangePadding->Scaled[0.025]],
  Q3`QuantumCircuit[
   Q3`ControlledGate[{$CellContext`S[1, Q3`$] -> 0, $CellContext`S[2, Q3`$] -> 
     0, $CellContext`S[3, Q3`$] -> 0}, 
    Q3`Rotation[1.173425652439431, {0, 0, 1}, 
     $CellContext`T[Q3`$]]], 
   Q3`ControlledGate[{$CellContext`S[1, Q3`$] -> 0, $CellContext`S[2, Q3`$] -> 
     0, $CellContext`S[3, Q3`$] -> 1}, 
    Q3`Rotation[0.2417740740290115, {0, 0, 1}, 
     $CellContext`T[Q3`$]]], 
   Q3`ControlledGate[{$CellContext`S[1, Q3`$] -> 0, $CellContext`S[2, Q3`$] -> 
     1, $CellContext`S[3, Q3`$] -> 0}, 
    Q3`Rotation[0.5671918826722581, {0, 0, 1}, 
     $CellContext`T[Q3`$]]], 
   Q3`ControlledGate[{$CellContext`S[1, Q3`$] -> 0, $CellContext`S[2, Q3`$] -> 
     1, $CellContext`S[3, Q3`$] -> 1}, 
    Q3`Rotation[1.471027482714407, {0, 0, 1}, 
     $CellContext`T[Q3`$]]], 
   Q3`ControlledGate[{$CellContext`S[1, Q3`$] -> 1, $CellContext`S[2, Q3`$] -> 
     0, $CellContext`S[3, Q3`$] -> 0}, 
    Q3`Rotation[2.2209597200615527`, {0, 0, 1}, 
     $CellContext`T[Q3`$]]], 
   Q3`ControlledGate[{$CellContext`S[1, Q3`$] -> 1, $CellContext`S[2, Q3`$] -> 
     0, $CellContext`S[3, Q3`$] -> 1}, 
    Q3`Rotation[0.3828968911510376, {0, 0, 1}, 
     $CellContext`T[Q3`$]]], 
   Q3`ControlledGate[{$CellContext`S[1, Q3`$] -> 1, $CellContext`S[2, Q3`$] -> 
     1, $CellContext`S[3, Q3`$] -> 0}, 
    Q3`Rotation[1.0453760749498053`, {0, 0, 1}, 
     $CellContext`T[Q3`$]]], 
   Q3`ControlledGate[{$CellContext`S[1, Q3`$] -> 1, $CellContext`S[2, Q3`$] -> 
     1, $CellContext`S[3, Q3`$] -> 1}, 
    Q3`Rotation[0.2199870128247587, {0, 0, 1}, 
     $CellContext`T[Q3`$]]]]]], "Output",
 CellLabel->"Out[5]=",
 CellID->1200101807,ExpressionUUID->"93424e8f-84a1-41d9-9224-6b52fafe7611"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"op", "=", 
   RowBox[{"UniformlyControlledRotation", "[", 
    RowBox[{"SS", ",", "aa", ",", 
     RowBox[{"T", "[", "3", "]"}], ",", 
     RowBox[{"\"\<Label\>\"", "->", "\"\<U\>\""}]}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{"qc", "=", 
  RowBox[{"QuantumCircuit", "[", 
   RowBox[{"Expand", "@", "op"}], "]"}]}]}], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[6]:=",
 CellID->263366503,ExpressionUUID->"e42f86b3-cd0e-4314-8adf-fc7d2aba4cc9"],

Cell[BoxData[
 InterpretationBox[
  GraphicsBox[{
    {Dashing[{Small, Small}], LineBox[{}]}, 
    LineBox[{{{0, -1}, {9, -1}}, {{0, -2}, {9, -2}}, {{0, -3}, {9, -3}}, {{
     0, -4}, {9, -4}}}], {LineBox[{{1, -1}, {1, -2}, {1, -3}, {1, -4}}], 
     {GrayLevel[1], EdgeForm[Opacity[1]], DiskBox[{1, -1}, 0.09]}, 
     {GrayLevel[1], EdgeForm[Opacity[1]], DiskBox[{1, -2}, 0.09]}, 
     {GrayLevel[1], EdgeForm[Opacity[1]], DiskBox[{1, -3}, 0.09]}, 
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{0.6, -4.4}, {1.4, -3.6}]}, InsetBox[
      StyleBox["\<\"U\"\>",
       StripOnInput->False,
       FontSize->Scaled[0.044444444444444446`],
       FontWeight->"Light",
       FontSlant->Italic], {1., -4.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {LineBox[{{2, -1}, {2, -2}, {2, -3}, {2, -4}}], 
     {GrayLevel[1], EdgeForm[Opacity[1]], DiskBox[{2, -1}, 0.09]}, 
     {GrayLevel[1], EdgeForm[Opacity[1]], DiskBox[{2, -2}, 0.09]}, 
     DiskBox[{2, -3}, 0.09], 
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{1.6, -4.4}, {2.4, -3.6}]}, InsetBox[
      StyleBox["\<\"U\"\>",
       StripOnInput->False,
       FontSize->Scaled[0.044444444444444446`],
       FontWeight->"Light",
       FontSlant->Italic], {2., -4.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {LineBox[{{3, -1}, {3, -2}, {3, -3}, {3, -4}}], 
     {GrayLevel[1], EdgeForm[Opacity[1]], DiskBox[{3, -1}, 0.09]}, 
     DiskBox[{3, -2}, 0.09], 
     {GrayLevel[1], EdgeForm[Opacity[1]], DiskBox[{3, -3}, 0.09]}, 
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{2.6, -4.4}, {3.4, -3.6}]}, InsetBox[
      StyleBox["\<\"U\"\>",
       StripOnInput->False,
       FontSize->Scaled[0.044444444444444446`],
       FontWeight->"Light",
       FontSlant->Italic], {3., -4.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {LineBox[{{4, -1}, {4, -2}, {4, -3}, {4, -4}}], 
     {GrayLevel[1], EdgeForm[Opacity[1]], DiskBox[{4, -1}, 0.09]}, 
     DiskBox[{4, -2}, 0.09], DiskBox[{4, -3}, 0.09], 
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{3.6, -4.4}, {4.4, -3.6}]}, InsetBox[
      StyleBox["\<\"U\"\>",
       StripOnInput->False,
       FontSize->Scaled[0.044444444444444446`],
       FontWeight->"Light",
       FontSlant->Italic], {4., -4.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {LineBox[{{5, -1}, {5, -2}, {5, -3}, {5, -4}}], 
     DiskBox[{5, -1}, 0.09], 
     {GrayLevel[1], EdgeForm[Opacity[1]], DiskBox[{5, -2}, 0.09]}, 
     {GrayLevel[1], EdgeForm[Opacity[1]], DiskBox[{5, -3}, 0.09]}, 
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{4.6, -4.4}, {5.4, -3.6}]}, InsetBox[
      StyleBox["\<\"U\"\>",
       StripOnInput->False,
       FontSize->Scaled[0.044444444444444446`],
       FontWeight->"Light",
       FontSlant->Italic], {5., -4.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {LineBox[{{6, -1}, {6, -2}, {6, -3}, {6, -4}}], 
     DiskBox[{6, -1}, 0.09], 
     {GrayLevel[1], EdgeForm[Opacity[1]], DiskBox[{6, -2}, 0.09]}, 
     DiskBox[{6, -3}, 0.09], 
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{5.6, -4.4}, {6.4, -3.6}]}, InsetBox[
      StyleBox["\<\"U\"\>",
       StripOnInput->False,
       FontSize->Scaled[0.044444444444444446`],
       FontWeight->"Light",
       FontSlant->Italic], {6., -4.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {LineBox[{{7, -1}, {7, -2}, {7, -3}, {7, -4}}], 
     DiskBox[{7, -1}, 0.09], DiskBox[{7, -2}, 0.09], 
     {GrayLevel[1], EdgeForm[Opacity[1]], DiskBox[{7, -3}, 0.09]}, 
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{6.6, -4.4}, {7.4, -3.6}]}, InsetBox[
      StyleBox["\<\"U\"\>",
       StripOnInput->False,
       FontSize->Scaled[0.044444444444444446`],
       FontWeight->"Light",
       FontSlant->Italic], {7., -4.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {LineBox[{{8, -1}, {8, -2}, {8, -3}, {8, -4}}], 
     DiskBox[{8, -1}, 0.09], DiskBox[{8, -2}, 0.09], DiskBox[{8, -3}, 0.09], 
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{7.6, -4.4}, {8.4, -3.6}]}, InsetBox[
      StyleBox["\<\"U\"\>",
       StripOnInput->False,
       FontSize->Scaled[0.044444444444444446`],
       FontWeight->"Light",
       FontSlant->Italic], {8., -4.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}},
   AxesStyle->Large,
   FrameStyle->Large,
   ImagePadding->{{25.56, 25.56}, {7.2, 7.2}},
   ImageSize->370.8,
   PlotRange->{{0, 9}, {-4.5, -0.5}},
   PlotRangePadding->Scaled[0.025]],
  Q3`QuantumCircuit[
   Q3`ControlledGate[{$CellContext`S[1, Q3`$] -> 0, $CellContext`S[2, Q3`$] -> 
     0, $CellContext`S[3, Q3`$] -> 0}, 
    Q3`Rotation[1.173425652439431, {0, 0, 1}, 
     $CellContext`T[Q3`$]], "Label" -> "U"], 
   Q3`ControlledGate[{$CellContext`S[1, Q3`$] -> 0, $CellContext`S[2, Q3`$] -> 
     0, $CellContext`S[3, Q3`$] -> 1}, 
    Q3`Rotation[0.2417740740290115, {0, 0, 1}, 
     $CellContext`T[Q3`$]], "Label" -> "U"], 
   Q3`ControlledGate[{$CellContext`S[1, Q3`$] -> 0, $CellContext`S[2, Q3`$] -> 
     1, $CellContext`S[3, Q3`$] -> 0}, 
    Q3`Rotation[0.5671918826722581, {0, 0, 1}, 
     $CellContext`T[Q3`$]], "Label" -> "U"], 
   Q3`ControlledGate[{$CellContext`S[1, Q3`$] -> 0, $CellContext`S[2, Q3`$] -> 
     1, $CellContext`S[3, Q3`$] -> 1}, 
    Q3`Rotation[1.471027482714407, {0, 0, 1}, 
     $CellContext`T[Q3`$]], "Label" -> "U"], 
   Q3`ControlledGate[{$CellContext`S[1, Q3`$] -> 1, $CellContext`S[2, Q3`$] -> 
     0, $CellContext`S[3, Q3`$] -> 0}, 
    Q3`Rotation[2.2209597200615527`, {0, 0, 1}, 
     $CellContext`T[Q3`$]], "Label" -> "U"], 
   Q3`ControlledGate[{$CellContext`S[1, Q3`$] -> 1, $CellContext`S[2, Q3`$] -> 
     0, $CellContext`S[3, Q3`$] -> 1}, 
    Q3`Rotation[0.3828968911510376, {0, 0, 1}, 
     $CellContext`T[Q3`$]], "Label" -> "U"], 
   Q3`ControlledGate[{$CellContext`S[1, Q3`$] -> 1, $CellContext`S[2, Q3`$] -> 
     1, $CellContext`S[3, Q3`$] -> 0}, 
    Q3`Rotation[1.0453760749498053`, {0, 0, 1}, 
     $CellContext`T[Q3`$]], "Label" -> "U"], 
   Q3`ControlledGate[{$CellContext`S[1, Q3`$] -> 1, $CellContext`S[2, Q3`$] -> 
     1, $CellContext`S[3, Q3`$] -> 1}, 
    Q3`Rotation[0.2199870128247587, {0, 0, 1}, 
     $CellContext`T[Q3`$]], "Label" -> "U"]]]], "Output",
 CellLabel->"Out[6]=",
 CellID->705968682,ExpressionUUID->"69fbff81-cbbd-4bf1-8edb-637c7582ba6e"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"new", "=", 
  RowBox[{"QuantumCircuit", "[", 
   RowBox[{"Expand", "@", 
    RowBox[{"Dagger", "@", "op"}]}], "]"}]}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[7]:=",
 CellID->627928911,ExpressionUUID->"d0ac0b09-5072-41ae-88a5-3eb6e84507d3"],

Cell[BoxData[
 InterpretationBox[
  GraphicsBox[{
    {Dashing[{Small, Small}], LineBox[{}]}, 
    LineBox[{{{0, -1}, {9, -1}}, {{0, -2}, {9, -2}}, {{0, -3}, {9, -3}}, {{
     0, -4}, {9, -4}}}], {LineBox[{{1, -1}, {1, -2}, {1, -3}, {1, -4}}], 
     {GrayLevel[1], EdgeForm[Opacity[1]], DiskBox[{1, -1}, 0.09]}, 
     {GrayLevel[1], EdgeForm[Opacity[1]], DiskBox[{1, -2}, 0.09]}, 
     {GrayLevel[1], EdgeForm[Opacity[1]], DiskBox[{1, -3}, 0.09]}, 
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{0.6, -4.4}, {1.4, -3.6}]}, InsetBox[
      StyleBox[
       TemplateBox[{"\"U\"", "\"\[Dagger]\""},
        "Superscript"],
       StripOnInput->False,
       FontSize->Scaled[0.044444444444444446`],
       FontWeight->"Light",
       FontSlant->Italic], {1., -4.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {LineBox[{{2, -1}, {2, -2}, {2, -3}, {2, -4}}], 
     {GrayLevel[1], EdgeForm[Opacity[1]], DiskBox[{2, -1}, 0.09]}, 
     {GrayLevel[1], EdgeForm[Opacity[1]], DiskBox[{2, -2}, 0.09]}, 
     DiskBox[{2, -3}, 0.09], 
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{1.6, -4.4}, {2.4, -3.6}]}, InsetBox[
      StyleBox[
       TemplateBox[{"\"U\"", "\"\[Dagger]\""},
        "Superscript"],
       StripOnInput->False,
       FontSize->Scaled[0.044444444444444446`],
       FontWeight->"Light",
       FontSlant->Italic], {2., -4.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {LineBox[{{3, -1}, {3, -2}, {3, -3}, {3, -4}}], 
     {GrayLevel[1], EdgeForm[Opacity[1]], DiskBox[{3, -1}, 0.09]}, 
     DiskBox[{3, -2}, 0.09], 
     {GrayLevel[1], EdgeForm[Opacity[1]], DiskBox[{3, -3}, 0.09]}, 
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{2.6, -4.4}, {3.4, -3.6}]}, InsetBox[
      StyleBox[
       TemplateBox[{"\"U\"", "\"\[Dagger]\""},
        "Superscript"],
       StripOnInput->False,
       FontSize->Scaled[0.044444444444444446`],
       FontWeight->"Light",
       FontSlant->Italic], {3., -4.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {LineBox[{{4, -1}, {4, -2}, {4, -3}, {4, -4}}], 
     {GrayLevel[1], EdgeForm[Opacity[1]], DiskBox[{4, -1}, 0.09]}, 
     DiskBox[{4, -2}, 0.09], DiskBox[{4, -3}, 0.09], 
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{3.6, -4.4}, {4.4, -3.6}]}, InsetBox[
      StyleBox[
       TemplateBox[{"\"U\"", "\"\[Dagger]\""},
        "Superscript"],
       StripOnInput->False,
       FontSize->Scaled[0.044444444444444446`],
       FontWeight->"Light",
       FontSlant->Italic], {4., -4.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {LineBox[{{5, -1}, {5, -2}, {5, -3}, {5, -4}}], 
     DiskBox[{5, -1}, 0.09], 
     {GrayLevel[1], EdgeForm[Opacity[1]], DiskBox[{5, -2}, 0.09]}, 
     {GrayLevel[1], EdgeForm[Opacity[1]], DiskBox[{5, -3}, 0.09]}, 
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{4.6, -4.4}, {5.4, -3.6}]}, InsetBox[
      StyleBox[
       TemplateBox[{"\"U\"", "\"\[Dagger]\""},
        "Superscript"],
       StripOnInput->False,
       FontSize->Scaled[0.044444444444444446`],
       FontWeight->"Light",
       FontSlant->Italic], {5., -4.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {LineBox[{{6, -1}, {6, -2}, {6, -3}, {6, -4}}], 
     DiskBox[{6, -1}, 0.09], 
     {GrayLevel[1], EdgeForm[Opacity[1]], DiskBox[{6, -2}, 0.09]}, 
     DiskBox[{6, -3}, 0.09], 
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{5.6, -4.4}, {6.4, -3.6}]}, InsetBox[
      StyleBox[
       TemplateBox[{"\"U\"", "\"\[Dagger]\""},
        "Superscript"],
       StripOnInput->False,
       FontSize->Scaled[0.044444444444444446`],
       FontWeight->"Light",
       FontSlant->Italic], {6., -4.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {LineBox[{{7, -1}, {7, -2}, {7, -3}, {7, -4}}], 
     DiskBox[{7, -1}, 0.09], DiskBox[{7, -2}, 0.09], 
     {GrayLevel[1], EdgeForm[Opacity[1]], DiskBox[{7, -3}, 0.09]}, 
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{6.6, -4.4}, {7.4, -3.6}]}, InsetBox[
      StyleBox[
       TemplateBox[{"\"U\"", "\"\[Dagger]\""},
        "Superscript"],
       StripOnInput->False,
       FontSize->Scaled[0.044444444444444446`],
       FontWeight->"Light",
       FontSlant->Italic], {7., -4.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {LineBox[{{8, -1}, {8, -2}, {8, -3}, {8, -4}}], 
     DiskBox[{8, -1}, 0.09], DiskBox[{8, -2}, 0.09], DiskBox[{8, -3}, 0.09], 
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{7.6, -4.4}, {8.4, -3.6}]}, InsetBox[
      StyleBox[
       TemplateBox[{"\"U\"", "\"\[Dagger]\""},
        "Superscript"],
       StripOnInput->False,
       FontSize->Scaled[0.044444444444444446`],
       FontWeight->"Light",
       FontSlant->Italic], {8., -4.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}},
   AxesStyle->Large,
   FrameStyle->Large,
   ImagePadding->{{25.56, 25.56}, {7.2, 7.2}},
   ImageSize->370.8,
   PlotRange->{{0, 9}, {-4.5, -0.5}},
   PlotRangePadding->Scaled[0.025]],
  Q3`QuantumCircuit[
   Q3`ControlledGate[{$CellContext`S[1, Q3`$] -> 0, $CellContext`S[2, Q3`$] -> 
     0, $CellContext`S[3, Q3`$] -> 0}, 
    Q3`Rotation[-1.173425652439431, {0, 0, 1}, 
     $CellContext`T[Q3`$]], "Label" -> Superscript["U", "\[Dagger]"]], 
   Q3`ControlledGate[{$CellContext`S[1, Q3`$] -> 0, $CellContext`S[2, Q3`$] -> 
     0, $CellContext`S[3, Q3`$] -> 1}, 
    Q3`Rotation[-0.2417740740290115, {0, 0, 1}, 
     $CellContext`T[Q3`$]], "Label" -> Superscript["U", "\[Dagger]"]], 
   Q3`ControlledGate[{$CellContext`S[1, Q3`$] -> 0, $CellContext`S[2, Q3`$] -> 
     1, $CellContext`S[3, Q3`$] -> 0}, 
    Q3`Rotation[-0.5671918826722581, {0, 0, 1}, 
     $CellContext`T[Q3`$]], "Label" -> Superscript["U", "\[Dagger]"]], 
   Q3`ControlledGate[{$CellContext`S[1, Q3`$] -> 0, $CellContext`S[2, Q3`$] -> 
     1, $CellContext`S[3, Q3`$] -> 1}, 
    Q3`Rotation[-1.471027482714407, {0, 0, 1}, 
     $CellContext`T[Q3`$]], "Label" -> Superscript["U", "\[Dagger]"]], 
   Q3`ControlledGate[{$CellContext`S[1, Q3`$] -> 1, $CellContext`S[2, Q3`$] -> 
     0, $CellContext`S[3, Q3`$] -> 0}, 
    Q3`Rotation[-2.2209597200615527`, {0, 0, 1}, 
     $CellContext`T[Q3`$]], "Label" -> Superscript["U", "\[Dagger]"]], 
   Q3`ControlledGate[{$CellContext`S[1, Q3`$] -> 1, $CellContext`S[2, Q3`$] -> 
     0, $CellContext`S[3, Q3`$] -> 1}, 
    Q3`Rotation[-0.3828968911510376, {0, 0, 1}, 
     $CellContext`T[Q3`$]], "Label" -> Superscript["U", "\[Dagger]"]], 
   Q3`ControlledGate[{$CellContext`S[1, Q3`$] -> 1, $CellContext`S[2, Q3`$] -> 
     1, $CellContext`S[3, Q3`$] -> 0}, 
    Q3`Rotation[-1.0453760749498053`, {0, 0, 1}, 
     $CellContext`T[Q3`$]], "Label" -> Superscript["U", "\[Dagger]"]], 
   Q3`ControlledGate[{$CellContext`S[1, Q3`$] -> 1, $CellContext`S[2, Q3`$] -> 
     1, $CellContext`S[3, Q3`$] -> 1}, 
    Q3`Rotation[-0.2199870128247587, {0, 0, 1}, 
     $CellContext`T[Q3`$]], "Label" -> 
    Superscript["U", "\[Dagger]"]]]]], "Output",
 CellLabel->"Out[7]=",
 CellID->877569612,ExpressionUUID->"26562c21-74a9-40bc-be39-491cd3893c59"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{"Matrix", "[", "qc", "]"}], ".", 
    RowBox[{"Matrix", "[", "new", "]"}]}], "//", "Chop"}], "//", 
  "MatrixForm"}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[8]:=",
 CellID->1417394473,ExpressionUUID->"51c98929-6d82-4029-9c08-ba422a2b7610"],

Cell[BoxData[
 TagBox[
  RowBox[{"(", "\[NoBreak]", GridBox[{
     {"1.`", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "1.`", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "1.`", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "1.`", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "1.`", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "1.`", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "1.`", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "1.`", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "1.`", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "1.`", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "1.`", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "1.`", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "1.`", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "1.`", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "1.`", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "1.`"}
    },
    GridBoxAlignment->{"Columns" -> {{Center}}, "Rows" -> {{Baseline}}},
    GridBoxSpacings->{"Columns" -> {
        Offset[0.27999999999999997`], {
         Offset[0.7]}, 
        Offset[0.27999999999999997`]}, "Rows" -> {
        Offset[0.2], {
         Offset[0.4]}, 
        Offset[0.2]}}], "\[NoBreak]", ")"}],
  Function[BoxForm`e$, 
   MatrixForm[
   SparseArray[
    Automatic, {16, 16}, 0, {
     1, {{0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16}, {{1}, {
       2}, {3}, {4}, {5}, {6}, {7}, {8}, {9}, {10}, {11}, {12}, {13}, {14}, {
       15}, {16}}}, {1., 1., 1., 1., 1., 1., 1., 1., 1., 1., 1., 1., 1., 1., 
      1., 1.}}]]]]], "Output",
 CellLabel->"Out[8]//MatrixForm=",
 CellID->1765466121,ExpressionUUID->"2a9f5a37-1bcd-47f4-bf7e-387bd35493e1"]
}, Open  ]]
}, Dynamic[CurrentValue[
 EvaluationNotebook[], {TaggingRules, "Openers", "ExampleSubsection", "0"}, 
  Closed]]]],

Cell[CellGroupData[{

Cell[TextData[{
 Cell[BoxData[
  DynamicBox[ToBoxes[
    If[
     MatchQ[
      CurrentValue[
       EvaluationNotebook[], {
       TaggingRules, "Openers", "ExampleSubsection", "1"}, Closed], 
      Alternatives[Open, True]], 
     Style[
      Graphics[{
        Thickness[0.18], 
        RGBColor[0.8509803921568627, 0.396078431372549, 0], 
        Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
       PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
      0.68 Inherited], 
     Rotate[
      Style[
       Graphics[{
         Thickness[0.18], 
         RGBColor[0.8509803921568627, 0.396078431372549, 0], 
         Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
        PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
       0.68 Inherited], Rational[1, 2] Pi, {-1.65, -1}]]],
   ImageSizeCache->{14., {0.45000000000000107`, 13.549999999999999`}}]],
  ExpressionUUID->"9356d773-af41-4f95-a58c-5302bfb60097"],
 Cell[BoxData[
  TemplateBox[{1},
   "Spacer1"]],ExpressionUUID->"2a20d936-1de7-417e-b4b1-6040a17ba1ed"],
 "Simplification",
 "\[NonBreakingSpace]\[NonBreakingSpace]",
 Cell["(1)", "ExampleCount",ExpressionUUID->
  "172becce-3918-48d8-bed0-144e1a33c878"]
}], "ExampleSubsection", "ExampleSubsection",
 WholeCellGroupOpener->True,
 CacheGraphics->False,
 CellID->1929222037,ExpressionUUID->"2e890b3f-c3bb-49d6-8b01-4c26f19d3801"],

Cell[TextData[{
 "As long as the rotation axis is ",
 StyleBox["not",
  FontSlant->"Italic"],
 " parallel to the x-axis, uniformly controlled rotation may be reduced to a \
simpler and more efficient gate sequence."
}], "ExampleText",
 CellID->943224651,ExpressionUUID->"6760deb9-d6d0-4722-b9c7-d0d4f0c22916"],

Cell[BoxData[
 RowBox[{"Let", "[", 
  RowBox[{"Qubit", ",", "S", ",", "T"}], "]"}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[1]:=",
 CellID->103290834,ExpressionUUID->"513f8654-0de3-4e23-b114-728de5faaac3"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"$n", "=", "3"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"$N", "=", 
   RowBox[{"Power", "[", 
    RowBox[{"2", ",", "$n"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"kk", "=", 
   RowBox[{"Range", "[", "$n", "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"SS", "=", 
  RowBox[{"S", "[", 
   RowBox[{"kk", ",", "$"}], "]"}]}]}], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[2]:=",
 CellID->261036225,ExpressionUUID->"482b6dd8-38bb-4510-be1a-85decf3b81cd"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   InterpretationBox[
    SubscriptBox["S", 
     TemplateBox[{",", "\",\"", "1"},
      "RowWithSeparators"]],
    $CellContext`S[1, Q3`$]], ",", 
   InterpretationBox[
    SubscriptBox["S", 
     TemplateBox[{",", "\",\"", "2"},
      "RowWithSeparators"]],
    $CellContext`S[2, Q3`$]], ",", 
   InterpretationBox[
    SubscriptBox["S", 
     TemplateBox[{",", "\",\"", "3"},
      "RowWithSeparators"]],
    $CellContext`S[3, Q3`$]]}], "}"}]], "Output",
 CellLabel->"Out[2]=",
 CellID->1436527013,ExpressionUUID->"2c3d7f82-bf42-4433-85a3-9d0709258e83"]
}, Open  ]],

Cell[BoxData[
 RowBox[{
  RowBox[{"SeedRandom", "[", "351", "]"}], ";"}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[3]:=",
 CellID->1943047641,ExpressionUUID->"d9153e9f-788c-4dd3-9adb-fb96b3b12097"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"aa", "=", 
  RowBox[{
   RowBox[{"RandomReal", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"0", ",", "2"}], "}"}], ",", "$N"}], "]"}], "*", 
   "Pi"}]}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[4]:=",
 CellID->1126297971,ExpressionUUID->"5c8973b8-6aac-4e69-8965-0ad38140cb5d"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
  "2.346851304878862`", ",", "0.483548148058023`", ",", "1.1343837653445161`",
    ",", "2.942054965428814`", ",", "4.4419194401231055`", ",", 
   "0.7657937823020752`", ",", "2.0907521498996107`", ",", 
   "0.4399740256495174`"}], "}"}]], "Output",
 CellLabel->"Out[4]=",
 CellID->1062978700,ExpressionUUID->"80492f2b-6acc-459a-a1ce-76f1802f7bfc"]
}, Open  ]],

Cell["Note that the rotation axis is not parallel to the x-axis.", \
"ExampleText",
 CellID->1357819613,ExpressionUUID->"cd662b7e-413b-45c4-801c-9661f5c0bc63"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"op", "=", 
   RowBox[{"UniformlyControlledRotation", "[", 
    RowBox[{"SS", ",", "aa", ",", 
     RowBox[{"{", 
      RowBox[{"0", ",", "1", ",", "1"}], "}"}], ",", "T"}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{"qc", "=", 
  RowBox[{"QuantumCircuit", "[", 
   RowBox[{"Expand", "@", "op"}], "]"}]}]}], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[5]:=",
 CellID->1265229398,ExpressionUUID->"30cf5667-babf-49ec-9077-f56edea9b4c5"],

Cell[BoxData[
 InterpretationBox[
  GraphicsBox[{
    {Dashing[{Small, Small}], LineBox[{}]}, 
    LineBox[{{{0, -1}, {9, -1}}, {{0, -2}, {9, -2}}, {{0, -3}, {9, -3}}, {{
     0, -4}, {9, -4}}}], {LineBox[{{1, -1}, {1, -2}, {1, -3}, {1, -4}}], 
     {GrayLevel[1], EdgeForm[Opacity[1]], DiskBox[{1, -1}, 0.09]}, 
     {GrayLevel[1], EdgeForm[Opacity[1]], DiskBox[{1, -2}, 0.09]}, 
     {GrayLevel[1], EdgeForm[Opacity[1]], DiskBox[{1, -3}, 0.09]}, 
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{0.6, -4.4}, {1.4, -3.6}]}, InsetBox[
      StyleBox[
       SubscriptBox["\<\"R\"\>", 
        StyleBox["\<\"n\"\>",
         StripOnInput->False,
         FontWeight->Bold]],
       StripOnInput->False,
       FontSize->Scaled[0.044444444444444446`],
       FontWeight->"Light",
       FontSlant->Italic], {1., -4.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {LineBox[{{2, -1}, {2, -2}, {2, -3}, {2, -4}}], 
     {GrayLevel[1], EdgeForm[Opacity[1]], DiskBox[{2, -1}, 0.09]}, 
     {GrayLevel[1], EdgeForm[Opacity[1]], DiskBox[{2, -2}, 0.09]}, 
     DiskBox[{2, -3}, 0.09], 
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{1.6, -4.4}, {2.4, -3.6}]}, InsetBox[
      StyleBox[
       SubscriptBox["\<\"R\"\>", 
        StyleBox["\<\"n\"\>",
         StripOnInput->False,
         FontWeight->Bold]],
       StripOnInput->False,
       FontSize->Scaled[0.044444444444444446`],
       FontWeight->"Light",
       FontSlant->Italic], {2., -4.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {LineBox[{{3, -1}, {3, -2}, {3, -3}, {3, -4}}], 
     {GrayLevel[1], EdgeForm[Opacity[1]], DiskBox[{3, -1}, 0.09]}, 
     DiskBox[{3, -2}, 0.09], 
     {GrayLevel[1], EdgeForm[Opacity[1]], DiskBox[{3, -3}, 0.09]}, 
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{2.6, -4.4}, {3.4, -3.6}]}, InsetBox[
      StyleBox[
       SubscriptBox["\<\"R\"\>", 
        StyleBox["\<\"n\"\>",
         StripOnInput->False,
         FontWeight->Bold]],
       StripOnInput->False,
       FontSize->Scaled[0.044444444444444446`],
       FontWeight->"Light",
       FontSlant->Italic], {3., -4.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {LineBox[{{4, -1}, {4, -2}, {4, -3}, {4, -4}}], 
     {GrayLevel[1], EdgeForm[Opacity[1]], DiskBox[{4, -1}, 0.09]}, 
     DiskBox[{4, -2}, 0.09], DiskBox[{4, -3}, 0.09], 
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{3.6, -4.4}, {4.4, -3.6}]}, InsetBox[
      StyleBox[
       SubscriptBox["\<\"R\"\>", 
        StyleBox["\<\"n\"\>",
         StripOnInput->False,
         FontWeight->Bold]],
       StripOnInput->False,
       FontSize->Scaled[0.044444444444444446`],
       FontWeight->"Light",
       FontSlant->Italic], {4., -4.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {LineBox[{{5, -1}, {5, -2}, {5, -3}, {5, -4}}], 
     DiskBox[{5, -1}, 0.09], 
     {GrayLevel[1], EdgeForm[Opacity[1]], DiskBox[{5, -2}, 0.09]}, 
     {GrayLevel[1], EdgeForm[Opacity[1]], DiskBox[{5, -3}, 0.09]}, 
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{4.6, -4.4}, {5.4, -3.6}]}, InsetBox[
      StyleBox[
       SubscriptBox["\<\"R\"\>", 
        StyleBox["\<\"n\"\>",
         StripOnInput->False,
         FontWeight->Bold]],
       StripOnInput->False,
       FontSize->Scaled[0.044444444444444446`],
       FontWeight->"Light",
       FontSlant->Italic], {5., -4.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {LineBox[{{6, -1}, {6, -2}, {6, -3}, {6, -4}}], 
     DiskBox[{6, -1}, 0.09], 
     {GrayLevel[1], EdgeForm[Opacity[1]], DiskBox[{6, -2}, 0.09]}, 
     DiskBox[{6, -3}, 0.09], 
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{5.6, -4.4}, {6.4, -3.6}]}, InsetBox[
      StyleBox[
       SubscriptBox["\<\"R\"\>", 
        StyleBox["\<\"n\"\>",
         StripOnInput->False,
         FontWeight->Bold]],
       StripOnInput->False,
       FontSize->Scaled[0.044444444444444446`],
       FontWeight->"Light",
       FontSlant->Italic], {6., -4.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {LineBox[{{7, -1}, {7, -2}, {7, -3}, {7, -4}}], 
     DiskBox[{7, -1}, 0.09], DiskBox[{7, -2}, 0.09], 
     {GrayLevel[1], EdgeForm[Opacity[1]], DiskBox[{7, -3}, 0.09]}, 
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{6.6, -4.4}, {7.4, -3.6}]}, InsetBox[
      StyleBox[
       SubscriptBox["\<\"R\"\>", 
        StyleBox["\<\"n\"\>",
         StripOnInput->False,
         FontWeight->Bold]],
       StripOnInput->False,
       FontSize->Scaled[0.044444444444444446`],
       FontWeight->"Light",
       FontSlant->Italic], {7., -4.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {LineBox[{{8, -1}, {8, -2}, {8, -3}, {8, -4}}], 
     DiskBox[{8, -1}, 0.09], DiskBox[{8, -2}, 0.09], DiskBox[{8, -3}, 0.09], 
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{7.6, -4.4}, {8.4, -3.6}]}, InsetBox[
      StyleBox[
       SubscriptBox["\<\"R\"\>", 
        StyleBox["\<\"n\"\>",
         StripOnInput->False,
         FontWeight->Bold]],
       StripOnInput->False,
       FontSize->Scaled[0.044444444444444446`],
       FontWeight->"Light",
       FontSlant->Italic], {8., -4.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}},
   AxesStyle->Large,
   FrameStyle->Large,
   ImagePadding->{{25.56, 25.56}, {7.2, 7.2}},
   ImageSize->370.8,
   PlotRange->{{0, 9}, {-4.5, -0.5}},
   PlotRangePadding->Scaled[0.025]],
  Q3`QuantumCircuit[
   Q3`ControlledGate[{$CellContext`S[1, Q3`$] -> 0, $CellContext`S[2, Q3`$] -> 
     0, $CellContext`S[3, Q3`$] -> 0}, 
    Q3`Rotation[2.346851304878862, {0, 1, 1}, 
     $CellContext`T[Q3`$]]], 
   Q3`ControlledGate[{$CellContext`S[1, Q3`$] -> 0, $CellContext`S[2, Q3`$] -> 
     0, $CellContext`S[3, Q3`$] -> 1}, 
    Q3`Rotation[0.483548148058023, {0, 1, 1}, 
     $CellContext`T[Q3`$]]], 
   Q3`ControlledGate[{$CellContext`S[1, Q3`$] -> 0, $CellContext`S[2, Q3`$] -> 
     1, $CellContext`S[3, Q3`$] -> 0}, 
    Q3`Rotation[1.1343837653445161`, {0, 1, 1}, 
     $CellContext`T[Q3`$]]], 
   Q3`ControlledGate[{$CellContext`S[1, Q3`$] -> 0, $CellContext`S[2, Q3`$] -> 
     1, $CellContext`S[3, Q3`$] -> 1}, 
    Q3`Rotation[2.942054965428814, {0, 1, 1}, 
     $CellContext`T[Q3`$]]], 
   Q3`ControlledGate[{$CellContext`S[1, Q3`$] -> 1, $CellContext`S[2, Q3`$] -> 
     0, $CellContext`S[3, Q3`$] -> 0}, 
    Q3`Rotation[4.4419194401231055`, {0, 1, 1}, 
     $CellContext`T[Q3`$]]], 
   Q3`ControlledGate[{$CellContext`S[1, Q3`$] -> 1, $CellContext`S[2, Q3`$] -> 
     0, $CellContext`S[3, Q3`$] -> 1}, 
    Q3`Rotation[0.7657937823020752, {0, 1, 1}, 
     $CellContext`T[Q3`$]]], 
   Q3`ControlledGate[{$CellContext`S[1, Q3`$] -> 1, $CellContext`S[2, Q3`$] -> 
     1, $CellContext`S[3, Q3`$] -> 0}, 
    Q3`Rotation[2.0907521498996107`, {0, 1, 1}, 
     $CellContext`T[Q3`$]]], 
   Q3`ControlledGate[{$CellContext`S[1, Q3`$] -> 1, $CellContext`S[2, Q3`$] -> 
     1, $CellContext`S[3, Q3`$] -> 1}, 
    Q3`Rotation[0.4399740256495174, {0, 1, 1}, 
     $CellContext`T[Q3`$]]]]]], "Output",
 CellLabel->"Out[5]=",
 CellID->839396430,ExpressionUUID->"fedf01c4-928b-4697-b405-1952f7b1687f"]
}, Open  ]],

Cell["\<\
Therefore, the uniformly controlled rotation may be further simplified.\
\>", "ExampleText",
 CellID->1306719150,ExpressionUUID->"b43a695b-6e01-488e-bcfa-9090e246ddcf"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"new", "=", 
  RowBox[{"ExpandAll", "[", "op", "]"}]}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[6]:=",
 CellID->1012640172,ExpressionUUID->"eea2f0ec-8eb6-446f-b16c-779a85988fe7"],

Cell[BoxData[
 InterpretationBox[
  GraphicsBox[{
    {Dashing[{Small, Small}], LineBox[{}]}, 
    LineBox[{{{0, -1}, {17, -1}}, {{0, -2}, {17, -2}}, {{0, -3}, {17, -3}}, {{
     0, -4}, {17, -4}}}], {
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{0.6, -4.4}, {1.4, -3.6}]}, InsetBox[
      StyleBox[
       SubscriptBox["\<\"R\"\>", 
        StyleBox["\<\"n\"\>",
         StripOnInput->False,
         FontWeight->Bold]],
       StripOnInput->False,
       FontSize->Scaled[0.023529411764705882`],
       FontWeight->"Light",
       FontSlant->Italic], {1., -4.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {LineBox[{{2, -3}, {2, -4}}], 
     DiskBox[{2, -3}, 0.09], {CircleBox[{2, -4}, 0.26666666666666666], 
      LineBox[{{{1.7333333333333334`, -4}, {2.2666666666666666`, -4}}, {{
         2, -4.266666666666667}, {2, -3.7333333333333334`}}}]}}, {
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{2.6, -4.4}, {3.4, -3.6}]}, InsetBox[
      StyleBox[
       SubscriptBox["\<\"R\"\>", 
        StyleBox["\<\"n\"\>",
         StripOnInput->False,
         FontWeight->Bold]],
       StripOnInput->False,
       FontSize->Scaled[0.023529411764705882`],
       FontWeight->"Light",
       FontSlant->Italic], {3., -4.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {LineBox[{{4, -2}, {4, -4}}], 
     DiskBox[{4, -2}, 0.09], {CircleBox[{4, -4}, 0.26666666666666666], 
      LineBox[{{{3.7333333333333334`, -4}, {4.266666666666667, -4}}, {{
         4, -4.266666666666667}, {4, -3.7333333333333334`}}}]}}, {
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{4.6, -4.4}, {5.4, -3.6}]}, InsetBox[
      StyleBox[
       SubscriptBox["\<\"R\"\>", 
        StyleBox["\<\"n\"\>",
         StripOnInput->False,
         FontWeight->Bold]],
       StripOnInput->False,
       FontSize->Scaled[0.023529411764705882`],
       FontWeight->"Light",
       FontSlant->Italic], {5., -4.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {LineBox[{{6, -3}, {6, -4}}], 
     DiskBox[{6, -3}, 0.09], {CircleBox[{6, -4}, 0.26666666666666666], 
      LineBox[{{{5.733333333333333, -4}, {6.266666666666667, -4}}, {{
         6, -4.266666666666667}, {6, -3.7333333333333334`}}}]}}, {
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{6.6, -4.4}, {7.4, -3.6}]}, InsetBox[
      StyleBox[
       SubscriptBox["\<\"R\"\>", 
        StyleBox["\<\"n\"\>",
         StripOnInput->False,
         FontWeight->Bold]],
       StripOnInput->False,
       FontSize->Scaled[0.023529411764705882`],
       FontWeight->"Light",
       FontSlant->Italic], {7., -4.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {LineBox[{{8, -1}, {8, -4}}], 
     DiskBox[{8, -1}, 0.09], {CircleBox[{8, -4}, 0.26666666666666666], 
      LineBox[{{{7.733333333333333, -4}, {8.266666666666667, -4}}, {{
         8, -4.266666666666667}, {8, -3.7333333333333334`}}}]}}, {
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{8.6, -4.4}, {9.4, -3.6}]}, InsetBox[
      StyleBox[
       SubscriptBox["\<\"R\"\>", 
        StyleBox["\<\"n\"\>",
         StripOnInput->False,
         FontWeight->Bold]],
       StripOnInput->False,
       FontSize->Scaled[0.023529411764705882`],
       FontWeight->"Light",
       FontSlant->Italic], {9., -4.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {LineBox[{{10, -3}, {10, -4}}], 
     DiskBox[{10, -3}, 0.09], {CircleBox[{10, -4}, 0.26666666666666666], 
      LineBox[{{{9.733333333333333, -4}, {10.266666666666667`, -4}}, {{
         10, -4.266666666666667}, {10, -3.7333333333333334`}}}]}}, {
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{10.6, -4.4}, {11.4, -3.6}]}, InsetBox[
      StyleBox[
       SubscriptBox["\<\"R\"\>", 
        StyleBox["\<\"n\"\>",
         StripOnInput->False,
         FontWeight->Bold]],
       StripOnInput->False,
       FontSize->Scaled[0.023529411764705882`],
       FontWeight->"Light",
       FontSlant->Italic], {11., -4.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {LineBox[{{12, -2}, {12, -4}}], 
     DiskBox[{12, -2}, 0.09], {CircleBox[{12, -4}, 0.26666666666666666], 
      LineBox[{{{11.733333333333333`, -4}, {12.266666666666667`, -4}}, {{
         12, -4.266666666666667}, {12, -3.7333333333333334`}}}]}}, {
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{12.6, -4.4}, {13.4, -3.6}]}, InsetBox[
      StyleBox[
       SubscriptBox["\<\"R\"\>", 
        StyleBox["\<\"n\"\>",
         StripOnInput->False,
         FontWeight->Bold]],
       StripOnInput->False,
       FontSize->Scaled[0.023529411764705882`],
       FontWeight->"Light",
       FontSlant->Italic], {13., -4.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {LineBox[{{14, -3}, {14, -4}}], 
     DiskBox[{14, -3}, 0.09], {CircleBox[{14, -4}, 0.26666666666666666], 
      LineBox[{{{13.733333333333333`, -4}, {14.266666666666667`, -4}}, {{
         14, -4.266666666666667}, {14, -3.7333333333333334`}}}]}}, {
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{14.6, -4.4}, {15.4, -3.6}]}, InsetBox[
      StyleBox[
       SubscriptBox["\<\"R\"\>", 
        StyleBox["\<\"n\"\>",
         StripOnInput->False,
         FontWeight->Bold]],
       StripOnInput->False,
       FontSize->Scaled[0.023529411764705882`],
       FontWeight->"Light",
       FontSlant->Italic], {15., -4.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {LineBox[{{16, -1}, {16, -4}}], 
     DiskBox[{16, -1}, 0.09], {CircleBox[{16, -4}, 0.26666666666666666], 
      LineBox[{{{15.733333333333333`, -4}, {16.266666666666666`, -4}}, {{
         16, -4.266666666666667}, {16, -3.7333333333333334`}}}]}}},
   AxesStyle->Large,
   FrameStyle->Large,
   ImagePadding->{{25.56, 25.56}, {7.2, 7.2}},
   ImageSize->658.8000000000001,
   PlotRange->{{0, 17}, {-4.5, -0.5}},
   PlotRangePadding->Scaled[0.025]],
  Q3`QuantumCircuit[
   Q3`Rotation[1.8306596977105658`, {0, 1, 1}, 
    $CellContext`T[Q3`$]], 
   Q3`CNOT[{$CellContext`S[3, Q3`$] -> 1}, {
     $CellContext`T[Q3`$]}], 
   Q3`Rotation[0.6728169673509581, {0, 1, 1}, 
    $CellContext`T[Q3`$]], 
   Q3`CNOT[{$CellContext`S[2, Q3`$] -> 1}, {
     $CellContext`T[Q3`$]}], 
   Q3`Rotation[0.7120402363095093, {0, 1, 1}, 
    $CellContext`T[Q3`$]], 
   Q3`CNOT[{$CellContext`S[3, Q3`$] -> 1}, {
     $CellContext`T[Q3`$]}], 
   Q3`Rotation[0.1788684711299509, {0, 1, 1}, 
    $CellContext`T[Q3`$]], 
   Q3`CNOT[{$CellContext`S[1, Q3`$] -> 1}, {
     $CellContext`T[Q3`$]}], 
   Q3`Rotation[-0.4903782905890621, {0, 1, 1}, 
    $CellContext`T[Q3`$]], 
   Q3`CNOT[{$CellContext`S[3, Q3`$] -> 1}, {
     $CellContext`T[Q3`$]}], 
   Q3`Rotation[0.20570335291677494`, {0, 1, 1}, 
    $CellContext`T[Q3`$]], 
   Q3`CNOT[{$CellContext`S[2, Q3`$] -> 1}, {
     $CellContext`T[Q3`$]}], 
   Q3`Rotation[-0.6589089781668227, {0, 1, 1}, 
    $CellContext`T[Q3`$]], 
   Q3`CNOT[{$CellContext`S[3, Q3`$] -> 1}, {
     $CellContext`T[Q3`$]}], 
   Q3`Rotation[-0.10395015178301163`, {0, 1, 1}, 
    $CellContext`T[Q3`$]], 
   Q3`CNOT[{$CellContext`S[1, Q3`$] -> 1}, {
     $CellContext`T[Q3`$]}]]]], "Output",
 CellLabel->"Out[6]=",
 CellID->2085385771,ExpressionUUID->"b5c1e17b-3ae6-4ff5-9ca1-984fdd67c9d8"]
}, Open  ]],

Cell["This is equivalent to the above.", "ExampleText",
 CellID->1280867960,ExpressionUUID->"49adf1cd-67e6-4bb2-9dba-7ffc9b3e7c25"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"new", "=", 
  RowBox[{"QuantumCircuit", "[", 
   RowBox[{"ExpandAll", "@", "op"}], "]"}]}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[7]:=",
 CellID->2023783963,ExpressionUUID->"b0c36bce-611d-42af-b2ca-7a8e29982935"],

Cell[BoxData[
 InterpretationBox[
  GraphicsBox[{
    {Dashing[{Small, Small}], LineBox[{}]}, 
    LineBox[{{{0, -1}, {17, -1}}, {{0, -2}, {17, -2}}, {{0, -3}, {17, -3}}, {{
     0, -4}, {17, -4}}}], {
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{0.6, -4.4}, {1.4, -3.6}]}, InsetBox[
      StyleBox[
       SubscriptBox["\<\"R\"\>", 
        StyleBox["\<\"n\"\>",
         StripOnInput->False,
         FontWeight->Bold]],
       StripOnInput->False,
       FontSize->Scaled[0.023529411764705882`],
       FontWeight->"Light",
       FontSlant->Italic], {1., -4.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {LineBox[{{2, -3}, {2, -4}}], 
     DiskBox[{2, -3}, 0.09], {CircleBox[{2, -4}, 0.26666666666666666], 
      LineBox[{{{1.7333333333333334`, -4}, {2.2666666666666666`, -4}}, {{
         2, -4.266666666666667}, {2, -3.7333333333333334`}}}]}}, {
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{2.6, -4.4}, {3.4, -3.6}]}, InsetBox[
      StyleBox[
       SubscriptBox["\<\"R\"\>", 
        StyleBox["\<\"n\"\>",
         StripOnInput->False,
         FontWeight->Bold]],
       StripOnInput->False,
       FontSize->Scaled[0.023529411764705882`],
       FontWeight->"Light",
       FontSlant->Italic], {3., -4.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {LineBox[{{4, -2}, {4, -4}}], 
     DiskBox[{4, -2}, 0.09], {CircleBox[{4, -4}, 0.26666666666666666], 
      LineBox[{{{3.7333333333333334`, -4}, {4.266666666666667, -4}}, {{
         4, -4.266666666666667}, {4, -3.7333333333333334`}}}]}}, {
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{4.6, -4.4}, {5.4, -3.6}]}, InsetBox[
      StyleBox[
       SubscriptBox["\<\"R\"\>", 
        StyleBox["\<\"n\"\>",
         StripOnInput->False,
         FontWeight->Bold]],
       StripOnInput->False,
       FontSize->Scaled[0.023529411764705882`],
       FontWeight->"Light",
       FontSlant->Italic], {5., -4.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {LineBox[{{6, -3}, {6, -4}}], 
     DiskBox[{6, -3}, 0.09], {CircleBox[{6, -4}, 0.26666666666666666], 
      LineBox[{{{5.733333333333333, -4}, {6.266666666666667, -4}}, {{
         6, -4.266666666666667}, {6, -3.7333333333333334`}}}]}}, {
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{6.6, -4.4}, {7.4, -3.6}]}, InsetBox[
      StyleBox[
       SubscriptBox["\<\"R\"\>", 
        StyleBox["\<\"n\"\>",
         StripOnInput->False,
         FontWeight->Bold]],
       StripOnInput->False,
       FontSize->Scaled[0.023529411764705882`],
       FontWeight->"Light",
       FontSlant->Italic], {7., -4.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {LineBox[{{8, -1}, {8, -4}}], 
     DiskBox[{8, -1}, 0.09], {CircleBox[{8, -4}, 0.26666666666666666], 
      LineBox[{{{7.733333333333333, -4}, {8.266666666666667, -4}}, {{
         8, -4.266666666666667}, {8, -3.7333333333333334`}}}]}}, {
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{8.6, -4.4}, {9.4, -3.6}]}, InsetBox[
      StyleBox[
       SubscriptBox["\<\"R\"\>", 
        StyleBox["\<\"n\"\>",
         StripOnInput->False,
         FontWeight->Bold]],
       StripOnInput->False,
       FontSize->Scaled[0.023529411764705882`],
       FontWeight->"Light",
       FontSlant->Italic], {9., -4.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {LineBox[{{10, -3}, {10, -4}}], 
     DiskBox[{10, -3}, 0.09], {CircleBox[{10, -4}, 0.26666666666666666], 
      LineBox[{{{9.733333333333333, -4}, {10.266666666666667`, -4}}, {{
         10, -4.266666666666667}, {10, -3.7333333333333334`}}}]}}, {
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{10.6, -4.4}, {11.4, -3.6}]}, InsetBox[
      StyleBox[
       SubscriptBox["\<\"R\"\>", 
        StyleBox["\<\"n\"\>",
         StripOnInput->False,
         FontWeight->Bold]],
       StripOnInput->False,
       FontSize->Scaled[0.023529411764705882`],
       FontWeight->"Light",
       FontSlant->Italic], {11., -4.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {LineBox[{{12, -2}, {12, -4}}], 
     DiskBox[{12, -2}, 0.09], {CircleBox[{12, -4}, 0.26666666666666666], 
      LineBox[{{{11.733333333333333`, -4}, {12.266666666666667`, -4}}, {{
         12, -4.266666666666667}, {12, -3.7333333333333334`}}}]}}, {
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{12.6, -4.4}, {13.4, -3.6}]}, InsetBox[
      StyleBox[
       SubscriptBox["\<\"R\"\>", 
        StyleBox["\<\"n\"\>",
         StripOnInput->False,
         FontWeight->Bold]],
       StripOnInput->False,
       FontSize->Scaled[0.023529411764705882`],
       FontWeight->"Light",
       FontSlant->Italic], {13., -4.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {LineBox[{{14, -3}, {14, -4}}], 
     DiskBox[{14, -3}, 0.09], {CircleBox[{14, -4}, 0.26666666666666666], 
      LineBox[{{{13.733333333333333`, -4}, {14.266666666666667`, -4}}, {{
         14, -4.266666666666667}, {14, -3.7333333333333334`}}}]}}, {
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{14.6, -4.4}, {15.4, -3.6}]}, InsetBox[
      StyleBox[
       SubscriptBox["\<\"R\"\>", 
        StyleBox["\<\"n\"\>",
         StripOnInput->False,
         FontWeight->Bold]],
       StripOnInput->False,
       FontSize->Scaled[0.023529411764705882`],
       FontWeight->"Light",
       FontSlant->Italic], {15., -4.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {LineBox[{{16, -1}, {16, -4}}], 
     DiskBox[{16, -1}, 0.09], {CircleBox[{16, -4}, 0.26666666666666666], 
      LineBox[{{{15.733333333333333`, -4}, {16.266666666666666`, -4}}, {{
         16, -4.266666666666667}, {16, -3.7333333333333334`}}}]}}},
   AxesStyle->Large,
   FrameStyle->Large,
   ImagePadding->{{25.56, 25.56}, {7.2, 7.2}},
   ImageSize->658.8000000000001,
   PlotRange->{{0, 17}, {-4.5, -0.5}},
   PlotRangePadding->Scaled[0.025]],
  Q3`QuantumCircuit[
   Q3`Rotation[1.8306596977105658`, {0, 1, 1}, 
    $CellContext`T[Q3`$]], 
   Q3`CNOT[{$CellContext`S[3, Q3`$] -> 1}, {
     $CellContext`T[Q3`$]}], 
   Q3`Rotation[0.6728169673509581, {0, 1, 1}, 
    $CellContext`T[Q3`$]], 
   Q3`CNOT[{$CellContext`S[2, Q3`$] -> 1}, {
     $CellContext`T[Q3`$]}], 
   Q3`Rotation[0.7120402363095093, {0, 1, 1}, 
    $CellContext`T[Q3`$]], 
   Q3`CNOT[{$CellContext`S[3, Q3`$] -> 1}, {
     $CellContext`T[Q3`$]}], 
   Q3`Rotation[0.1788684711299509, {0, 1, 1}, 
    $CellContext`T[Q3`$]], 
   Q3`CNOT[{$CellContext`S[1, Q3`$] -> 1}, {
     $CellContext`T[Q3`$]}], 
   Q3`Rotation[-0.4903782905890621, {0, 1, 1}, 
    $CellContext`T[Q3`$]], 
   Q3`CNOT[{$CellContext`S[3, Q3`$] -> 1}, {
     $CellContext`T[Q3`$]}], 
   Q3`Rotation[0.20570335291677494`, {0, 1, 1}, 
    $CellContext`T[Q3`$]], 
   Q3`CNOT[{$CellContext`S[2, Q3`$] -> 1}, {
     $CellContext`T[Q3`$]}], 
   Q3`Rotation[-0.6589089781668227, {0, 1, 1}, 
    $CellContext`T[Q3`$]], 
   Q3`CNOT[{$CellContext`S[3, Q3`$] -> 1}, {
     $CellContext`T[Q3`$]}], 
   Q3`Rotation[-0.10395015178301163`, {0, 1, 1}, 
    $CellContext`T[Q3`$]], 
   Q3`CNOT[{$CellContext`S[1, Q3`$] -> 1}, {
     $CellContext`T[Q3`$]}]]]], "Output",
 CellLabel->"Out[7]=",
 CellID->49633460,ExpressionUUID->"1289761e-3cf7-4070-bed3-d7084d2aeb47"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{"Matrix", "[", "new", "]"}], "-", 
    RowBox[{"Matrix", "[", "qc", "]"}]}], "//", "Chop"}], "//", 
  "MatrixForm"}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[8]:=",
 CellID->488723745,ExpressionUUID->"923c9268-fab3-4586-8685-9db4c9edc5bb"],

Cell[BoxData[
 TagBox[
  RowBox[{"(", "\[NoBreak]", GridBox[{
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"}
    },
    GridBoxAlignment->{"Columns" -> {{Center}}, "Rows" -> {{Baseline}}},
    GridBoxSpacings->{"Columns" -> {
        Offset[0.27999999999999997`], {
         Offset[0.7]}, 
        Offset[0.27999999999999997`]}, "Rows" -> {
        Offset[0.2], {
         Offset[0.4]}, 
        Offset[0.2]}}], "\[NoBreak]", ")"}],
  Function[BoxForm`e$, 
   MatrixForm[
   SparseArray[
    Automatic, {16, 16}, 0, {
     1, {{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
       0}, {}}, {}}]]]]], "Output",
 CellLabel->"Out[8]//MatrixForm=",
 CellID->789001393,ExpressionUUID->"d8e97bcd-a38c-433f-a2ce-e63c615e1879"]
}, Open  ]]
}, Dynamic[CurrentValue[
 EvaluationNotebook[], {TaggingRules, "Openers", "ExampleSubsection", "1"}, 
  Closed]]]],

Cell[CellGroupData[{

Cell[TextData[{
 Cell[BoxData[
  DynamicBox[ToBoxes[
    If[
     MatchQ[
      CurrentValue[
       EvaluationNotebook[], {
       TaggingRules, "Openers", "ExampleSubsection", "2"}, Closed], 
      Alternatives[Open, True]], 
     Style[
      Graphics[{
        Thickness[0.18], 
        RGBColor[0.8509803921568627, 0.396078431372549, 0], 
        Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
       PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
      0.68 Inherited], 
     Rotate[
      Style[
       Graphics[{
         Thickness[0.18], 
         RGBColor[0.8509803921568627, 0.396078431372549, 0], 
         Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
        PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
       0.68 Inherited], Rational[1, 2] Pi, {-1.65, -1}]]],
   ImageSizeCache->{14., {0.45000000000000107`, 13.549999999999999`}}]],
  ExpressionUUID->"3d868240-5da4-4c68-aa9d-78984703775f"],
 Cell[BoxData[
  TemplateBox[{1},
   "Spacer1"]],ExpressionUUID->"2433bce4-ccfe-4068-b3ac-2489aed12617"],
 "ControlledPower",
 "\[NonBreakingSpace]\[NonBreakingSpace]",
 Cell["(1)", "ExampleCount",ExpressionUUID->
  "caf29893-95bc-4387-bb9e-ed12438588ff"]
}], "ExampleSubsection", "ExampleSubsection",
 WholeCellGroupOpener->True,
 CacheGraphics->False,
 CellID->1313350173,ExpressionUUID->"9f3b353d-3ef2-4c01-9a02-10f439c7812b"],

Cell["\<\
Controlled power of a single-qubit rotation is a special case of uniformly \
controlled rotation.\
\>", "ExampleText",
 CellID->603809129,ExpressionUUID->"32c7e7e3-8d92-4c66-80cf-bbbbb8dd054c"],

Cell[BoxData[
 RowBox[{"Let", "[", 
  RowBox[{"Qubit", ",", "S", ",", "T"}], "]"}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[1]:=",
 CellID->2106864546,ExpressionUUID->"ef16aade-83e9-4c4f-9cf8-7f338c1cec88"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"$n", "=", "3"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"$N", "=", 
   RowBox[{"Power", "[", 
    RowBox[{"2", ",", "$n"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"kk", "=", 
   RowBox[{"Range", "[", "$n", "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"xx", "=", 
  RowBox[{
   RowBox[{"Range", "[", "$N", "]"}], "-", "1"}]}]}], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[2]:=",
 CellID->596381436,ExpressionUUID->"90818056-8632-4632-8e4c-c7cd9c695fa9"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
  "0", ",", "1", ",", "2", ",", "3", ",", "4", ",", "5", ",", "6", ",", "7"}],
   "}"}]], "Output",
 CellLabel->"Out[2]=",
 CellID->2035892205,ExpressionUUID->"b9264291-68fc-49df-af3f-5afb51596e99"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{"SS", "=", 
  RowBox[{"S", "[", 
   RowBox[{"kk", ",", "$"}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"ST", "=", 
  RowBox[{"Append", "[", 
   RowBox[{"SS", ",", "T"}], "]"}]}]}], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[3]:=",
 CellID->214569239,ExpressionUUID->"69c95ec5-43d6-4eac-8f1d-379a28014e47"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   InterpretationBox[
    SubscriptBox["S", 
     TemplateBox[{",", "\",\"", "1"},
      "RowWithSeparators"]],
    $CellContext`S[1, Q3`$]], ",", 
   InterpretationBox[
    SubscriptBox["S", 
     TemplateBox[{",", "\",\"", "2"},
      "RowWithSeparators"]],
    $CellContext`S[2, Q3`$]], ",", 
   InterpretationBox[
    SubscriptBox["S", 
     TemplateBox[{",", "\",\"", "3"},
      "RowWithSeparators"]],
    $CellContext`S[3, Q3`$]]}], "}"}]], "Output",
 CellLabel->"Out[3]=",
 CellID->1560833395,ExpressionUUID->"fe7706ba-e7f2-4e44-ac36-62857d60469b"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   InterpretationBox[
    SubscriptBox["S", 
     TemplateBox[{",", "\",\"", "1"},
      "RowWithSeparators"]],
    $CellContext`S[1, Q3`$]], ",", 
   InterpretationBox[
    SubscriptBox["S", 
     TemplateBox[{",", "\",\"", "2"},
      "RowWithSeparators"]],
    $CellContext`S[2, Q3`$]], ",", 
   InterpretationBox[
    SubscriptBox["S", 
     TemplateBox[{",", "\",\"", "3"},
      "RowWithSeparators"]],
    $CellContext`S[3, Q3`$]], ",", "T"}], "}"}]], "Output",
 CellLabel->"Out[3]=",
 CellID->1414121660,ExpressionUUID->"dbc8a480-ffe9-4c5a-978b-0cb41fca6e74"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"cop", "=", 
  RowBox[{"ControlledPower", "[", 
   RowBox[{"SS", ",", 
    RowBox[{"Rotation", "[", 
     RowBox[{"\[Phi]", ",", 
      RowBox[{"T", "[", "2", "]"}]}], "]"}]}], "]"}]}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[4]:=",
 CellID->2078201721,ExpressionUUID->"d66882f1-4404-4184-9801-6ae41141bd32"],

Cell[BoxData[
 RowBox[{"ControlledPower", "[", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{
     InterpretationBox[
      SubscriptBox["S", 
       TemplateBox[{",", "\",\"", "1"},
        "RowWithSeparators"]],
      $CellContext`S[1, Q3`$]], ",", 
     InterpretationBox[
      SubscriptBox["S", 
       TemplateBox[{",", "\",\"", "2"},
        "RowWithSeparators"]],
      $CellContext`S[2, Q3`$]], ",", 
     InterpretationBox[
      SubscriptBox["S", 
       TemplateBox[{",", "\",\"", "3"},
        "RowWithSeparators"]],
      $CellContext`S[3, Q3`$]]}], "}"}], ",", 
   InterpretationBox[
    TagBox[
     RowBox[{"Exp", 
      RowBox[{"(", 
       RowBox[{
        RowBox[{"-", 
         FractionBox["1", "2"]}], " ", "\[ImaginaryI]", " ", "\[Phi]", " ", 
        InterpretationBox[
         TemplateBox[{"T", 
           
           TemplateBox[{"\[ThinSpace]", "\"\[ThinSpace]\"", "\"Y\""}, 
            "RowWithSeparators"]},
          "Superscript"],
         $CellContext`T[2]]}], ")"}]}],
     DisplayForm],
    Q3`Rotation[$CellContext`\[Phi], {0, 1, 0}, 
     $CellContext`T[Q3`$]]]}], "]"}]], "Output",
 CellLabel->"Out[4]=",
 CellID->349848370,ExpressionUUID->"202453f0-3e91-4e98-8d54-b37718a35f7f"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"QuantumCircuit", "[", "cop", "]"}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[5]:=",
 CellID->1868568862,ExpressionUUID->"051b004e-34b0-4ecd-9c10-0d095d3e49c3"],

Cell[BoxData[
 InterpretationBox[
  GraphicsBox[{
    {Dashing[{Small, Small}], LineBox[{}]}, 
    LineBox[{{{0, -1}, {2, -1}}, {{0, -2}, {2, -2}}, {{0, -3}, {2, -3}}, {{
     0, -4}, {2, -4}}}], {LineBox[{{1, -1}, {1, -2}, {1, -3}, {1, -4}}], 
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{0.6, -3.4}, {1.4, -0.6},
       RoundingRadius->0.4]}, InsetBox[
      StyleBox["\<\"x\"\>",
       StripOnInput->False,
       FontSize->Scaled[0.2],
       FontWeight->"Light",
       FontSlant->Italic], {1., -2.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}], 
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{0.6, -4.4}, {1.4, -3.6}]}, InsetBox[
      StyleBox[
       TemplateBox[{"\"R\"", "\"y\"", "\"x\""},
        "Subsuperscript"],
       StripOnInput->False,
       FontSize->Scaled[0.2],
       FontWeight->"Light",
       FontSlant->Italic], {1., -4.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}},
   AxesStyle->Large,
   FrameStyle->Large,
   ImagePadding->{{25.56, 25.56}, {7.2, 7.2}},
   ImageSize->118.8,
   PlotRange->{{0, 2}, {-4.5, -0.5}},
   PlotRangePadding->Scaled[0.025]],
  Q3`QuantumCircuit[
   Q3`ControlledPower[{
     $CellContext`S[1, Q3`$], 
     $CellContext`S[2, Q3`$], 
     $CellContext`S[3, Q3`$]}, 
    Q3`Rotation[$CellContext`\[Phi], {0, 1, 0}, 
     $CellContext`T[Q3`$]]]]]], "Output",
 CellLabel->"Out[5]=",
 CellID->1284303497,ExpressionUUID->"689d8f1a-e9b1-4891-a849-1a4892836ee5"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"ucr", "=", 
  RowBox[{"UniformlyControlledRotation", "[", 
   RowBox[{"SS", ",", 
    RowBox[{"xx", "*", "\[Phi]"}], ",", 
    RowBox[{"T", "[", "2", "]"}]}], "]"}]}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[6]:=",
 CellID->1493921650,ExpressionUUID->"d79b9e09-14db-4d75-b4f7-55bc1ee94c32"],

Cell[BoxData[
 RowBox[{"UniformlyControlledRotation", "[", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{
     InterpretationBox[
      SubscriptBox["S", 
       TemplateBox[{",", "\",\"", "1"},
        "RowWithSeparators"]],
      $CellContext`S[1, Q3`$]], ",", 
     InterpretationBox[
      SubscriptBox["S", 
       TemplateBox[{",", "\",\"", "2"},
        "RowWithSeparators"]],
      $CellContext`S[2, Q3`$]], ",", 
     InterpretationBox[
      SubscriptBox["S", 
       TemplateBox[{",", "\",\"", "3"},
        "RowWithSeparators"]],
      $CellContext`S[3, Q3`$]]}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"0", ",", "\[Phi]", ",", 
     RowBox[{"2", " ", "\[Phi]"}], ",", 
     RowBox[{"3", " ", "\[Phi]"}], ",", 
     RowBox[{"4", " ", "\[Phi]"}], ",", 
     RowBox[{"5", " ", "\[Phi]"}], ",", 
     RowBox[{"6", " ", "\[Phi]"}], ",", 
     RowBox[{"7", " ", "\[Phi]"}]}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"0", ",", "1", ",", "0"}], "}"}], ",", 
   InterpretationBox["T",
    $CellContext`T[Q3`$]]}], "]"}]], "Output",
 CellLabel->"Out[6]=",
 CellID->1107011128,ExpressionUUID->"0afbaa1b-f84b-453a-944b-f48f8823f703"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{"QuantumCircuit", "[", "ucr", "]"}], "\[IndentingNewLine]", 
 RowBox[{"QuantumCircuit", "[", 
  RowBox[{"Expand", "@", "ucr"}], "]"}], "\[IndentingNewLine]", 
 RowBox[{"QuantumCircuit", "[", 
  RowBox[{"ExpandAll", "@", "ucr"}], "]"}]}], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[7]:=",
 CellID->1489404584,ExpressionUUID->"56d3004b-7c3e-4677-bd4d-7daf74ae411a"],

Cell[BoxData[
 InterpretationBox[
  GraphicsBox[{
    {Dashing[{Small, Small}], LineBox[{}]}, 
    LineBox[{{{0, -1}, {2, -1}}, {{0, -2}, {2, -2}}, {{0, -3}, {2, -3}}, {{
     0, -4}, {2, -4}}}], {LineBox[{{1, -1}, {1, -2}, {1, -3}, {1, -4}}], 
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      DiskBox[{1, -1}, 0.09, 
       NCache[{Rational[1, 4] Pi, Rational[5, 4] Pi}, {0.7853981633974483, 
        3.9269908169872414`}]], 
      {GrayLevel[0], 
       DiskBox[{1, -1}, 0.09, 
        NCache[{Rational[-3, 4] Pi, Rational[1, 4] Pi}, {-2.356194490192345, 
         0.7853981633974483}]]}}, 
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      DiskBox[{1, -2}, 0.09, 
       NCache[{Rational[1, 4] Pi, Rational[5, 4] Pi}, {0.7853981633974483, 
        3.9269908169872414`}]], 
      {GrayLevel[0], 
       DiskBox[{1, -2}, 0.09, 
        NCache[{Rational[-3, 4] Pi, Rational[1, 4] Pi}, {-2.356194490192345, 
         0.7853981633974483}]]}}, 
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      DiskBox[{1, -3}, 0.09, 
       NCache[{Rational[1, 4] Pi, Rational[5, 4] Pi}, {0.7853981633974483, 
        3.9269908169872414`}]], 
      {GrayLevel[0], 
       DiskBox[{1, -3}, 0.09, 
        NCache[{Rational[-3, 4] Pi, Rational[1, 4] Pi}, {-2.356194490192345, 
         0.7853981633974483}]]}}, 
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{0.6, -4.4}, {1.4, -3.6}]}, InsetBox[
      StyleBox[
       SubscriptBox["\<\"R\"\>", "\<\"y\"\>"],
       StripOnInput->False,
       FontSize->Scaled[0.2],
       FontWeight->"Light",
       FontSlant->Italic], {1., -4.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}},
   AxesStyle->Large,
   FrameStyle->Large,
   ImagePadding->{{25.56, 25.56}, {7.2, 7.2}},
   ImageSize->118.8,
   PlotRange->{{0, 2}, {-4.5, -0.5}},
   PlotRangePadding->Scaled[0.025]],
  Q3`QuantumCircuit[
   Q3`UniformlyControlledRotation[{
     $CellContext`S[1, Q3`$], 
     $CellContext`S[2, Q3`$], 
     $CellContext`S[3, Q3`$]}, {
    0, $CellContext`\[Phi], 2 $CellContext`\[Phi], 3 $CellContext`\[Phi], 
     4 $CellContext`\[Phi], 5 $CellContext`\[Phi], 6 $CellContext`\[Phi], 
     7 $CellContext`\[Phi]}, {0, 1, 0}, 
    $CellContext`T[Q3`$]]]]], "Output",
 CellLabel->"Out[7]=",
 CellID->964411820,ExpressionUUID->"ebb7bb18-ca1f-45dc-93f4-be7c550056f5"],

Cell[BoxData[
 InterpretationBox[
  GraphicsBox[{
    {Dashing[{Small, Small}], LineBox[{}]}, 
    LineBox[{{{0, -1}, {9, -1}}, {{0, -2}, {9, -2}}, {{0, -3}, {9, -3}}, {{
     0, -4}, {9, -4}}}], {LineBox[{{1, -1}, {1, -2}, {1, -3}, {1, -4}}], 
     {GrayLevel[1], EdgeForm[Opacity[1]], DiskBox[{1, -1}, 0.09]}, 
     {GrayLevel[1], EdgeForm[Opacity[1]], DiskBox[{1, -2}, 0.09]}, 
     {GrayLevel[1], EdgeForm[Opacity[1]], DiskBox[{1, -3}, 0.09]}, 
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{0.6, -4.4}, {1.4, -3.6}]}, InsetBox[
      StyleBox[
       SubscriptBox["\<\"R\"\>", "\<\"y\"\>"],
       StripOnInput->False,
       FontSize->Scaled[0.044444444444444446`],
       FontWeight->"Light",
       FontSlant->Italic], {1., -4.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {LineBox[{{2, -1}, {2, -2}, {2, -3}, {2, -4}}], 
     {GrayLevel[1], EdgeForm[Opacity[1]], DiskBox[{2, -1}, 0.09]}, 
     {GrayLevel[1], EdgeForm[Opacity[1]], DiskBox[{2, -2}, 0.09]}, 
     DiskBox[{2, -3}, 0.09], 
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{1.6, -4.4}, {2.4, -3.6}]}, InsetBox[
      StyleBox[
       SubscriptBox["\<\"R\"\>", "\<\"y\"\>"],
       StripOnInput->False,
       FontSize->Scaled[0.044444444444444446`],
       FontWeight->"Light",
       FontSlant->Italic], {2., -4.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {LineBox[{{3, -1}, {3, -2}, {3, -3}, {3, -4}}], 
     {GrayLevel[1], EdgeForm[Opacity[1]], DiskBox[{3, -1}, 0.09]}, 
     DiskBox[{3, -2}, 0.09], 
     {GrayLevel[1], EdgeForm[Opacity[1]], DiskBox[{3, -3}, 0.09]}, 
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{2.6, -4.4}, {3.4, -3.6}]}, InsetBox[
      StyleBox[
       SubscriptBox["\<\"R\"\>", "\<\"y\"\>"],
       StripOnInput->False,
       FontSize->Scaled[0.044444444444444446`],
       FontWeight->"Light",
       FontSlant->Italic], {3., -4.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {LineBox[{{4, -1}, {4, -2}, {4, -3}, {4, -4}}], 
     {GrayLevel[1], EdgeForm[Opacity[1]], DiskBox[{4, -1}, 0.09]}, 
     DiskBox[{4, -2}, 0.09], DiskBox[{4, -3}, 0.09], 
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{3.6, -4.4}, {4.4, -3.6}]}, InsetBox[
      StyleBox[
       SubscriptBox["\<\"R\"\>", "\<\"y\"\>"],
       StripOnInput->False,
       FontSize->Scaled[0.044444444444444446`],
       FontWeight->"Light",
       FontSlant->Italic], {4., -4.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {LineBox[{{5, -1}, {5, -2}, {5, -3}, {5, -4}}], 
     DiskBox[{5, -1}, 0.09], 
     {GrayLevel[1], EdgeForm[Opacity[1]], DiskBox[{5, -2}, 0.09]}, 
     {GrayLevel[1], EdgeForm[Opacity[1]], DiskBox[{5, -3}, 0.09]}, 
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{4.6, -4.4}, {5.4, -3.6}]}, InsetBox[
      StyleBox[
       SubscriptBox["\<\"R\"\>", "\<\"y\"\>"],
       StripOnInput->False,
       FontSize->Scaled[0.044444444444444446`],
       FontWeight->"Light",
       FontSlant->Italic], {5., -4.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {LineBox[{{6, -1}, {6, -2}, {6, -3}, {6, -4}}], 
     DiskBox[{6, -1}, 0.09], 
     {GrayLevel[1], EdgeForm[Opacity[1]], DiskBox[{6, -2}, 0.09]}, 
     DiskBox[{6, -3}, 0.09], 
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{5.6, -4.4}, {6.4, -3.6}]}, InsetBox[
      StyleBox[
       SubscriptBox["\<\"R\"\>", "\<\"y\"\>"],
       StripOnInput->False,
       FontSize->Scaled[0.044444444444444446`],
       FontWeight->"Light",
       FontSlant->Italic], {6., -4.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {LineBox[{{7, -1}, {7, -2}, {7, -3}, {7, -4}}], 
     DiskBox[{7, -1}, 0.09], DiskBox[{7, -2}, 0.09], 
     {GrayLevel[1], EdgeForm[Opacity[1]], DiskBox[{7, -3}, 0.09]}, 
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{6.6, -4.4}, {7.4, -3.6}]}, InsetBox[
      StyleBox[
       SubscriptBox["\<\"R\"\>", "\<\"y\"\>"],
       StripOnInput->False,
       FontSize->Scaled[0.044444444444444446`],
       FontWeight->"Light",
       FontSlant->Italic], {7., -4.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {LineBox[{{8, -1}, {8, -2}, {8, -3}, {8, -4}}], 
     DiskBox[{8, -1}, 0.09], DiskBox[{8, -2}, 0.09], DiskBox[{8, -3}, 0.09], 
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{7.6, -4.4}, {8.4, -3.6}]}, InsetBox[
      StyleBox[
       SubscriptBox["\<\"R\"\>", "\<\"y\"\>"],
       StripOnInput->False,
       FontSize->Scaled[0.044444444444444446`],
       FontWeight->"Light",
       FontSlant->Italic], {8., -4.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}},
   AxesStyle->Large,
   FrameStyle->Large,
   ImagePadding->{{25.56, 25.56}, {7.2, 7.2}},
   ImageSize->370.8,
   PlotRange->{{0, 9}, {-4.5, -0.5}},
   PlotRangePadding->Scaled[0.025]],
  Q3`QuantumCircuit[
   Q3`ControlledGate[{$CellContext`S[1, Q3`$] -> 0, $CellContext`S[2, Q3`$] -> 
     0, $CellContext`S[3, Q3`$] -> 0}, 
    Q3`Rotation[0, {0, 1, 0}, 
     $CellContext`T[Q3`$]]], 
   Q3`ControlledGate[{$CellContext`S[1, Q3`$] -> 0, $CellContext`S[2, Q3`$] -> 
     0, $CellContext`S[3, Q3`$] -> 1}, 
    Q3`Rotation[$CellContext`\[Phi], {0, 1, 0}, 
     $CellContext`T[Q3`$]]], 
   Q3`ControlledGate[{$CellContext`S[1, Q3`$] -> 0, $CellContext`S[2, Q3`$] -> 
     1, $CellContext`S[3, Q3`$] -> 0}, 
    Q3`Rotation[2 $CellContext`\[Phi], {0, 1, 0}, 
     $CellContext`T[Q3`$]]], 
   Q3`ControlledGate[{$CellContext`S[1, Q3`$] -> 0, $CellContext`S[2, Q3`$] -> 
     1, $CellContext`S[3, Q3`$] -> 1}, 
    Q3`Rotation[3 $CellContext`\[Phi], {0, 1, 0}, 
     $CellContext`T[Q3`$]]], 
   Q3`ControlledGate[{$CellContext`S[1, Q3`$] -> 1, $CellContext`S[2, Q3`$] -> 
     0, $CellContext`S[3, Q3`$] -> 0}, 
    Q3`Rotation[4 $CellContext`\[Phi], {0, 1, 0}, 
     $CellContext`T[Q3`$]]], 
   Q3`ControlledGate[{$CellContext`S[1, Q3`$] -> 1, $CellContext`S[2, Q3`$] -> 
     0, $CellContext`S[3, Q3`$] -> 1}, 
    Q3`Rotation[5 $CellContext`\[Phi], {0, 1, 0}, 
     $CellContext`T[Q3`$]]], 
   Q3`ControlledGate[{$CellContext`S[1, Q3`$] -> 1, $CellContext`S[2, Q3`$] -> 
     1, $CellContext`S[3, Q3`$] -> 0}, 
    Q3`Rotation[6 $CellContext`\[Phi], {0, 1, 0}, 
     $CellContext`T[Q3`$]]], 
   Q3`ControlledGate[{$CellContext`S[1, Q3`$] -> 1, $CellContext`S[2, Q3`$] -> 
     1, $CellContext`S[3, Q3`$] -> 1}, 
    Q3`Rotation[7 $CellContext`\[Phi], {0, 1, 0}, 
     $CellContext`T[Q3`$]]]]]], "Output",
 CellLabel->"Out[7]=",
 CellID->1810374831,ExpressionUUID->"84539524-5ade-4707-a738-eb476d2ebbc9"],

Cell[BoxData[
 InterpretationBox[
  GraphicsBox[{
    {Dashing[{Small, Small}], LineBox[{}]}, 
    LineBox[{{{0, -1}, {17, -1}}, {{0, -2}, {17, -2}}, {{0, -3}, {17, -3}}, {{
     0, -4}, {17, -4}}}], {
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{0.6, -4.4}, {1.4, -3.6}]}, InsetBox[
      StyleBox[
       SubscriptBox["\<\"R\"\>", "\<\"y\"\>"],
       StripOnInput->False,
       FontSize->Scaled[0.023529411764705882`],
       FontWeight->"Light",
       FontSlant->Italic], {1., -4.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {LineBox[{{2, -3}, {2, -4}}], 
     DiskBox[{2, -3}, 0.09], {CircleBox[{2, -4}, 0.26666666666666666], 
      LineBox[{{{1.7333333333333334`, -4}, {2.2666666666666666`, -4}}, {{
         2, -4.266666666666667}, {2, -3.7333333333333334`}}}]}}, {
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{2.6, -4.4}, {3.4, -3.6}]}, InsetBox[
      StyleBox[
       SubscriptBox["\<\"R\"\>", "\<\"y\"\>"],
       StripOnInput->False,
       FontSize->Scaled[0.023529411764705882`],
       FontWeight->"Light",
       FontSlant->Italic], {3., -4.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {LineBox[{{4, -2}, {4, -4}}], 
     DiskBox[{4, -2}, 0.09], {CircleBox[{4, -4}, 0.26666666666666666], 
      LineBox[{{{3.7333333333333334`, -4}, {4.266666666666667, -4}}, {{
         4, -4.266666666666667}, {4, -3.7333333333333334`}}}]}}, {
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{4.6, -4.4}, {5.4, -3.6}]}, InsetBox[
      StyleBox[
       SubscriptBox["\<\"R\"\>", "\<\"y\"\>"],
       StripOnInput->False,
       FontSize->Scaled[0.023529411764705882`],
       FontWeight->"Light",
       FontSlant->Italic], {5., -4.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {LineBox[{{6, -3}, {6, -4}}], 
     DiskBox[{6, -3}, 0.09], {CircleBox[{6, -4}, 0.26666666666666666], 
      LineBox[{{{5.733333333333333, -4}, {6.266666666666667, -4}}, {{
         6, -4.266666666666667}, {6, -3.7333333333333334`}}}]}}, {
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{6.6, -4.4}, {7.4, -3.6}]}, InsetBox[
      StyleBox[
       SubscriptBox["\<\"R\"\>", "\<\"y\"\>"],
       StripOnInput->False,
       FontSize->Scaled[0.023529411764705882`],
       FontWeight->"Light",
       FontSlant->Italic], {7., -4.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {LineBox[{{8, -1}, {8, -4}}], 
     DiskBox[{8, -1}, 0.09], {CircleBox[{8, -4}, 0.26666666666666666], 
      LineBox[{{{7.733333333333333, -4}, {8.266666666666667, -4}}, {{
         8, -4.266666666666667}, {8, -3.7333333333333334`}}}]}}, {
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{8.6, -4.4}, {9.4, -3.6}]}, InsetBox[
      StyleBox[
       SubscriptBox["\<\"R\"\>", "\<\"y\"\>"],
       StripOnInput->False,
       FontSize->Scaled[0.023529411764705882`],
       FontWeight->"Light",
       FontSlant->Italic], {9., -4.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {LineBox[{{10, -3}, {10, -4}}], 
     DiskBox[{10, -3}, 0.09], {CircleBox[{10, -4}, 0.26666666666666666], 
      LineBox[{{{9.733333333333333, -4}, {10.266666666666667`, -4}}, {{
         10, -4.266666666666667}, {10, -3.7333333333333334`}}}]}}, {
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{10.6, -4.4}, {11.4, -3.6}]}, InsetBox[
      StyleBox[
       SubscriptBox["\<\"R\"\>", "\<\"y\"\>"],
       StripOnInput->False,
       FontSize->Scaled[0.023529411764705882`],
       FontWeight->"Light",
       FontSlant->Italic], {11., -4.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {LineBox[{{12, -2}, {12, -4}}], 
     DiskBox[{12, -2}, 0.09], {CircleBox[{12, -4}, 0.26666666666666666], 
      LineBox[{{{11.733333333333333`, -4}, {12.266666666666667`, -4}}, {{
         12, -4.266666666666667}, {12, -3.7333333333333334`}}}]}}, {
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{12.6, -4.4}, {13.4, -3.6}]}, InsetBox[
      StyleBox[
       SubscriptBox["\<\"R\"\>", "\<\"y\"\>"],
       StripOnInput->False,
       FontSize->Scaled[0.023529411764705882`],
       FontWeight->"Light",
       FontSlant->Italic], {13., -4.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {LineBox[{{14, -3}, {14, -4}}], 
     DiskBox[{14, -3}, 0.09], {CircleBox[{14, -4}, 0.26666666666666666], 
      LineBox[{{{13.733333333333333`, -4}, {14.266666666666667`, -4}}, {{
         14, -4.266666666666667}, {14, -3.7333333333333334`}}}]}}, {
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{14.6, -4.4}, {15.4, -3.6}]}, InsetBox[
      StyleBox[
       SubscriptBox["\<\"R\"\>", "\<\"y\"\>"],
       StripOnInput->False,
       FontSize->Scaled[0.023529411764705882`],
       FontWeight->"Light",
       FontSlant->Italic], {15., -4.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {LineBox[{{16, -1}, {16, -4}}], 
     DiskBox[{16, -1}, 0.09], {CircleBox[{16, -4}, 0.26666666666666666], 
      LineBox[{{{15.733333333333333`, -4}, {16.266666666666666`, -4}}, {{
         16, -4.266666666666667}, {16, -3.7333333333333334`}}}]}}},
   AxesStyle->Large,
   FrameStyle->Large,
   ImagePadding->{{25.56, 25.56}, {7.2, 7.2}},
   ImageSize->658.8000000000001,
   PlotRange->{{0, 17}, {-4.5, -0.5}},
   PlotRangePadding->Scaled[0.025]],
  Q3`QuantumCircuit[
   Q3`Rotation[Rational[7, 2] $CellContext`\[Phi], {0, 1, 0}, 
    $CellContext`T[Q3`$]], 
   Q3`CNOT[{$CellContext`S[3, Q3`$] -> 1}, {
     $CellContext`T[Q3`$]}], 
   Q3`Rotation[Rational[-1, 2] $CellContext`\[Phi], {0, 1, 0}, 
    $CellContext`T[Q3`$]], 
   Q3`CNOT[{$CellContext`S[2, Q3`$] -> 1}, {
     $CellContext`T[Q3`$]}], 
   Q3`Rotation[0, {0, 1, 0}, 
    $CellContext`T[Q3`$]], 
   Q3`CNOT[{$CellContext`S[3, Q3`$] -> 1}, {
     $CellContext`T[Q3`$]}], 
   Q3`Rotation[-$CellContext`\[Phi], {0, 1, 0}, 
    $CellContext`T[Q3`$]], 
   Q3`CNOT[{$CellContext`S[1, Q3`$] -> 1}, {
     $CellContext`T[Q3`$]}], 
   Q3`Rotation[0, {0, 1, 0}, 
    $CellContext`T[Q3`$]], 
   Q3`CNOT[{$CellContext`S[3, Q3`$] -> 1}, {
     $CellContext`T[Q3`$]}], 
   Q3`Rotation[0, {0, 1, 0}, 
    $CellContext`T[Q3`$]], 
   Q3`CNOT[{$CellContext`S[2, Q3`$] -> 1}, {
     $CellContext`T[Q3`$]}], 
   Q3`Rotation[0, {0, 1, 0}, 
    $CellContext`T[Q3`$]], 
   Q3`CNOT[{$CellContext`S[3, Q3`$] -> 1}, {
     $CellContext`T[Q3`$]}], 
   Q3`Rotation[(-2) $CellContext`\[Phi], {0, 1, 0}, 
    $CellContext`T[Q3`$]], 
   Q3`CNOT[{$CellContext`S[1, Q3`$] -> 1}, {
     $CellContext`T[Q3`$]}]]]], "Output",
 CellLabel->"Out[7]=",
 CellID->1421473921,ExpressionUUID->"4ab882e4-ba5f-489c-aa2e-0361d02ce982"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"qc", "=", 
   RowBox[{"QuantumCircuit", "[", 
    RowBox[{"ExpandAll", "@", "ucr"}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{"Cases", "[", 
  RowBox[{"qc", ",", 
   RowBox[{
    RowBox[{"Rotation", "[", 
     RowBox[{"ang_", ",", "___"}], "]"}], "->", "ang"}], ",", "Infinity"}], 
  "]"}]}], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[8]:=",
 CellID->1274612506,ExpressionUUID->"e90064ab-bd4a-405e-a800-33581c934490"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   FractionBox[
    RowBox[{"7", " ", "\[Phi]"}], "2"], ",", 
   RowBox[{"-", 
    FractionBox["\[Phi]", "2"]}], ",", "0", ",", 
   RowBox[{"-", "\[Phi]"}], ",", "0", ",", "0", ",", "0", ",", 
   RowBox[{
    RowBox[{"-", "2"}], " ", "\[Phi]"}]}], "}"}]], "Output",
 CellLabel->"Out[8]=",
 CellID->2028543279,ExpressionUUID->"ed2c0cda-a9c8-4eaf-be5a-8fe5f505a318"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"Block", "[", "\[IndentingNewLine]", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{"\[Phi]", "=", 
     RowBox[{"0.3", "*", "Pi"}]}], "}"}], ",", "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"mat", "=", 
     RowBox[{"Matrix", "[", 
      RowBox[{"cop", ",", "ST"}], "]"}]}], ";", "\[IndentingNewLine]", 
    RowBox[{"new", "=", 
     RowBox[{"Matrix", "[", 
      RowBox[{"ucr", ",", "ST"}], "]"}]}], ";", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{
      RowBox[{"mat", "-", "new"}], "//", "ChopThrough"}], "//", 
     "MatrixForm"}]}]}], "\[IndentingNewLine]", "]"}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[9]:=",
 CellID->1045178272,ExpressionUUID->"eb5c34a6-0b2a-4d40-9aaf-34fc29cfb5f4"],

Cell[BoxData[
 TagBox[
  RowBox[{"(", "\[NoBreak]", GridBox[{
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"}
    },
    GridBoxAlignment->{"Columns" -> {{Center}}, "Rows" -> {{Baseline}}},
    GridBoxSpacings->{"Columns" -> {
        Offset[0.27999999999999997`], {
         Offset[0.7]}, 
        Offset[0.27999999999999997`]}, "Rows" -> {
        Offset[0.2], {
         Offset[0.4]}, 
        Offset[0.2]}}], "\[NoBreak]", ")"}],
  Function[BoxForm`e$, 
   MatrixForm[
   SparseArray[
    Automatic, {16, 16}, 0, {
     1, {{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
       0}, {}}, {}}]]]]], "Output",
 CellLabel->"Out[9]//MatrixForm=",
 CellID->1554462964,ExpressionUUID->"3822de62-eadd-4091-9147-1b2bd04cb2a0"]
}, Open  ]]
}, Dynamic[CurrentValue[
 EvaluationNotebook[], {TaggingRules, "Openers", "ExampleSubsection", "2"}, 
  Closed]]]]
}, Dynamic[CurrentValue[
 EvaluationNotebook[], {TaggingRules, "Openers", "ExampleSection", "1"}, 
  Closed]]]]
}, Dynamic[CurrentValue[
 EvaluationNotebook[], {TaggingRules, "Openers", "PrimaryExamplesSection"}, 
  Closed]]]],

Cell[BoxData[GridBox[{
   {
    DynamicBox[FEPrivate`ImportImage[
      FrontEnd`FileName[{"Documentation", "FooterIcons"}, 
       "RelatedFunction.png"]],
     ImageSizeCache->{50., {27., 33.}}], GridBox[{
      {
       StyleBox[
        RowBox[{"See", " ", "Also"}], "SeeAlsoSection"]},
      {Cell[TextData[{
        Cell[BoxData[
         TemplateBox[{
           Cell[
            TextData["ControlledGate"]], "paclet:Q3/ref/ControlledGate", 
           "Q3 Package Symbol"},
          "PackageLink",
          BaseStyle->"InlineFormula"]], "InlineFormula",
         FontFamily->"Source Sans Pro",ExpressionUUID->
         "ef279ca7-12c8-49b5-bd04-2990db5d98c6"],
        "\[NonBreakingSpace]",
        StyleBox[
        "\[MediumSpace]\[FilledVerySmallSquare]\[MediumSpace]", 
         "InlineSeparator"],
        " ",
        Cell[BoxData[
         TemplateBox[{
           Cell[
            TextData["ControlledPower"]], "paclet:Q3/ref/ControlledPower", 
           "Q3 Package Symbol"},
          "PackageLink",
          BaseStyle->"InlineFormula"]], "InlineFormula",
         FontFamily->"Source Sans Pro",ExpressionUUID->
         "caa5e16c-7c58-4dfd-826d-642ca648e2d9"],
        "\[NonBreakingSpace]",
        StyleBox[
        "\[MediumSpace]\[FilledVerySmallSquare]\[MediumSpace]", 
         "InlineSeparator"],
        " ",
        Cell[BoxData[
         TemplateBox[{
           Cell[
            TextData["CNOT"]], "paclet:Q3/ref/CNOT", "Q3 Package Symbol"},
          "PackageLink",
          BaseStyle->"InlineFormula"]], "InlineFormula",
         FontFamily->"Source Sans Pro",ExpressionUUID->
         "ade041b7-e771-4cf2-9fd6-a3b2e39f4dcc"],
        "\[NonBreakingSpace]",
        StyleBox[
        "\[MediumSpace]\[FilledVerySmallSquare]\[MediumSpace]", 
         "InlineSeparator"],
        " ",
        Cell[BoxData[
         TemplateBox[{
           Cell[
            TextData["CZ"]], "paclet:Q3/ref/CZ", "Q3 Package Symbol"},
          "PackageLink",
          BaseStyle->"InlineFormula"]], "InlineFormula",
         FontFamily->"Source Sans Pro",ExpressionUUID->
         "01af80be-ef76-4e64-96a5-68e7b0ab16e8"],
        "\[NonBreakingSpace]",
        StyleBox[
        "\[MediumSpace]\[FilledVerySmallSquare]\[MediumSpace]", 
         "InlineSeparator"],
        " ",
        Cell[BoxData[
         TemplateBox[{
           Cell[
            TextData["AmplitudeEmbeddingGate"]], 
           "paclet:Q3/ref/AmplitudeEmbeddingGate", "Q3 Package Symbol"},
          "PackageLink",
          BaseStyle->"InlineFormula"]], "InlineFormula",
         FontFamily->"Source Sans Pro",ExpressionUUID->
         "c24225b1-4a4b-467f-a18f-da88c9f78817"],
        "\[NonBreakingSpace]",
        StyleBox[
        "\[MediumSpace]\[FilledVerySmallSquare]\[MediumSpace]", 
         "InlineSeparator"],
        " ",
        Cell[BoxData[
         TemplateBox[{
           Cell[
            TextData["UniformlyControlledGate"]], 
           "paclet:Q3/ref/UniformlyControlledGate", "Q3 Package Symbol"},
          "PackageLink",
          BaseStyle->"InlineFormula"]], "InlineFormula",
         FontFamily->"Source Sans Pro",ExpressionUUID->
         "f4dab0f8-a82d-4cda-8dbf-51ccf75aa946"]
       }], "SeeAlso",ExpressionUUID->"84ee5976-e0ac-4130-a0c5-d1b970535139"]}
     }]}
  }]], "SeeAlsoSection",ExpressionUUID->"e1a5d3a4-1e3f-4b65-992e-\
4245c6b68b41"],

Cell[BoxData[GridBox[{
   {
    DynamicBox[FEPrivate`ImportImage[
      FrontEnd`FileName[{"Documentation", "FooterIcons"}, 
       "RelatedTechNote.png"]],
     ImageSizeCache->{50., {27., 33.}}], GridBox[{
      {
       StyleBox[
        RowBox[{"Tech", " ", "Notes"}], "TechNotesSection"]},
      {
       RowBox[{"\[FilledVerySmallSquare]", Cell[BoxData[
         TemplateBox[{
           Cell[
            TextData["Multi-Control Unitary Gates"]], 
           "paclet:Q3/tutorial/MultiControlUnitaryGates"},
          "RefLinkPlain",
          BaseStyle->{"Tutorials"}]], "Tutorials",ExpressionUUID->
         "d0abd5fb-d436-4cb5-8a06-ac85ae3e2c8a"]}]},
      {
       RowBox[{"\[FilledVerySmallSquare]", Cell[BoxData[
         TemplateBox[{
           Cell[
            TextData["Quantum Information Systems with Q3"]], 
           "paclet:Q3/tutorial/QuantumInformationSystems"},
          "RefLinkPlain",
          BaseStyle->{"Tutorials"}]], "Tutorials",ExpressionUUID->
         "ac2d7129-480d-4593-bfad-2defc4bc14f1"]}]},
      {
       RowBox[{"\[FilledVerySmallSquare]", Cell[BoxData[
         TemplateBox[{
           Cell[
            TextData["Quick Quantum Computing with Q3"]], 
           "paclet:Q3/tutorial/QuickQuantumComputingWithQ3"},
          "RefLinkPlain",
          BaseStyle->{"Tutorials"}]], "Tutorials",ExpressionUUID->
         "8cc2775e-16e3-41dc-8fff-db358cdf8475"]}]},
      {
       RowBox[{"\[FilledVerySmallSquare]", Cell[BoxData[
         TemplateBox[{
           Cell[
            TextData["Q3: Quick Start"]], "paclet:Q3/tutorial/Q3QuickStart"},
          "RefLinkPlain",
          BaseStyle->{"Tutorials"}]], "Tutorials",ExpressionUUID->
         "64ad8782-b117-490e-961e-438285dacbf3"]}]}
     }]}
  }]], "TechNotesSection",ExpressionUUID->"5930df3f-8da2-4af2-92df-\
d215b0f89123"],

Cell[BoxData[GridBox[{
   {
    DynamicBox[FEPrivate`ImportImage[
      FrontEnd`FileName[{"Documentation", "FooterIcons"}, "RelatedGuide.png"]],
     ImageSizeCache->{50., {27., 33.}}], GridBox[{
      {
       StyleBox[
        RowBox[{"Related", " ", "Guides"}], "MoreAboutSection"]},
      {
       RowBox[{"\[FilledVerySmallSquare]", Cell[BoxData[
         TemplateBox[{
           Cell[
            TextData["Quantum Information Systems"]], 
           "paclet:Q3/guide/QuantumInformationSystems"},
          "RefLinkPlain",
          BaseStyle->{"MoreAbout"}]], "MoreAbout",ExpressionUUID->
         "5edc1644-e82c-4026-a798-79e1581351f4"]}]},
      {
       RowBox[{"\[FilledVerySmallSquare]", Cell[BoxData[
         TemplateBox[{
           Cell[
            TextData["Q3"]], "paclet:Q3/guide/Q3"},
          "RefLinkPlain",
          BaseStyle->{"MoreAbout"}]], "MoreAbout",ExpressionUUID->
         "f67da910-7f3f-45a1-8b44-6cea1089b6f6"]}]}
     }]}
  }]], "MoreAboutSection",ExpressionUUID->"4524bf4d-a7ae-42f4-a139-\
f56afd374050"],

Cell[BoxData[GridBox[{
   {
    TemplateBox[{29},
     "Spacer1"], GridBox[{
      {
       RowBox[{
        TemplateBox[{17},
         "Spacer1"], 
        StyleBox[
         RowBox[{"Related", " ", "Links"}], "RelatedLinksSection"]}]},
      {Cell[TextData[{
        Cell[BoxData[
         RowBox[{
          TemplateBox[{16},
           "Spacer1"], "\[FilledVerySmallSquare]", Cell[BoxData[
           TemplateBox[{
             Cell[
              TextData[
               Cell[
                TextData[{
                  Cell[
                   BoxData[
                    TemplateBox[{2}, "Spacer1"]]], 
                  "M. M\[ODoubleDot]tt\[ODoubleDot]nen "}]]]], 
             "https://doi.org/10.1103/PhysRevLett.93.130502"},
            "WebLink",
            BaseStyle->{"RelatedLinks"}]],ExpressionUUID->
           "17e3e333-92b5-4a45-b52b-f10ecceb9d76"]}]],ExpressionUUID->
         "d6192057-6fb9-4bb6-b065-92589ed156af"],
        Cell[BoxData[
         TemplateBox[{
           Cell[
            TextData[
             StyleBox[{
               StyleBox["et al", FontSlant -> "Italic"], 
               "., Physical Review Letters 93, 130502 (2004)"}]]], 
           "https://doi.org/10.1103/PhysRevLett.93.130502"},
          "WebLink",
          BaseStyle->{"RelatedLinks"}]],ExpressionUUID->
         "df0dc06d-4144-4566-b854-8b29b7922d9f"],
        ", \"Quantum Circuits for General Multiqubit Gates.\""
       }], "RelatedLinks",ExpressionUUID->
        "9b4af67d-a88b-48fb-a054-3ebcef29c4cc"]},
      {Cell[TextData[{
        Cell[BoxData[
         RowBox[{
          TemplateBox[{16},
           "Spacer1"], "\[FilledVerySmallSquare]", Cell[BoxData[
           TemplateBox[{
             Cell[
              TextData[
               Cell[
                TextData[{
                  Cell[
                   BoxData[
                    TemplateBox[{2}, "Spacer1"]]], 
                  "M. Nielsen and I. L. Chuang (2022)"}]]]], 
             "https://doi.org/10.1017/CBO9780511976667"},
            "WebLink",
            BaseStyle->{"RelatedLinks"}]],ExpressionUUID->
           "9cf2158d-2c2a-4be4-ace1-cfac7f5df985"]}]],ExpressionUUID->
         "e69eec6f-468e-43b7-8454-a80d1a500a01"],
        StyleBox[
        ", Quantum Computation and Quantum Information (Cambridge University \
Press).",
         FontSlant->"Plain"]
       }], "RelatedLinks",ExpressionUUID->
        "3bbac90c-d714-4a42-9434-0d6b5a365774"]},
      {Cell[TextData[{
        Cell[BoxData[
         RowBox[{
          TemplateBox[{16},
           "Spacer1"], "\[FilledVerySmallSquare]", Cell[BoxData[
           TemplateBox[{
             Cell[
              TextData[
               Cell[
                TextData[{
                  Cell[
                   BoxData[
                    TemplateBox[{2}, "Spacer1"]]], 
                  "Mahn-Soo Choi (2022)"}]]]], 
             "https://doi.org/10.1007/978-3-030-91214-7"},
            "WebLink",
            BaseStyle->{"RelatedLinks"}]],ExpressionUUID->
           "e8f3820d-d856-4214-8da2-043020c7ae66"]}]],ExpressionUUID->
         "ba50fe3d-8770-4263-925f-54f50687d4f8"],
        ", A Quantum Computation Workbook (Springer)."
       }], "RelatedLinks",ExpressionUUID->
        "e06ca67a-189b-4476-bf17-941cd388154f"]}
     }]}
  }]], "RelatedLinksSection",ExpressionUUID->"f3e814cc-2536-439e-a474-\
f09b863ac0e0"],

Cell[" ", "FooterCell",ExpressionUUID->"79d35b26-51a0-4af1-acc4-46f86d0c5dfd"]
},
Saveable->False,
ScreenStyleEnvironment->"Working",
WindowSize->{900, 830},
WindowMargins->{{0, Automatic}, {Automatic, 0}},
WindowTitle->"UniformlyControlledRotation",
TaggingRules->{
 "ModificationHighlight" -> False, "ColorType" -> "", "LinkTrails" -> "", 
  "ExampleCounter" -> 1, 
  "Openers" -> {
   "PrimaryExamplesSection" -> Open, 
    "ExampleSection" -> {"0" -> Open, "1" -> Closed}, "AllOptsTable" -> 
    Closed, "NotesSection" -> Closed, 
    "ExampleSubsection" -> {"0" -> Closed, "1" -> Closed, "2" -> Closed}}, 
  "NewStyles" -> True, "CitationPopupData" -> $Failed, "ShowCitation" -> 
  False, "HasOptions" -> True, "RootCaptions" -> "", 
  "HeaderCoreAreaLink" -> {}, 
  "Metadata" -> {
   "built" -> "{2024, 7, 23, 19, 4, 8.778614}", 
    "history" -> {"13.3", "14.0", "", ""}, "context" -> "Q3`", 
    "keywords" -> {
     "universal quantum computation", "quantum machine learning", 
      "variational quantum algorithms"}, "specialkeywords" -> {}, 
    "tutorialcollectionlinks" -> {}, "index" -> True, "label" -> "Q3 Symbol", 
    "language" -> "en", "paclet" -> "Q3", "status" -> "None", "summary" -> 
    "UniformlyControlledRotation[{c1, c2, ..., cn}, {\\[Theta]1, \\[Theta]2, \
..., \\[Theta]2^n}, {x, y, z}, s] represents the uniformly controlled \
rotation on qubit s around axis {x, y, z} by angles \\[Theta]1, \\[Theta]2, \
..., \\[Theta] 2 n depending on all possible bit sequences of control qubits \
c1, c2, ..., cn. UniformlyControlledRotation[{c1, c2, ..., cn}, {\\[Theta]1, \
\\[Theta]2, ..., \\[Theta]2^n}, s[..., k]] uses the k-axis as the rotation \
axis.", "synonyms" -> {}, "tabletags" -> {}, "title" -> 
    "UniformlyControlledRotation", "titlemodifier" -> "", "metadescription" -> 
    "", "windowtitle" -> "UniformlyControlledRotation", "type" -> "Symbol", 
    "uri" -> "Q3/ref/UniformlyControlledRotation"}},
CellContext->"Global`",
FrontEndVersion->"14.0 for Mac OS X ARM (64-bit) (December 12, 2023)",
StyleDefinitions->Notebook[{
   Cell[
    StyleData[
    StyleDefinitions -> FrontEnd`FileName[{"Wolfram"}, "Reference.nb"]]], 
   Cell[
    StyleData["Input"], CellContext -> "Global`"], 
   Cell[
    StyleData["Output"], CellContext -> "Global`"]}, Visible -> False, 
  FrontEndVersion -> "14.0 for Mac OS X ARM (64-bit) (December 12, 2023)", 
  StyleDefinitions -> "Default.nb"],
ExpressionUUID->"c6572e42-6891-4440-8280-fdfb7e256c2c"
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{
 "PrimaryExamplesSection"->{
  Cell[20960, 596, 1390, 37, 36, "PrimaryExamplesSection",ExpressionUUID->"af3c2d0b-7e3f-4ec8-8d1a-eee04636a36d",
   CellTags->"PrimaryExamplesSection",
   CellID->1400994236]}
 }
*)
(*CellTagsIndex
CellTagsIndex->{
 {"PrimaryExamplesSection", 170930, 4316}
 }
*)
(*NotebookFileOutline
Notebook[{
Cell[599, 21, 7599, 185, 57, "AnchorBarGrid",ExpressionUUID->"7b349a32-9026-449c-aab3-57d4356fa186",
 CellID->1],
Cell[8201, 208, 85, 0, 23, "ContextNameCell",ExpressionUUID->"b390e9cb-7833-4484-83e9-fece3c607c94"],
Cell[CellGroupData[{
Cell[8311, 212, 1190, 31, 60, "ObjectNameGrid",ExpressionUUID->"810eb626-778e-4fd7-a0b3-130adef6c762"],
Cell[9504, 245, 5052, 146, 214, "Usage",ExpressionUUID->"f0e31d49-56bb-40c1-9c4a-db9b3061f805",
 CellID->1604475725]
}, Open  ]],
Cell[CellGroupData[{
Cell[14593, 396, 1898, 47, 37, "NotesSection",ExpressionUUID->"3bc327d9-7fcf-48c8-b04e-ea11a52fdb0c",
 CellGroupingRules->{"SectionGrouping", 50},
 CellID->671148040],
Cell[16494, 445, 1576, 52, 70, "Notes",ExpressionUUID->"ae0bbd84-36cf-4df2-abb8-07b3d8ef73be",
 CellID->471354696],
Cell[18073, 499, 2332, 78, 70, "Notes",ExpressionUUID->"3b7a3b8a-d1fa-42ce-ae8e-f5f6de2d4b3e",
 CellID->1734206947],
Cell[20408, 579, 425, 11, 70, "Notes",ExpressionUUID->"67d2a3c7-cb3d-4ad3-9716-8f3879367beb",
 CellID->940907943]
}, Dynamic[CurrentValue[EvaluationNotebook[], {TaggingRules, "Openers", "NotesSection"}, Closed]]]],
Cell[CellGroupData[{
Cell[20960, 596, 1390, 37, 36, "PrimaryExamplesSection",ExpressionUUID->"af3c2d0b-7e3f-4ec8-8d1a-eee04636a36d",
 CellTags->"PrimaryExamplesSection",
 CellID->1400994236],
Cell[22353, 635, 192, 3, 31, "Input",ExpressionUUID->"96c47721-5f98-45ed-9938-103103a6dbf8",
 CellID->1759966869],
Cell[CellGroupData[{
Cell[22570, 642, 1368, 36, 31, "ExampleSection",ExpressionUUID->"655911d7-33cf-4563-8328-73128508f5e4",
 CellID->1499418744],
Cell[23941, 680, 219, 5, 29, "Input",ExpressionUUID->"175b08b0-7149-48ff-b55f-d26d2322e5da",
 CellID->1226794958],
Cell[CellGroupData[{
Cell[24185, 689, 530, 15, 84, "Input",ExpressionUUID->"b35f5711-3cde-4aa7-8a73-8e6894ced45c",
 CellID->968013306],
Cell[24718, 706, 595, 19, 37, "Output",ExpressionUUID->"c445deb2-0c50-4aa8-86da-b28d1d8ca24d",
 CellID->881552362]
}, Open  ]],
Cell[25328, 728, 188, 5, 40, "ExampleText",ExpressionUUID->"2e179b0f-523f-4f10-b4f2-176c3012d595",
 CellID->2035556350],
Cell[25519, 735, 208, 5, 29, "Input",ExpressionUUID->"43f05214-3852-42dc-9704-7e7fa78da07a",
 CellID->223772532],
Cell[CellGroupData[{
Cell[25752, 744, 320, 10, 29, "Input",ExpressionUUID->"310656d4-c653-4b24-9c3f-b7f7474ec298",
 CellID->694985576],
Cell[26075, 756, 389, 8, 37, "Output",ExpressionUUID->"f33909fd-c8c3-40b4-8852-2f549655017f",
 CellID->1300308543]
}, Open  ]],
Cell[CellGroupData[{
Cell[26501, 769, 300, 7, 29, "Input",ExpressionUUID->"97d02a23-5a20-47a9-98a7-ea8e27d85294",
 CellID->250707124],
Cell[26804, 778, 1107, 31, 55, "Output",ExpressionUUID->"1af55b15-909a-448a-b90d-d6a2c729b1a6",
 CellID->156761091]
}, Open  ]],
Cell[CellGroupData[{
Cell[27948, 814, 218, 5, 29, "Input",ExpressionUUID->"7c18c4c8-6418-40e8-a1e3-d1f26a7b7d74",
 CellID->1555841960],
Cell[28169, 821, 2349, 55, 171, "Output",ExpressionUUID->"97974037-3097-4113-acae-3d3609550809",
 CellID->828472699]
}, Open  ]],
Cell[CellGroupData[{
Cell[30555, 881, 207, 5, 70, "Input",ExpressionUUID->"d66179ed-bdf7-48cc-a4d3-0f8dbf88bf57",
 CellID->602405762],
Cell[30765, 888, 2776, 67, 41, "Output",ExpressionUUID->"0adae52a-9a24-4e9f-9e8e-43feb6a10a11",
 CellID->252616253]
}, Open  ]],
Cell[CellGroupData[{
Cell[33578, 960, 215, 5, 70, "Input",ExpressionUUID->"bb779a81-a09b-4381-bca4-239355dc7b08",
 CellID->494556011],
Cell[33796, 967, 13125, 324, 93, "Output",ExpressionUUID->"c86d7113-2066-462e-8744-bb504a58c44a",
 CellID->507286329]
}, Open  ]],
Cell[CellGroupData[{
Cell[46958, 1296, 270, 8, 70, "Input",ExpressionUUID->"632018de-1827-4759-bda2-7a75df532218",
 CellID->707741982],
Cell[47231, 1306, 3864, 71, 304, "Output",ExpressionUUID->"a5f747ea-49a0-4df6-86cc-38b7bfb4da17",
 CellID->168128178]
}, Open  ]],
Cell[51110, 1380, 206, 4, 70, "ExampleText",ExpressionUUID->"135b2504-3956-40a0-9f08-c21f78cf8de0",
 CellID->906806088],
Cell[CellGroupData[{
Cell[51341, 1388, 211, 5, 70, "Input",ExpressionUUID->"757bbad6-58f0-4555-b248-edcf2f28cd70",
 CellID->757126852],
Cell[51555, 1395, 7001, 146, 177, "Output",ExpressionUUID->"bd055ff8-2674-4a50-8d97-4f95858dd890",
 CellID->75716345]
}, Open  ]],
Cell[58571, 1544, 458, 13, 70, "ExampleText",ExpressionUUID->"774f5a02-1d29-4cfe-90dd-03fc699e855b",
 CellID->1187733402],
Cell[CellGroupData[{
Cell[59054, 1561, 247, 6, 70, "Input",ExpressionUUID->"28273c5d-fcfa-4e26-8db9-2ddbe0f4ce4b",
 CellID->486908243],
Cell[59304, 1569, 7001, 146, 177, "Output",ExpressionUUID->"e3e7ad3b-28af-4494-adc7-378a6e6ba8a9",
 CellID->46353308]
}, Open  ]]
}, Dynamic[CurrentValue[EvaluationNotebook[], {TaggingRules, "Openers", "ExampleSection", "0"}, Closed]]]],
Cell[CellGroupData[{
Cell[66454, 1723, 1393, 36, 70, "ExampleSection",ExpressionUUID->"eed9fbe2-0173-40fa-a861-5e3cef642e82",
 CellID->221896986],
Cell[CellGroupData[{
Cell[67872, 1763, 1403, 36, 70, "ExampleSubsection",ExpressionUUID->"639c0fa7-b3e9-4216-8a32-5b108aed9aa1",
 CellID->648435845],
Cell[69278, 1801, 219, 5, 70, "Input",ExpressionUUID->"3a220eec-ee76-41f3-a646-565b33ae9edb",
 CellID->1561406280],
Cell[CellGroupData[{
Cell[69522, 1810, 530, 15, 70, "Input",ExpressionUUID->"c54cc7c7-0c5c-48c3-90a3-7054a141a5ca",
 CellID->305181620],
Cell[70055, 1827, 596, 19, 37, "Output",ExpressionUUID->"e20decaf-56ae-4e6e-88a8-32a87b64305f",
 CellID->2060989139]
}, Open  ]],
Cell[70666, 1849, 209, 5, 70, "Input",ExpressionUUID->"d09deae8-4e13-42ef-b78f-1ec18409ad91",
 CellID->1946632720],
Cell[CellGroupData[{
Cell[70900, 1858, 320, 10, 70, "Input",ExpressionUUID->"216bb6d5-5688-435f-8ea1-4ac04fffbd31",
 CellID->121249603],
Cell[71223, 1870, 387, 8, 37, "Output",ExpressionUUID->"4ffce465-02e5-41cb-83d6-d7d8c042b372",
 CellID->44348034]
}, Open  ]],
Cell[CellGroupData[{
Cell[71647, 1883, 441, 11, 70, "Input",ExpressionUUID->"e4f41a2c-2b63-4621-bc73-d8c26df1cddd",
 CellID->1716533849],
Cell[72091, 1896, 7002, 146, 177, "Output",ExpressionUUID->"93424e8f-84a1-41d9-9224-6b52fafe7611",
 CellID->1200101807]
}, Open  ]],
Cell[CellGroupData[{
Cell[79130, 2047, 500, 13, 70, "Input",ExpressionUUID->"e42f86b3-cd0e-4314-8adf-fc7d2aba4cc9",
 CellID->263366503],
Cell[79633, 2062, 6849, 138, 177, "Output",ExpressionUUID->"69fbff81-cbbd-4bf1-8edb-637c7582ba6e",
 CellID->705968682]
}, Open  ]],
Cell[CellGroupData[{
Cell[86519, 2205, 277, 7, 70, "Input",ExpressionUUID->"d0ac0b09-5072-41ae-88a5-3eb6e84507d3",
 CellID->627928911],
Cell[86799, 2214, 7542, 155, 177, "Output",ExpressionUUID->"26562c21-74a9-40bc-be39-491cd3893c59",
 CellID->877569612]
}, Open  ]],
Cell[CellGroupData[{
Cell[94378, 2374, 312, 9, 70, "Input",ExpressionUUID->"51c98929-6d82-4029-9c08-ba422a2b7610",
 CellID->1417394473],
Cell[94693, 2385, 2380, 53, 304, "Output",ExpressionUUID->"2a9f5a37-1bcd-47f4-bf7e-387bd35493e1",
 CellID->1765466121]
}, Open  ]]
}, Dynamic[CurrentValue[EvaluationNotebook[], {TaggingRules, "Openers", "ExampleSubsection", "0"}, Closed]]]],
Cell[CellGroupData[{
Cell[97225, 2446, 1412, 36, 70, "ExampleSubsection",ExpressionUUID->"2e890b3f-c3bb-49d6-8b01-4c26f19d3801",
 CellID->1929222037],
Cell[98640, 2484, 309, 7, 70, "ExampleText",ExpressionUUID->"6760deb9-d6d0-4722-b9c7-d0d4f0c22916",
 CellID->943224651],
Cell[98952, 2493, 218, 5, 70, "Input",ExpressionUUID->"513f8654-0de3-4e23-b114-728de5faaac3",
 CellID->103290834],
Cell[CellGroupData[{
Cell[99195, 2502, 530, 15, 70, "Input",ExpressionUUID->"482b6dd8-38bb-4510-be1a-85decf3b81cd",
 CellID->261036225],
Cell[99728, 2519, 596, 19, 37, "Output",ExpressionUUID->"2c3d7f82-bf42-4433-85a3-9d0709258e83",
 CellID->1436527013]
}, Open  ]],
Cell[100339, 2541, 209, 5, 70, "Input",ExpressionUUID->"d9153e9f-788c-4dd3-9adb-fb96b3b12097",
 CellID->1943047641],
Cell[CellGroupData[{
Cell[100573, 2550, 321, 10, 70, "Input",ExpressionUUID->"5c8973b8-6aac-4e69-8965-0ad38140cb5d",
 CellID->1126297971],
Cell[100897, 2562, 388, 8, 37, "Output",ExpressionUUID->"80492f2b-6acc-459a-a1ce-76f1802f7bfc",
 CellID->1062978700]
}, Open  ]],
Cell[101300, 2573, 159, 2, 70, "ExampleText",ExpressionUUID->"cd662b7e-413b-45c4-801c-9661f5c0bc63",
 CellID->1357819613],
Cell[CellGroupData[{
Cell[101484, 2579, 486, 13, 70, "Input",ExpressionUUID->"30cf5667-babf-49ec-9077-f56edea9b4c5",
 CellID->1265229398],
Cell[101973, 2594, 7609, 170, 177, "Output",ExpressionUUID->"fedf01c4-928b-4697-b405-1952f7b1687f",
 CellID->839396430]
}, Open  ]],
Cell[109597, 2767, 178, 3, 70, "ExampleText",ExpressionUUID->"b43a695b-6e01-488e-bcfa-9090e246ddcf",
 CellID->1306719150],
Cell[CellGroupData[{
Cell[109800, 2774, 214, 5, 70, "Input",ExpressionUUID->"eea2f0ec-8eb6-446f-b16c-779a85988fe7",
 CellID->1012640172],
Cell[110017, 2781, 7680, 174, 178, "Output",ExpressionUUID->"b5c1e17b-3ae6-4ff5-9ca1-984fdd67c9d8",
 CellID->2085385771]
}, Open  ]],
Cell[117712, 2958, 131, 1, 70, "ExampleText",ExpressionUUID->"49adf1cd-67e6-4bb2-9dba-7ffc9b3e7c25",
 CellID->1280867960],
Cell[CellGroupData[{
Cell[117868, 2963, 251, 6, 70, "Input",ExpressionUUID->"b0c36bce-611d-42af-b2ca-7a8e29982935",
 CellID->2023783963],
Cell[118122, 2971, 7678, 174, 178, "Output",ExpressionUUID->"1289761e-3cf7-4070-bed3-d7084d2aeb47",
 CellID->49633460]
}, Open  ]],
Cell[CellGroupData[{
Cell[125837, 3150, 311, 9, 70, "Input",ExpressionUUID->"923c9268-fab3-4586-8685-9db4c9edc5bb",
 CellID->488723745],
Cell[126151, 3161, 2178, 51, 304, "Output",ExpressionUUID->"d8e97bcd-a38c-433f-a2ce-e63c615e1879",
 CellID->789001393]
}, Open  ]]
}, Dynamic[CurrentValue[EvaluationNotebook[], {TaggingRules, "Openers", "ExampleSubsection", "1"}, Closed]]]],
Cell[CellGroupData[{
Cell[128481, 3220, 1413, 36, 70, "ExampleSubsection",ExpressionUUID->"9f3b353d-3ef2-4c01-9a02-10f439c7812b",
 CellID->1313350173],
Cell[129897, 3258, 203, 4, 70, "ExampleText",ExpressionUUID->"32c7e7e3-8d92-4c66-80cf-bbbbb8dd054c",
 CellID->603809129],
Cell[130103, 3264, 219, 5, 70, "Input",ExpressionUUID->"ef16aade-83e9-4c4f-9cf8-7f338c1cec88",
 CellID->2106864546],
Cell[CellGroupData[{
Cell[130347, 3273, 534, 15, 70, "Input",ExpressionUUID->"90818056-8632-4632-8e4c-c7cd9c695fa9",
 CellID->596381436],
Cell[130884, 3290, 238, 6, 37, "Output",ExpressionUUID->"b9264291-68fc-49df-af3f-5afb51596e99",
 CellID->2035892205]
}, Open  ]],
Cell[CellGroupData[{
Cell[131159, 3301, 339, 9, 70, "Input",ExpressionUUID->"69c95ec5-43d6-4eac-8f1d-379a28014e47",
 CellID->214569239],
Cell[131501, 3312, 596, 19, 37, "Output",ExpressionUUID->"fe7706ba-e7f2-4e44-ac36-62857d60469b",
 CellID->1560833395],
Cell[132100, 3333, 606, 19, 37, "Output",ExpressionUUID->"dbc8a480-ffe9-4c5a-978b-0cb41fca6e74",
 CellID->1414121660]
}, Open  ]],
Cell[CellGroupData[{
Cell[132743, 3357, 344, 9, 70, "Input",ExpressionUUID->"d66882f1-4404-4184-9801-6ae41141bd32",
 CellID->2078201721],
Cell[133090, 3368, 1215, 38, 52, "Output",ExpressionUUID->"202453f0-3e91-4e98-8d54-b37718a35f7f",
 CellID->349848370]
}, Open  ]],
Cell[CellGroupData[{
Cell[134342, 3411, 195, 4, 70, "Input",ExpressionUUID->"051b004e-34b0-4ecd-9c10-0d095d3e49c3",
 CellID->1868568862],
Cell[134540, 3417, 1585, 41, 171, "Output",ExpressionUUID->"689d8f1a-e9b1-4891-a849-1a4892836ee5",
 CellID->1284303497]
}, Open  ]],
Cell[CellGroupData[{
Cell[136162, 3463, 327, 8, 70, "Input",ExpressionUUID->"d79b9e09-14db-4d75-b4f7-55bc1ee94c32",
 CellID->1493921650],
Cell[136492, 3473, 1134, 33, 37, "Output",ExpressionUUID->"0afbaa1b-f84b-453a-944b-f48f8823f703",
 CellID->1107011128]
}, Open  ]],
Cell[CellGroupData[{
Cell[137663, 3511, 396, 8, 70, "Input",ExpressionUUID->"56d3004b-7c3e-4677-bd4d-7daf74ae411a",
 CellID->1489404584],
Cell[138062, 3521, 2358, 56, 171, "Output",ExpressionUUID->"ebb7bb18-ca1f-45dc-93f4-be7c550056f5",
 CellID->964411820],
Cell[140423, 3579, 7004, 146, 177, "Output",ExpressionUUID->"84539524-5ade-4707-a738-eb476d2ebbc9",
 CellID->1810374831],
Cell[147430, 3727, 7037, 150, 178, "Output",ExpressionUUID->"4ab882e4-ba5f-489c-aa2e-0361d02ce982",
 CellID->1421473921]
}, Open  ]],
Cell[CellGroupData[{
Cell[154504, 3882, 474, 14, 70, "Input",ExpressionUUID->"e90064ab-bd4a-405e-a800-33581c934490",
 CellID->1274612506],
Cell[154981, 3898, 404, 11, 52, "Output",ExpressionUUID->"ed2c0cda-a9c8-4eaf-be5a-8fe5f505a318",
 CellID->2028543279]
}, Open  ]],
Cell[CellGroupData[{
Cell[155422, 3914, 734, 19, 70, "Input",ExpressionUUID->"eb5c34a6-0b2a-4d40-9aaf-34fc29cfb5f4",
 CellID->1045178272],
Cell[156159, 3935, 2179, 51, 304, "Output",ExpressionUUID->"3822de62-eadd-4091-9147-1b2bd04cb2a0",
 CellID->1554462964]
}, Open  ]]
}, Dynamic[CurrentValue[EvaluationNotebook[], {TaggingRules, "Openers", "ExampleSubsection", "2"}, Closed]]]]
}, Dynamic[CurrentValue[EvaluationNotebook[], {TaggingRules, "Openers", "ExampleSection", "1"}, Closed]]]]
}, Dynamic[CurrentValue[EvaluationNotebook[], {TaggingRules, "Openers", "PrimaryExamplesSection"}, Closed]]]],
Cell[158695, 3998, 3371, 90, 70, "SeeAlsoSection",ExpressionUUID->"e1a5d3a4-1e3f-4b65-992e-4245c6b68b41"],
Cell[162069, 4090, 1826, 46, 70, "TechNotesSection",ExpressionUUID->"5930df3f-8da2-4af2-92df-d215b0f89123"],
Cell[163898, 4138, 1045, 27, 70, "MoreAboutSection",ExpressionUUID->"4524bf4d-a7ae-42f4-a139-f56afd374050"],
Cell[164946, 4167, 3379, 92, 70, "RelatedLinksSection",ExpressionUUID->"f3e814cc-2536-439e-a474-f09b863ac0e0"],
Cell[168328, 4261, 78, 0, 70, "FooterCell",ExpressionUUID->"79d35b26-51a0-4af1-acc4-46f86d0c5dfd"]
}
]
*)

(* End of internal cache information *)

