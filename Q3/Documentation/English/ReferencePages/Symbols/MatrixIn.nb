(* Content-type: application/vnd.wolfram.mathematica *)

(*** Wolfram Notebook File ***)
(* http://www.wolfram.com/nb *)

(* CreatedBy='Mathematica 13.0' *)

(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[       158,          7]
NotebookDataLength[     34630,       1007]
NotebookOptionsPosition[     28853,        883]
NotebookOutlinePosition[     31163,        940]
CellTagsIndexPosition[     31078,        935]
WindowTitle->MatrixIn
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{
Cell[BoxData[GridBox[{
   {GridBox[{
      {
       ItemBox[Cell[BoxData[
         RowBox[{
          TemplateBox[{12},
           "Spacer1"], Cell["Q3 SYMBOL", "PacletNameCell",
           TextAlignment->Center,ExpressionUUID->
           "8e5eb8eb-c79d-4ebb-9d9c-6ab6b98559b9"], 
          TemplateBox[{8},
           "Spacer1"]}]],
         TextAlignment->Center,ExpressionUUID->
         "6350b58b-8d37-4270-9ca6-bfec05d2ec67"],
        Background->RGBColor[0.490196, 0.576471, 0.690196],
        ItemSize->Full], ""}
     },
     GridBoxAlignment->{"Rows" -> {{Center}}},
     GridBoxItemSize->{"Columns" -> {Full, 
         Scaled[0.02]}, "Rows" -> {{2.5}}}], Cell[TextData[{
     Cell[BoxData[
      TagBox[
       ActionMenuBox[
        FrameBox[Cell[TextData[{
          "See Also",
          " ",
          Cell[BoxData[
           GraphicsBox[
            {GrayLevel[0.66667], Thickness[0.13], 
             LineBox[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]},
            AspectRatio->1,
            AxesStyle->Large,
            FrameStyle->Large,
            ImageSize->20,
            PlotRange->{{-3, 4}, {-1, 1}},
            PlotRangePadding->Scaled[0.025]]],ExpressionUUID->
           "7bf7c53e-b950-4b71-a5c5-878bc8cc7add"]
         }],ExpressionUUID->"e0cbfd91-6d6c-4cf1-b92a-9314e82f592b"],
         StripOnInput->False], {"\<\"Matrix\"\>":>Documentation`HelpLookup[
        "paclet:Q3/ref/Matrix"], "\<\"TheMatrix\"\>":>
        Documentation`HelpLookup[
        "paclet:Q3/ref/TheMatrix"], "\<\"FockMatrix\"\>":>
        Documentation`HelpLookup["paclet:Q3/ref/FockMatrix"]},
        Appearance->None,
        MenuAppearance->Automatic,
        MenuStyle->"SeeAlso"],
       MouseAppearanceTag["LinkHand"]]],
      LineSpacing->{1.4, 0},ExpressionUUID->
      "5909d872-723e-42a6-b30a-1226fe9466d7"],
     "\[ThickSpace]\[ThickSpace]\[ThickSpace]\[ThickSpace]\[ThickSpace]\
\[ThickSpace]",
     Cell[BoxData[
      TagBox[
       ActionMenuBox[
        FrameBox[Cell[TextData[{
          "URL",
          " ",
          Cell[BoxData[
           GraphicsBox[
            {GrayLevel[0.66667], Thickness[0.13], 
             LineBox[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]},
            AspectRatio->1,
            AxesStyle->Large,
            FrameStyle->Large,
            ImageSize->20,
            PlotRange->{{-3, 4}, {-1, 1}},
            PlotRangePadding->Scaled[0.025]]],ExpressionUUID->
           "4307f1ef-3aa7-42e5-a0cc-b1ec736e8e95"]
         }],ExpressionUUID->"0e74a385-ee1a-4472-bb72-4d7bfc06b227"],
         StripOnInput->False], {"\<\"Q3/ref/MatrixIn\"\>":>
        None, "\<\"Copy Wolfram Documentation Center URL\"\>":>
        Module[{DocumentationSearch`Private`nb$}, 
         DocumentationSearch`Private`nb$ = NotebookPut[
            Notebook[{
              Cell["Q3/ref/MatrixIn"]}, Visible -> False]]; 
         SelectionMove[DocumentationSearch`Private`nb$, All, Notebook]; 
         FrontEndTokenExecute[DocumentationSearch`Private`nb$, "Copy"]; 
         NotebookClose[DocumentationSearch`Private`nb$]; Null], 
        Delimiter, "\<\"Copy web URL\"\>":>
        Module[{DocumentationSearch`Private`nb$}, 
         DocumentationSearch`Private`nb$ = NotebookPut[
            Notebook[{
              Cell[
               BoxData[
                MakeBoxes[
                 Hyperlink[
                 "http://reference.wolfram.com/language/Q3/ref/MatrixIn.html"]\
, StandardForm]], "Input", TextClipboardType -> "PlainText"]}, Visible -> 
             False]]; SelectionMove[
          DocumentationSearch`Private`nb$, All, Notebook]; 
         FrontEndTokenExecute[DocumentationSearch`Private`nb$, "Copy"]; 
         NotebookClose[DocumentationSearch`Private`nb$]; 
         Null], "\<\"Go to web URL\"\>":>FrontEndExecute[{
          NotebookLocate[{
            URL[If[
               TrueQ[DocumentationBuild`Make`Private`wsmlinkQ$123311], 
               "http://reference.wolfram.com/system-modeler/", 
               "http://reference.wolfram.com/language/"] <> "Q3/ref/MatrixIn" <> 
             ".html"], None}]}]},
        Appearance->None,
        MenuAppearance->Automatic,
        MenuStyle->"URLMenu"],
       MouseAppearanceTag["LinkHand"]]],
      LineSpacing->{1.4, 0},ExpressionUUID->
      "8bab5826-7666-42ce-92f4-8dccbfbf149a"]
    }], "AnchorBar",
     CacheGraphics->False,ExpressionUUID->
     "e0ed5795-53e4-46aa-8e52-50855e94be84"]}
  }]], "AnchorBarGrid",
 GridBoxOptions->{GridBoxItemSize->{"Columns" -> {
     Scaled[0.65], {
      Scaled[0.34]}}, "ColumnsIndexed" -> {}, "Rows" -> {{1.}}, 
   "RowsIndexed" -> {}}},
 CellID->1,ExpressionUUID->"a67fa3f8-d57e-4518-8885-128abeca603f"],

Cell["Q3`", "ContextNameCell",ExpressionUUID->"7c5d563a-523a-4092-a1e3-8aafd01ea2c5"],

Cell[CellGroupData[{

Cell[BoxData[GridBox[{
   {Cell[TextData[{
     Cell[
     "MatrixIn", "ObjectName",ExpressionUUID->
      "50f6073d-16cb-4263-a6bc-d3d2ae0d184b"],
     Cell[BoxData[
      TemplateBox[{8},
       "Spacer1"]],ExpressionUUID->"ce1730ad-45c0-41f0-ab3d-9922fb245ef3"],
     Cell[BoxData[
     ""], "ObjectNameTranslation",ExpressionUUID->
      "283fc394-08c4-44d5-97ad-ac7b132b01a2"]
    }],ExpressionUUID->"8de0f116-7801-4161-a487-8fc5915faac2"], 
    "\[SpanFromLeft]"}
  }]], "ObjectNameGrid",ExpressionUUID->"45b01124-b509-464d-b663-\
e6079582d2b7"],

Cell[BoxData[GridBox[{
   {"", Cell[TextData[{
     Cell[BoxData[
      RowBox[{
       TemplateBox[{
         Cell[
          TextData["MatrixIn"]], "paclet:Q3/ref/MatrixIn", 
         "Q3 Package Symbol"},
        "PackageLink",
        BaseStyle->"InlineFormula"], "[", 
       RowBox[{
        StyleBox["op", "TI"], ",", 
        StyleBox["bs", "TI"]}], "]"}]], "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "4346bab4-5e06-479d-8b3f-916b8b78dfef"],
     " \[LineSeparator]returns the matrix representation of operator ",
     Cell[BoxData[
      StyleBox["op", "TI"]], "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "6df4c653-278b-488d-9022-140a6783c66f"],
     " in basis ",
     Cell[BoxData[
      StyleBox["bs", "TI"]], "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "fc5d5593-f6aa-4061-be26-cb2dc7ef9839"],
     ". The basis ",
     Cell[BoxData[
      StyleBox["bs", "TI"]], "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "36c662cc-0b45-4409-9a41-6f53ea17947a"],
     " may be a list of kets or an association of such lists."
    }],ExpressionUUID->"387b787c-8879-4945-9e01-027aa4ab6b40"]},
   {"", Cell[TextData[{
     Cell[BoxData[
      RowBox[{
       TemplateBox[{
         Cell[
          TextData["MatrixIn"]], "paclet:Q3/ref/MatrixIn", 
         "Q3 Package Symbol"},
        "PackageLink",
        BaseStyle->"InlineFormula"], "[", 
       StyleBox["bs", "TI"], "]"}]], "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "2f3e19ff-4779-42be-ba04-040c87c4abcf"],
     "\[LineSeparator]provides the operator form of ",
     Cell[BoxData[
      TemplateBox[{
        Cell[
         TextData["MatrixIn"]], "paclet:Q3/ref/MatrixIn", "Q3 Package Symbol"},
       "PackageLink",
       BaseStyle->"InlineFormula"]], "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "f069c2ac-13fc-4672-a553-2f8fb9a05111"],
     "."
    }],ExpressionUUID->"3f4bc945-5547-4a3f-b9eb-144305052782"]},
   {"", Cell[TextData[{
     Cell[BoxData[
      RowBox[{
       TemplateBox[{
         Cell[
          TextData["MatrixIn"]], "paclet:Q3/ref/MatrixIn", 
         "Q3 Package Symbol"},
        "PackageLink",
        BaseStyle->"InlineFormula"], "[", 
       RowBox[{
        StyleBox["op", "TI"], ",", 
        RowBox[{"{", 
         RowBox[{
          SubscriptBox[
           StyleBox["a", "TI"], 
           StyleBox["1", "TR"]], ",", 
          SubscriptBox[
           StyleBox["a", "TI"], 
           StyleBox["2", "TR"]], ",", 
          StyleBox["\[Ellipsis]", "TR"]}], "}"}], ",", 
        RowBox[{"{", 
         RowBox[{
          SubscriptBox[
           StyleBox["b", "TI"], 
           StyleBox["1", "TR"]], ",", 
          SubscriptBox[
           StyleBox["b", "TI"], 
           StyleBox["2", "TR"]], ",", 
          StyleBox["\[Ellipsis]", "TR"]}], "}"}]}], "]"}]], "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "5a9b23a6-271a-4100-9ba0-701f805ba52c"],
     "\[LineSeparator]calculates the matrix elements ",
     Cell[BoxData[
      FormBox[
       RowBox[{
        TemplateBox[{
          SubscriptBox[
           StyleBox["a", "TI"], 
           StyleBox["i", "TI"]]},
         "Bra"], 
        StyleBox["op", "TI"], 
        TemplateBox[{
          SubscriptBox[
           StyleBox["b", "TI"], 
           StyleBox["j", "TI"]]},
         "Ket"]}], TraditionalForm]],ExpressionUUID->
      "52a23e89-7007-4e3f-a7aa-2576716d4c75"],
     "."
    }],ExpressionUUID->"212c55ea-e107-46a4-9f7d-5cc1a4659b78"]}
  }]], "Usage",
 GridBoxOptions->{
 GridBoxBackground->{"Columns" -> {{None}}, "Rows" -> {None, None, {None}}}},
 CellID->349230598,ExpressionUUID->"fbfea599-2990-4981-a33b-1947325c454f"]
}, Open  ]],

Cell[CellGroupData[{

Cell[TextData[Cell[BoxData[
 ButtonBox[Cell[TextData[{
   Cell[BoxData[
    DynamicBox[ToBoxes[
      If[
       MatchQ[
        CurrentValue[
         EvaluationNotebook[], {TaggingRules, "Openers", "NotesSection"}, 
         Closed], 
        Alternatives[Open, True]], 
       Style[
        Graphics[{
          Thickness[0.18], 
          RGBColor[0.8509803921568627, 0.396078431372549, 0], 
          Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
         PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
        0.68 Inherited], 
       Rotate[
        Style[
         Graphics[{
           Thickness[0.18], 
           RGBColor[0.8509803921568627, 0.396078431372549, 0], 
           Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
          PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
         0.68 Inherited], Rational[1, 2] Pi, {-1.65, -1}]]],
     ImageSizeCache->{14., {5., 9.}}]],ExpressionUUID->
    "1ffb9303-183c-40fd-a9c0-fbc9f61a70fe"],
   Cell[BoxData[
    TemplateBox[{1},
     "Spacer1"]],ExpressionUUID->"153c917b-a716-458e-a97c-d4fb533344ff"],
   "Details"
  }], "NotesFrameText",ExpressionUUID->"916a5e35-fcdf-4d65-829a-57466a25c69f"],
  Appearance->{Automatic, None, "Normal", Automatic},
  BaseStyle->None,
  ButtonFunction:>(FrontEndExecute[{
     FrontEnd`SelectionMove[
      FrontEnd`SelectedNotebook[], All, ButtonCell], 
     FrontEndToken["OpenCloseGroup"], 
     FrontEnd`SelectionMove[
      FrontEnd`SelectedNotebook[], After, CellContents]}]& ),
  Evaluator->None,
  Method->
   "Preemptive"]],ExpressionUUID->"e415f83b-faf9-4082-bb8e-5ca135e4712d"]], \
"NotesSection",
 WholeCellGroupOpener->True,
 CellGroupingRules->{"SectionGrouping", 50},
 CacheGraphics->False,
 CellID->901602592,ExpressionUUID->"182a9cf9-b2b6-455f-be2b-d98ff5aeae26"],

Cell["\<\
Usually, it is more efficient to use Matrix. Sometimes, however, it is \
required to construct the matrix representation in the specific basis. A \
typical example is when one works in a subspace with a noncanonical basis.\
\>", "Notes",
 CellID->445853335,ExpressionUUID->"3e96f4b1-6d4b-46ec-966c-23c565a2c07b"]
}, Dynamic[CurrentValue[
 EvaluationNotebook[], {TaggingRules, "Openers", "NotesSection"}, Closed]]]],

Cell[CellGroupData[{

Cell[TextData[{
 Cell[BoxData[
  DynamicBox[ToBoxes[
    If[
     MatchQ[
      CurrentValue[
       EvaluationNotebook[], {
       TaggingRules, "Openers", "PrimaryExamplesSection"}, Open], 
      Alternatives[True, Open]], 
     Style[
      Graphics[{
        Thickness[0.18], 
        RGBColor[0.8509803921568627, 0.396078431372549, 0], 
        Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
       PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
      0.68 Inherited], 
     Rotate[
      Style[
       Graphics[{
         Thickness[0.18], 
         RGBColor[0.8509803921568627, 0.396078431372549, 0], 
         Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
        PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
       0.68 Inherited], Rational[1, 2] Pi, {-1.65, -1}]]],
   ImageSizeCache->{14., {5., 9.}}]],ExpressionUUID->
  "466da06b-4051-4931-b2ea-ce919f7f8e12"],
 Cell[BoxData[
  TemplateBox[{1},
   "Spacer1"]],ExpressionUUID->"dcd57bcc-3150-424c-be07-f7c58c55692e"],
 "Examples",
 "\[NonBreakingSpace]\[NonBreakingSpace]",
 Cell["(2)", "ExampleCount",ExpressionUUID->
  "d6a0603b-aead-4a00-aa6d-204de75aee77"]
}], "PrimaryExamplesSection",
 WholeCellGroupOpener->True,
 CacheGraphics->False,
 CellTags->"PrimaryExamplesSection",
 CellID->590150512,ExpressionUUID->"38c88bf2-979d-4baf-9215-e0fea39e9d59"],

Cell[CellGroupData[{

Cell[TextData[{
 Cell[BoxData[
  DynamicBox[ToBoxes[
    If[
     MatchQ[
      CurrentValue[
       EvaluationNotebook[], {TaggingRules, "Openers", "ExampleSection", "0"},
        Closed], 
      Alternatives[Open, True]], 
     Style[
      Graphics[{
        Thickness[0.18], 
        RGBColor[0.8509803921568627, 0.396078431372549, 0], 
        Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
       PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
      0.68 Inherited], 
     Rotate[
      Style[
       Graphics[{
         Thickness[0.18], 
         RGBColor[0.8509803921568627, 0.396078431372549, 0], 
         Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
        PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
       0.68 Inherited], Rational[1, 2] Pi, {-1.65, -1}]]],
   ImageSizeCache->{14., {5., 9.}}]],ExpressionUUID->
  "a6d1a1e2-6061-4452-bb22-ae4fa48218a8"],
 Cell[BoxData[
  TemplateBox[{1},
   "Spacer1"]],ExpressionUUID->"7b1a9646-1cee-4085-ad06-9e06d34c5d52"],
 "Basic Examples",
 "\[NonBreakingSpace]\[NonBreakingSpace]",
 Cell["(2)", "ExampleCount",ExpressionUUID->
  "797e9d16-e0f0-402b-8461-3582f2e49a7d"]
}], "ExampleSection", "ExampleSection",
 WholeCellGroupOpener->True,
 CacheGraphics->False,
 CellID->1580173338,ExpressionUUID->"d2fe8d14-90cd-4ba1-a70f-e037232d4426"],

Cell[BoxData[
 RowBox[{"<<", "Q3`"}]], "Input",
 CellLabel->"In[1]:=",
 CellID->1983402357,ExpressionUUID->"50b8b060-3ce6-46c5-ab62-9d6cd4c435c8"],

Cell[BoxData[
 RowBox[{"Let", "[", 
  RowBox[{"Qubit", ",", "S"}], "]"}]], "Input",
 CellLabel->"In[2]:=",
 CellID->1890200589,ExpressionUUID->"53186733-219f-4d57-8c7c-f5d03d4c648e"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"op", "=", 
  RowBox[{"MultiplyDot", "[", 
   RowBox[{
    RowBox[{"S", "[", 
     RowBox[{"1", ",", "All"}], "]"}], ",", 
    RowBox[{"S", "[", 
     RowBox[{"2", ",", "All"}], "]"}]}], "]"}]}]], "Input",
 CellLabel->"In[3]:=",
 CellID->1908513024,ExpressionUUID->"15de893f-2dca-4743-ba22-73bd41be37c8"],

Cell[BoxData[
 RowBox[{
  TagBox[
   RowBox[{
    TagBox[
     TemplateBox[{
       TemplateBox[{"S"}, "RowDefault"], 
       TemplateBox[{"1"}, "RowDefault"], 
       TemplateBox[{"\"x\""}, "RowDefault"]},
      "Subsuperscript"],
     DisplayForm], 
    TagBox[
     TemplateBox[{
       TemplateBox[{"S"}, "RowDefault"], 
       TemplateBox[{"2"}, "RowDefault"], 
       TemplateBox[{"\"x\""}, "RowDefault"]},
      "Subsuperscript"],
     DisplayForm]}],
   DisplayForm], "+", 
  TagBox[
   RowBox[{
    TagBox[
     TemplateBox[{
       TemplateBox[{"S"}, "RowDefault"], 
       TemplateBox[{"1"}, "RowDefault"], 
       TemplateBox[{"\"y\""}, "RowDefault"]},
      "Subsuperscript"],
     DisplayForm], 
    TagBox[
     TemplateBox[{
       TemplateBox[{"S"}, "RowDefault"], 
       TemplateBox[{"2"}, "RowDefault"], 
       TemplateBox[{"\"y\""}, "RowDefault"]},
      "Subsuperscript"],
     DisplayForm]}],
   DisplayForm], "+", 
  TagBox[
   RowBox[{
    TagBox[
     TemplateBox[{
       TemplateBox[{"S"}, "RowDefault"], 
       TemplateBox[{"1"}, "RowDefault"], 
       TemplateBox[{"\"z\""}, "RowDefault"]},
      "Subsuperscript"],
     DisplayForm], 
    TagBox[
     TemplateBox[{
       TemplateBox[{"S"}, "RowDefault"], 
       TemplateBox[{"2"}, "RowDefault"], 
       TemplateBox[{"\"z\""}, "RowDefault"]},
      "Subsuperscript"],
     DisplayForm]}],
   DisplayForm]}]], "Output",
 CellLabel->"Out[3]=",
 CellID->23877152,ExpressionUUID->"742c0218-1528-467d-a1cb-e1a24763996b"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"mat", "=", 
   RowBox[{"Matrix", "[", 
    RowBox[{"op", ",", 
     RowBox[{"S", "@", 
      RowBox[{"{", 
       RowBox[{"1", ",", "2"}], "}"}]}]}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{"mat", "//", "MatrixForm"}]}], "Input",
 CellLabel->"In[4]:=",
 CellID->395648964,ExpressionUUID->"8eabe437-1b79-4ac6-846f-087854a51bf5"],

Cell[BoxData[
 TagBox[
  RowBox[{"(", "\[NoBreak]", GridBox[{
     {"1", "0", "0", "0"},
     {"0", 
      RowBox[{"-", "1"}], "2", "0"},
     {"0", "2", 
      RowBox[{"-", "1"}], "0"},
     {"0", "0", "0", "1"}
    },
    GridBoxAlignment->{"Columns" -> {{Center}}, "Rows" -> {{Baseline}}},
    GridBoxSpacings->{"Columns" -> {
        Offset[0.27999999999999997`], {
         Offset[0.7]}, 
        Offset[0.27999999999999997`]}, "Rows" -> {
        Offset[0.2], {
         Offset[0.4]}, 
        Offset[0.2]}}], "\[NoBreak]", ")"}],
  Function[BoxForm`e$, 
   MatrixForm[
   SparseArray[
    Automatic, {4, 4}, 0, {
     1, {{0, 2, 4, 6, 8}, {{1}, {4}, {2}, {3}, {3}, {2}, {4}, {1}}}, {1, 
      0, -1, 2, -1, 2, 1, 0}}]]]]], "Output",
 CellLabel->"Out[4]//MatrixForm=",
 CellID->662091652,ExpressionUUID->"6d12e506-ad18-4970-a98f-83be22c88599"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"bs", "=", 
  RowBox[{"Basis", "[", 
   RowBox[{"S", "@", 
    RowBox[{"{", 
     RowBox[{"1", ",", "2"}], "}"}]}], "]"}]}]], "Input",
 CellLabel->"In[5]:=",
 CellID->1316089671,ExpressionUUID->"c87af487-d46b-46b2-8fc8-982e60d35f68"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   TemplateBox[{"\"\[SpaceIndicator]\""},
    "Ket"], ",", 
   TemplateBox[{
     TagBox[
      TemplateBox[{
        SubscriptBox["1", 
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"2"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
    "Ket"], ",", 
   TemplateBox[{
     TagBox[
      TemplateBox[{
        SubscriptBox["1", 
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"1"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
    "Ket"], ",", 
   TemplateBox[{
     TagBox[
      TemplateBox[{
        SubscriptBox["1", 
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"1"}, "RowDefault"]]], 
        SubscriptBox["1", 
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"2"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
    "Ket"]}], "}"}]], "Output",
 CellLabel->"Out[5]=",
 CellID->750973580,ExpressionUUID->"3965bbfe-ed18-4aa0-90ad-5657f502bf17"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"new", "=", 
   RowBox[{"MatrixIn", "[", 
    RowBox[{"op", ",", "bs"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"new", "//", "MatrixForm"}]}], "Input",
 CellLabel->"In[6]:=",
 CellID->1985352458,ExpressionUUID->"0d38699b-c6f0-4cbf-81db-b981a5b3e402"],

Cell[BoxData[
 TagBox[
  RowBox[{"(", "\[NoBreak]", GridBox[{
     {"1", "0", "0", "0"},
     {"0", 
      RowBox[{"-", "1"}], "2", "0"},
     {"0", "2", 
      RowBox[{"-", "1"}], "0"},
     {"0", "0", "0", "1"}
    },
    GridBoxAlignment->{"Columns" -> {{Center}}, "Rows" -> {{Baseline}}},
    GridBoxSpacings->{"Columns" -> {
        Offset[0.27999999999999997`], {
         Offset[0.7]}, 
        Offset[0.27999999999999997`]}, "Rows" -> {
        Offset[0.2], {
         Offset[0.4]}, 
        Offset[0.2]}}], "\[NoBreak]", ")"}],
  Function[BoxForm`e$, 
   MatrixForm[BoxForm`e$]]]], "Output",
 CellLabel->"Out[6]//MatrixForm=",
 CellID->1258697407,ExpressionUUID->"e9c3f2bf-ff85-4c70-b39e-3028ede31813"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 InterpretationBox[Cell[
  "\t", "ExampleDelimiter",ExpressionUUID->
   "2df4b870-9d9d-47da-976f-b6ef5c25d36a"],
  $Line = 0; Null]], "ExampleDelimiter",
 CellID->977282934,ExpressionUUID->"247f1224-75d3-46d2-bad1-ca79c0107606"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"bs", "=", 
   RowBox[{"KeyGroupBy", "[", 
    RowBox[{
     RowBox[{"SchurBasis", "[", 
      RowBox[{"S", "@", 
       RowBox[{"{", 
        RowBox[{"1", ",", "2"}], "}"}]}], "]"}], ",", "First", ",", 
     "Values"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"KeyMap", "[", 
  RowBox[{
   RowBox[{"YoungForm", "@*", "ToYoungTableau"}], ",", "bs"}], 
  "]"}]}], "Input",
 CellLabel->"In[1]:=",
 CellID->275609684,ExpressionUUID->"e998119e-b46a-4e26-9605-b8bbb47207bc"],

Cell[BoxData[
 RowBox[{"\[LeftAssociation]", 
  RowBox[{
   RowBox[{
    TagBox[GridBox[{
       {
        ItemBox["1",
         Frame->True,
         StripOnInput->False], 
        ItemBox["2",
         Frame->True,
         StripOnInput->False]}
      },
      AutoDelete->False,
      GridBoxItemSize->{"Columns" -> {{Automatic}}, "Rows" -> {{Automatic}}}],
     
     "Grid"], "\[Rule]", 
    RowBox[{"{", 
     RowBox[{
      TemplateBox[{"\"\[SpaceIndicator]\""},
       "Ket"], ",", 
      RowBox[{
       FractionBox[
        TemplateBox[{
          TagBox[
           TemplateBox[{
             SubscriptBox["1", 
              SubscriptBox[
               TemplateBox[{"S"}, "RowDefault"], 
               TemplateBox[{"1"}, "RowDefault"]]]}, "RowDefault"], 
           DisplayForm]},
         "Ket"], 
        SqrtBox["2"]], "+", 
       FractionBox[
        TemplateBox[{
          TagBox[
           TemplateBox[{
             SubscriptBox["1", 
              SubscriptBox[
               TemplateBox[{"S"}, "RowDefault"], 
               TemplateBox[{"2"}, "RowDefault"]]]}, "RowDefault"], 
           DisplayForm]},
         "Ket"], 
        SqrtBox["2"]]}], ",", 
      TemplateBox[{
        TagBox[
         TemplateBox[{
           SubscriptBox["1", 
            SubscriptBox[
             TemplateBox[{"S"}, "RowDefault"], 
             TemplateBox[{"1"}, "RowDefault"]]], 
           SubscriptBox["1", 
            SubscriptBox[
             TemplateBox[{"S"}, "RowDefault"], 
             TemplateBox[{"2"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
       "Ket"]}], "}"}]}], ",", 
   RowBox[{
    TagBox[GridBox[{
       {
        ItemBox["1",
         Frame->True,
         StripOnInput->False]},
       {
        ItemBox["2",
         Frame->True,
         StripOnInput->False]}
      },
      AutoDelete->False,
      GridBoxItemSize->{"Columns" -> {{Automatic}}, "Rows" -> {{Automatic}}}],
     
     "Grid"], "\[Rule]", 
    RowBox[{"{", 
     RowBox[{
      RowBox[{"-", 
       FractionBox[
        TemplateBox[{
          TagBox[
           TemplateBox[{
             SubscriptBox["1", 
              SubscriptBox[
               TemplateBox[{"S"}, "RowDefault"], 
               TemplateBox[{"1"}, "RowDefault"]]]}, "RowDefault"], 
           DisplayForm]},
         "Ket"], 
        SqrtBox["2"]]}], "+", 
      FractionBox[
       TemplateBox[{
         TagBox[
          TemplateBox[{
            SubscriptBox["1", 
             SubscriptBox[
              TemplateBox[{"S"}, "RowDefault"], 
              TemplateBox[{"2"}, "RowDefault"]]]}, "RowDefault"], 
          DisplayForm]},
        "Ket"], 
       SqrtBox["2"]]}], "}"}]}]}], "\[RightAssociation]"}]], "Output",
 CellLabel->"Out[1]=",
 CellID->1312033933,ExpressionUUID->"0cb9892a-532d-4fd1-9f2e-49c02a868eaa"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"mat", "=", 
   RowBox[{"MatrixIn", "[", 
    RowBox[{"op", ",", "bs"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"KeyMap", "[", 
  RowBox[{
   RowBox[{"YoungForm", "@*", "ToYoungTableau"}], ",", 
   RowBox[{"MatrixForm", "/@", "mat"}]}], "]"}]}], "Input",
 CellLabel->"In[2]:=",
 CellID->969610344,ExpressionUUID->"02abed54-2463-4371-b54b-482ea0525776"],

Cell[BoxData[
 RowBox[{"\[LeftAssociation]", 
  RowBox[{
   RowBox[{
    TagBox[GridBox[{
       {
        ItemBox["1",
         Frame->True,
         StripOnInput->False], 
        ItemBox["2",
         Frame->True,
         StripOnInput->False]}
      },
      AutoDelete->False,
      GridBoxItemSize->{"Columns" -> {{Automatic}}, "Rows" -> {{Automatic}}}],
     
     "Grid"], "\[Rule]", 
    TagBox[
     RowBox[{"(", "\[NoBreak]", GridBox[{
        {"1", "0", "0"},
        {"0", "1", "0"},
        {"0", "0", "1"}
       },
       GridBoxAlignment->{"Columns" -> {{Center}}, "Rows" -> {{Baseline}}},
       GridBoxSpacings->{"Columns" -> {
           Offset[0.27999999999999997`], {
            Offset[0.7]}, 
           Offset[0.27999999999999997`]}, "Rows" -> {
           Offset[0.2], {
            Offset[0.4]}, 
           Offset[0.2]}}], "\[NoBreak]", ")"}],
     Function[BoxForm`e$, 
      MatrixForm[BoxForm`e$]]]}], ",", 
   RowBox[{
    TagBox[GridBox[{
       {
        ItemBox["1",
         Frame->True,
         StripOnInput->False]},
       {
        ItemBox["2",
         Frame->True,
         StripOnInput->False]}
      },
      AutoDelete->False,
      GridBoxItemSize->{"Columns" -> {{Automatic}}, "Rows" -> {{Automatic}}}],
     
     "Grid"], "\[Rule]", 
    TagBox[
     RowBox[{"(", "\[NoBreak]", GridBox[{
        {
         RowBox[{"-", "3"}]}
       },
       GridBoxAlignment->{"Columns" -> {{Center}}, "Rows" -> {{Baseline}}},
       GridBoxSpacings->{"Columns" -> {
           Offset[0.27999999999999997`], {
            Offset[0.7]}, 
           Offset[0.27999999999999997`]}, "Rows" -> {
           Offset[0.2], {
            Offset[0.4]}, 
           Offset[0.2]}}], "\[NoBreak]", ")"}],
     Function[BoxForm`e$, 
      MatrixForm[BoxForm`e$]]]}]}], "\[RightAssociation]"}]], "Output",
 CellLabel->"Out[2]=",
 CellID->121241239,ExpressionUUID->"afb9c0e7-b694-4ee2-a495-a8858bd57250"]
}, Open  ]]
}, Open  ]]
}, Dynamic[CurrentValue[
 EvaluationNotebook[], {TaggingRules, "Openers", "ExampleSection", "0"}, 
  Closed]]]]
}, Dynamic[CurrentValue[
 EvaluationNotebook[], {TaggingRules, "Openers", "PrimaryExamplesSection"}, 
  Closed]]]],

Cell[BoxData[GridBox[{
   {
    DynamicBox[FEPrivate`ImportImage[
      FrontEnd`FileName[{"Documentation", "FooterIcons"}, 
       "RelatedFunction.png"]],
     ImageSizeCache->{50., {27., 33.}}], GridBox[{
      {
       StyleBox[
        RowBox[{"See", " ", "Also"}], "SeeAlsoSection"]},
      {Cell[TextData[{
        Cell[BoxData[
         TemplateBox[{
           Cell[
            TextData["Matrix"]], "paclet:Q3/ref/Matrix", "Q3 Package Symbol"},
          
          "PackageLink",
          BaseStyle->"InlineFormula"]], "InlineFormula",
         FontFamily->"Source Sans Pro",ExpressionUUID->
         "7f07bd01-9072-489a-ba02-e9edb965b10b"],
        "\[NonBreakingSpace]",
        StyleBox[
        "\[MediumSpace]\[FilledVerySmallSquare]\[MediumSpace]", 
         "InlineSeparator"],
        " ",
        Cell[BoxData[
         TemplateBox[{
           Cell[
            TextData["TheMatrix"]], "paclet:Q3/ref/TheMatrix", 
           "Q3 Package Symbol"},
          "PackageLink",
          BaseStyle->"InlineFormula"]], "InlineFormula",
         FontFamily->"Source Sans Pro",ExpressionUUID->
         "78a9b2bf-8828-4429-a220-7367153de6e7"],
        "\[NonBreakingSpace]",
        StyleBox[
        "\[MediumSpace]\[FilledVerySmallSquare]\[MediumSpace]", 
         "InlineSeparator"],
        " ",
        Cell[BoxData[
         TemplateBox[{
           Cell[
            TextData["FockMatrix"]], "paclet:Q3/ref/FockMatrix", 
           "Q3 Package Symbol"},
          "PackageLink",
          BaseStyle->"InlineFormula"]], "InlineFormula",
         FontFamily->"Source Sans Pro",ExpressionUUID->
         "c6cb63a3-3bb3-493f-ba79-228b3644d80e"]
       }], "SeeAlso",ExpressionUUID->"cf827a93-45f3-4a29-8b04-234e82c45c60"]}
     }]}
  }]], "SeeAlsoSection",ExpressionUUID->"378edc1e-07f2-4af0-b98e-\
e7bd0cf34743"],

Cell[" ", "FooterCell",ExpressionUUID->"65a3f74b-0bfe-41a7-8938-ab87b6e94b1d"]
},
Saveable->False,
ScreenStyleEnvironment->"Working",
WindowSize->{900, 830},
WindowMargins->{{0, Automatic}, {Automatic, 0}},
WindowTitle->"MatrixIn",
TaggingRules->{
 "ModificationHighlight" -> False, "ColorType" -> "", "LinkTrails" -> "", 
  "ExampleCounter" -> 1, 
  "Openers" -> {
   "PrimaryExamplesSection" -> Open, "ExampleSection" -> {"0" -> Open}, 
    "NotesSection" -> Closed}, "NewStyles" -> True, 
  "CitationPopupData" -> $Failed, "ShowCitation" -> False, "RootCaptions" -> 
  "", "Metadata" -> {
   "built" -> "{2022, 3, 7, 10, 16, 51.289558}", 
    "history" -> {"12", "", "", ""}, "context" -> "Q3`", "keywords" -> {}, 
    "specialkeywords" -> {}, "tutorialcollectionlinks" -> {}, "index" -> True,
     "label" -> "Q3 Symbol", "language" -> "en", "paclet" -> "Q3", "status" -> 
    "None", "summary" -> 
    "MatrixIn[op, bs] returns the matrix representation of operator op in \
basis bs. The basis bs may be a list of kets or an association of such lists. \
MatrixIn[bs] provides the operator form of MatrixIn. MatrixIn[op, {a1, a2, \
...}, {b1, b2, ...}] calculates the matrix elements Bra[ai] op Ket[bj].", 
    "synonyms" -> {}, "tabletags" -> {}, "title" -> "MatrixIn", 
    "titlemodifier" -> "", "windowtitle" -> "MatrixIn", "type" -> "Symbol", 
    "uri" -> "Q3/ref/MatrixIn", "WorkflowDockedCell" -> ""}, 
  "SearchTextTranslated" -> ""},
CellContext->"Global`",
FrontEndVersion->"13.0 for Mac OS X x86 (64-bit) (February 4, 2022)",
StyleDefinitions->Notebook[{
   Cell[
    StyleData[
    StyleDefinitions -> FrontEnd`FileName[{"Wolfram"}, "Reference.nb"]]], 
   Cell[
    StyleData["Input"], CellContext -> "Global`"], 
   Cell[
    StyleData["Output"], CellContext -> "Global`"]}, Visible -> False, 
  FrontEndVersion -> "13.0 for Mac OS X x86 (64-bit) (February 4, 2022)", 
  StyleDefinitions -> "Default.nb"],
ExpressionUUID->"a85a2f30-8a42-44e0-87dc-8f1b55fe9c59"
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{
 "PrimaryExamplesSection"->{
  Cell[12043, 327, 1389, 37, 36, "PrimaryExamplesSection",ExpressionUUID->"38c88bf2-979d-4baf-9215-e0fea39e9d59",
   CellTags->"PrimaryExamplesSection",
   CellID->590150512]}
 }
*)
(*CellTagsIndex
CellTagsIndex->{
 {"PrimaryExamplesSection", 30878, 928}
 }
*)
(*NotebookFileOutline
Notebook[{
Cell[580, 21, 4653, 112, 57, "AnchorBarGrid",ExpressionUUID->"a67fa3f8-d57e-4518-8885-128abeca603f",
 CellID->1],
Cell[5236, 135, 85, 0, 23, "ContextNameCell",ExpressionUUID->"7c5d563a-523a-4092-a1e3-8aafd01ea2c5"],
Cell[CellGroupData[{
Cell[5346, 139, 551, 14, 60, "ObjectNameGrid",ExpressionUUID->"45b01124-b509-464d-b663-e6079582d2b7"],
Cell[5900, 155, 3803, 107, 278, "Usage",ExpressionUUID->"fbfea599-2990-4981-a33b-1947325c454f",
 CellID->349230598]
}, Open  ]],
Cell[CellGroupData[{
Cell[9740, 267, 1851, 47, 38, "NotesSection",ExpressionUUID->"182a9cf9-b2b6-455f-be2b-d98ff5aeae26",
 CellGroupingRules->{"SectionGrouping", 50},
 CellID->901602592],
Cell[11594, 316, 322, 5, 57, "Notes",ExpressionUUID->"3e96f4b1-6d4b-46ec-966c-23c565a2c07b",
 CellID->445853335]
}, Dynamic[CurrentValue[EvaluationNotebook[], {TaggingRules, "Openers", "NotesSection"}, Closed]]]],
Cell[CellGroupData[{
Cell[12043, 327, 1389, 37, 36, "PrimaryExamplesSection",ExpressionUUID->"38c88bf2-979d-4baf-9215-e0fea39e9d59",
 CellTags->"PrimaryExamplesSection",
 CellID->590150512],
Cell[CellGroupData[{
Cell[13457, 368, 1368, 36, 31, "ExampleSection",ExpressionUUID->"d2fe8d14-90cd-4ba1-a70f-e037232d4426",
 CellID->1580173338],
Cell[14828, 406, 146, 3, 29, "Input",ExpressionUUID->"50b8b060-3ce6-46c5-ab62-9d6cd4c435c8",
 CellID->1983402357],
Cell[14977, 411, 182, 4, 29, "Input",ExpressionUUID->"53186733-219f-4d57-8c7c-f5d03d4c648e",
 CellID->1890200589],
Cell[CellGroupData[{
Cell[15184, 419, 327, 9, 29, "Input",ExpressionUUID->"15de893f-2dca-4743-ba22-73bd41be37c8",
 CellID->1908513024],
Cell[15514, 430, 1501, 54, 39, "Output",ExpressionUUID->"742c0218-1528-467d-a1cb-e1a24763996b",
 CellID->23877152]
}, Open  ]],
Cell[CellGroupData[{
Cell[17052, 489, 375, 11, 48, "Input",ExpressionUUID->"8eabe437-1b79-4ac6-846f-087854a51bf5",
 CellID->395648964],
Cell[17430, 502, 849, 25, 100, "Output",ExpressionUUID->"6d12e506-ad18-4970-a98f-83be22c88599",
 CellID->662091652]
}, Open  ]],
Cell[CellGroupData[{
Cell[18316, 532, 256, 7, 70, "Input",ExpressionUUID->"c87af487-d46b-46b2-8fc8-982e60d35f68",
 CellID->1316089671],
Cell[18575, 541, 1073, 34, 41, "Output",ExpressionUUID->"3965bbfe-ed18-4aa0-90ad-5657f502bf17",
 CellID->750973580]
}, Open  ]],
Cell[CellGroupData[{
Cell[19685, 580, 295, 7, 70, "Input",ExpressionUUID->"0d38699b-c6f0-4cbf-81db-b981a5b3e402",
 CellID->1985352458],
Cell[19983, 589, 711, 21, 100, "Output",ExpressionUUID->"e9c3f2bf-ff85-4c70-b39e-3028ede31813",
 CellID->1258697407]
}, Open  ]],
Cell[CellGroupData[{
Cell[20731, 615, 242, 5, 70, "ExampleDelimiter",ExpressionUUID->"247f1224-75d3-46d2-bad1-ca79c0107606",
 CellID->977282934],
Cell[CellGroupData[{
Cell[20998, 624, 513, 15, 70, "Input",ExpressionUUID->"e998119e-b46a-4e26-9605-b8bbb47207bc",
 CellID->275609684],
Cell[21514, 641, 2810, 97, 63, "Output",ExpressionUUID->"0cb9892a-532d-4fd1-9f2e-49c02a868eaa",
 CellID->1312033933]
}, Open  ]],
Cell[CellGroupData[{
Cell[24361, 743, 397, 10, 70, "Input",ExpressionUUID->"02abed54-2463-4371-b54b-482ea0525776",
 CellID->969610344],
Cell[24761, 755, 1924, 64, 69, "Output",ExpressionUUID->"afb9c0e7-b694-4ee2-a495-a8858bd57250",
 CellID->121241239]
}, Open  ]]
}, Open  ]]
}, Dynamic[CurrentValue[EvaluationNotebook[], {TaggingRules, "Openers", "ExampleSection", "0"}, Closed]]]]
}, Dynamic[CurrentValue[EvaluationNotebook[], {TaggingRules, "Openers", "PrimaryExamplesSection"}, Closed]]]],
Cell[26939, 829, 1829, 50, 70, "SeeAlsoSection",ExpressionUUID->"378edc1e-07f2-4af0-b98e-e7bd0cf34743"],
Cell[28771, 881, 78, 0, 70, "FooterCell",ExpressionUUID->"65a3f74b-0bfe-41a7-8938-ab87b6e94b1d"]
}
]
*)

(* End of internal cache information *)

