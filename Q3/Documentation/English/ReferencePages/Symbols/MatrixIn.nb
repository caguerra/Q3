(* Content-type: application/vnd.wolfram.mathematica *)

(*** Wolfram Notebook File ***)
(* http://www.wolfram.com/nb *)

(* CreatedBy='Mathematica 13.0' *)

(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[       158,          7]
NotebookDataLength[     34859,       1015]
NotebookOptionsPosition[     28929,        885]
NotebookOutlinePosition[     31311,        944]
CellTagsIndexPosition[     31226,        939]
WindowTitle->MatrixIn
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{
Cell[BoxData[GridBox[{
   {GridBox[{
      {
       ItemBox[Cell[BoxData[
         RowBox[{
          TemplateBox[{12},
           "Spacer1"], Cell["Q3 SYMBOL", "PacletNameCell",
           TextAlignment->Center,ExpressionUUID->
           "9be1ddf1-ff16-4d48-bdb4-46e744d42136"], 
          TemplateBox[{8},
           "Spacer1"]}]],
         TextAlignment->Center,ExpressionUUID->
         "f020de2f-2bab-444f-8d5a-294c1474b675"],
        Background->RGBColor[0.490196, 0.576471, 0.690196],
        ItemSize->Full], ""}
     },
     GridBoxAlignment->{"Rows" -> {{Center}}},
     GridBoxItemSize->{"Columns" -> {Full, 
         Scaled[0.02]}, "Rows" -> {{2.5}}}], Cell[TextData[{
     Cell[BoxData[
      TagBox[
       ActionMenuBox[
        FrameBox[Cell[TextData[{
          "See Also",
          " ",
          Cell[BoxData[
           GraphicsBox[
            {GrayLevel[0.66667], Thickness[0.13], 
             LineBox[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]},
            AspectRatio->1,
            AxesStyle->Large,
            FrameStyle->Large,
            ImageSize->20,
            PlotRange->{{-3, 4}, {-1, 1}},
            PlotRangePadding->Scaled[0.025]]],ExpressionUUID->
           "31158047-f995-4c79-908a-83d296f70edb"]
         }],ExpressionUUID->"76e95816-2630-4fa5-a9d1-00a51e170e45"],
         StripOnInput->False], {"\<\"Matrix\"\>":>Documentation`HelpLookup[
        "paclet:Q3/ref/Matrix"], "\<\"TheMatrix\"\>":>
        Documentation`HelpLookup[
        "paclet:Q3/ref/TheMatrix"], "\<\"FockMatrix\"\>":>
        Documentation`HelpLookup["paclet:Q3/ref/FockMatrix"]},
        Appearance->None,
        MenuAppearance->Automatic,
        MenuStyle->"SeeAlso"],
       MouseAppearanceTag["LinkHand"]]],
      LineSpacing->{1.4, 0},ExpressionUUID->
      "e69b18ee-e48b-46e7-b149-da6fddf7c96e"],
     "\[ThickSpace]\[ThickSpace]\[ThickSpace]\[ThickSpace]\[ThickSpace]\
\[ThickSpace]",
     Cell[BoxData[
      TagBox[
       ActionMenuBox[
        FrameBox[Cell[TextData[{
          "URL",
          " ",
          Cell[BoxData[
           GraphicsBox[
            {GrayLevel[0.66667], Thickness[0.13], 
             LineBox[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]},
            AspectRatio->1,
            AxesStyle->Large,
            FrameStyle->Large,
            ImageSize->20,
            PlotRange->{{-3, 4}, {-1, 1}},
            PlotRangePadding->Scaled[0.025]]],ExpressionUUID->
           "15fb850e-78a6-4df4-bf27-9576e92eed6a"]
         }],ExpressionUUID->"258c2308-d626-4846-b589-35650e1a732a"],
         StripOnInput->False], {"\<\"Q3/ref/MatrixIn\"\>":>
        None, "\<\"Copy Wolfram Documentation Center URL\"\>":>
        Module[{DocumentationSearch`Private`nb$}, 
         DocumentationSearch`Private`nb$ = NotebookPut[
            Notebook[{
              Cell["Q3/ref/MatrixIn"]}, Visible -> False]]; 
         SelectionMove[DocumentationSearch`Private`nb$, All, Notebook]; 
         FrontEndTokenExecute[DocumentationSearch`Private`nb$, "Copy"]; 
         NotebookClose[DocumentationSearch`Private`nb$]; Null], 
        Delimiter, "\<\"Copy web URL\"\>":>
        Module[{DocumentationSearch`Private`nb$}, 
         DocumentationSearch`Private`nb$ = NotebookPut[
            Notebook[{
              Cell[
               BoxData[
                MakeBoxes[
                 Hyperlink[
                 "http://reference.wolfram.com/language/Q3/ref/MatrixIn.html"]\
, StandardForm]], "Input", TextClipboardType -> "PlainText"]}, Visible -> 
             False]]; SelectionMove[
          DocumentationSearch`Private`nb$, All, Notebook]; 
         FrontEndTokenExecute[DocumentationSearch`Private`nb$, "Copy"]; 
         NotebookClose[DocumentationSearch`Private`nb$]; 
         Null], "\<\"Go to web URL\"\>":>FrontEndExecute[{
          NotebookLocate[{
            URL[If[
               TrueQ[DocumentationBuild`Make`Private`wsmlinkQ$117703], 
               "http://reference.wolfram.com/system-modeler/", 
               "http://reference.wolfram.com/language/"] <> "Q3/ref/MatrixIn" <> 
             ".html"], None}]}]},
        Appearance->None,
        MenuAppearance->Automatic,
        MenuStyle->"URLMenu"],
       MouseAppearanceTag["LinkHand"]]],
      LineSpacing->{1.4, 0},ExpressionUUID->
      "15533c37-85e6-41aa-94c7-8b672cdab5e3"]
    }], "AnchorBar",
     CacheGraphics->False,ExpressionUUID->
     "13637ab0-8d71-4192-b0c8-6f7c5d66858b"]}
  }]], "AnchorBarGrid",
 GridBoxOptions->{GridBoxItemSize->{"Columns" -> {
     Scaled[0.65], {
      Scaled[0.34]}}, "ColumnsIndexed" -> {}, "Rows" -> {{1.}}, 
   "RowsIndexed" -> {}}},
 CellID->1,ExpressionUUID->"1d5bc8cc-1355-425a-a2dd-3bc7f4d80e1c"],

Cell["Q3`", "ContextNameCell",
 CellID->1979487938,ExpressionUUID->"84178c3e-92bb-4fcb-800d-0eb04e0c5e61"],

Cell[CellGroupData[{

Cell[BoxData[GridBox[{
   {Cell[TextData[{
     Cell[
     "MatrixIn", "ObjectName",ExpressionUUID->
      "c097b03e-c4d5-4622-b4ee-a59c567a1d2f"],
     Cell[BoxData[
      TemplateBox[{8},
       "Spacer1"]],ExpressionUUID->"86fdfc50-a824-4584-aed9-afc29b679731"],
     Cell[BoxData[
     ""], "ObjectNameTranslation",ExpressionUUID->
      "5bca6c67-d2ad-4009-9537-5e1c2c4ba399"]
    }],ExpressionUUID->"369e6f51-f4aa-40c6-9cba-7df23f886447"], 
    "\[SpanFromLeft]"}
  }]], "ObjectNameGrid",
 CellID->437114642,ExpressionUUID->"ea11035c-ba1e-4df4-bba6-d7e48b20e151"],

Cell[BoxData[GridBox[{
   {"", Cell[TextData[{
     Cell[BoxData[
      RowBox[{
       TemplateBox[{
         Cell[
          TextData["MatrixIn"]], "paclet:Q3/ref/MatrixIn", 
         "Q3 Package Symbol"},
        "PackageLink",
        BaseStyle->"InlineFormula"], "[", 
       RowBox[{
        StyleBox["op", "TI"], ",", 
        StyleBox["bs", "TI"]}], "]"}]], "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "4346bab4-5e06-479d-8b3f-916b8b78dfef"],
     " \[LineSeparator]returns the matrix representation of operator ",
     Cell[BoxData[
      StyleBox["op", "TI"]], "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "6df4c653-278b-488d-9022-140a6783c66f"],
     " in basis ",
     Cell[BoxData[
      StyleBox["bs", "TI"]], "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "fc5d5593-f6aa-4061-be26-cb2dc7ef9839"],
     ". The basis ",
     Cell[BoxData[
      StyleBox["bs", "TI"]], "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "36c662cc-0b45-4409-9a41-6f53ea17947a"],
     " may be a list of kets or an association of such lists."
    }],ExpressionUUID->"42afa1fb-f8ea-40be-9ddf-1f4138f89975"]},
   {"", Cell[TextData[{
     Cell[BoxData[
      RowBox[{
       TemplateBox[{
         Cell[
          TextData["MatrixIn"]], "paclet:Q3/ref/MatrixIn", 
         "Q3 Package Symbol"},
        "PackageLink",
        BaseStyle->"InlineFormula"], "[", 
       StyleBox["bs", "TI"], "]"}]], "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "2f3e19ff-4779-42be-ba04-040c87c4abcf"],
     "\[LineSeparator]provides the operator form of ",
     Cell[BoxData[
      TemplateBox[{
        Cell[
         TextData["MatrixIn"]], "paclet:Q3/ref/MatrixIn", "Q3 Package Symbol"},
       "PackageLink",
       BaseStyle->"InlineFormula"]], "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "f069c2ac-13fc-4672-a553-2f8fb9a05111"],
     "."
    }],ExpressionUUID->"9ac70f70-898e-4792-ac06-2c3fe3321687"]},
   {"", Cell[TextData[{
     Cell[BoxData[
      RowBox[{
       TemplateBox[{
         Cell[
          TextData["MatrixIn"]], "paclet:Q3/ref/MatrixIn", 
         "Q3 Package Symbol"},
        "PackageLink",
        BaseStyle->"InlineFormula"], "[", 
       RowBox[{
        StyleBox["op", "TI"], ",", 
        RowBox[{"{", 
         RowBox[{
          SubscriptBox[
           StyleBox["a", "TI"], 
           StyleBox["1", "TR"]], ",", 
          SubscriptBox[
           StyleBox["a", "TI"], 
           StyleBox["2", "TR"]], ",", 
          StyleBox["\[Ellipsis]", "TR"]}], "}"}], ",", 
        RowBox[{"{", 
         RowBox[{
          SubscriptBox[
           StyleBox["b", "TI"], 
           StyleBox["1", "TR"]], ",", 
          SubscriptBox[
           StyleBox["b", "TI"], 
           StyleBox["2", "TR"]], ",", 
          StyleBox["\[Ellipsis]", "TR"]}], "}"}]}], "]"}]], "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "5a9b23a6-271a-4100-9ba0-701f805ba52c"],
     "\[LineSeparator]calculates the matrix elements ",
     Cell[BoxData[
      FormBox[
       RowBox[{
        TemplateBox[{
          SubscriptBox[
           StyleBox["a", "TI"], 
           StyleBox["i", "TI"]]},
         "Bra"], 
        StyleBox["op", "TI"], 
        TemplateBox[{
          SubscriptBox[
           StyleBox["b", "TI"], 
           StyleBox["j", "TI"]]},
         "Ket"]}], TraditionalForm]],ExpressionUUID->
      "52a23e89-7007-4e3f-a7aa-2576716d4c75"],
     "."
    }],ExpressionUUID->"03b04601-0866-4e7a-aa74-199b5c4e94be"]}
  }]], "Usage",
 GridBoxOptions->{
 GridBoxBackground->{"Columns" -> {{None}}, "Rows" -> {None, None, {None}}}},
 CellID->349230598,ExpressionUUID->"fbfea599-2990-4981-a33b-1947325c454f"]
}, Open  ]],

Cell[CellGroupData[{

Cell[TextData[Cell[BoxData[
 ButtonBox[Cell[TextData[{
   Cell[BoxData[
    DynamicBox[ToBoxes[
      If[
       MatchQ[
        CurrentValue[
         EvaluationNotebook[], {TaggingRules, "Openers", "NotesSection"}, 
         Closed], 
        Alternatives[Open, True]], 
       Style[
        Graphics[{
          Thickness[0.18], 
          RGBColor[0.8509803921568627, 0.396078431372549, 0], 
          Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
         PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
        0.68 Inherited], 
       Rotate[
        Style[
         Graphics[{
           Thickness[0.18], 
           RGBColor[0.8509803921568627, 0.396078431372549, 0], 
           Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
          PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
         0.68 Inherited], Rational[1, 2] Pi, {-1.65, -1}]]],
     ImageSizeCache->{14., {5., 9.}}]],ExpressionUUID->
    "d42727c8-8afc-4a32-ae1c-3159316d5f01"],
   Cell[BoxData[
    TemplateBox[{1},
     "Spacer1"]],ExpressionUUID->"972d1f35-8c22-4076-88a8-6b4c6f128b22"],
   "Details"
  }], "NotesFrameText",ExpressionUUID->"b66406a3-3ad8-4732-92b7-98006211a4f4"],
  Appearance->{Automatic, None, "Normal", Automatic},
  BaseStyle->None,
  ButtonFunction:>(FrontEndExecute[{
     FrontEnd`SelectionMove[
      FrontEnd`SelectedNotebook[], All, ButtonCell], 
     FrontEndToken["OpenCloseGroup"], 
     FrontEnd`SelectionMove[
      FrontEnd`SelectedNotebook[], After, CellContents]}]& ),
  Evaluator->None,
  Method->
   "Preemptive"]],ExpressionUUID->"1f9b79bb-28b2-4781-bb32-a09e56c4c1c3"]], \
"NotesSection",
 WholeCellGroupOpener->True,
 CellGroupingRules->{"SectionGrouping", 50},
 CacheGraphics->False,
 CellID->44231707,ExpressionUUID->"0212ef56-6f05-4935-98a6-f40876b4930a"],

Cell["\<\
Usually, it is more efficient to use Matrix. Sometimes, however, it is \
required to construct the matrix representation in the specific basis. A \
typical example is when one works in a subspace with a noncanonical basis.\
\>", "Notes",
 CellID->445853335,ExpressionUUID->"3e96f4b1-6d4b-46ec-966c-23c565a2c07b"]
}, Dynamic[CurrentValue[
 EvaluationNotebook[], {TaggingRules, "Openers", "NotesSection"}, Closed]]]],

Cell[CellGroupData[{

Cell[TextData[{
 Cell[BoxData[
  DynamicBox[ToBoxes[
    If[
     MatchQ[
      CurrentValue[
       EvaluationNotebook[], {
       TaggingRules, "Openers", "PrimaryExamplesSection"}, Open], 
      Alternatives[True, Open]], 
     Style[
      Graphics[{
        Thickness[0.18], 
        RGBColor[0.8509803921568627, 0.396078431372549, 0], 
        Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
       PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
      0.68 Inherited], 
     Rotate[
      Style[
       Graphics[{
         Thickness[0.18], 
         RGBColor[0.8509803921568627, 0.396078431372549, 0], 
         Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
        PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
       0.68 Inherited], Rational[1, 2] Pi, {-1.65, -1}]]],
   ImageSizeCache->{14., {5., 9.}}]],ExpressionUUID->
  "aa3d1683-2b61-42e8-b470-ec50289c0a72"],
 Cell[BoxData[
  TemplateBox[{1},
   "Spacer1"]],ExpressionUUID->"56f5ffe8-51c6-4b10-8f21-6bffa4713805"],
 "Examples",
 "\[NonBreakingSpace]\[NonBreakingSpace]",
 Cell["(2)", "ExampleCount",ExpressionUUID->
  "a0ff924f-9b29-4d6f-9ff1-1f72b2c771d9"]
}], "PrimaryExamplesSection",
 WholeCellGroupOpener->True,
 CacheGraphics->False,
 CellTags->"PrimaryExamplesSection",
 CellID->372957687,ExpressionUUID->"33f05739-dfae-42e5-8090-d85b8be3f7ef"],

Cell[CellGroupData[{

Cell[TextData[{
 Cell[BoxData[
  DynamicBox[ToBoxes[
    If[
     MatchQ[
      CurrentValue[
       EvaluationNotebook[], {TaggingRules, "Openers", "ExampleSection", "0"},
        Closed], 
      Alternatives[Open, True]], 
     Style[
      Graphics[{
        Thickness[0.18], 
        RGBColor[0.8509803921568627, 0.396078431372549, 0], 
        Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
       PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
      0.68 Inherited], 
     Rotate[
      Style[
       Graphics[{
         Thickness[0.18], 
         RGBColor[0.8509803921568627, 0.396078431372549, 0], 
         Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
        PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
       0.68 Inherited], Rational[1, 2] Pi, {-1.65, -1}]]],
   ImageSizeCache->{14., {5., 9.}}]],ExpressionUUID->
  "87c37e88-bc69-48a2-829d-58f9dfab7a33"],
 Cell[BoxData[
  TemplateBox[{1},
   "Spacer1"]],ExpressionUUID->"84763a4a-2eda-4033-9622-d58b9c3aa486"],
 "Basic Examples",
 "\[NonBreakingSpace]\[NonBreakingSpace]",
 Cell["(2)", "ExampleCount",ExpressionUUID->
  "b3e3f6d8-5427-44d2-9c30-1684c60d3f81"]
}], "ExampleSection", "ExampleSection",
 WholeCellGroupOpener->True,
 CacheGraphics->False,
 CellID->1942563463,ExpressionUUID->"f262d64f-9c1c-45ef-8e2a-32af79bea5f5"],

Cell[BoxData[
 RowBox[{"<<", "Q3`"}]], "Input",
 CellLabel->"In[1]:=",
 CellID->1983402357,ExpressionUUID->"50b8b060-3ce6-46c5-ab62-9d6cd4c435c8"],

Cell[BoxData[
 RowBox[{"Let", "[", 
  RowBox[{"Qubit", ",", "S"}], "]"}]], "Input",
 CellLabel->"In[2]:=",
 CellID->1890200589,ExpressionUUID->"53186733-219f-4d57-8c7c-f5d03d4c648e"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"op", "=", 
  RowBox[{"MultiplyDot", "[", 
   RowBox[{
    RowBox[{"S", "[", 
     RowBox[{"1", ",", "All"}], "]"}], ",", 
    RowBox[{"S", "[", 
     RowBox[{"2", ",", "All"}], "]"}]}], "]"}]}]], "Input",
 CellLabel->"In[3]:=",
 CellID->1908513024,ExpressionUUID->"15de893f-2dca-4743-ba22-73bd41be37c8"],

Cell[BoxData[
 RowBox[{
  TagBox[
   RowBox[{
    TagBox[
     TemplateBox[{
       TemplateBox[{"S"}, "RowDefault"], 
       TemplateBox[{"1"}, "RowDefault"], 
       TemplateBox[{"\"x\""}, "RowDefault"]},
      "Subsuperscript"],
     DisplayForm], 
    TagBox[
     TemplateBox[{
       TemplateBox[{"S"}, "RowDefault"], 
       TemplateBox[{"2"}, "RowDefault"], 
       TemplateBox[{"\"x\""}, "RowDefault"]},
      "Subsuperscript"],
     DisplayForm]}],
   DisplayForm], "+", 
  TagBox[
   RowBox[{
    TagBox[
     TemplateBox[{
       TemplateBox[{"S"}, "RowDefault"], 
       TemplateBox[{"1"}, "RowDefault"], 
       TemplateBox[{"\"y\""}, "RowDefault"]},
      "Subsuperscript"],
     DisplayForm], 
    TagBox[
     TemplateBox[{
       TemplateBox[{"S"}, "RowDefault"], 
       TemplateBox[{"2"}, "RowDefault"], 
       TemplateBox[{"\"y\""}, "RowDefault"]},
      "Subsuperscript"],
     DisplayForm]}],
   DisplayForm], "+", 
  TagBox[
   RowBox[{
    TagBox[
     TemplateBox[{
       TemplateBox[{"S"}, "RowDefault"], 
       TemplateBox[{"1"}, "RowDefault"], 
       TemplateBox[{"\"z\""}, "RowDefault"]},
      "Subsuperscript"],
     DisplayForm], 
    TagBox[
     TemplateBox[{
       TemplateBox[{"S"}, "RowDefault"], 
       TemplateBox[{"2"}, "RowDefault"], 
       TemplateBox[{"\"z\""}, "RowDefault"]},
      "Subsuperscript"],
     DisplayForm]}],
   DisplayForm]}]], "Output",
 CellLabel->"Out[3]=",
 CellID->23877152,ExpressionUUID->"742c0218-1528-467d-a1cb-e1a24763996b"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"mat", "=", 
   RowBox[{"Matrix", "[", 
    RowBox[{"op", ",", 
     RowBox[{"S", "@", 
      RowBox[{"{", 
       RowBox[{"1", ",", "2"}], "}"}]}]}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{"mat", "//", "MatrixForm"}]}], "Input",
 CellLabel->"In[4]:=",
 CellID->395648964,ExpressionUUID->"8eabe437-1b79-4ac6-846f-087854a51bf5"],

Cell[BoxData[
 TagBox[
  RowBox[{"(", "\[NoBreak]", GridBox[{
     {"1", "0", "0", "0"},
     {"0", 
      RowBox[{"-", "1"}], "2", "0"},
     {"0", "2", 
      RowBox[{"-", "1"}], "0"},
     {"0", "0", "0", "1"}
    },
    GridBoxAlignment->{"Columns" -> {{Center}}, "Rows" -> {{Baseline}}},
    GridBoxSpacings->{"Columns" -> {
        Offset[0.27999999999999997`], {
         Offset[0.7]}, 
        Offset[0.27999999999999997`]}, "Rows" -> {
        Offset[0.2], {
         Offset[0.4]}, 
        Offset[0.2]}}], "\[NoBreak]", ")"}],
  Function[BoxForm`e$, 
   MatrixForm[
   SparseArray[
    Automatic, {4, 4}, 0, {
     1, {{0, 2, 4, 6, 8}, {{1}, {4}, {2}, {3}, {3}, {2}, {4}, {1}}}, {1, 
      0, -1, 2, -1, 2, 1, 0}}]]]]], "Output",
 CellLabel->"Out[4]//MatrixForm=",
 CellID->662091652,ExpressionUUID->"6d12e506-ad18-4970-a98f-83be22c88599"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"bs", "=", 
  RowBox[{"Basis", "[", 
   RowBox[{"S", "@", 
    RowBox[{"{", 
     RowBox[{"1", ",", "2"}], "}"}]}], "]"}]}]], "Input",
 CellLabel->"In[5]:=",
 CellID->1316089671,ExpressionUUID->"c87af487-d46b-46b2-8fc8-982e60d35f68"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   TemplateBox[{"\"\[SpaceIndicator]\""},
    "Ket"], ",", 
   TemplateBox[{
     TagBox[
      TemplateBox[{
        SubscriptBox["1", 
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"2"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
    "Ket"], ",", 
   TemplateBox[{
     TagBox[
      TemplateBox[{
        SubscriptBox["1", 
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"1"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
    "Ket"], ",", 
   TemplateBox[{
     TagBox[
      TemplateBox[{
        SubscriptBox["1", 
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"1"}, "RowDefault"]]], 
        SubscriptBox["1", 
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"2"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
    "Ket"]}], "}"}]], "Output",
 CellLabel->"Out[5]=",
 CellID->750973580,ExpressionUUID->"3965bbfe-ed18-4aa0-90ad-5657f502bf17"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"new", "=", 
   RowBox[{"MatrixIn", "[", 
    RowBox[{"op", ",", "bs"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"new", "//", "MatrixForm"}]}], "Input",
 CellLabel->"In[6]:=",
 CellID->1985352458,ExpressionUUID->"0d38699b-c6f0-4cbf-81db-b981a5b3e402"],

Cell[BoxData[
 TagBox[
  RowBox[{"(", "\[NoBreak]", GridBox[{
     {"1", "0", "0", "0"},
     {"0", 
      RowBox[{"-", "1"}], "2", "0"},
     {"0", "2", 
      RowBox[{"-", "1"}], "0"},
     {"0", "0", "0", "1"}
    },
    GridBoxAlignment->{"Columns" -> {{Center}}, "Rows" -> {{Baseline}}},
    GridBoxSpacings->{"Columns" -> {
        Offset[0.27999999999999997`], {
         Offset[0.7]}, 
        Offset[0.27999999999999997`]}, "Rows" -> {
        Offset[0.2], {
         Offset[0.4]}, 
        Offset[0.2]}}], "\[NoBreak]", ")"}],
  Function[BoxForm`e$, 
   MatrixForm[BoxForm`e$]]]], "Output",
 CellLabel->"Out[6]//MatrixForm=",
 CellID->1258697407,ExpressionUUID->"e9c3f2bf-ff85-4c70-b39e-3028ede31813"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 InterpretationBox[Cell[
  "\t", "ExampleDelimiter",ExpressionUUID->
   "2df4b870-9d9d-47da-976f-b6ef5c25d36a"],
  $Line = 0; Null]], "ExampleDelimiter",
 CellID->977282934,ExpressionUUID->"247f1224-75d3-46d2-bad1-ca79c0107606"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"bs", "=", 
   RowBox[{"KeyGroupBy", "[", 
    RowBox[{
     RowBox[{"SchurBasis", "[", 
      RowBox[{"S", "@", 
       RowBox[{"{", 
        RowBox[{"1", ",", "2"}], "}"}]}], "]"}], ",", "First", ",", 
     "Values"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"KeyMap", "[", 
  RowBox[{
   RowBox[{"YoungForm", "@*", "ToYoungTableau"}], ",", "bs"}], 
  "]"}]}], "Input",
 CellLabel->"In[1]:=",
 CellID->275609684,ExpressionUUID->"e998119e-b46a-4e26-9605-b8bbb47207bc"],

Cell[BoxData[
 RowBox[{"\[LeftAssociation]", 
  RowBox[{
   RowBox[{
    TagBox[GridBox[{
       {
        ItemBox["1",
         Frame->True,
         StripOnInput->False], 
        ItemBox["2",
         Frame->True,
         StripOnInput->False]}
      },
      AutoDelete->False,
      GridBoxItemSize->{"Columns" -> {{Automatic}}, "Rows" -> {{Automatic}}}],
     
     "Grid"], "\[Rule]", 
    RowBox[{"{", 
     RowBox[{
      TemplateBox[{"\"\[SpaceIndicator]\""},
       "Ket"], ",", 
      RowBox[{
       FractionBox[
        TemplateBox[{
          TagBox[
           TemplateBox[{
             SubscriptBox["1", 
              SubscriptBox[
               TemplateBox[{"S"}, "RowDefault"], 
               TemplateBox[{"1"}, "RowDefault"]]]}, "RowDefault"], 
           DisplayForm]},
         "Ket"], 
        SqrtBox["2"]], "+", 
       FractionBox[
        TemplateBox[{
          TagBox[
           TemplateBox[{
             SubscriptBox["1", 
              SubscriptBox[
               TemplateBox[{"S"}, "RowDefault"], 
               TemplateBox[{"2"}, "RowDefault"]]]}, "RowDefault"], 
           DisplayForm]},
         "Ket"], 
        SqrtBox["2"]]}], ",", 
      TemplateBox[{
        TagBox[
         TemplateBox[{
           SubscriptBox["1", 
            SubscriptBox[
             TemplateBox[{"S"}, "RowDefault"], 
             TemplateBox[{"1"}, "RowDefault"]]], 
           SubscriptBox["1", 
            SubscriptBox[
             TemplateBox[{"S"}, "RowDefault"], 
             TemplateBox[{"2"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
       "Ket"]}], "}"}]}], ",", 
   RowBox[{
    TagBox[GridBox[{
       {
        ItemBox["1",
         Frame->True,
         StripOnInput->False]},
       {
        ItemBox["2",
         Frame->True,
         StripOnInput->False]}
      },
      AutoDelete->False,
      GridBoxItemSize->{"Columns" -> {{Automatic}}, "Rows" -> {{Automatic}}}],
     
     "Grid"], "\[Rule]", 
    RowBox[{"{", 
     RowBox[{
      RowBox[{"-", 
       FractionBox[
        TemplateBox[{
          TagBox[
           TemplateBox[{
             SubscriptBox["1", 
              SubscriptBox[
               TemplateBox[{"S"}, "RowDefault"], 
               TemplateBox[{"1"}, "RowDefault"]]]}, "RowDefault"], 
           DisplayForm]},
         "Ket"], 
        SqrtBox["2"]]}], "+", 
      FractionBox[
       TemplateBox[{
         TagBox[
          TemplateBox[{
            SubscriptBox["1", 
             SubscriptBox[
              TemplateBox[{"S"}, "RowDefault"], 
              TemplateBox[{"2"}, "RowDefault"]]]}, "RowDefault"], 
          DisplayForm]},
        "Ket"], 
       SqrtBox["2"]]}], "}"}]}]}], "\[RightAssociation]"}]], "Output",
 CellLabel->"Out[1]=",
 CellID->1312033933,ExpressionUUID->"0cb9892a-532d-4fd1-9f2e-49c02a868eaa"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"mat", "=", 
   RowBox[{"MatrixIn", "[", 
    RowBox[{"op", ",", "bs"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"KeyMap", "[", 
  RowBox[{
   RowBox[{"YoungForm", "@*", "ToYoungTableau"}], ",", 
   RowBox[{"MatrixForm", "/@", "mat"}]}], "]"}]}], "Input",
 CellLabel->"In[2]:=",
 CellID->969610344,ExpressionUUID->"02abed54-2463-4371-b54b-482ea0525776"],

Cell[BoxData[
 RowBox[{"\[LeftAssociation]", 
  RowBox[{
   RowBox[{
    TagBox[GridBox[{
       {
        ItemBox["1",
         Frame->True,
         StripOnInput->False], 
        ItemBox["2",
         Frame->True,
         StripOnInput->False]}
      },
      AutoDelete->False,
      GridBoxItemSize->{"Columns" -> {{Automatic}}, "Rows" -> {{Automatic}}}],
     
     "Grid"], "\[Rule]", 
    TagBox[
     RowBox[{"(", "\[NoBreak]", GridBox[{
        {"1", "0", "0"},
        {"0", "1", "0"},
        {"0", "0", "1"}
       },
       GridBoxAlignment->{"Columns" -> {{Center}}, "Rows" -> {{Baseline}}},
       GridBoxSpacings->{"Columns" -> {
           Offset[0.27999999999999997`], {
            Offset[0.7]}, 
           Offset[0.27999999999999997`]}, "Rows" -> {
           Offset[0.2], {
            Offset[0.4]}, 
           Offset[0.2]}}], "\[NoBreak]", ")"}],
     Function[BoxForm`e$, 
      MatrixForm[BoxForm`e$]]]}], ",", 
   RowBox[{
    TagBox[GridBox[{
       {
        ItemBox["1",
         Frame->True,
         StripOnInput->False]},
       {
        ItemBox["2",
         Frame->True,
         StripOnInput->False]}
      },
      AutoDelete->False,
      GridBoxItemSize->{"Columns" -> {{Automatic}}, "Rows" -> {{Automatic}}}],
     
     "Grid"], "\[Rule]", 
    TagBox[
     RowBox[{"(", "\[NoBreak]", GridBox[{
        {
         RowBox[{"-", "3"}]}
       },
       GridBoxAlignment->{"Columns" -> {{Center}}, "Rows" -> {{Baseline}}},
       GridBoxSpacings->{"Columns" -> {
           Offset[0.27999999999999997`], {
            Offset[0.7]}, 
           Offset[0.27999999999999997`]}, "Rows" -> {
           Offset[0.2], {
            Offset[0.4]}, 
           Offset[0.2]}}], "\[NoBreak]", ")"}],
     Function[BoxForm`e$, 
      MatrixForm[BoxForm`e$]]]}]}], "\[RightAssociation]"}]], "Output",
 CellLabel->"Out[2]=",
 CellID->121241239,ExpressionUUID->"afb9c0e7-b694-4ee2-a495-a8858bd57250"]
}, Open  ]]
}, Open  ]]
}, Dynamic[CurrentValue[
 EvaluationNotebook[], {TaggingRules, "Openers", "ExampleSection", "0"}, 
  Closed]]]]
}, Dynamic[CurrentValue[
 EvaluationNotebook[], {TaggingRules, "Openers", "PrimaryExamplesSection"}, 
  Closed]]]],

Cell[BoxData[GridBox[{
   {
    DynamicBox[FEPrivate`ImportImage[
      FrontEnd`FileName[{"Documentation", "FooterIcons"}, 
       "RelatedFunction.png"]],
     ImageSizeCache->{50., {27., 33.}}], GridBox[{
      {
       StyleBox[
        RowBox[{"See", " ", "Also"}], "SeeAlsoSection"]},
      {Cell[TextData[{
        Cell[BoxData[
         TemplateBox[{
           Cell[
            TextData["Matrix"]], "paclet:Q3/ref/Matrix", "Q3 Package Symbol"},
          
          "PackageLink",
          BaseStyle->"InlineFormula"]], "InlineFormula",
         FontFamily->"Source Sans Pro",ExpressionUUID->
         "7f07bd01-9072-489a-ba02-e9edb965b10b"],
        "\[NonBreakingSpace]",
        StyleBox[
        "\[MediumSpace]\[FilledVerySmallSquare]\[MediumSpace]", 
         "InlineSeparator"],
        " ",
        Cell[BoxData[
         TemplateBox[{
           Cell[
            TextData["TheMatrix"]], "paclet:Q3/ref/TheMatrix", 
           "Q3 Package Symbol"},
          "PackageLink",
          BaseStyle->"InlineFormula"]], "InlineFormula",
         FontFamily->"Source Sans Pro",ExpressionUUID->
         "78a9b2bf-8828-4429-a220-7367153de6e7"],
        "\[NonBreakingSpace]",
        StyleBox[
        "\[MediumSpace]\[FilledVerySmallSquare]\[MediumSpace]", 
         "InlineSeparator"],
        " ",
        Cell[BoxData[
         TemplateBox[{
           Cell[
            TextData["FockMatrix"]], "paclet:Q3/ref/FockMatrix", 
           "Q3 Package Symbol"},
          "PackageLink",
          BaseStyle->"InlineFormula"]], "InlineFormula",
         FontFamily->"Source Sans Pro",ExpressionUUID->
         "c6cb63a3-3bb3-493f-ba79-228b3644d80e"]
       }], "SeeAlso",ExpressionUUID->"cf827a93-45f3-4a29-8b04-234e82c45c60"]}
     }]}
  }]], "SeeAlsoSection",
 CellID->470237300,ExpressionUUID->"11a75a65-8bbb-47f0-9136-cbdf0ce4ff7b"],

Cell[" ", "FooterCell",
 CellID->538480140,ExpressionUUID->"f4ad6821-173f-436d-8ffb-92f8cb6563b8"]
},
Saveable->False,
ScreenStyleEnvironment->"Working",
WindowSize->{900, 830},
WindowMargins->{{0, Automatic}, {Automatic, 0}},
WindowTitle->"MatrixIn",
TaggingRules->{
 "ModificationHighlight" -> False, "ColorType" -> "", "LinkTrails" -> "", 
  "ExampleCounter" -> 1, 
  "Openers" -> {
   "PrimaryExamplesSection" -> Open, "ExampleSection" -> {"0" -> Open}, 
    "NotesSection" -> Closed}, "NewStyles" -> True, 
  "CitationPopupData" -> $Failed, "ShowCitation" -> False, "RootCaptions" -> 
  "", "Metadata" -> {
   "built" -> "{2022, 4, 4, 12, 49, 0.414284}", 
    "history" -> {"12", "", "", ""}, "context" -> "Q3`", "keywords" -> {}, 
    "specialkeywords" -> {}, "tutorialcollectionlinks" -> {}, "index" -> True,
     "label" -> "Q3 Symbol", "language" -> "en", "paclet" -> "Q3", "status" -> 
    "None", "summary" -> 
    "MatrixIn[op, bs] returns the matrix representation of operator op in \
basis bs. The basis bs may be a list of kets or an association of such lists. \
MatrixIn[bs] provides the operator form of MatrixIn. MatrixIn[op, {a1, a2, \
...}, {b1, b2, ...}] calculates the matrix elements Bra[ai] op Ket[bj].", 
    "synonyms" -> {}, "tabletags" -> {}, "title" -> "MatrixIn", 
    "titlemodifier" -> "", "windowtitle" -> "MatrixIn", "type" -> "Symbol", 
    "uri" -> "Q3/ref/MatrixIn", "WorkflowDockedCell" -> ""}, 
  "SearchTextTranslated" -> ""},
CellContext->"Global`",
FrontEndVersion->"13.0 for Mac OS X ARM (64-bit) (February 4, 2022)",
StyleDefinitions->Notebook[{
   Cell[
    StyleData[
    StyleDefinitions -> FrontEnd`FileName[{"Wolfram"}, "Reference.nb"]], 
    CellID -> 1460990247], 
   Cell[
    StyleData["Input"], CellContext -> "Global`", CellID -> 535061531], 
   Cell[
    StyleData["Output"], CellContext -> "Global`", CellID -> 1265121528]}, 
  Visible -> False, FrontEndVersion -> 
  "13.0 for Mac OS X ARM (64-bit) (February 4, 2022)", StyleDefinitions -> 
  "Default.nb"],
ExpressionUUID->"2a419ce9-e583-47f5-9d61-3768c6ab4ab9"
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{
 "PrimaryExamplesSection"->{
  Cell[12081, 328, 1389, 37, 36, "PrimaryExamplesSection",ExpressionUUID->"33f05739-dfae-42e5-8090-d85b8be3f7ef",
   CellTags->"PrimaryExamplesSection",
   CellID->372957687]}
 }
*)
(*CellTagsIndex
CellTagsIndex->{
 {"PrimaryExamplesSection", 31026, 932}
 }
*)
(*NotebookFileOutline
Notebook[{
Cell[580, 21, 4653, 112, 57, "AnchorBarGrid",ExpressionUUID->"1d5bc8cc-1355-425a-a2dd-3bc7f4d80e1c",
 CellID->1],
Cell[5236, 135, 106, 1, 23, "ContextNameCell",ExpressionUUID->"84178c3e-92bb-4fcb-800d-0eb04e0c5e61",
 CellID->1979487938],
Cell[CellGroupData[{
Cell[5367, 140, 569, 14, 60, "ObjectNameGrid",ExpressionUUID->"ea11035c-ba1e-4df4-bba6-d7e48b20e151",
 CellID->437114642],
Cell[5939, 156, 3803, 107, 278, "Usage",ExpressionUUID->"fbfea599-2990-4981-a33b-1947325c454f",
 CellID->349230598]
}, Open  ]],
Cell[CellGroupData[{
Cell[9779, 268, 1850, 47, 38, "NotesSection",ExpressionUUID->"0212ef56-6f05-4935-98a6-f40876b4930a",
 CellGroupingRules->{"SectionGrouping", 50},
 CellID->44231707],
Cell[11632, 317, 322, 5, 57, "Notes",ExpressionUUID->"3e96f4b1-6d4b-46ec-966c-23c565a2c07b",
 CellID->445853335]
}, Dynamic[CurrentValue[EvaluationNotebook[], {TaggingRules, "Openers", "NotesSection"}, Closed]]]],
Cell[CellGroupData[{
Cell[12081, 328, 1389, 37, 36, "PrimaryExamplesSection",ExpressionUUID->"33f05739-dfae-42e5-8090-d85b8be3f7ef",
 CellTags->"PrimaryExamplesSection",
 CellID->372957687],
Cell[CellGroupData[{
Cell[13495, 369, 1368, 36, 31, "ExampleSection",ExpressionUUID->"f262d64f-9c1c-45ef-8e2a-32af79bea5f5",
 CellID->1942563463],
Cell[14866, 407, 146, 3, 29, "Input",ExpressionUUID->"50b8b060-3ce6-46c5-ab62-9d6cd4c435c8",
 CellID->1983402357],
Cell[15015, 412, 182, 4, 29, "Input",ExpressionUUID->"53186733-219f-4d57-8c7c-f5d03d4c648e",
 CellID->1890200589],
Cell[CellGroupData[{
Cell[15222, 420, 327, 9, 29, "Input",ExpressionUUID->"15de893f-2dca-4743-ba22-73bd41be37c8",
 CellID->1908513024],
Cell[15552, 431, 1501, 54, 39, "Output",ExpressionUUID->"742c0218-1528-467d-a1cb-e1a24763996b",
 CellID->23877152]
}, Open  ]],
Cell[CellGroupData[{
Cell[17090, 490, 375, 11, 48, "Input",ExpressionUUID->"8eabe437-1b79-4ac6-846f-087854a51bf5",
 CellID->395648964],
Cell[17468, 503, 849, 25, 100, "Output",ExpressionUUID->"6d12e506-ad18-4970-a98f-83be22c88599",
 CellID->662091652]
}, Open  ]],
Cell[CellGroupData[{
Cell[18354, 533, 256, 7, 70, "Input",ExpressionUUID->"c87af487-d46b-46b2-8fc8-982e60d35f68",
 CellID->1316089671],
Cell[18613, 542, 1073, 34, 41, "Output",ExpressionUUID->"3965bbfe-ed18-4aa0-90ad-5657f502bf17",
 CellID->750973580]
}, Open  ]],
Cell[CellGroupData[{
Cell[19723, 581, 295, 7, 70, "Input",ExpressionUUID->"0d38699b-c6f0-4cbf-81db-b981a5b3e402",
 CellID->1985352458],
Cell[20021, 590, 711, 21, 100, "Output",ExpressionUUID->"e9c3f2bf-ff85-4c70-b39e-3028ede31813",
 CellID->1258697407]
}, Open  ]],
Cell[CellGroupData[{
Cell[20769, 616, 242, 5, 70, "ExampleDelimiter",ExpressionUUID->"247f1224-75d3-46d2-bad1-ca79c0107606",
 CellID->977282934],
Cell[CellGroupData[{
Cell[21036, 625, 513, 15, 70, "Input",ExpressionUUID->"e998119e-b46a-4e26-9605-b8bbb47207bc",
 CellID->275609684],
Cell[21552, 642, 2810, 97, 63, "Output",ExpressionUUID->"0cb9892a-532d-4fd1-9f2e-49c02a868eaa",
 CellID->1312033933]
}, Open  ]],
Cell[CellGroupData[{
Cell[24399, 744, 397, 10, 70, "Input",ExpressionUUID->"02abed54-2463-4371-b54b-482ea0525776",
 CellID->969610344],
Cell[24799, 756, 1924, 64, 69, "Output",ExpressionUUID->"afb9c0e7-b694-4ee2-a495-a8858bd57250",
 CellID->121241239]
}, Open  ]]
}, Open  ]]
}, Dynamic[CurrentValue[EvaluationNotebook[], {TaggingRules, "Openers", "ExampleSection", "0"}, Closed]]]]
}, Dynamic[CurrentValue[EvaluationNotebook[], {TaggingRules, "Openers", "PrimaryExamplesSection"}, Closed]]]],
Cell[26977, 830, 1847, 50, 70, "SeeAlsoSection",ExpressionUUID->"11a75a65-8bbb-47f0-9136-cbdf0ce4ff7b",
 CellID->470237300],
Cell[28827, 882, 98, 1, 70, "FooterCell",ExpressionUUID->"f4ad6821-173f-436d-8ffb-92f8cb6563b8",
 CellID->538480140]
}
]
*)

(* End of internal cache information *)

