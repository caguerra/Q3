(* Content-type: application/vnd.wolfram.mathematica *)

(*** Wolfram Notebook File ***)
(* http://www.wolfram.com/nb *)

(* CreatedBy='Mathematica 13.0' *)

(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[       158,          7]
NotebookDataLength[     34633,       1007]
NotebookOptionsPosition[     28854,        883]
NotebookOutlinePosition[     31165,        940]
CellTagsIndexPosition[     31080,        935]
WindowTitle->MatrixIn
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{
Cell[BoxData[GridBox[{
   {GridBox[{
      {
       ItemBox[Cell[BoxData[
         RowBox[{
          TemplateBox[{12},
           "Spacer1"], Cell["Q3 SYMBOL", "PacletNameCell",
           TextAlignment->Center,ExpressionUUID->
           "fc6bebac-c4d6-4af0-bc3d-565cb86180c8"], 
          TemplateBox[{8},
           "Spacer1"]}]],
         TextAlignment->Center,ExpressionUUID->
         "5093dc1a-d746-40df-a809-e1cd277c46bf"],
        Background->RGBColor[0.490196, 0.576471, 0.690196],
        ItemSize->Full], ""}
     },
     GridBoxAlignment->{"Rows" -> {{Center}}},
     GridBoxItemSize->{"Columns" -> {Full, 
         Scaled[0.02]}, "Rows" -> {{2.5}}}], Cell[TextData[{
     Cell[BoxData[
      TagBox[
       ActionMenuBox[
        FrameBox[Cell[TextData[{
          "See Also",
          " ",
          Cell[BoxData[
           GraphicsBox[
            {GrayLevel[0.66667], Thickness[0.13], 
             LineBox[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]},
            AspectRatio->1,
            AxesStyle->Large,
            FrameStyle->Large,
            ImageSize->20,
            PlotRange->{{-3, 4}, {-1, 1}},
            PlotRangePadding->Scaled[0.025]]],ExpressionUUID->
           "1242da24-ef7e-4bbd-a0e7-fd3ba5a17279"]
         }],ExpressionUUID->"d4042e92-7bde-404b-b2b0-44c1ec3a0844"],
         StripOnInput->False], {"\<\"Matrix\"\>":>Documentation`HelpLookup[
        "paclet:Q3/ref/Matrix"], "\<\"TheMatrix\"\>":>
        Documentation`HelpLookup[
        "paclet:Q3/ref/TheMatrix"], "\<\"FockMatrix\"\>":>
        Documentation`HelpLookup["paclet:Q3/ref/FockMatrix"]},
        Appearance->None,
        MenuAppearance->Automatic,
        MenuStyle->"SeeAlso"],
       MouseAppearanceTag["LinkHand"]]],
      LineSpacing->{1.4, 0},ExpressionUUID->
      "86b14ad9-b7b0-4088-a7eb-8fc06fc5c548"],
     "\[ThickSpace]\[ThickSpace]\[ThickSpace]\[ThickSpace]\[ThickSpace]\
\[ThickSpace]",
     Cell[BoxData[
      TagBox[
       ActionMenuBox[
        FrameBox[Cell[TextData[{
          "URL",
          " ",
          Cell[BoxData[
           GraphicsBox[
            {GrayLevel[0.66667], Thickness[0.13], 
             LineBox[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]},
            AspectRatio->1,
            AxesStyle->Large,
            FrameStyle->Large,
            ImageSize->20,
            PlotRange->{{-3, 4}, {-1, 1}},
            PlotRangePadding->Scaled[0.025]]],ExpressionUUID->
           "8ef812f6-1029-4ece-9e1f-5732d8d801d5"]
         }],ExpressionUUID->"a541f3b8-0095-4d85-a4e5-5e34fdad31c2"],
         StripOnInput->False], {"\<\"Q3/ref/MatrixIn\"\>":>
        None, "\<\"Copy Wolfram Documentation Center URL\"\>":>
        Module[{DocumentationSearch`Private`nb$}, 
         DocumentationSearch`Private`nb$ = NotebookPut[
            Notebook[{
              Cell["Q3/ref/MatrixIn"]}, Visible -> False]]; 
         SelectionMove[DocumentationSearch`Private`nb$, All, Notebook]; 
         FrontEndTokenExecute[DocumentationSearch`Private`nb$, "Copy"]; 
         NotebookClose[DocumentationSearch`Private`nb$]; Null], 
        Delimiter, "\<\"Copy web URL\"\>":>
        Module[{DocumentationSearch`Private`nb$}, 
         DocumentationSearch`Private`nb$ = NotebookPut[
            Notebook[{
              Cell[
               BoxData[
                MakeBoxes[
                 Hyperlink[
                 "http://reference.wolfram.com/language/Q3/ref/MatrixIn.html"]\
, StandardForm]], "Input", TextClipboardType -> "PlainText"]}, Visible -> 
             False]]; SelectionMove[
          DocumentationSearch`Private`nb$, All, Notebook]; 
         FrontEndTokenExecute[DocumentationSearch`Private`nb$, "Copy"]; 
         NotebookClose[DocumentationSearch`Private`nb$]; 
         Null], "\<\"Go to web URL\"\>":>FrontEndExecute[{
          NotebookLocate[{
            URL[If[
               TrueQ[DocumentationBuild`Make`Private`wsmlinkQ$117738], 
               "http://reference.wolfram.com/system-modeler/", 
               "http://reference.wolfram.com/language/"] <> "Q3/ref/MatrixIn" <> 
             ".html"], None}]}]},
        Appearance->None,
        MenuAppearance->Automatic,
        MenuStyle->"URLMenu"],
       MouseAppearanceTag["LinkHand"]]],
      LineSpacing->{1.4, 0},ExpressionUUID->
      "786a886e-31a5-4e3e-9a74-a70f67451a47"]
    }], "AnchorBar",
     CacheGraphics->False,ExpressionUUID->
     "7043e975-261c-47dc-bb73-ccc6e215ad3e"]}
  }]], "AnchorBarGrid",
 GridBoxOptions->{GridBoxItemSize->{"Columns" -> {
     Scaled[0.65], {
      Scaled[0.34]}}, "ColumnsIndexed" -> {}, "Rows" -> {{1.}}, 
   "RowsIndexed" -> {}}},
 CellID->1,ExpressionUUID->"d54f0b66-4c5c-4f87-806e-541980ff8baf"],

Cell["Q3`", "ContextNameCell",ExpressionUUID->"df2f244d-d707-4d27-85db-ee8bdedcd791"],

Cell[CellGroupData[{

Cell[BoxData[GridBox[{
   {Cell[TextData[{
     Cell[
     "MatrixIn", "ObjectName",ExpressionUUID->
      "8a7431cc-e391-424e-a083-e45e7a0ab426"],
     Cell[BoxData[
      TemplateBox[{8},
       "Spacer1"]],ExpressionUUID->"18d162b3-5f50-40c8-8ba9-734d5a548390"],
     Cell[BoxData[
     ""], "ObjectNameTranslation",ExpressionUUID->
      "1e0e2917-8d20-484c-aa7b-eb6cc26e9904"]
    }],ExpressionUUID->"681678e0-20e8-4a9b-8c7e-0111648486bb"], 
    "\[SpanFromLeft]"}
  }]], "ObjectNameGrid",ExpressionUUID->"5573c1ba-6915-4635-b16f-\
589077bcf5da"],

Cell[BoxData[GridBox[{
   {"", Cell[TextData[{
     Cell[BoxData[
      RowBox[{
       TemplateBox[{
         Cell[
          TextData["MatrixIn"]], "paclet:Q3/ref/MatrixIn", 
         "Q3 Package Symbol"},
        "PackageLink",
        BaseStyle->"InlineFormula"], "[", 
       RowBox[{
        StyleBox["op", "TI"], ",", 
        StyleBox["bs", "TI"]}], "]"}]], "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "4346bab4-5e06-479d-8b3f-916b8b78dfef"],
     " \[LineSeparator]returns the matrix representation of operator ",
     Cell[BoxData[
      StyleBox["op", "TI"]], "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "6df4c653-278b-488d-9022-140a6783c66f"],
     " in basis ",
     Cell[BoxData[
      StyleBox["bs", "TI"]], "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "fc5d5593-f6aa-4061-be26-cb2dc7ef9839"],
     ". The basis ",
     Cell[BoxData[
      StyleBox["bs", "TI"]], "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "36c662cc-0b45-4409-9a41-6f53ea17947a"],
     " may be a list of kets or an association of such lists."
    }],ExpressionUUID->"b0bdc130-9572-41a2-873f-a9feade6be82"]},
   {"", Cell[TextData[{
     Cell[BoxData[
      RowBox[{
       TemplateBox[{
         Cell[
          TextData["MatrixIn"]], "paclet:Q3/ref/MatrixIn", 
         "Q3 Package Symbol"},
        "PackageLink",
        BaseStyle->"InlineFormula"], "[", 
       StyleBox["bs", "TI"], "]"}]], "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "2f3e19ff-4779-42be-ba04-040c87c4abcf"],
     "\[LineSeparator]provides the operator form of ",
     Cell[BoxData[
      TemplateBox[{
        Cell[
         TextData["MatrixIn"]], "paclet:Q3/ref/MatrixIn", "Q3 Package Symbol"},
       "PackageLink",
       BaseStyle->"InlineFormula"]], "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "f069c2ac-13fc-4672-a553-2f8fb9a05111"],
     "."
    }],ExpressionUUID->"d02590a9-d437-429b-8074-28c7e75c7627"]},
   {"", Cell[TextData[{
     Cell[BoxData[
      RowBox[{
       TemplateBox[{
         Cell[
          TextData["MatrixIn"]], "paclet:Q3/ref/MatrixIn", 
         "Q3 Package Symbol"},
        "PackageLink",
        BaseStyle->"InlineFormula"], "[", 
       RowBox[{
        StyleBox["op", "TI"], ",", 
        RowBox[{"{", 
         RowBox[{
          SubscriptBox[
           StyleBox["a", "TI"], 
           StyleBox["1", "TR"]], ",", 
          SubscriptBox[
           StyleBox["a", "TI"], 
           StyleBox["2", "TR"]], ",", 
          StyleBox["\[Ellipsis]", "TR"]}], "}"}], ",", 
        RowBox[{"{", 
         RowBox[{
          SubscriptBox[
           StyleBox["b", "TI"], 
           StyleBox["1", "TR"]], ",", 
          SubscriptBox[
           StyleBox["b", "TI"], 
           StyleBox["2", "TR"]], ",", 
          StyleBox["\[Ellipsis]", "TR"]}], "}"}]}], "]"}]], "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "5a9b23a6-271a-4100-9ba0-701f805ba52c"],
     "\[LineSeparator]calculates the matrix elements ",
     Cell[BoxData[
      FormBox[
       RowBox[{
        TemplateBox[{
          SubscriptBox[
           StyleBox["a", "TI"], 
           StyleBox["i", "TI"]]},
         "Bra"], 
        StyleBox["op", "TI"], 
        TemplateBox[{
          SubscriptBox[
           StyleBox["b", "TI"], 
           StyleBox["j", "TI"]]},
         "Ket"]}], TraditionalForm]],ExpressionUUID->
      "52a23e89-7007-4e3f-a7aa-2576716d4c75"],
     "."
    }],ExpressionUUID->"859c33ec-dc03-475c-90da-9c1ef5382111"]}
  }]], "Usage",
 GridBoxOptions->{
 GridBoxBackground->{"Columns" -> {{None}}, "Rows" -> {None, None, {None}}}},
 CellID->349230598,ExpressionUUID->"fbfea599-2990-4981-a33b-1947325c454f"]
}, Open  ]],

Cell[CellGroupData[{

Cell[TextData[Cell[BoxData[
 ButtonBox[Cell[TextData[{
   Cell[BoxData[
    DynamicBox[ToBoxes[
      If[
       MatchQ[
        CurrentValue[
         EvaluationNotebook[], {TaggingRules, "Openers", "NotesSection"}, 
         Closed], 
        Alternatives[Open, True]], 
       Style[
        Graphics[{
          Thickness[0.18], 
          RGBColor[0.8509803921568627, 0.396078431372549, 0], 
          Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
         PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
        0.68 Inherited], 
       Rotate[
        Style[
         Graphics[{
           Thickness[0.18], 
           RGBColor[0.8509803921568627, 0.396078431372549, 0], 
           Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
          PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
         0.68 Inherited], Rational[1, 2] Pi, {-1.65, -1}]]],
     ImageSizeCache->{14., {5., 9.}}]],ExpressionUUID->
    "a55d0e38-282f-481e-8a74-64a78a87dcce"],
   Cell[BoxData[
    TemplateBox[{1},
     "Spacer1"]],ExpressionUUID->"fa8f0cac-6ec3-486f-8e4c-a94eadee6829"],
   "Details"
  }], "NotesFrameText",ExpressionUUID->"45f7e0eb-c7bd-45ad-8c2e-41edd136b5b2"],
  Appearance->{Automatic, None, "Normal", Automatic},
  BaseStyle->None,
  ButtonFunction:>(FrontEndExecute[{
     FrontEnd`SelectionMove[
      FrontEnd`SelectedNotebook[], All, ButtonCell], 
     FrontEndToken["OpenCloseGroup"], 
     FrontEnd`SelectionMove[
      FrontEnd`SelectedNotebook[], After, CellContents]}]& ),
  Evaluator->None,
  Method->
   "Preemptive"]],ExpressionUUID->"e7bf720d-4873-45fa-91a0-d679904715a5"]], \
"NotesSection",
 WholeCellGroupOpener->True,
 CellGroupingRules->{"SectionGrouping", 50},
 CacheGraphics->False,
 CellID->1006459361,ExpressionUUID->"59cab3c2-f558-4b9f-a72f-8f342c3121c4"],

Cell["\<\
Usually, it is more efficient to use Matrix. Sometimes, however, it is \
required to construct the matrix representation in the specific basis. A \
typical example is when one works in a subspace with a noncanonical basis.\
\>", "Notes",
 CellID->445853335,ExpressionUUID->"3e96f4b1-6d4b-46ec-966c-23c565a2c07b"]
}, Dynamic[CurrentValue[
 EvaluationNotebook[], {TaggingRules, "Openers", "NotesSection"}, Closed]]]],

Cell[CellGroupData[{

Cell[TextData[{
 Cell[BoxData[
  DynamicBox[ToBoxes[
    If[
     MatchQ[
      CurrentValue[
       EvaluationNotebook[], {
       TaggingRules, "Openers", "PrimaryExamplesSection"}, Open], 
      Alternatives[True, Open]], 
     Style[
      Graphics[{
        Thickness[0.18], 
        RGBColor[0.8509803921568627, 0.396078431372549, 0], 
        Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
       PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
      0.68 Inherited], 
     Rotate[
      Style[
       Graphics[{
         Thickness[0.18], 
         RGBColor[0.8509803921568627, 0.396078431372549, 0], 
         Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
        PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
       0.68 Inherited], Rational[1, 2] Pi, {-1.65, -1}]]],
   ImageSizeCache->{14., {5., 9.}}]],ExpressionUUID->
  "33522b84-2cb4-4c12-bdbf-448fb0e8de3a"],
 Cell[BoxData[
  TemplateBox[{1},
   "Spacer1"]],ExpressionUUID->"553e6595-69f6-4d38-aa79-cecf1fe79eb5"],
 "Examples",
 "\[NonBreakingSpace]\[NonBreakingSpace]",
 Cell["(2)", "ExampleCount",ExpressionUUID->
  "634f95ff-8d0f-4d90-a976-caf13ffeb22f"]
}], "PrimaryExamplesSection",
 WholeCellGroupOpener->True,
 CacheGraphics->False,
 CellTags->"PrimaryExamplesSection",
 CellID->1981276555,ExpressionUUID->"aa4207a2-9b55-4d28-aafd-f8a184424561"],

Cell[CellGroupData[{

Cell[TextData[{
 Cell[BoxData[
  DynamicBox[ToBoxes[
    If[
     MatchQ[
      CurrentValue[
       EvaluationNotebook[], {TaggingRules, "Openers", "ExampleSection", "0"},
        Closed], 
      Alternatives[Open, True]], 
     Style[
      Graphics[{
        Thickness[0.18], 
        RGBColor[0.8509803921568627, 0.396078431372549, 0], 
        Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
       PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
      0.68 Inherited], 
     Rotate[
      Style[
       Graphics[{
         Thickness[0.18], 
         RGBColor[0.8509803921568627, 0.396078431372549, 0], 
         Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
        PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
       0.68 Inherited], Rational[1, 2] Pi, {-1.65, -1}]]],
   ImageSizeCache->{14., {5., 9.}}]],ExpressionUUID->
  "a33c9aff-52c6-4c9a-a10d-c90d735ed1a0"],
 Cell[BoxData[
  TemplateBox[{1},
   "Spacer1"]],ExpressionUUID->"9bf381d3-2c88-40c9-ba1d-df5dcc004b2c"],
 "Basic Examples",
 "\[NonBreakingSpace]\[NonBreakingSpace]",
 Cell["(2)", "ExampleCount",ExpressionUUID->
  "45dfc55c-78c3-4b8e-8156-b55a056d4cb8"]
}], "ExampleSection", "ExampleSection",
 WholeCellGroupOpener->True,
 CacheGraphics->False,
 CellID->433629503,ExpressionUUID->"587a37f0-3c13-4cc5-9c44-f9d91f2580ae"],

Cell[BoxData[
 RowBox[{"<<", "Q3`"}]], "Input",
 CellLabel->"In[1]:=",
 CellID->1983402357,ExpressionUUID->"50b8b060-3ce6-46c5-ab62-9d6cd4c435c8"],

Cell[BoxData[
 RowBox[{"Let", "[", 
  RowBox[{"Qubit", ",", "S"}], "]"}]], "Input",
 CellLabel->"In[2]:=",
 CellID->1890200589,ExpressionUUID->"53186733-219f-4d57-8c7c-f5d03d4c648e"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"op", "=", 
  RowBox[{"MultiplyDot", "[", 
   RowBox[{
    RowBox[{"S", "[", 
     RowBox[{"1", ",", "All"}], "]"}], ",", 
    RowBox[{"S", "[", 
     RowBox[{"2", ",", "All"}], "]"}]}], "]"}]}]], "Input",
 CellLabel->"In[3]:=",
 CellID->1908513024,ExpressionUUID->"15de893f-2dca-4743-ba22-73bd41be37c8"],

Cell[BoxData[
 RowBox[{
  TagBox[
   RowBox[{
    TagBox[
     TemplateBox[{
       TemplateBox[{"S"}, "RowDefault"], 
       TemplateBox[{"1"}, "RowDefault"], 
       TemplateBox[{"\"x\""}, "RowDefault"]},
      "Subsuperscript"],
     DisplayForm], 
    TagBox[
     TemplateBox[{
       TemplateBox[{"S"}, "RowDefault"], 
       TemplateBox[{"2"}, "RowDefault"], 
       TemplateBox[{"\"x\""}, "RowDefault"]},
      "Subsuperscript"],
     DisplayForm]}],
   DisplayForm], "+", 
  TagBox[
   RowBox[{
    TagBox[
     TemplateBox[{
       TemplateBox[{"S"}, "RowDefault"], 
       TemplateBox[{"1"}, "RowDefault"], 
       TemplateBox[{"\"y\""}, "RowDefault"]},
      "Subsuperscript"],
     DisplayForm], 
    TagBox[
     TemplateBox[{
       TemplateBox[{"S"}, "RowDefault"], 
       TemplateBox[{"2"}, "RowDefault"], 
       TemplateBox[{"\"y\""}, "RowDefault"]},
      "Subsuperscript"],
     DisplayForm]}],
   DisplayForm], "+", 
  TagBox[
   RowBox[{
    TagBox[
     TemplateBox[{
       TemplateBox[{"S"}, "RowDefault"], 
       TemplateBox[{"1"}, "RowDefault"], 
       TemplateBox[{"\"z\""}, "RowDefault"]},
      "Subsuperscript"],
     DisplayForm], 
    TagBox[
     TemplateBox[{
       TemplateBox[{"S"}, "RowDefault"], 
       TemplateBox[{"2"}, "RowDefault"], 
       TemplateBox[{"\"z\""}, "RowDefault"]},
      "Subsuperscript"],
     DisplayForm]}],
   DisplayForm]}]], "Output",
 CellLabel->"Out[3]=",
 CellID->23877152,ExpressionUUID->"742c0218-1528-467d-a1cb-e1a24763996b"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"mat", "=", 
   RowBox[{"Matrix", "[", 
    RowBox[{"op", ",", 
     RowBox[{"S", "@", 
      RowBox[{"{", 
       RowBox[{"1", ",", "2"}], "}"}]}]}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{"mat", "//", "MatrixForm"}]}], "Input",
 CellLabel->"In[4]:=",
 CellID->395648964,ExpressionUUID->"8eabe437-1b79-4ac6-846f-087854a51bf5"],

Cell[BoxData[
 TagBox[
  RowBox[{"(", "\[NoBreak]", GridBox[{
     {"1", "0", "0", "0"},
     {"0", 
      RowBox[{"-", "1"}], "2", "0"},
     {"0", "2", 
      RowBox[{"-", "1"}], "0"},
     {"0", "0", "0", "1"}
    },
    GridBoxAlignment->{"Columns" -> {{Center}}, "Rows" -> {{Baseline}}},
    GridBoxSpacings->{"Columns" -> {
        Offset[0.27999999999999997`], {
         Offset[0.7]}, 
        Offset[0.27999999999999997`]}, "Rows" -> {
        Offset[0.2], {
         Offset[0.4]}, 
        Offset[0.2]}}], "\[NoBreak]", ")"}],
  Function[BoxForm`e$, 
   MatrixForm[
   SparseArray[
    Automatic, {4, 4}, 0, {
     1, {{0, 2, 4, 6, 8}, {{1}, {4}, {2}, {3}, {3}, {2}, {4}, {1}}}, {1, 
      0, -1, 2, -1, 2, 1, 0}}]]]]], "Output",
 CellLabel->"Out[4]//MatrixForm=",
 CellID->662091652,ExpressionUUID->"6d12e506-ad18-4970-a98f-83be22c88599"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"bs", "=", 
  RowBox[{"Basis", "[", 
   RowBox[{"S", "@", 
    RowBox[{"{", 
     RowBox[{"1", ",", "2"}], "}"}]}], "]"}]}]], "Input",
 CellLabel->"In[5]:=",
 CellID->1316089671,ExpressionUUID->"c87af487-d46b-46b2-8fc8-982e60d35f68"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   TemplateBox[{"\"\[SpaceIndicator]\""},
    "Ket"], ",", 
   TemplateBox[{
     TagBox[
      TemplateBox[{
        SubscriptBox["1", 
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"2"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
    "Ket"], ",", 
   TemplateBox[{
     TagBox[
      TemplateBox[{
        SubscriptBox["1", 
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"1"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
    "Ket"], ",", 
   TemplateBox[{
     TagBox[
      TemplateBox[{
        SubscriptBox["1", 
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"1"}, "RowDefault"]]], 
        SubscriptBox["1", 
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"2"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
    "Ket"]}], "}"}]], "Output",
 CellLabel->"Out[5]=",
 CellID->750973580,ExpressionUUID->"3965bbfe-ed18-4aa0-90ad-5657f502bf17"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"new", "=", 
   RowBox[{"MatrixIn", "[", 
    RowBox[{"op", ",", "bs"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"new", "//", "MatrixForm"}]}], "Input",
 CellLabel->"In[6]:=",
 CellID->1985352458,ExpressionUUID->"0d38699b-c6f0-4cbf-81db-b981a5b3e402"],

Cell[BoxData[
 TagBox[
  RowBox[{"(", "\[NoBreak]", GridBox[{
     {"1", "0", "0", "0"},
     {"0", 
      RowBox[{"-", "1"}], "2", "0"},
     {"0", "2", 
      RowBox[{"-", "1"}], "0"},
     {"0", "0", "0", "1"}
    },
    GridBoxAlignment->{"Columns" -> {{Center}}, "Rows" -> {{Baseline}}},
    GridBoxSpacings->{"Columns" -> {
        Offset[0.27999999999999997`], {
         Offset[0.7]}, 
        Offset[0.27999999999999997`]}, "Rows" -> {
        Offset[0.2], {
         Offset[0.4]}, 
        Offset[0.2]}}], "\[NoBreak]", ")"}],
  Function[BoxForm`e$, 
   MatrixForm[BoxForm`e$]]]], "Output",
 CellLabel->"Out[6]//MatrixForm=",
 CellID->1258697407,ExpressionUUID->"e9c3f2bf-ff85-4c70-b39e-3028ede31813"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 InterpretationBox[Cell[
  "\t", "ExampleDelimiter",ExpressionUUID->
   "2df4b870-9d9d-47da-976f-b6ef5c25d36a"],
  $Line = 0; Null]], "ExampleDelimiter",
 CellID->977282934,ExpressionUUID->"247f1224-75d3-46d2-bad1-ca79c0107606"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"bs", "=", 
   RowBox[{"KeyGroupBy", "[", 
    RowBox[{
     RowBox[{"SchurBasis", "[", 
      RowBox[{"S", "@", 
       RowBox[{"{", 
        RowBox[{"1", ",", "2"}], "}"}]}], "]"}], ",", "First", ",", 
     "Values"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"KeyMap", "[", 
  RowBox[{
   RowBox[{"YoungForm", "@*", "ToYoungTableau"}], ",", "bs"}], 
  "]"}]}], "Input",
 CellLabel->"In[1]:=",
 CellID->275609684,ExpressionUUID->"e998119e-b46a-4e26-9605-b8bbb47207bc"],

Cell[BoxData[
 RowBox[{"\[LeftAssociation]", 
  RowBox[{
   RowBox[{
    TagBox[GridBox[{
       {
        ItemBox["1",
         Frame->True,
         StripOnInput->False], 
        ItemBox["2",
         Frame->True,
         StripOnInput->False]}
      },
      AutoDelete->False,
      GridBoxItemSize->{"Columns" -> {{Automatic}}, "Rows" -> {{Automatic}}}],
     
     "Grid"], "\[Rule]", 
    RowBox[{"{", 
     RowBox[{
      TemplateBox[{"\"\[SpaceIndicator]\""},
       "Ket"], ",", 
      RowBox[{
       FractionBox[
        TemplateBox[{
          TagBox[
           TemplateBox[{
             SubscriptBox["1", 
              SubscriptBox[
               TemplateBox[{"S"}, "RowDefault"], 
               TemplateBox[{"1"}, "RowDefault"]]]}, "RowDefault"], 
           DisplayForm]},
         "Ket"], 
        SqrtBox["2"]], "+", 
       FractionBox[
        TemplateBox[{
          TagBox[
           TemplateBox[{
             SubscriptBox["1", 
              SubscriptBox[
               TemplateBox[{"S"}, "RowDefault"], 
               TemplateBox[{"2"}, "RowDefault"]]]}, "RowDefault"], 
           DisplayForm]},
         "Ket"], 
        SqrtBox["2"]]}], ",", 
      TemplateBox[{
        TagBox[
         TemplateBox[{
           SubscriptBox["1", 
            SubscriptBox[
             TemplateBox[{"S"}, "RowDefault"], 
             TemplateBox[{"1"}, "RowDefault"]]], 
           SubscriptBox["1", 
            SubscriptBox[
             TemplateBox[{"S"}, "RowDefault"], 
             TemplateBox[{"2"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
       "Ket"]}], "}"}]}], ",", 
   RowBox[{
    TagBox[GridBox[{
       {
        ItemBox["1",
         Frame->True,
         StripOnInput->False]},
       {
        ItemBox["2",
         Frame->True,
         StripOnInput->False]}
      },
      AutoDelete->False,
      GridBoxItemSize->{"Columns" -> {{Automatic}}, "Rows" -> {{Automatic}}}],
     
     "Grid"], "\[Rule]", 
    RowBox[{"{", 
     RowBox[{
      RowBox[{"-", 
       FractionBox[
        TemplateBox[{
          TagBox[
           TemplateBox[{
             SubscriptBox["1", 
              SubscriptBox[
               TemplateBox[{"S"}, "RowDefault"], 
               TemplateBox[{"1"}, "RowDefault"]]]}, "RowDefault"], 
           DisplayForm]},
         "Ket"], 
        SqrtBox["2"]]}], "+", 
      FractionBox[
       TemplateBox[{
         TagBox[
          TemplateBox[{
            SubscriptBox["1", 
             SubscriptBox[
              TemplateBox[{"S"}, "RowDefault"], 
              TemplateBox[{"2"}, "RowDefault"]]]}, "RowDefault"], 
          DisplayForm]},
        "Ket"], 
       SqrtBox["2"]]}], "}"}]}]}], "\[RightAssociation]"}]], "Output",
 CellLabel->"Out[1]=",
 CellID->1312033933,ExpressionUUID->"0cb9892a-532d-4fd1-9f2e-49c02a868eaa"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"mat", "=", 
   RowBox[{"MatrixIn", "[", 
    RowBox[{"op", ",", "bs"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"KeyMap", "[", 
  RowBox[{
   RowBox[{"YoungForm", "@*", "ToYoungTableau"}], ",", 
   RowBox[{"MatrixForm", "/@", "mat"}]}], "]"}]}], "Input",
 CellLabel->"In[2]:=",
 CellID->969610344,ExpressionUUID->"02abed54-2463-4371-b54b-482ea0525776"],

Cell[BoxData[
 RowBox[{"\[LeftAssociation]", 
  RowBox[{
   RowBox[{
    TagBox[GridBox[{
       {
        ItemBox["1",
         Frame->True,
         StripOnInput->False], 
        ItemBox["2",
         Frame->True,
         StripOnInput->False]}
      },
      AutoDelete->False,
      GridBoxItemSize->{"Columns" -> {{Automatic}}, "Rows" -> {{Automatic}}}],
     
     "Grid"], "\[Rule]", 
    TagBox[
     RowBox[{"(", "\[NoBreak]", GridBox[{
        {"1", "0", "0"},
        {"0", "1", "0"},
        {"0", "0", "1"}
       },
       GridBoxAlignment->{"Columns" -> {{Center}}, "Rows" -> {{Baseline}}},
       GridBoxSpacings->{"Columns" -> {
           Offset[0.27999999999999997`], {
            Offset[0.7]}, 
           Offset[0.27999999999999997`]}, "Rows" -> {
           Offset[0.2], {
            Offset[0.4]}, 
           Offset[0.2]}}], "\[NoBreak]", ")"}],
     Function[BoxForm`e$, 
      MatrixForm[BoxForm`e$]]]}], ",", 
   RowBox[{
    TagBox[GridBox[{
       {
        ItemBox["1",
         Frame->True,
         StripOnInput->False]},
       {
        ItemBox["2",
         Frame->True,
         StripOnInput->False]}
      },
      AutoDelete->False,
      GridBoxItemSize->{"Columns" -> {{Automatic}}, "Rows" -> {{Automatic}}}],
     
     "Grid"], "\[Rule]", 
    TagBox[
     RowBox[{"(", "\[NoBreak]", GridBox[{
        {
         RowBox[{"-", "3"}]}
       },
       GridBoxAlignment->{"Columns" -> {{Center}}, "Rows" -> {{Baseline}}},
       GridBoxSpacings->{"Columns" -> {
           Offset[0.27999999999999997`], {
            Offset[0.7]}, 
           Offset[0.27999999999999997`]}, "Rows" -> {
           Offset[0.2], {
            Offset[0.4]}, 
           Offset[0.2]}}], "\[NoBreak]", ")"}],
     Function[BoxForm`e$, 
      MatrixForm[BoxForm`e$]]]}]}], "\[RightAssociation]"}]], "Output",
 CellLabel->"Out[2]=",
 CellID->121241239,ExpressionUUID->"afb9c0e7-b694-4ee2-a495-a8858bd57250"]
}, Open  ]]
}, Open  ]]
}, Dynamic[CurrentValue[
 EvaluationNotebook[], {TaggingRules, "Openers", "ExampleSection", "0"}, 
  Closed]]]]
}, Dynamic[CurrentValue[
 EvaluationNotebook[], {TaggingRules, "Openers", "PrimaryExamplesSection"}, 
  Closed]]]],

Cell[BoxData[GridBox[{
   {
    DynamicBox[FEPrivate`ImportImage[
      FrontEnd`FileName[{"Documentation", "FooterIcons"}, 
       "RelatedFunction.png"]],
     ImageSizeCache->{50., {27., 33.}}], GridBox[{
      {
       StyleBox[
        RowBox[{"See", " ", "Also"}], "SeeAlsoSection"]},
      {Cell[TextData[{
        Cell[BoxData[
         TemplateBox[{
           Cell[
            TextData["Matrix"]], "paclet:Q3/ref/Matrix", "Q3 Package Symbol"},
          
          "PackageLink",
          BaseStyle->"InlineFormula"]], "InlineFormula",
         FontFamily->"Source Sans Pro",ExpressionUUID->
         "7f07bd01-9072-489a-ba02-e9edb965b10b"],
        "\[NonBreakingSpace]",
        StyleBox[
        "\[MediumSpace]\[FilledVerySmallSquare]\[MediumSpace]", 
         "InlineSeparator"],
        " ",
        Cell[BoxData[
         TemplateBox[{
           Cell[
            TextData["TheMatrix"]], "paclet:Q3/ref/TheMatrix", 
           "Q3 Package Symbol"},
          "PackageLink",
          BaseStyle->"InlineFormula"]], "InlineFormula",
         FontFamily->"Source Sans Pro",ExpressionUUID->
         "78a9b2bf-8828-4429-a220-7367153de6e7"],
        "\[NonBreakingSpace]",
        StyleBox[
        "\[MediumSpace]\[FilledVerySmallSquare]\[MediumSpace]", 
         "InlineSeparator"],
        " ",
        Cell[BoxData[
         TemplateBox[{
           Cell[
            TextData["FockMatrix"]], "paclet:Q3/ref/FockMatrix", 
           "Q3 Package Symbol"},
          "PackageLink",
          BaseStyle->"InlineFormula"]], "InlineFormula",
         FontFamily->"Source Sans Pro",ExpressionUUID->
         "c6cb63a3-3bb3-493f-ba79-228b3644d80e"]
       }], "SeeAlso",ExpressionUUID->"cf827a93-45f3-4a29-8b04-234e82c45c60"]}
     }]}
  }]], "SeeAlsoSection",ExpressionUUID->"11a887b0-3569-4c0f-ba36-\
493383ccb70b"],

Cell[" ", "FooterCell",ExpressionUUID->"83db98cc-c8fa-44f2-96d8-43865185243e"]
},
Saveable->False,
ScreenStyleEnvironment->"Working",
WindowSize->{900, 830},
WindowMargins->{{0, Automatic}, {Automatic, 0}},
WindowTitle->"MatrixIn",
TaggingRules->{
 "ModificationHighlight" -> False, "ColorType" -> "", "LinkTrails" -> "", 
  "ExampleCounter" -> 1, 
  "Openers" -> {
   "PrimaryExamplesSection" -> Open, "ExampleSection" -> {"0" -> Open}, 
    "NotesSection" -> Closed}, "NewStyles" -> True, 
  "CitationPopupData" -> $Failed, "ShowCitation" -> False, "RootCaptions" -> 
  "", "Metadata" -> {
   "built" -> "{2022, 3, 27, 19, 3, 40.004797}", 
    "history" -> {"12", "", "", ""}, "context" -> "Q3`", "keywords" -> {}, 
    "specialkeywords" -> {}, "tutorialcollectionlinks" -> {}, "index" -> True,
     "label" -> "Q3 Symbol", "language" -> "en", "paclet" -> "Q3", "status" -> 
    "None", "summary" -> 
    "MatrixIn[op, bs] returns the matrix representation of operator op in \
basis bs. The basis bs may be a list of kets or an association of such lists. \
MatrixIn[bs] provides the operator form of MatrixIn. MatrixIn[op, {a1, a2, \
...}, {b1, b2, ...}] calculates the matrix elements Bra[ai] op Ket[bj].", 
    "synonyms" -> {}, "tabletags" -> {}, "title" -> "MatrixIn", 
    "titlemodifier" -> "", "windowtitle" -> "MatrixIn", "type" -> "Symbol", 
    "uri" -> "Q3/ref/MatrixIn", "WorkflowDockedCell" -> ""}, 
  "SearchTextTranslated" -> ""},
CellContext->"Global`",
FrontEndVersion->"13.0 for Mac OS X ARM (64-bit) (February 4, 2022)",
StyleDefinitions->Notebook[{
   Cell[
    StyleData[
    StyleDefinitions -> FrontEnd`FileName[{"Wolfram"}, "Reference.nb"]]], 
   Cell[
    StyleData["Input"], CellContext -> "Global`"], 
   Cell[
    StyleData["Output"], CellContext -> "Global`"]}, Visible -> False, 
  FrontEndVersion -> "13.0 for Mac OS X ARM (64-bit) (February 4, 2022)", 
  StyleDefinitions -> "Default.nb"],
ExpressionUUID->"e176a880-283e-4940-86d3-c6db98e5531a"
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{
 "PrimaryExamplesSection"->{
  Cell[12044, 327, 1390, 37, 36, "PrimaryExamplesSection",ExpressionUUID->"aa4207a2-9b55-4d28-aafd-f8a184424561",
   CellTags->"PrimaryExamplesSection",
   CellID->1981276555]}
 }
*)
(*CellTagsIndex
CellTagsIndex->{
 {"PrimaryExamplesSection", 30879, 928}
 }
*)
(*NotebookFileOutline
Notebook[{
Cell[580, 21, 4653, 112, 57, "AnchorBarGrid",ExpressionUUID->"d54f0b66-4c5c-4f87-806e-541980ff8baf",
 CellID->1],
Cell[5236, 135, 85, 0, 23, "ContextNameCell",ExpressionUUID->"df2f244d-d707-4d27-85db-ee8bdedcd791"],
Cell[CellGroupData[{
Cell[5346, 139, 551, 14, 60, "ObjectNameGrid",ExpressionUUID->"5573c1ba-6915-4635-b16f-589077bcf5da"],
Cell[5900, 155, 3803, 107, 278, "Usage",ExpressionUUID->"fbfea599-2990-4981-a33b-1947325c454f",
 CellID->349230598]
}, Open  ]],
Cell[CellGroupData[{
Cell[9740, 267, 1852, 47, 38, "NotesSection",ExpressionUUID->"59cab3c2-f558-4b9f-a72f-8f342c3121c4",
 CellGroupingRules->{"SectionGrouping", 50},
 CellID->1006459361],
Cell[11595, 316, 322, 5, 57, "Notes",ExpressionUUID->"3e96f4b1-6d4b-46ec-966c-23c565a2c07b",
 CellID->445853335]
}, Dynamic[CurrentValue[EvaluationNotebook[], {TaggingRules, "Openers", "NotesSection"}, Closed]]]],
Cell[CellGroupData[{
Cell[12044, 327, 1390, 37, 36, "PrimaryExamplesSection",ExpressionUUID->"aa4207a2-9b55-4d28-aafd-f8a184424561",
 CellTags->"PrimaryExamplesSection",
 CellID->1981276555],
Cell[CellGroupData[{
Cell[13459, 368, 1367, 36, 31, "ExampleSection",ExpressionUUID->"587a37f0-3c13-4cc5-9c44-f9d91f2580ae",
 CellID->433629503],
Cell[14829, 406, 146, 3, 29, "Input",ExpressionUUID->"50b8b060-3ce6-46c5-ab62-9d6cd4c435c8",
 CellID->1983402357],
Cell[14978, 411, 182, 4, 29, "Input",ExpressionUUID->"53186733-219f-4d57-8c7c-f5d03d4c648e",
 CellID->1890200589],
Cell[CellGroupData[{
Cell[15185, 419, 327, 9, 29, "Input",ExpressionUUID->"15de893f-2dca-4743-ba22-73bd41be37c8",
 CellID->1908513024],
Cell[15515, 430, 1501, 54, 39, "Output",ExpressionUUID->"742c0218-1528-467d-a1cb-e1a24763996b",
 CellID->23877152]
}, Open  ]],
Cell[CellGroupData[{
Cell[17053, 489, 375, 11, 48, "Input",ExpressionUUID->"8eabe437-1b79-4ac6-846f-087854a51bf5",
 CellID->395648964],
Cell[17431, 502, 849, 25, 100, "Output",ExpressionUUID->"6d12e506-ad18-4970-a98f-83be22c88599",
 CellID->662091652]
}, Open  ]],
Cell[CellGroupData[{
Cell[18317, 532, 256, 7, 70, "Input",ExpressionUUID->"c87af487-d46b-46b2-8fc8-982e60d35f68",
 CellID->1316089671],
Cell[18576, 541, 1073, 34, 41, "Output",ExpressionUUID->"3965bbfe-ed18-4aa0-90ad-5657f502bf17",
 CellID->750973580]
}, Open  ]],
Cell[CellGroupData[{
Cell[19686, 580, 295, 7, 70, "Input",ExpressionUUID->"0d38699b-c6f0-4cbf-81db-b981a5b3e402",
 CellID->1985352458],
Cell[19984, 589, 711, 21, 100, "Output",ExpressionUUID->"e9c3f2bf-ff85-4c70-b39e-3028ede31813",
 CellID->1258697407]
}, Open  ]],
Cell[CellGroupData[{
Cell[20732, 615, 242, 5, 70, "ExampleDelimiter",ExpressionUUID->"247f1224-75d3-46d2-bad1-ca79c0107606",
 CellID->977282934],
Cell[CellGroupData[{
Cell[20999, 624, 513, 15, 70, "Input",ExpressionUUID->"e998119e-b46a-4e26-9605-b8bbb47207bc",
 CellID->275609684],
Cell[21515, 641, 2810, 97, 63, "Output",ExpressionUUID->"0cb9892a-532d-4fd1-9f2e-49c02a868eaa",
 CellID->1312033933]
}, Open  ]],
Cell[CellGroupData[{
Cell[24362, 743, 397, 10, 70, "Input",ExpressionUUID->"02abed54-2463-4371-b54b-482ea0525776",
 CellID->969610344],
Cell[24762, 755, 1924, 64, 69, "Output",ExpressionUUID->"afb9c0e7-b694-4ee2-a495-a8858bd57250",
 CellID->121241239]
}, Open  ]]
}, Open  ]]
}, Dynamic[CurrentValue[EvaluationNotebook[], {TaggingRules, "Openers", "ExampleSection", "0"}, Closed]]]]
}, Dynamic[CurrentValue[EvaluationNotebook[], {TaggingRules, "Openers", "PrimaryExamplesSection"}, Closed]]]],
Cell[26940, 829, 1829, 50, 70, "SeeAlsoSection",ExpressionUUID->"11a887b0-3569-4c0f-ba36-493383ccb70b"],
Cell[28772, 881, 78, 0, 70, "FooterCell",ExpressionUUID->"83db98cc-c8fa-44f2-96d8-43865185243e"]
}
]
*)

(* End of internal cache information *)

