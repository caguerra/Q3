(* Content-type: application/vnd.wolfram.mathematica *)

(*** Wolfram Notebook File ***)
(* http://www.wolfram.com/nb *)

(* CreatedBy='Mathematica 13.1' *)

(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[       158,          7]
NotebookDataLength[    113473,       3178]
NotebookOptionsPosition[    100942,       2916]
NotebookOutlinePosition[    103025,       2970]
CellTagsIndexPosition[    102938,       2965]
WindowTitle->ControlledExp
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{
Cell[BoxData[GridBox[{
   {GridBox[{
      {
       ItemBox[Cell[BoxData[
         RowBox[{
          TemplateBox[{12},
           "Spacer1"], Cell["Q3 SYMBOL", "PacletNameCell",
           TextAlignment->Center,ExpressionUUID->
           "a1dd8a1e-ef9b-4a79-ae88-6538edbf2d44"], 
          TemplateBox[{8},
           "Spacer1"]}]],
         TextAlignment->Center,ExpressionUUID->
         "209de4b0-757a-45f7-a69a-9dfa6d6c0e35"],
        Background->RGBColor[0.490196, 0.576471, 0.690196],
        ItemSize->Full], ""}
     },
     GridBoxAlignment->{"Rows" -> {{Center}}},
     GridBoxItemSize->{"Columns" -> {Full, 
         Scaled[0.02]}, "Rows" -> {{2.5}}}], Cell[TextData[{
     Cell[BoxData[
      TagBox[
       ActionMenuBox[
        FrameBox[Cell[TextData[{
          "See Also",
          " ",
          Cell[BoxData[
           GraphicsBox[
            {GrayLevel[0.66667], Thickness[0.13], 
             LineBox[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]},
            AspectRatio->1,
            AxesStyle->Large,
            FrameStyle->Large,
            ImageSize->20,
            PlotRange->{{-3, 4}, {-1, 1}},
            PlotRangePadding->Scaled[0.025]]],ExpressionUUID->
           "3976c372-3784-4b13-8593-e2e1c0744ed6"]
         }],ExpressionUUID->"6c7a7275-27ce-43f1-a71b-bdebc44d2550"],
         StripOnInput->False], {"\<\"ControlledU\"\>":>
        Documentation`HelpLookup["paclet:Q3/ref/ControlledU"], "\<\"CNOT\"\>":>
        Documentation`HelpLookup["paclet:Q3/ref/CNOT"], "\<\"CX\"\>":>
        Documentation`HelpLookup["paclet:Q3/ref/CX"], "\<\"CZ\"\>":>
        Documentation`HelpLookup[
        "paclet:Q3/ref/CZ"], "\<\"QuantumCircuit\"\>":>
        Documentation`HelpLookup["paclet:Q3/ref/QuantumCircuit"]},
        Appearance->None,
        MenuAppearance->Automatic,
        MenuStyle->"SeeAlso"],
       MouseAppearanceTag["LinkHand"]]],
      LineSpacing->{1.4, 0},ExpressionUUID->
      "789f4c72-f54d-4da6-9c92-6a1d9adde999"],
     "\[ThickSpace]\[ThickSpace]\[ThickSpace]\[ThickSpace]\[ThickSpace]\
\[ThickSpace]",
     Cell[BoxData[
      TagBox[
       ActionMenuBox[
        FrameBox[Cell[TextData[{
          "Related Guides",
          " ",
          Cell[BoxData[
           GraphicsBox[
            {GrayLevel[0.66667], Thickness[0.13], 
             LineBox[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]},
            AspectRatio->1,
            AxesStyle->Large,
            FrameStyle->Large,
            ImageSize->20,
            PlotRange->{{-3, 4}, {-1, 1}},
            PlotRangePadding->Scaled[0.025]]],ExpressionUUID->
           "e1523f34-4ef3-450d-8253-be05486063da"]
         }],ExpressionUUID->"ea2ed176-6216-4b25-ae4d-b43cef21e844"],
         StripOnInput->False], {"\<\"Quantum Information Systems\"\>":>
        Documentation`HelpLookup[
        "paclet:Q3/guide/QuantumInformationSystems"], "\<\"Q3\"\>":>
        Documentation`HelpLookup["paclet:Q3/guide/Q3"]},
        Appearance->None,
        MenuAppearance->Automatic,
        MenuStyle->"MoreAbout"],
       MouseAppearanceTag["LinkHand"]]],
      LineSpacing->{1.4, 0},ExpressionUUID->
      "e470d6a3-eeff-4c02-9daa-8cc863faeb4c"],
     "\[ThickSpace]\[ThickSpace]\[ThickSpace]\[ThickSpace]\[ThickSpace]\
\[ThickSpace]",
     Cell[BoxData[
      TagBox[
       ActionMenuBox[
        FrameBox[Cell[TextData[{
          "Tech Notes",
          " ",
          Cell[BoxData[
           GraphicsBox[
            {GrayLevel[0.66667], Thickness[0.13], 
             LineBox[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]},
            AspectRatio->1,
            AxesStyle->Large,
            FrameStyle->Large,
            ImageSize->20,
            PlotRange->{{-3, 4}, {-1, 1}},
            PlotRangePadding->Scaled[0.025]]],ExpressionUUID->
           "73ab3f75-6b83-4990-bd84-d86fe4436da8"]
         }],ExpressionUUID->"e54c3439-c396-4b8b-a750-268f2162606c"],
         StripOnInput->False], {"\<\"Quantum Phase Estimation\"\>":>
        Documentation`HelpLookup[
        "paclet:Q3/tutorial/QuantumPhaseEstimation"], "\<\"Multi-Control \
Unitary Gates\"\>":>Documentation`HelpLookup[
        "paclet:Q3/tutorial/MultiControlUnitaryGates"], "\<\"Quantum \
Computation: Overview\"\>":>Documentation`HelpLookup[
        "paclet:Q3/tutorial/QuantumComputationOverview"], "\<\"Quantum \
Information Systems with Q3\"\>":>Documentation`HelpLookup[
        "paclet:Q3/tutorial/QuantumInformationSystems"], "\<\"Q3: Quick Start\
\"\>":>Documentation`HelpLookup["paclet:Q3/tutorial/Q3QuickStart"]},
        Appearance->None,
        MenuAppearance->Automatic,
        MenuStyle->"Tutorials"],
       MouseAppearanceTag["LinkHand"]]],
      LineSpacing->{1.4, 0},ExpressionUUID->
      "b4f248ef-64c8-4c00-bca6-92b79a92a3e7"],
     "\[ThickSpace]\[ThickSpace]\[ThickSpace]\[ThickSpace]\[ThickSpace]\
\[ThickSpace]",
     Cell[BoxData[
      TagBox[
       ActionMenuBox[
        FrameBox[Cell[TextData[{
          "URL",
          " ",
          Cell[BoxData[
           GraphicsBox[
            {GrayLevel[0.66667], Thickness[0.13], 
             LineBox[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]},
            AspectRatio->1,
            AxesStyle->Large,
            FrameStyle->Large,
            ImageSize->20,
            PlotRange->{{-3, 4}, {-1, 1}},
            PlotRangePadding->Scaled[0.025]]],ExpressionUUID->
           "31ae82ca-14a8-4ce1-9f91-e359fab70278"]
         }],ExpressionUUID->"b1808a66-6d60-4517-a53c-109043f55799"],
         StripOnInput->False], {"\<\"Q3/ref/ControlledExp\"\>":>
        None, "\<\"Copy Wolfram Documentation Center URL\"\>":>
        Module[{DocumentationSearch`Private`nb$}, 
         DocumentationSearch`Private`nb$ = NotebookPut[
            Notebook[{
              Cell["Q3/ref/ControlledExp"]}, Visible -> False]]; 
         SelectionMove[DocumentationSearch`Private`nb$, All, Notebook]; 
         FrontEndTokenExecute[DocumentationSearch`Private`nb$, "Copy"]; 
         NotebookClose[DocumentationSearch`Private`nb$]; Null], 
        Delimiter, "\<\"Copy web URL\"\>":>
        Module[{DocumentationSearch`Private`nb$}, 
         DocumentationSearch`Private`nb$ = NotebookPut[
            Notebook[{
              Cell[
               BoxData[
                MakeBoxes[
                 Hyperlink[
                 "http://reference.wolfram.com/language/Q3/ref/ControlledExp.\
html"], StandardForm]], "Input", TextClipboardType -> "PlainText"]}, Visible -> 
             False]]; SelectionMove[
          DocumentationSearch`Private`nb$, All, Notebook]; 
         FrontEndTokenExecute[DocumentationSearch`Private`nb$, "Copy"]; 
         NotebookClose[DocumentationSearch`Private`nb$]; 
         Null], "\<\"Go to web URL\"\>":>FrontEndExecute[{
          NotebookLocate[{
            URL[If[
               TrueQ[DocumentationBuild`Make`Private`wsmlinkQ$50856], 
               "http://reference.wolfram.com/system-modeler/", 
               "http://reference.wolfram.com/language/"] <> 
             "Q3/ref/ControlledExp" <> ".html"], None}]}]},
        Appearance->None,
        MenuAppearance->Automatic,
        MenuStyle->"URLMenu"],
       MouseAppearanceTag["LinkHand"]]],
      LineSpacing->{1.4, 0},ExpressionUUID->
      "f69c82ff-0b75-492c-ac3e-ab328398158f"]
    }], "AnchorBar",
     CacheGraphics->False,ExpressionUUID->
     "b2a83914-111b-403d-9fa6-8b684650fea5"]}
  }]], "AnchorBarGrid",
 CellID->1,ExpressionUUID->"f566492c-497d-4465-a718-9f81ff65c51c"],

Cell["Q3`", "ContextNameCell",ExpressionUUID->"a1d7d435-9f53-41a3-a663-a51769565367"],

Cell[CellGroupData[{

Cell[BoxData[GridBox[{
   {Cell[TextData[{
     Cell[
     "ControlledExp", "ObjectName",ExpressionUUID->
      "99460a80-9431-4cd1-b7c8-f00e9e8802cc"],
     Cell[BoxData[
      TemplateBox[{8},
       "Spacer1"]],ExpressionUUID->"8c64a129-dce3-409f-8d92-9e9bf0b0bc43"],
     Cell[BoxData[
     ""], "ObjectNameTranslation",ExpressionUUID->
      "d0a335d1-c04f-4ddd-b8c9-9f6e5b77c18a"]
    }],ExpressionUUID->"63fec799-5afd-4b00-8172-4ad530d152d2"], Cell[BoxData[
     TooltipBox[
      StyleBox[
       TagBox[
        StyleBox[
         GraphicsBox[InsetBox[
           StyleBox["\<\"NEW IN 13.1\"\>",
            StripOnInput->False,
            FontFamily->"Source Sans Pro",
            FontSize->18,
            FontWeight->"Bold",
            FontSlant->"Italic",
            FontColor->RGBColor[0.968627, 0.466667, 0]], {Right, Center}, {
           Right, Center}],
          AxesStyle->Large,
          FrameStyle->Large,
          ImageSize->{125, 24},
          PlotRangePadding->Scaled[0.025]], "NewInGraphic",
         StripOnInput->False],
        Deploy,
        DefaultBaseStyle->"Deploy"], "NewInGraphic",
       StripOnInput->False],
      "New in 13.1",
      TooltipDelay->0.3]],
     Magnification->1,ExpressionUUID->
     "6f215bce-86c6-420b-8ad3-79f4be112997"]}
  }]], "ObjectNameGrid",
 CacheGraphics->False,ExpressionUUID->"82dd8f8d-5922-43ef-bec5-aae6258eac3b"],

Cell[BoxData[GridBox[{
   {"", Cell[TextData[{
     Cell[BoxData[
      RowBox[{
       TemplateBox[{
         Cell[
          TextData["ControlledExp"]], "paclet:Q3/ref/ControlledExp", 
         "Q3 Package Symbol"},
        "PackageLink",
        BaseStyle->"InlineFormula"], "[", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{
          SubscriptBox[
           StyleBox["c", "TI"], 
           StyleBox["1", "TR"]], ",", 
          SubscriptBox[
           StyleBox["c", "TI"], 
           StyleBox["2", "TR"]], ",", " ", 
          StyleBox["\[Ellipsis]", "TR"]}], "}"}], ",", 
        StyleBox["op", "TI"]}], "]"}]], "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "e7c36cdc-17f8-4d46-8bc0-87bd5cfffbea"],
     "\[LineSeparator]represents a controlled exponentiation gate."
    }],ExpressionUUID->"fe4241c6-d330-4cfc-9b36-9a0539165b73"]}
  }]], "Usage",
 CellID->64829665,ExpressionUUID->"df1e2fa1-fba5-4572-a409-864423852d21"]
}, Open  ]],

Cell[CellGroupData[{

Cell[TextData[Cell[BoxData[
 ButtonBox[Cell[TextData[{
   Cell[BoxData[
    DynamicBox[ToBoxes[
      If[
       MatchQ[
        CurrentValue[
         EvaluationNotebook[], {TaggingRules, "Openers", "NotesSection"}, 
         Closed], 
        Alternatives[Open, True]], 
       Style[
        Graphics[{
          Thickness[0.18], 
          RGBColor[0.8509803921568627, 0.396078431372549, 0], 
          Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
         PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
        0.68 Inherited], 
       Rotate[
        Style[
         Graphics[{
           Thickness[0.18], 
           RGBColor[0.8509803921568627, 0.396078431372549, 0], 
           Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
          PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
         0.68 Inherited], Rational[1, 2] Pi, {-1.65, -1}]]],
     ImageSizeCache->{14., {0.45000000000000107`, 13.549999999999999`}}]],
    ExpressionUUID->"64d87ebf-907a-4409-9c85-d31ff1c0ca99"],
   Cell[BoxData[
    TemplateBox[{1},
     "Spacer1"]],ExpressionUUID->"4e9836ad-6ea1-4e49-a05e-7c3596d6e123"],
   "Details and Options"
  }], "NotesFrameText",ExpressionUUID->"0512a99b-50da-475a-9bd3-51f0eab203c6"],
  Appearance->{Automatic, None, "Normal", Automatic},
  BaseStyle->None,
  ButtonFunction:>(FrontEndExecute[{
     FrontEnd`SelectionMove[
      FrontEnd`SelectedNotebook[], All, ButtonCell], 
     FrontEndToken["OpenCloseGroup"], 
     FrontEnd`SelectionMove[
      FrontEnd`SelectedNotebook[], After, CellContents]}]& ),
  Evaluator->None,
  Method->
   "Preemptive"]],ExpressionUUID->"91bf1c57-796d-4ba7-9da5-f9a66a7d3446"]], \
"NotesSection",
 WholeCellGroupOpener->True,
 CellGroupingRules->{"SectionGrouping", 50},
 CacheGraphics->False,
 CellID->503035227,ExpressionUUID->"119d26f9-df58-4e51-84e3-7328c481dcbf"],

Cell[TextData[{
 Cell[BoxData[
  RowBox[{
   TemplateBox[{
     Cell[
      TextData["ControlledExp"]], "paclet:Q3/ref/ControlledExp", 
     "Q3 Package Symbol"},
    "PackageLink",
    BaseStyle->"InlineFormula"], "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{
      SubscriptBox[
       StyleBox["c", "TI"], 
       StyleBox["1", "TR"]], ",", 
      SubscriptBox[
       StyleBox["c", "TI"], 
       StyleBox["2", "TR"]], ",", " ", 
      StyleBox["\[Ellipsis]", "TR"]}], "}"}], ",", 
    StyleBox["op", "TI"]}], "]"}]], "InlineFormula",
  FontFamily->"Source Sans Pro",ExpressionUUID->
  "c8fb74e4-3861-4769-a952-4013a105cd45"],
 " transforms computational basis states as\[LineSeparator]\t",
 Cell[BoxData[
  FormBox[
   RowBox[{
    RowBox[{
     TemplateBox[{
       RowBox[{
         SubscriptBox["c", "1"], 
         SubscriptBox["c", "2"], "\[Ellipsis]", "\[VeryThinSpace]", 
         SubscriptBox["c", "n"]}]},
      "Ket"], "\[CircleTimes]", 
     TemplateBox[{"\[Psi]"},
      "Ket"]}], "\[RightTeeArrow]", 
    RowBox[{
     TemplateBox[{
       RowBox[{
         SubscriptBox["c", "1"], 
         SubscriptBox["c", "2"], "\[Ellipsis]", "\[VeryThinSpace]", 
         SubscriptBox["c", "n"]}]},
      "Ket"], "\[CircleTimes]", 
     RowBox[{"(", 
      RowBox[{
       SuperscriptBox[
        StyleBox["op",
         FontSlant->"Italic"], "c"], 
       TemplateBox[{"\[Psi]"},
        "Ket"]}], ")"}]}]}], TraditionalForm]],ExpressionUUID->
  "36e3e24d-5cdc-4299-a4dc-fab1a9d9f715"],
 ", \[LineSeparator]where ",
 Cell[BoxData[
  FormBox[
   RowBox[{"c", "=", 
    SubscriptBox[
     RowBox[{"(", 
      RowBox[{
       SubscriptBox["c", "1"], 
       SubscriptBox["c", "2"], "\[Ellipsis]", "\[VeryThinSpace]", 
       SubscriptBox["c", "n"]}], ")"}], "2"]}], TraditionalForm]],
  ExpressionUUID->"6269290e-977c-425a-8e41-a01b1da0b4f2"],
 ", that is, ",
 Cell[BoxData[
  FormBox[
   RowBox[{"c", "=", 
    RowBox[{
     RowBox[{
      SubscriptBox["c", "1"], 
      SuperscriptBox["2", 
       RowBox[{"n", "-", "1"}]]}], "+", 
     RowBox[{
      SubscriptBox["c", "2"], 
      SuperscriptBox["2", 
       RowBox[{"n", "-", "2"}]]}], "+", "\[Ellipsis]", "+", 
     SubscriptBox["c", "n"]}]}], TraditionalForm]],ExpressionUUID->
  "2a876ae7-538d-42fe-aeff-e7e11bf77937"],
 "."
}], "Notes",
 CellID->100026970,ExpressionUUID->"c2f41ce3-45e4-4d5b-bd69-e73c069eb2d7"],

Cell[TextData[{
 Cell[BoxData[
  RowBox[{
   TemplateBox[{
     Cell[
      TextData["Elaborate"]], "paclet:Q3/ref/Elaborate", "Q3 Package Symbol"},
    
    "PackageLink",
    BaseStyle->"InlineFormula"], "[", 
   RowBox[{"ControlledExp", "[", "\[Ellipsis]", "]"}], "]"}]], "InlineFormula",
  FontFamily->"Source Sans Pro",ExpressionUUID->
  "0a9563ba-075b-4884-8773-bd1ab9af8d88"],
 " gives the expression of the controlled exponentiation in terms of the \
Pauli operators."
}], "Notes",
 CellID->2112528434,ExpressionUUID->"e8ecf42d-30e4-4ea1-837c-866382304e2f"],

Cell[TextData[{
 Cell[BoxData[
  RowBox[{
   TemplateBox[{
     Cell[
      TextData["Expand"]], "paclet:ref/Expand"},
    "RefLink",
    BaseStyle->{"InlineFormula"}], "[", 
   RowBox[{"ControlledExp", "[", "\[Ellipsis]", "]"}], "]"}]], "InlineFormula",
  FontFamily->"Source Sans Pro",ExpressionUUID->
  "320db2e7-6172-4732-b87b-2442c800f9bd"],
 " gives a sequence of controlled-unitary gates that compose the controlled \
exponentiation."
}], "Notes",
 CellID->1630510880,ExpressionUUID->"0230f574-1480-4d58-a55b-4bde45981f61"],

Cell[TextData[{
 "This gate can be implemented by using ",
 ButtonBox["controlled-unitary gates",
  BaseStyle->"Link",
  ButtonData->"paclet:Q3/ref/ControlledU"],
 "."
}], "Notes",
 CellID->1639654363,ExpressionUUID->"40b1b323-1c2b-4add-a452-fd88141c903a"],

Cell["The following options can be given: ", "Notes",
 CellID->817970626,ExpressionUUID->"fcc911b7-0b1c-47c3-bc06-f07a9c9cab73"],

Cell[BoxData[GridBox[{
   {Cell["      ", "TableRowIcon",ExpressionUUID->
     "568d8468-4e9d-4f11-959d-b829ffccb8d6"], "\"\<Label\>\"", 
    RowBox[{"{", 
     RowBox[{"x", ",", " ", "U"}], "}"}], Cell[
    "Labels for the controll and target registers, respectively.", 
     "TableText",ExpressionUUID->"8a378223-d0a2-4f9f-b977-c1fecbfa3a6f"]}
  }]], "3ColumnTableMod",
 GridBoxOptions->{
 GridBoxBackground->{"Columns" -> {{None}}, "Rows" -> {{None}}},
 GridBoxDividers->{"Rows" -> {{True, True}}}},
 CellID->1589486735,ExpressionUUID->"5c00ac90-f36c-403b-97a1-9637302d42cc"]
}, Dynamic[CurrentValue[
 EvaluationNotebook[], {TaggingRules, "Openers", "NotesSection"}, Closed]]]],

Cell[CellGroupData[{

Cell[TextData[{
 Cell[BoxData[
  DynamicBox[ToBoxes[
    If[
     MatchQ[
      CurrentValue[
       EvaluationNotebook[], {
       TaggingRules, "Openers", "PrimaryExamplesSection"}, Open], 
      Alternatives[True, Open]], 
     Style[
      Graphics[{
        Thickness[0.18], 
        RGBColor[0.8509803921568627, 0.396078431372549, 0], 
        Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
       PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
      0.68 Inherited], 
     Rotate[
      Style[
       Graphics[{
         Thickness[0.18], 
         RGBColor[0.8509803921568627, 0.396078431372549, 0], 
         Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
        PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
       0.68 Inherited], Rational[1, 2] Pi, {-1.65, -1}]]],
   ImageSizeCache->{14., {5., 9.}}]],ExpressionUUID->
  "33b15027-989f-4ce6-9029-bfb62699fa83"],
 Cell[BoxData[
  TemplateBox[{1},
   "Spacer1"]],ExpressionUUID->"00a3c07d-5ccc-4c08-a2c4-688b10e04c4b"],
 "Examples",
 "\[NonBreakingSpace]\[NonBreakingSpace]",
 Cell["(5)", "ExampleCount",ExpressionUUID->
  "236259cd-0ef0-4017-b420-0837ee9b6519"]
}], "PrimaryExamplesSection",
 WholeCellGroupOpener->True,
 CacheGraphics->False,
 CellTags->"PrimaryExamplesSection",
 CellID->2017425597,ExpressionUUID->"545c14b1-86a6-43c3-aed1-3b8371f162b3"],

Cell[BoxData[
 RowBox[{"Needs", "[", "\"\<Q3`\>\"", "]"}]], "Input", "ExampleInitialization",
 CellLabel->"In[1]:=",
 CellID->851865642,ExpressionUUID->"3ae6a338-1c6b-4df7-90e2-76b0f0911490"],

Cell[CellGroupData[{

Cell[TextData[{
 Cell[BoxData[
  DynamicBox[ToBoxes[
    If[
     MatchQ[
      CurrentValue[
       EvaluationNotebook[], {TaggingRules, "Openers", "ExampleSection", "0"},
        Closed], 
      Alternatives[Open, True]], 
     Style[
      Graphics[{
        Thickness[0.18], 
        RGBColor[0.8509803921568627, 0.396078431372549, 0], 
        Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
       PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
      0.68 Inherited], 
     Rotate[
      Style[
       Graphics[{
         Thickness[0.18], 
         RGBColor[0.8509803921568627, 0.396078431372549, 0], 
         Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
        PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
       0.68 Inherited], Rational[1, 2] Pi, {-1.65, -1}]]],
   ImageSizeCache->{14., {5., 9.}}]],ExpressionUUID->
  "ad7c0873-fe0c-4f59-a1eb-9dda8851b903"],
 Cell[BoxData[
  TemplateBox[{1},
   "Spacer1"]],ExpressionUUID->"4a5967f3-03fc-4861-8cbb-a1e274dd6e1f"],
 "Basic Examples",
 "\[NonBreakingSpace]\[NonBreakingSpace]",
 Cell["(4)", "ExampleCount",ExpressionUUID->
  "8bd94dc6-64a3-4495-a4cc-24705fcd8a50"]
}], "ExampleSection", "ExampleSection",
 WholeCellGroupOpener->True,
 CacheGraphics->False,
 CellID->252706296,ExpressionUUID->"3f4dfa9e-a16f-43ca-9e67-6bd778a3a4d7"],

Cell[BoxData[
 RowBox[{"Let", "[", 
  RowBox[{"Qubit", ",", "S"}], "]"}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[1]:=",
 CellID->2076530764,ExpressionUUID->"014c9d9f-afb5-4ad8-8cc5-1c42a125b410"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"op", "=", 
  RowBox[{"ControlledExp", "[", 
   RowBox[{
    RowBox[{"S", "@", 
     RowBox[{"{", 
      RowBox[{"1", ",", "2"}], "}"}]}], ",", 
    RowBox[{"Phase", "[", 
     RowBox[{"\[Phi]", ",", 
      RowBox[{"S", "[", "3", "]"}]}], "]"}]}], "]"}]}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[2]:=",
 CellID->1495803151,ExpressionUUID->"43e7994d-b777-4613-8787-aab3582a14a8"],

Cell[BoxData[
 RowBox[{"ControlledExp", "[", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{
     SubscriptBox[
      TemplateBox[{"S"},
       "RowDefault"], 
      TemplateBox[{"1"},
       "RowDefault"]], ",", 
     SubscriptBox[
      TemplateBox[{"S"},
       "RowDefault"], 
      TemplateBox[{"2"},
       "RowDefault"]]}], "}"}], ",", 
   RowBox[{"Phase", "[", 
    RowBox[{"\[Phi]", ",", 
     SubscriptBox[
      TemplateBox[{"S"},
       "RowDefault"], 
      TemplateBox[{"3"},
       "RowDefault"]]}], "]"}]}], "]"}]], "Output",
 CellLabel->"Out[2]=",
 CellID->743672099,ExpressionUUID->"68a3170f-ad01-448a-a6f2-8b509f6e2995"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"op", "**", 
  RowBox[{"Ket", "[", 
   RowBox[{
    RowBox[{
     RowBox[{"S", "@", 
      RowBox[{"{", 
       RowBox[{"1", ",", "2"}], "}"}]}], "->", "1"}], ",", 
    RowBox[{
     RowBox[{"S", "[", "3", "]"}], "->", "1"}]}], "]"}]}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[3]:=",
 CellID->2104788460,ExpressionUUID->"db4b4573-02cf-42e8-9571-711f0f01a586"],

Cell[BoxData[
 RowBox[{
  SuperscriptBox["\[ExponentialE]", 
   RowBox[{"3", " ", "\[ImaginaryI]", " ", "\[Phi]"}]], " ", 
  TemplateBox[{
    TagBox[
     TemplateBox[{
       SubscriptBox["1", 
        SubscriptBox[
         TemplateBox[{"S"}, "RowDefault"], 
         TemplateBox[{"1"}, "RowDefault"]]], 
       SubscriptBox["1", 
        SubscriptBox[
         TemplateBox[{"S"}, "RowDefault"], 
         TemplateBox[{"2"}, "RowDefault"]]], 
       SubscriptBox["1", 
        SubscriptBox[
         TemplateBox[{"S"}, "RowDefault"], 
         TemplateBox[{"3"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
   "Ket"]}]], "Output",
 CellLabel->"Out[3]=",
 CellID->6050000,ExpressionUUID->"5e287a25-e189-418e-be45-0d59a4921f13"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"bs", "=", 
   RowBox[{"Basis", "[", 
    RowBox[{"S", "@", 
     RowBox[{"{", 
      RowBox[{"1", ",", "2"}], "}"}]}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"in", "=", 
  RowBox[{
   RowBox[{"Total", "[", "bs", "]"}], "**", 
   RowBox[{"Ket", "[", 
    RowBox[{
     RowBox[{"S", "[", "3", "]"}], "->", "1"}], "]"}]}]}]}], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[4]:=",
 CellID->1154618494,ExpressionUUID->"ca6ccab4-701c-4904-85bc-2de3b98289cd"],

Cell[BoxData[
 RowBox[{
  TemplateBox[{
    TagBox[
     TemplateBox[{
       SubscriptBox["1", 
        SubscriptBox[
         TemplateBox[{"S"}, "RowDefault"], 
         TemplateBox[{"1"}, "RowDefault"]]], 
       SubscriptBox["1", 
        SubscriptBox[
         TemplateBox[{"S"}, "RowDefault"], 
         TemplateBox[{"2"}, "RowDefault"]]], 
       SubscriptBox["1", 
        SubscriptBox[
         TemplateBox[{"S"}, "RowDefault"], 
         TemplateBox[{"3"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
   "Ket"], "+", 
  TemplateBox[{
    TagBox[
     TemplateBox[{
       SubscriptBox["1", 
        SubscriptBox[
         TemplateBox[{"S"}, "RowDefault"], 
         TemplateBox[{"1"}, "RowDefault"]]], 
       SubscriptBox["1", 
        SubscriptBox[
         TemplateBox[{"S"}, "RowDefault"], 
         TemplateBox[{"3"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
   "Ket"], "+", 
  TemplateBox[{
    TagBox[
     TemplateBox[{
       SubscriptBox["1", 
        SubscriptBox[
         TemplateBox[{"S"}, "RowDefault"], 
         TemplateBox[{"2"}, "RowDefault"]]], 
       SubscriptBox["1", 
        SubscriptBox[
         TemplateBox[{"S"}, "RowDefault"], 
         TemplateBox[{"3"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
   "Ket"], "+", 
  TemplateBox[{
    TagBox[
     TemplateBox[{
       SubscriptBox["1", 
        SubscriptBox[
         TemplateBox[{"S"}, "RowDefault"], 
         TemplateBox[{"3"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
   "Ket"]}]], "Output",
 CellLabel->"Out[4]=",
 CellID->57074622,ExpressionUUID->"7dbf5dc5-ec8d-45c2-a2c7-ea232503fdae"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"out", "=", 
   RowBox[{"op", "**", "in"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"out", "//", "LogicalForm"}]}], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[5]:=",
 CellID->1825261592,ExpressionUUID->"6c0d3b13-3e92-4232-9cc2-7eff46157e12"],

Cell[BoxData[
 RowBox[{
  TemplateBox[{
    TagBox[
     TemplateBox[{
       SubscriptBox["0", 
        SubscriptBox[
         TemplateBox[{"S"}, "RowDefault"], 
         TemplateBox[{"1"}, "RowDefault"]]], 
       SubscriptBox["0", 
        SubscriptBox[
         TemplateBox[{"S"}, "RowDefault"], 
         TemplateBox[{"2"}, "RowDefault"]]], 
       SubscriptBox["1", 
        SubscriptBox[
         TemplateBox[{"S"}, "RowDefault"], 
         TemplateBox[{"3"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
   "Ket"], "+", 
  RowBox[{
   SuperscriptBox["\[ExponentialE]", 
    RowBox[{"\[ImaginaryI]", " ", "\[Phi]"}]], " ", 
   TemplateBox[{
     TagBox[
      TemplateBox[{
        SubscriptBox["0", 
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"1"}, "RowDefault"]]], 
        SubscriptBox["1", 
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"2"}, "RowDefault"]]], 
        SubscriptBox["1", 
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"3"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
    "Ket"]}], "+", 
  RowBox[{
   SuperscriptBox["\[ExponentialE]", 
    RowBox[{"2", " ", "\[ImaginaryI]", " ", "\[Phi]"}]], " ", 
   TemplateBox[{
     TagBox[
      TemplateBox[{
        SubscriptBox["1", 
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"1"}, "RowDefault"]]], 
        SubscriptBox["0", 
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"2"}, "RowDefault"]]], 
        SubscriptBox["1", 
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"3"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
    "Ket"]}], "+", 
  RowBox[{
   SuperscriptBox["\[ExponentialE]", 
    RowBox[{"3", " ", "\[ImaginaryI]", " ", "\[Phi]"}]], " ", 
   TemplateBox[{
     TagBox[
      TemplateBox[{
        SubscriptBox["1", 
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"1"}, "RowDefault"]]], 
        SubscriptBox["1", 
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"2"}, "RowDefault"]]], 
        SubscriptBox["1", 
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"3"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
    "Ket"]}]}]], "Output",
 CellLabel->"Out[5]=",
 CellID->1121796380,ExpressionUUID->"7fc5e420-75cf-4e9c-830e-7254ea068839"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 InterpretationBox[Cell[
  "\t", "ExampleDelimiter",ExpressionUUID->
   "ac408bd6-2458-48a3-9cbf-c880db2d3044"],
  $Line = 0; Null]], "ExampleDelimiter",
 CellID->360562160,ExpressionUUID->"54692882-e20b-4d8b-9f03-ff61715191fb"],

Cell["\<\
Convert the controlled exponentiation operator to its matrix representation \
in the computational basis.\
\>", "ExampleText",
 CellID->83261738,ExpressionUUID->"65655618-cd8b-4b84-aaeb-c1c3298f0f8c"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"mat", "=", 
   RowBox[{"Matrix", "[", "op", "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"mat", "//", "MatrixForm"}]}], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[1]:=",
 CellID->2073621093,ExpressionUUID->"fda527a0-5cc8-4730-a467-961f6ad8c0c8"],

Cell[BoxData[
 TagBox[
  RowBox[{"(", "\[NoBreak]", GridBox[{
     {"1", "0", "0", "0", "0", "0", "0", "0"},
     {"0", "1", "0", "0", "0", "0", "0", "0"},
     {"0", "0", "1", "0", "0", "0", "0", "0"},
     {"0", "0", "0", 
      SuperscriptBox["\[ExponentialE]", 
       RowBox[{"\[ImaginaryI]", " ", "\[Phi]"}]], "0", "0", "0", "0"},
     {"0", "0", "0", "0", "1", "0", "0", "0"},
     {"0", "0", "0", "0", "0", 
      SuperscriptBox["\[ExponentialE]", 
       RowBox[{"2", " ", "\[ImaginaryI]", " ", "\[Phi]"}]], "0", "0"},
     {"0", "0", "0", "0", "0", "0", "1", "0"},
     {"0", "0", "0", "0", "0", "0", "0", 
      SuperscriptBox["\[ExponentialE]", 
       RowBox[{"3", " ", "\[ImaginaryI]", " ", "\[Phi]"}]]}
    },
    GridBoxAlignment->{"Columns" -> {{Center}}, "Rows" -> {{Baseline}}},
    GridBoxSpacings->{"Columns" -> {
        Offset[0.27999999999999997`], {
         Offset[0.7]}, 
        Offset[0.27999999999999997`]}, "Rows" -> {
        Offset[0.2], {
         Offset[0.4]}, 
        Offset[0.2]}}], "\[NoBreak]", ")"}],
  Function[BoxForm`e$, 
   MatrixForm[
   SparseArray[
    Automatic, {8, 8}, 0, {
     1, {{0, 1, 2, 3, 4, 5, 6, 7, 8}, {{1}, {2}, {3}, {4}, {5}, {6}, {7}, {
       8}}}, {1, 1, 1, E^(Complex[0, 1] $CellContext`\[Phi]), 1, 
       E^(Complex[0, 2] $CellContext`\[Phi]), 1, 
       E^(Complex[0, 3] $CellContext`\[Phi])}}]]]]], "Output",
 CellLabel->"Out[1]//MatrixForm=",
 CellID->374303661,ExpressionUUID->"17d4c181-d5c5-4a76-8f02-86ef953936c7"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"mat", "=", 
   RowBox[{"Matrix", "[", 
    RowBox[{"op", ",", 
     RowBox[{"S", "@", 
      RowBox[{"{", 
       RowBox[{"1", ",", "2", ",", "3", ",", "4"}], "}"}]}]}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{"mat", "//", "MatrixForm"}]}], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[2]:=",
 CellID->43453953,ExpressionUUID->"71861f93-8a49-4cb1-b2e2-addc4d6551df"],

Cell[BoxData[
 TagBox[
  RowBox[{"(", "\[NoBreak]", GridBox[{
     {"1", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "1", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "1", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "1", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "1", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "1", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", 
      SuperscriptBox["\[ExponentialE]", 
       RowBox[{"\[ImaginaryI]", " ", "\[Phi]"}]], "0", "0", "0", "0", "0", 
      "0", "0", "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", 
      SuperscriptBox["\[ExponentialE]", 
       RowBox[{"\[ImaginaryI]", " ", "\[Phi]"}]], "0", "0", "0", "0", "0", 
      "0", "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "1", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "1", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      SuperscriptBox["\[ExponentialE]", 
       RowBox[{"2", " ", "\[ImaginaryI]", " ", "\[Phi]"}]], "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      SuperscriptBox["\[ExponentialE]", 
       RowBox[{"2", " ", "\[ImaginaryI]", " ", "\[Phi]"}]], "0", "0", "0", 
      "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "1", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "1", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      SuperscriptBox["\[ExponentialE]", 
       RowBox[{"3", " ", "\[ImaginaryI]", " ", "\[Phi]"}]], "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", 
      SuperscriptBox["\[ExponentialE]", 
       RowBox[{"3", " ", "\[ImaginaryI]", " ", "\[Phi]"}]]}
    },
    GridBoxAlignment->{"Columns" -> {{Center}}, "Rows" -> {{Baseline}}},
    GridBoxSpacings->{"Columns" -> {
        Offset[0.27999999999999997`], {
         Offset[0.7]}, 
        Offset[0.27999999999999997`]}, "Rows" -> {
        Offset[0.2], {
         Offset[0.4]}, 
        Offset[0.2]}}], "\[NoBreak]", ")"}],
  Function[BoxForm`e$, 
   MatrixForm[
   SparseArray[
    Automatic, {16, 16}, 0, {
     1, {{0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16}, {{1}, {
       2}, {3}, {4}, {5}, {6}, {7}, {8}, {9}, {10}, {11}, {12}, {13}, {14}, {
       15}, {16}}}, {
      1, 1, 1, 1, 1, 1, E^(Complex[0, 1] $CellContext`\[Phi]), 
       E^(Complex[0, 1] $CellContext`\[Phi]), 1, 1, 
       E^(Complex[0, 2] $CellContext`\[Phi]), 
       E^(Complex[0, 2] $CellContext`\[Phi]), 1, 1, 
       E^(Complex[0, 3] $CellContext`\[Phi]), 
       E^(Complex[0, 3] $CellContext`\[Phi])}}]]]]], "Output",
 CellLabel->"Out[2]//MatrixForm=",
 CellID->911029361,ExpressionUUID->"53173752-5c4e-49b4-bd33-666a0f60bd96"]
}, Open  ]],

Cell["\<\
Expand the controlled exponentiation operator in terms of the Pauli operators.\
\>", "ExampleText",
 CellID->1098295329,ExpressionUUID->"f4e1cde4-0892-4331-b315-9e932b2aaa39"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"new", "=", 
  RowBox[{"Elaborate", "[", "op", "]"}]}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[3]:=",
 CellID->337611983,ExpressionUUID->"3ca5008e-3096-4154-9bf8-0b46da43860f"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   FractionBox["1", "8"], " ", 
   RowBox[{"(", 
    RowBox[{"5", "+", 
     SuperscriptBox["\[ExponentialE]", 
      RowBox[{"\[ImaginaryI]", " ", "\[Phi]"}]], "+", 
     SuperscriptBox["\[ExponentialE]", 
      RowBox[{"2", " ", "\[ImaginaryI]", " ", "\[Phi]"}]], "+", 
     SuperscriptBox["\[ExponentialE]", 
      RowBox[{"3", " ", "\[ImaginaryI]", " ", "\[Phi]"}]]}], ")"}]}], "+", 
  RowBox[{
   FractionBox["1", "8"], " ", 
   SuperscriptBox[
    RowBox[{"(", 
     RowBox[{
      RowBox[{"-", "1"}], "+", 
      SuperscriptBox["\[ExponentialE]", 
       RowBox[{"\[ImaginaryI]", " ", "\[Phi]"}]]}], ")"}], "2"], " ", 
   RowBox[{"(", 
    RowBox[{"1", "+", 
     SuperscriptBox["\[ExponentialE]", 
      RowBox[{"\[ImaginaryI]", " ", "\[Phi]"}]]}], ")"}], " ", 
   TagBox[
    RowBox[{
     TemplateBox[{
       TemplateBox[{"S"}, "RowDefault"], 
       TemplateBox[{"1"}, "RowDefault"], 
       TemplateBox[{"\"z\""}, "RowDefault"]},
      "Subsuperscript"], 
     TemplateBox[{
       TemplateBox[{"S"}, "RowDefault"], 
       TemplateBox[{"2"}, "RowDefault"], 
       TemplateBox[{"\"z\""}, "RowDefault"]},
      "Subsuperscript"]}],
    DisplayForm]}], "+", 
  RowBox[{
   FractionBox["1", "8"], " ", 
   RowBox[{"(", 
    RowBox[{
     RowBox[{"-", "1"}], "+", 
     SuperscriptBox["\[ExponentialE]", 
      RowBox[{"\[ImaginaryI]", " ", "\[Phi]"}]]}], ")"}], " ", 
   SuperscriptBox[
    RowBox[{"(", 
     RowBox[{"1", "+", 
      SuperscriptBox["\[ExponentialE]", 
       RowBox[{"\[ImaginaryI]", " ", "\[Phi]"}]]}], ")"}], "2"], " ", 
   TagBox[
    RowBox[{
     TemplateBox[{
       TemplateBox[{"S"}, "RowDefault"], 
       TemplateBox[{"1"}, "RowDefault"], 
       TemplateBox[{"\"z\""}, "RowDefault"]},
      "Subsuperscript"], 
     TemplateBox[{
       TemplateBox[{"S"}, "RowDefault"], 
       TemplateBox[{"3"}, "RowDefault"], 
       TemplateBox[{"\"z\""}, "RowDefault"]},
      "Subsuperscript"]}],
    DisplayForm]}], "+", 
  RowBox[{
   FractionBox["1", "8"], " ", 
   RowBox[{"(", 
    RowBox[{
     RowBox[{"-", "1"}], "+", 
     SuperscriptBox["\[ExponentialE]", 
      RowBox[{"\[ImaginaryI]", " ", "\[Phi]"}]], "-", 
     SuperscriptBox["\[ExponentialE]", 
      RowBox[{"2", " ", "\[ImaginaryI]", " ", "\[Phi]"}]], "+", 
     SuperscriptBox["\[ExponentialE]", 
      RowBox[{"3", " ", "\[ImaginaryI]", " ", "\[Phi]"}]]}], ")"}], " ", 
   TagBox[
    RowBox[{
     TemplateBox[{
       TemplateBox[{"S"}, "RowDefault"], 
       TemplateBox[{"2"}, "RowDefault"], 
       TemplateBox[{"\"z\""}, "RowDefault"]},
      "Subsuperscript"], 
     TemplateBox[{
       TemplateBox[{"S"}, "RowDefault"], 
       TemplateBox[{"3"}, "RowDefault"], 
       TemplateBox[{"\"z\""}, "RowDefault"]},
      "Subsuperscript"]}],
    DisplayForm]}], "-", 
  RowBox[{
   FractionBox["1", "8"], " ", 
   SuperscriptBox[
    RowBox[{"(", 
     RowBox[{
      RowBox[{"-", "1"}], "+", 
      SuperscriptBox["\[ExponentialE]", 
       RowBox[{"\[ImaginaryI]", " ", "\[Phi]"}]]}], ")"}], "2"], " ", 
   RowBox[{"(", 
    RowBox[{"1", "+", 
     SuperscriptBox["\[ExponentialE]", 
      RowBox[{"\[ImaginaryI]", " ", "\[Phi]"}]]}], ")"}], " ", 
   TagBox[
    RowBox[{
     TemplateBox[{
       TemplateBox[{"S"}, "RowDefault"], 
       TemplateBox[{"1"}, "RowDefault"], 
       TemplateBox[{"\"z\""}, "RowDefault"]},
      "Subsuperscript"], 
     TemplateBox[{
       TemplateBox[{"S"}, "RowDefault"], 
       TemplateBox[{"2"}, "RowDefault"], 
       TemplateBox[{"\"z\""}, "RowDefault"]},
      "Subsuperscript"], 
     TemplateBox[{
       TemplateBox[{"S"}, "RowDefault"], 
       TemplateBox[{"3"}, "RowDefault"], 
       TemplateBox[{"\"z\""}, "RowDefault"]},
      "Subsuperscript"]}],
    DisplayForm]}], "-", 
  RowBox[{
   FractionBox["1", "8"], " ", 
   RowBox[{"(", 
    RowBox[{
     RowBox[{"-", "1"}], "+", 
     SuperscriptBox["\[ExponentialE]", 
      RowBox[{"\[ImaginaryI]", " ", "\[Phi]"}]]}], ")"}], " ", 
   SuperscriptBox[
    RowBox[{"(", 
     RowBox[{"1", "+", 
      SuperscriptBox["\[ExponentialE]", 
       RowBox[{"\[ImaginaryI]", " ", "\[Phi]"}]]}], ")"}], "2"], " ", 
   TemplateBox[{
     TemplateBox[{"S"}, "RowDefault"], 
     TemplateBox[{"1"}, "RowDefault"], 
     TemplateBox[{"\"z\""}, "RowDefault"]},
    "Subsuperscript"]}], "+", 
  RowBox[{
   FractionBox["1", "8"], " ", 
   RowBox[{"(", 
    RowBox[{"1", "-", 
     SuperscriptBox["\[ExponentialE]", 
      RowBox[{"\[ImaginaryI]", " ", "\[Phi]"}]], "+", 
     SuperscriptBox["\[ExponentialE]", 
      RowBox[{"2", " ", "\[ImaginaryI]", " ", "\[Phi]"}]], "-", 
     SuperscriptBox["\[ExponentialE]", 
      RowBox[{"3", " ", "\[ImaginaryI]", " ", "\[Phi]"}]]}], ")"}], " ", 
   TemplateBox[{
     TemplateBox[{"S"}, "RowDefault"], 
     TemplateBox[{"2"}, "RowDefault"], 
     TemplateBox[{"\"z\""}, "RowDefault"]},
    "Subsuperscript"]}], "+", 
  RowBox[{
   FractionBox["1", "8"], " ", 
   RowBox[{"(", 
    RowBox[{"3", "-", 
     SuperscriptBox["\[ExponentialE]", 
      RowBox[{"\[ImaginaryI]", " ", "\[Phi]"}]], "-", 
     SuperscriptBox["\[ExponentialE]", 
      RowBox[{"2", " ", "\[ImaginaryI]", " ", "\[Phi]"}]], "-", 
     SuperscriptBox["\[ExponentialE]", 
      RowBox[{"3", " ", "\[ImaginaryI]", " ", "\[Phi]"}]]}], ")"}], " ", 
   TemplateBox[{
     TemplateBox[{"S"}, "RowDefault"], 
     TemplateBox[{"3"}, "RowDefault"], 
     TemplateBox[{"\"z\""}, "RowDefault"]},
    "Subsuperscript"]}]}]], "Output",
 CellLabel->"Out[3]=",
 CellID->1849721765,ExpressionUUID->"d210d997-3f21-4d17-965e-79bf8f17d366"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"Matrix", "[", 
    RowBox[{"new", ",", 
     RowBox[{"S", "@", 
      RowBox[{"{", 
       RowBox[{"1", ",", "2", ",", "3", ",", "4"}], "}"}]}]}], "]"}], "-", 
   "mat"}], "//", "MatrixForm"}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[4]:=",
 CellID->1061819516,ExpressionUUID->"9efc0514-79c9-40d0-9d9f-8ff227b4e5fb"],

Cell[BoxData[
 TagBox[
  RowBox[{"(", "\[NoBreak]", GridBox[{
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"}
    },
    GridBoxAlignment->{"Columns" -> {{Center}}, "Rows" -> {{Baseline}}},
    GridBoxSpacings->{"Columns" -> {
        Offset[0.27999999999999997`], {
         Offset[0.7]}, 
        Offset[0.27999999999999997`]}, "Rows" -> {
        Offset[0.2], {
         Offset[0.4]}, 
        Offset[0.2]}}], "\[NoBreak]", ")"}],
  Function[BoxForm`e$, 
   MatrixForm[
   SparseArray[
    Automatic, {16, 16}, 0, {
     1, {{0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16}, {{1}, {
       2}, {3}, {4}, {5}, {6}, {7}, {8}, {9}, {10}, {11}, {12}, {13}, {14}, {
       15}, {16}}}, {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
      0}}]]]]], "Output",
 CellLabel->"Out[4]//MatrixForm=",
 CellID->1546642812,ExpressionUUID->"e7fe5e24-af31-446e-b65f-5cba9f3878dc"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 InterpretationBox[Cell[
  "\t", "ExampleDelimiter",ExpressionUUID->
   "0e0b3f6a-d2df-4741-a61a-b7c886c9c63d"],
  $Line = 0; Null]], "ExampleDelimiter",
 CellID->689713619,ExpressionUUID->"17e27e71-530c-4fb8-aef8-ec274ee60c36"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"op", "=", 
  RowBox[{
   RowBox[{
    RowBox[{"S", "[", 
     RowBox[{"4", ",", "6"}], "]"}], "**", 
    RowBox[{"Phase", "[", 
     RowBox[{"\[Phi]", ",", 
      RowBox[{"S", "[", "4", "]"}]}], "]"}], "**", 
    RowBox[{"S", "[", 
     RowBox[{"4", ",", "6"}], "]"}]}], "//", "Elaborate"}]}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[1]:=",
 CellID->2047551674,ExpressionUUID->"cf578579-8438-4b2c-962b-cb007b450fa6"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   FractionBox["1", "2"], " ", 
   RowBox[{"(", 
    RowBox[{"1", "+", 
     SuperscriptBox["\[ExponentialE]", 
      RowBox[{"\[ImaginaryI]", " ", "\[Phi]"}]]}], ")"}]}], "+", 
  RowBox[{
   FractionBox["1", "2"], " ", 
   RowBox[{"(", 
    RowBox[{"1", "-", 
     SuperscriptBox["\[ExponentialE]", 
      RowBox[{"\[ImaginaryI]", " ", "\[Phi]"}]]}], ")"}], " ", 
   TemplateBox[{
     TemplateBox[{"S"}, "RowDefault"], 
     TemplateBox[{"4"}, "RowDefault"], 
     TemplateBox[{"\"x\""}, "RowDefault"]},
    "Subsuperscript"]}]}]], "Output",
 CellLabel->"Out[1]=",
 CellID->1253185812,ExpressionUUID->"b1fba5a0-e465-43f7-93d2-9eaff8a8d66a"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"qc", "=", 
  RowBox[{"QuantumCircuit", "[", 
   RowBox[{
    RowBox[{"Ket", "[", 
     RowBox[{
      RowBox[{"S", "[", "4", "]"}], "->", "1"}], "]"}], ",", 
    "\[IndentingNewLine]", 
    RowBox[{"S", "[", 
     RowBox[{"4", ",", "6"}], "]"}], ",", 
    RowBox[{"ControlledExp", "[", 
     RowBox[{
      RowBox[{"S", "@", 
       RowBox[{"{", 
        RowBox[{"1", ",", "2", ",", "3"}], "}"}]}], ",", "op"}], "]"}], ",", 
    RowBox[{"S", "[", 
     RowBox[{"4", ",", "6"}], "]"}]}], "]"}]}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[2]:=",
 CellID->658842380,ExpressionUUID->"80aa047e-f3d4-4cc2-9d97-2ffe8cc0ca7d"],

Cell[BoxData[
 GraphicsBox[{
   {Dashing[{Small, Small}], LineBox[{}]}, 
   LineBox[{{{0, -1}, {4, -1}}, {{0, -2}, {4, -2}}, {{0, -3}, {4, -3}}, {{
    0, -4}, {4, -4}}}], InsetBox[
    StyleBox[
     TemplateBox[{"1"},
      "Ket"],
     StripOnInput->False,
     FontSize->Scaled[0.08000000000000002],
     FontWeight->"Light"], {-0.1, -4}, NCache[
    ImageScaled[{1, Rational[1, 2]}], ImageScaled[{1, 0.5}]]], {
    {GrayLevel[1], EdgeForm[None], RectangleBox[{0.6, -4.4}, {1.4, -3.6}]}, 
    LineBox[{{0.6, -4.4}, {1.4, -4.4}, {1.4, -3.6}, {0.6, -3.6}, {
     0.6, -4.4}}], InsetBox[
     StyleBox["\<\"H\"\>",
      StripOnInput->False,
      FontSize->Scaled[0.1],
      FontWeight->"Light",
      FontSlant->Italic], {1, -4}, NCache[
     ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
      ImageScaled[{0.5, 0.5}]]]}, {
    LineBox[{{2, -1}, {2, -2}, {2, -3}, {2, -4}}], 
    {GrayLevel[1], EdgeForm[GrayLevel[0]], 
     FilledCurveBox[{
      BezierCurve[{{2.4, -1}, {2.4, -0.47439999999999993`}, {
         1.6, -0.47439999999999993`}, {1.6, -1}}], 
       Line[{{1.6, -1}, {1.6, -3}}], 
       BezierCurve[{{1.6, -3.5256}, {2.4, -3.5256}, {2.4, -3}}]}]}, InsetBox[
     StyleBox["\<\"x\"\>",
      StripOnInput->False,
      FontSize->Scaled[0.1],
      FontWeight->"Light",
      FontSlant->Italic], {2, -2}, NCache[
     ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]]], 
    {GrayLevel[1], EdgeForm[None], RectangleBox[{1.6, -4.4}, {2.4, -3.6}]}, 
    LineBox[{{1.6, -4.4}, {2.4, -4.4}, {2.4, -3.6}, {1.6, -3.6}, {
     1.6, -4.4}}], InsetBox[
     StyleBox[
      TemplateBox[{"\"U\"", "\"x\""},
       "Superscript"],
      StripOnInput->False,
      FontSize->Scaled[0.1],
      FontWeight->"Light",
      FontSlant->Italic], {2, -4}, NCache[
     ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
      ImageScaled[{0.5, 0.5}]]]}, {
    {GrayLevel[1], EdgeForm[None], RectangleBox[{2.6, -4.4}, {3.4, -3.6}]}, 
    LineBox[{{2.6, -4.4}, {3.4, -4.4}, {3.4, -3.6}, {2.6, -3.6}, {
     2.6, -4.4}}], InsetBox[
     StyleBox["\<\"H\"\>",
      StripOnInput->False,
      FontSize->Scaled[0.1],
      FontWeight->"Light",
      FontSlant->Italic], {3, -4}, NCache[
     ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
      ImageScaled[{0.5, 0.5}]]]}},
  AxesStyle->Large,
  FrameStyle->Large,
  ImagePadding->{{23.400000000000002`, 23.400000000000002`}, {1, 1}},
  ImageSize->190.79999999999998`,
  PlotRange->NCache[{Full, {
      Rational[-9, 2], 
      Rational[-1, 2]}}, {Full, {-4.5, -0.5}}],
  PlotRangePadding->Scaled[0.025]]], "Output",
 CellLabel->"Out[2]=",
 CellID->959440679,ExpressionUUID->"194adade-5060-430d-9dde-9c0213529fef"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"qc", "=", 
  RowBox[{"QuantumCircuit", "[", 
   RowBox[{
    RowBox[{"Ket", "[", 
     RowBox[{
      RowBox[{"S", "[", "4", "]"}], "->", "1"}], "]"}], ",", 
    "\[IndentingNewLine]", 
    RowBox[{"S", "[", 
     RowBox[{"4", ",", "6"}], "]"}], ",", 
    RowBox[{"Expand", "@", 
     RowBox[{"ControlledExp", "[", 
      RowBox[{
       RowBox[{"S", "@", 
        RowBox[{"{", 
         RowBox[{"1", ",", "2", ",", "3"}], "}"}]}], ",", "op"}], "]"}]}], 
    ",", 
    RowBox[{"S", "[", 
     RowBox[{"4", ",", "6"}], "]"}]}], "\[IndentingNewLine]", 
   "]"}]}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[3]:=",
 CellID->629762013,ExpressionUUID->"6aed0638-7cbc-4e07-973c-4a830dda48aa"],

Cell[BoxData[
 GraphicsBox[{
   {Dashing[{Small, Small}], LineBox[{}]}, 
   LineBox[{{{0, -1}, {6, -1}}, {{0, -2}, {6, -2}}, {{0, -3}, {6, -3}}, {{
    0, -4}, {6, -4}}}], InsetBox[
    StyleBox[
     TemplateBox[{"1"},
      "Ket"],
     StripOnInput->False,
     FontSize->Scaled[0.05333333333333334],
     FontWeight->"Light"], {-0.1, -4}, NCache[
    ImageScaled[{1, Rational[1, 2]}], ImageScaled[{1, 0.5}]]], {
    {GrayLevel[1], EdgeForm[None], RectangleBox[{0.6, -4.4}, {1.4, -3.6}]}, 
    LineBox[{{0.6, -4.4}, {1.4, -4.4}, {1.4, -3.6}, {0.6, -3.6}, {
     0.6, -4.4}}], InsetBox[
     StyleBox["\<\"H\"\>",
      StripOnInput->False,
      FontSize->Scaled[0.06666666666666667],
      FontWeight->"Light",
      FontSlant->Italic], {1, -4}, NCache[
     ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
      ImageScaled[{0.5, 0.5}]]]}, {LineBox[{{2, -1}, {2, -4}}], 
    DiskBox[{2, -1}, 0.09], 
    {GrayLevel[1], EdgeForm[None], RectangleBox[{1.6, -4.4}, {2.4, -3.6}]}, 
    LineBox[{{1.6, -4.4}, {2.4, -4.4}, {2.4, -3.6}, {1.6, -3.6}, {
     1.6, -4.4}}], InsetBox[
     StyleBox[
      TemplateBox[{"\"U\"", 
        TemplateBox[{"2", "2"}, "Superscript", SyntaxForm -> SuperscriptBox]},
       
       "Superscript"],
      StripOnInput->False,
      FontSize->Scaled[0.043333333333333335`],
      FontWeight->"Light",
      FontSlant->Italic], {2, -4}, NCache[
     ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
      ImageScaled[{0.5, 0.5}]]]}, {LineBox[{{3, -2}, {3, -4}}], 
    DiskBox[{3, -2}, 0.09], 
    {GrayLevel[1], EdgeForm[None], RectangleBox[{2.6, -4.4}, {3.4, -3.6}]}, 
    LineBox[{{2.6, -4.4}, {3.4, -4.4}, {3.4, -3.6}, {2.6, -3.6}, {
     2.6, -4.4}}], InsetBox[
     StyleBox[
      TemplateBox[{"\"U\"", 
        TemplateBox[{"2", "1"}, "Superscript", SyntaxForm -> SuperscriptBox]},
       
       "Superscript"],
      StripOnInput->False,
      FontSize->Scaled[0.043333333333333335`],
      FontWeight->"Light",
      FontSlant->Italic], {3, -4}, NCache[
     ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
      ImageScaled[{0.5, 0.5}]]]}, {LineBox[{{4, -3}, {4, -4}}], 
    DiskBox[{4, -3}, 0.09], 
    {GrayLevel[1], EdgeForm[None], RectangleBox[{3.6, -4.4}, {4.4, -3.6}]}, 
    LineBox[{{3.6, -4.4}, {4.4, -4.4}, {4.4, -3.6}, {3.6, -3.6}, {
     3.6, -4.4}}], InsetBox[
     StyleBox[
      TemplateBox[{"\"U\"", 
        TemplateBox[{"2", "0"}, "Superscript", SyntaxForm -> SuperscriptBox]},
       
       "Superscript"],
      StripOnInput->False,
      FontSize->Scaled[0.043333333333333335`],
      FontWeight->"Light",
      FontSlant->Italic], {4, -4}, NCache[
     ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
      ImageScaled[{0.5, 0.5}]]]}, {
    {GrayLevel[1], EdgeForm[None], RectangleBox[{4.6, -4.4}, {5.4, -3.6}]}, 
    LineBox[{{4.6, -4.4}, {5.4, -4.4}, {5.4, -3.6}, {4.6, -3.6}, {
     4.6, -4.4}}], InsetBox[
     StyleBox["\<\"H\"\>",
      StripOnInput->False,
      FontSize->Scaled[0.06666666666666667],
      FontWeight->"Light",
      FontSlant->Italic], {5, -4}, NCache[
     ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
      ImageScaled[{0.5, 0.5}]]]}},
  AxesStyle->Large,
  FrameStyle->Large,
  ImagePadding->{{23.400000000000002`, 23.400000000000002`}, {1, 1}},
  ImageSize->262.8,
  PlotRange->NCache[{Full, {
      Rational[-9, 2], 
      Rational[-1, 2]}}, {Full, {-4.5, -0.5}}],
  PlotRangePadding->Scaled[0.025]]], "Output",
 CellLabel->"Out[3]=",
 CellID->1935489834,ExpressionUUID->"15893c8f-e531-4f6f-a13d-5b05477733a4"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 InterpretationBox[Cell[
  "\t", "ExampleDelimiter",ExpressionUUID->
   "826f537a-6ad8-4cb6-b8c3-58e8891dacd1"],
  $Line = 0; Null]], "ExampleDelimiter",
 CellID->1935006837,ExpressionUUID->"034d79bd-3423-4766-9526-e22e165360af"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"op", "=", 
  RowBox[{
   RowBox[{
    RowBox[{"S", "[", 
     RowBox[{"4", ",", "6"}], "]"}], "**", 
    RowBox[{"Phase", "[", 
     RowBox[{"\[Phi]", ",", 
      RowBox[{"S", "[", "4", "]"}]}], "]"}], "**", 
    RowBox[{"S", "[", 
     RowBox[{"4", ",", "6"}], "]"}]}], "//", "Elaborate"}]}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[1]:=",
 CellID->1747542897,ExpressionUUID->"40b1aafd-8e07-4bbc-92be-ad01bcf309dc"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   FractionBox["1", "2"], " ", 
   RowBox[{"(", 
    RowBox[{"1", "+", 
     SuperscriptBox["\[ExponentialE]", 
      RowBox[{"\[ImaginaryI]", " ", "\[Phi]"}]]}], ")"}]}], "+", 
  RowBox[{
   FractionBox["1", "2"], " ", 
   RowBox[{"(", 
    RowBox[{"1", "-", 
     SuperscriptBox["\[ExponentialE]", 
      RowBox[{"\[ImaginaryI]", " ", "\[Phi]"}]]}], ")"}], " ", 
   TemplateBox[{
     TemplateBox[{"S"}, "RowDefault"], 
     TemplateBox[{"4"}, "RowDefault"], 
     TemplateBox[{"\"x\""}, "RowDefault"]},
    "Subsuperscript"]}]}]], "Output",
 CellLabel->"Out[1]=",
 CellID->1640521585,ExpressionUUID->"9d69c929-3d4f-4777-be5b-3e3d66a50069"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"qc", "=", 
  RowBox[{"QuantumCircuit", "[", 
   RowBox[{
    RowBox[{"Ket", "[", 
     RowBox[{
      RowBox[{"S", "[", "4", "]"}], "->", "1"}], "]"}], ",", 
    "\[IndentingNewLine]", 
    RowBox[{"S", "[", 
     RowBox[{"4", ",", "6"}], "]"}], ",", 
    RowBox[{"ControlledExp", "[", 
     RowBox[{
      RowBox[{"S", "@", 
       RowBox[{"{", 
        RowBox[{"1", ",", "2", ",", "3"}], "}"}]}], ",", "op"}], "]"}], ",", 
    RowBox[{"S", "[", 
     RowBox[{"4", ",", "6"}], "]"}]}], "]"}]}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[2]:=",
 CellID->765966584,ExpressionUUID->"e2fdfe6a-610b-4723-965d-c20fb88ec766"],

Cell[BoxData[
 GraphicsBox[{
   {Dashing[{Small, Small}], LineBox[{}]}, 
   LineBox[{{{0, -1}, {4, -1}}, {{0, -2}, {4, -2}}, {{0, -3}, {4, -3}}, {{
    0, -4}, {4, -4}}}], InsetBox[
    StyleBox[
     TemplateBox[{"1"},
      "Ket"],
     StripOnInput->False,
     FontSize->Scaled[0.08000000000000002],
     FontWeight->"Light"], {-0.1, -4}, NCache[
    ImageScaled[{1, Rational[1, 2]}], ImageScaled[{1, 0.5}]]], {
    {GrayLevel[1], EdgeForm[None], RectangleBox[{0.6, -4.4}, {1.4, -3.6}]}, 
    LineBox[{{0.6, -4.4}, {1.4, -4.4}, {1.4, -3.6}, {0.6, -3.6}, {
     0.6, -4.4}}], InsetBox[
     StyleBox["\<\"H\"\>",
      StripOnInput->False,
      FontSize->Scaled[0.1],
      FontWeight->"Light",
      FontSlant->Italic], {1, -4}, NCache[
     ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
      ImageScaled[{0.5, 0.5}]]]}, {
    LineBox[{{2, -1}, {2, -2}, {2, -3}, {2, -4}}], 
    {GrayLevel[1], EdgeForm[GrayLevel[0]], 
     FilledCurveBox[{
      BezierCurve[{{2.4, -1}, {2.4, -0.47439999999999993`}, {
         1.6, -0.47439999999999993`}, {1.6, -1}}], 
       Line[{{1.6, -1}, {1.6, -3}}], 
       BezierCurve[{{1.6, -3.5256}, {2.4, -3.5256}, {2.4, -3}}]}]}, InsetBox[
     StyleBox["\<\"x\"\>",
      StripOnInput->False,
      FontSize->Scaled[0.1],
      FontWeight->"Light",
      FontSlant->Italic], {2, -2}, NCache[
     ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]]], 
    {GrayLevel[1], EdgeForm[None], RectangleBox[{1.6, -4.4}, {2.4, -3.6}]}, 
    LineBox[{{1.6, -4.4}, {2.4, -4.4}, {2.4, -3.6}, {1.6, -3.6}, {
     1.6, -4.4}}], InsetBox[
     StyleBox[
      TemplateBox[{"\"U\"", "\"x\""},
       "Superscript"],
      StripOnInput->False,
      FontSize->Scaled[0.1],
      FontWeight->"Light",
      FontSlant->Italic], {2, -4}, NCache[
     ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
      ImageScaled[{0.5, 0.5}]]]}, {
    {GrayLevel[1], EdgeForm[None], RectangleBox[{2.6, -4.4}, {3.4, -3.6}]}, 
    LineBox[{{2.6, -4.4}, {3.4, -4.4}, {3.4, -3.6}, {2.6, -3.6}, {
     2.6, -4.4}}], InsetBox[
     StyleBox["\<\"H\"\>",
      StripOnInput->False,
      FontSize->Scaled[0.1],
      FontWeight->"Light",
      FontSlant->Italic], {3, -4}, NCache[
     ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
      ImageScaled[{0.5, 0.5}]]]}},
  AxesStyle->Large,
  FrameStyle->Large,
  ImagePadding->{{23.400000000000002`, 23.400000000000002`}, {1, 1}},
  ImageSize->190.79999999999998`,
  PlotRange->NCache[{Full, {
      Rational[-9, 2], 
      Rational[-1, 2]}}, {Full, {-4.5, -0.5}}],
  PlotRangePadding->Scaled[0.025]]], "Output",
 CellLabel->"Out[2]=",
 CellID->870308783,ExpressionUUID->"f61a3481-6c0d-49be-ae27-48e7d962917c"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"in", "=", 
   RowBox[{"Total", "@", 
    RowBox[{"Basis", "[", 
     RowBox[{"S", "@", 
      RowBox[{"{", 
       RowBox[{"1", ",", "2", ",", "3"}], "}"}]}], "]"}]}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{"in", "//", "LogicalForm"}]}], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[3]:=",
 CellID->538882566,ExpressionUUID->"f34e1d4c-09b7-4640-aa4d-253215d8cd32"],

Cell[BoxData[
 RowBox[{
  TemplateBox[{
    TagBox[
     TemplateBox[{
       SubscriptBox["0", 
        SubscriptBox[
         TemplateBox[{"S"}, "RowDefault"], 
         TemplateBox[{"1"}, "RowDefault"]]], 
       SubscriptBox["0", 
        SubscriptBox[
         TemplateBox[{"S"}, "RowDefault"], 
         TemplateBox[{"2"}, "RowDefault"]]], 
       SubscriptBox["0", 
        SubscriptBox[
         TemplateBox[{"S"}, "RowDefault"], 
         TemplateBox[{"3"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
   "Ket"], "+", 
  TemplateBox[{
    TagBox[
     TemplateBox[{
       SubscriptBox["0", 
        SubscriptBox[
         TemplateBox[{"S"}, "RowDefault"], 
         TemplateBox[{"1"}, "RowDefault"]]], 
       SubscriptBox["0", 
        SubscriptBox[
         TemplateBox[{"S"}, "RowDefault"], 
         TemplateBox[{"2"}, "RowDefault"]]], 
       SubscriptBox["1", 
        SubscriptBox[
         TemplateBox[{"S"}, "RowDefault"], 
         TemplateBox[{"3"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
   "Ket"], "+", 
  TemplateBox[{
    TagBox[
     TemplateBox[{
       SubscriptBox["0", 
        SubscriptBox[
         TemplateBox[{"S"}, "RowDefault"], 
         TemplateBox[{"1"}, "RowDefault"]]], 
       SubscriptBox["1", 
        SubscriptBox[
         TemplateBox[{"S"}, "RowDefault"], 
         TemplateBox[{"2"}, "RowDefault"]]], 
       SubscriptBox["0", 
        SubscriptBox[
         TemplateBox[{"S"}, "RowDefault"], 
         TemplateBox[{"3"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
   "Ket"], "+", 
  TemplateBox[{
    TagBox[
     TemplateBox[{
       SubscriptBox["0", 
        SubscriptBox[
         TemplateBox[{"S"}, "RowDefault"], 
         TemplateBox[{"1"}, "RowDefault"]]], 
       SubscriptBox["1", 
        SubscriptBox[
         TemplateBox[{"S"}, "RowDefault"], 
         TemplateBox[{"2"}, "RowDefault"]]], 
       SubscriptBox["1", 
        SubscriptBox[
         TemplateBox[{"S"}, "RowDefault"], 
         TemplateBox[{"3"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
   "Ket"], "+", 
  TemplateBox[{
    TagBox[
     TemplateBox[{
       SubscriptBox["1", 
        SubscriptBox[
         TemplateBox[{"S"}, "RowDefault"], 
         TemplateBox[{"1"}, "RowDefault"]]], 
       SubscriptBox["0", 
        SubscriptBox[
         TemplateBox[{"S"}, "RowDefault"], 
         TemplateBox[{"2"}, "RowDefault"]]], 
       SubscriptBox["0", 
        SubscriptBox[
         TemplateBox[{"S"}, "RowDefault"], 
         TemplateBox[{"3"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
   "Ket"], "+", 
  TemplateBox[{
    TagBox[
     TemplateBox[{
       SubscriptBox["1", 
        SubscriptBox[
         TemplateBox[{"S"}, "RowDefault"], 
         TemplateBox[{"1"}, "RowDefault"]]], 
       SubscriptBox["0", 
        SubscriptBox[
         TemplateBox[{"S"}, "RowDefault"], 
         TemplateBox[{"2"}, "RowDefault"]]], 
       SubscriptBox["1", 
        SubscriptBox[
         TemplateBox[{"S"}, "RowDefault"], 
         TemplateBox[{"3"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
   "Ket"], "+", 
  TemplateBox[{
    TagBox[
     TemplateBox[{
       SubscriptBox["1", 
        SubscriptBox[
         TemplateBox[{"S"}, "RowDefault"], 
         TemplateBox[{"1"}, "RowDefault"]]], 
       SubscriptBox["1", 
        SubscriptBox[
         TemplateBox[{"S"}, "RowDefault"], 
         TemplateBox[{"2"}, "RowDefault"]]], 
       SubscriptBox["0", 
        SubscriptBox[
         TemplateBox[{"S"}, "RowDefault"], 
         TemplateBox[{"3"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
   "Ket"], "+", 
  TemplateBox[{
    TagBox[
     TemplateBox[{
       SubscriptBox["1", 
        SubscriptBox[
         TemplateBox[{"S"}, "RowDefault"], 
         TemplateBox[{"1"}, "RowDefault"]]], 
       SubscriptBox["1", 
        SubscriptBox[
         TemplateBox[{"S"}, "RowDefault"], 
         TemplateBox[{"2"}, "RowDefault"]]], 
       SubscriptBox["1", 
        SubscriptBox[
         TemplateBox[{"S"}, "RowDefault"], 
         TemplateBox[{"3"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
   "Ket"]}]], "Output",
 CellLabel->"Out[3]=",
 CellID->2104255982,ExpressionUUID->"f8c03f25-6b56-4d8a-a1e8-1590b12259b1"]
}, Open  ]],

Cell["\<\
Operating on the superposition state, the controlled exponentiation induces \
relative phase shifts.\
\>", "ExampleText",
 CellID->1730346951,ExpressionUUID->"34cac316-4777-4267-a51a-90e9a9e4d86a"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"out", "=", 
   RowBox[{"qc", "**", "in"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"LogicalForm", "[", "out", "]"}]}], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[4]:=",
 CellID->1719176194,ExpressionUUID->"f6c6be04-47e9-40ee-8e42-aaf41c6ba907"],

Cell[BoxData[
 RowBox[{
  TemplateBox[{
    TagBox[
     TemplateBox[{
       SubscriptBox["0", 
        SubscriptBox[
         TemplateBox[{"S"}, "RowDefault"], 
         TemplateBox[{"1"}, "RowDefault"]]], 
       SubscriptBox["0", 
        SubscriptBox[
         TemplateBox[{"S"}, "RowDefault"], 
         TemplateBox[{"2"}, "RowDefault"]]], 
       SubscriptBox["0", 
        SubscriptBox[
         TemplateBox[{"S"}, "RowDefault"], 
         TemplateBox[{"3"}, "RowDefault"]]], 
       SubscriptBox["1", 
        SubscriptBox[
         TemplateBox[{"S"}, "RowDefault"], 
         TemplateBox[{"4"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
   "Ket"], "+", 
  RowBox[{
   SuperscriptBox["\[ExponentialE]", 
    RowBox[{"\[ImaginaryI]", " ", "\[Phi]"}]], " ", 
   TemplateBox[{
     TagBox[
      TemplateBox[{
        SubscriptBox["0", 
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"1"}, "RowDefault"]]], 
        SubscriptBox["0", 
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"2"}, "RowDefault"]]], 
        SubscriptBox["1", 
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"3"}, "RowDefault"]]], 
        SubscriptBox["1", 
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"4"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
    "Ket"]}], "+", 
  RowBox[{
   SuperscriptBox["\[ExponentialE]", 
    RowBox[{"2", " ", "\[ImaginaryI]", " ", "\[Phi]"}]], " ", 
   TemplateBox[{
     TagBox[
      TemplateBox[{
        SubscriptBox["0", 
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"1"}, "RowDefault"]]], 
        SubscriptBox["1", 
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"2"}, "RowDefault"]]], 
        SubscriptBox["0", 
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"3"}, "RowDefault"]]], 
        SubscriptBox["1", 
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"4"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
    "Ket"]}], "+", 
  RowBox[{
   SuperscriptBox["\[ExponentialE]", 
    RowBox[{"3", " ", "\[ImaginaryI]", " ", "\[Phi]"}]], " ", 
   TemplateBox[{
     TagBox[
      TemplateBox[{
        SubscriptBox["0", 
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"1"}, "RowDefault"]]], 
        SubscriptBox["1", 
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"2"}, "RowDefault"]]], 
        SubscriptBox["1", 
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"3"}, "RowDefault"]]], 
        SubscriptBox["1", 
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"4"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
    "Ket"]}], "+", 
  RowBox[{
   SuperscriptBox["\[ExponentialE]", 
    RowBox[{"4", " ", "\[ImaginaryI]", " ", "\[Phi]"}]], " ", 
   TemplateBox[{
     TagBox[
      TemplateBox[{
        SubscriptBox["1", 
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"1"}, "RowDefault"]]], 
        SubscriptBox["0", 
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"2"}, "RowDefault"]]], 
        SubscriptBox["0", 
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"3"}, "RowDefault"]]], 
        SubscriptBox["1", 
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"4"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
    "Ket"]}], "+", 
  RowBox[{
   SuperscriptBox["\[ExponentialE]", 
    RowBox[{"5", " ", "\[ImaginaryI]", " ", "\[Phi]"}]], " ", 
   TemplateBox[{
     TagBox[
      TemplateBox[{
        SubscriptBox["1", 
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"1"}, "RowDefault"]]], 
        SubscriptBox["0", 
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"2"}, "RowDefault"]]], 
        SubscriptBox["1", 
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"3"}, "RowDefault"]]], 
        SubscriptBox["1", 
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"4"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
    "Ket"]}], "+", 
  RowBox[{
   SuperscriptBox["\[ExponentialE]", 
    RowBox[{"6", " ", "\[ImaginaryI]", " ", "\[Phi]"}]], " ", 
   TemplateBox[{
     TagBox[
      TemplateBox[{
        SubscriptBox["1", 
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"1"}, "RowDefault"]]], 
        SubscriptBox["1", 
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"2"}, "RowDefault"]]], 
        SubscriptBox["0", 
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"3"}, "RowDefault"]]], 
        SubscriptBox["1", 
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"4"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
    "Ket"]}], "+", 
  RowBox[{
   SuperscriptBox["\[ExponentialE]", 
    RowBox[{"7", " ", "\[ImaginaryI]", " ", "\[Phi]"}]], " ", 
   TemplateBox[{
     TagBox[
      TemplateBox[{
        SubscriptBox["1", 
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"1"}, "RowDefault"]]], 
        SubscriptBox["1", 
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"2"}, "RowDefault"]]], 
        SubscriptBox["1", 
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"3"}, "RowDefault"]]], 
        SubscriptBox["1", 
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"4"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
    "Ket"]}]}]], "Output",
 CellLabel->"Out[4]=",
 CellID->1433368700,ExpressionUUID->"1521f0cc-2729-4277-97d6-a326633bdb34"]
}, Open  ]],

Cell["\<\
When the phase is one of the discrete values, the QFT can pick it up.\
\>", "ExampleText",
 CellID->1639236511,ExpressionUUID->"f21ebdce-16df-4873-b1f7-9388c15cc979"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"trs", "=", 
   RowBox[{"Block", "[", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"\[Phi]", "=", 
       RowBox[{"2", "Pi", "*", 
        RowBox[{"2", "/", 
         RowBox[{"2", "^", "3"}]}]}]}], "}"}], ",", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{
       RowBox[{"Dagger", "[", 
        RowBox[{"QFT", "[", 
         RowBox[{"S", "@", 
          RowBox[{"{", 
           RowBox[{"1", ",", "2", ",", "3"}], "}"}]}], "]"}], "]"}], "**", 
       "out"}], "//", "Simplify"}]}], "\[IndentingNewLine]", "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{"LogicalForm", "[", 
  RowBox[{"trs", ",", 
   RowBox[{"S", "@", 
    RowBox[{"{", 
     RowBox[{"1", ",", "2", ",", "3", ",", "4"}], "}"}]}]}], "]"}]}], "Input",\

 CellProlog:>Needs["Q3`"],
 CellLabel->"In[5]:=",
 CellID->575394993,ExpressionUUID->"b11bd4ac-91be-429d-9ada-0e6e343107f4"],

Cell[BoxData[
 RowBox[{"2", " ", 
  SqrtBox["2"], " ", 
  TemplateBox[{
    TagBox[
     TemplateBox[{
       SubscriptBox["0", 
        SubscriptBox[
         TemplateBox[{"S"}, "RowDefault"], 
         TemplateBox[{"1"}, "RowDefault"]]], 
       SubscriptBox["1", 
        SubscriptBox[
         TemplateBox[{"S"}, "RowDefault"], 
         TemplateBox[{"2"}, "RowDefault"]]], 
       SubscriptBox["0", 
        SubscriptBox[
         TemplateBox[{"S"}, "RowDefault"], 
         TemplateBox[{"3"}, "RowDefault"]]], 
       SubscriptBox["1", 
        SubscriptBox[
         TemplateBox[{"S"}, "RowDefault"], 
         TemplateBox[{"4"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
   "Ket"]}]], "Output",
 CellLabel->"Out[5]=",
 CellID->708223847,ExpressionUUID->"20ba198a-4941-4056-8991-96de4465c11f"]
}, Open  ]],

Cell["\<\
If the dimensionless phase value is not one of the discrete values that can \
be represented by the finite set of control register, the QFT results in a \
superposition. But the probability distribution has a sharp peak.\
\>", "ExampleText",
 CellID->1511280490,ExpressionUUID->"0001e554-d158-495e-b4cc-8210a4257698"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"trs", "=", 
   RowBox[{"Block", "[", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"\[Phi]", "=", 
       RowBox[{"2", "Pi", "*", 
        RowBox[{"2.125", "/", 
         RowBox[{"2", "^", "3"}]}]}]}], "}"}], ",", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{
       RowBox[{"Dagger", "[", 
        RowBox[{"QFT", "[", 
         RowBox[{"S", "@", 
          RowBox[{"{", 
           RowBox[{"1", ",", "2", ",", "3"}], "}"}]}], "]"}], "]"}], "**", 
       "out"}], "//", "Simplify"}]}], "\[IndentingNewLine]", "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{"LogicalForm", "[", 
  RowBox[{"trs", ",", 
   RowBox[{"S", "@", 
    RowBox[{"{", 
     RowBox[{"1", ",", "2", ",", "3"}], "}"}]}]}], "]"}]}], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[6]:=",
 CellID->881512640,ExpressionUUID->"c4c249c0-6eb1-48e7-aef9-6c374328891c"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"(", 
    RowBox[{"0.16507009142403095`", "\[VeryThinSpace]", "-", 
     RowBox[{"0.07807233879672618`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
   TemplateBox[{
     TagBox[
      TemplateBox[{
        SubscriptBox["0", 
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"1"}, "RowDefault"]]], 
        SubscriptBox["0", 
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"2"}, "RowDefault"]]], 
        SubscriptBox["0", 
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"3"}, "RowDefault"]]], 
        SubscriptBox["1", 
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"4"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
    "Ket"]}], "+", 
  RowBox[{
   RowBox[{"(", 
    RowBox[{"0.3160669899902172`", "\[VeryThinSpace]", "-", 
     RowBox[{"0.015527375534336807`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
   TemplateBox[{
     TagBox[
      TemplateBox[{
        SubscriptBox["0", 
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"1"}, "RowDefault"]]], 
        SubscriptBox["0", 
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"2"}, "RowDefault"]]], 
        SubscriptBox["1", 
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"3"}, "RowDefault"]]], 
        SubscriptBox["1", 
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"4"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
    "Ket"]}], "+", 
  RowBox[{
   RowBox[{"(", 
    RowBox[{"2.5962101484200346`", "\[VeryThinSpace]", "+", 
     RowBox[{"0.9289388448395193`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
   TemplateBox[{
     TagBox[
      TemplateBox[{
        SubscriptBox["0", 
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"1"}, "RowDefault"]]], 
        SubscriptBox["1", 
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"2"}, "RowDefault"]]], 
        SubscriptBox["0", 
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"3"}, "RowDefault"]]], 
        SubscriptBox["1", 
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"4"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
    "Ket"]}], "-", 
  RowBox[{
   RowBox[{"(", 
    RowBox[{"0.2975749012646729`", "\[VeryThinSpace]", "+", 
     RowBox[{"0.2697061693323886`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
   TemplateBox[{
     TagBox[
      TemplateBox[{
        SubscriptBox["0", 
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"1"}, "RowDefault"]]], 
        SubscriptBox["1", 
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"2"}, "RowDefault"]]], 
        SubscriptBox["1", 
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"3"}, "RowDefault"]]], 
        SubscriptBox["1", 
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"4"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
    "Ket"]}], "-", 
  RowBox[{
   RowBox[{"(", 
    RowBox[{"0.08613955167004794`", "\[VeryThinSpace]", "+", 
     RowBox[{"0.18212677996519847`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
   TemplateBox[{
     TagBox[
      TemplateBox[{
        SubscriptBox["1", 
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"1"}, "RowDefault"]]], 
        SubscriptBox["0", 
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"2"}, "RowDefault"]]], 
        SubscriptBox["0", 
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"3"}, "RowDefault"]]], 
        SubscriptBox["1", 
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"4"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
    "Ket"]}], "-", 
  RowBox[{
   RowBox[{"(", 
    RowBox[{"0.00734390168977761`", "\[VeryThinSpace]", "+", 
     RowBox[{"0.14948855308736705`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
   TemplateBox[{
     TagBox[
      TemplateBox[{
        SubscriptBox["1", 
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"1"}, "RowDefault"]]], 
        SubscriptBox["0", 
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"2"}, "RowDefault"]]], 
        SubscriptBox["1", 
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"3"}, "RowDefault"]]], 
        SubscriptBox["1", 
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"4"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
    "Ket"]}], "+", 
  RowBox[{
   RowBox[{"(", 
    RowBox[{"0.04563583907545338`", "\[VeryThinSpace]", "-", 
     RowBox[{"0.1275436259313973`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
   TemplateBox[{
     TagBox[
      TemplateBox[{
        SubscriptBox["1", 
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"1"}, "RowDefault"]]], 
        SubscriptBox["1", 
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"2"}, "RowDefault"]]], 
        SubscriptBox["0", 
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"3"}, "RowDefault"]]], 
        SubscriptBox["1", 
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"4"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
    "Ket"]}], "+", 
  RowBox[{
   RowBox[{"(", 
    RowBox[{"0.09650241046095226`", "\[VeryThinSpace]", "-", 
     RowBox[{"0.10647400219210479`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
   TemplateBox[{
     TagBox[
      TemplateBox[{
        SubscriptBox["1", 
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"1"}, "RowDefault"]]], 
        SubscriptBox["1", 
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"2"}, "RowDefault"]]], 
        SubscriptBox["1", 
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"3"}, "RowDefault"]]], 
        SubscriptBox["1", 
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"4"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
    "Ket"]}]}]], "Output",
 CellLabel->"Out[6]=",
 CellID->768959535,ExpressionUUID->"88c42feb-1330-4f0e-8f08-e22388504c73"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"prb", "=", 
   RowBox[{
    RowBox[{"Abs", "[", 
     RowBox[{"Normalize", "@", 
      RowBox[{"Matrix", "@", 
       RowBox[{"KetDrop", "[", 
        RowBox[{"trs", ",", 
         RowBox[{"S", "[", "4", "]"}]}], "]"}]}]}], "]"}], "^", "2"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{"ListPlot", "[", 
  RowBox[{"prb", ",", "\[IndentingNewLine]", 
   RowBox[{"Joined", "->", "True"}], ",", "\[IndentingNewLine]", 
   RowBox[{"PlotMarkers", "->", 
    RowBox[{"{", "\"\<\[FilledCircle]\>\"", "}"}]}], ",", 
   "\[IndentingNewLine]", 
   RowBox[{"DataRange", "->", 
    RowBox[{"{", 
     RowBox[{"0", ",", "7"}], "}"}]}], ",", "\[IndentingNewLine]", 
   RowBox[{"PlotRange", "->", "All"}], ",", "\[IndentingNewLine]", 
   RowBox[{"FrameLabel", "->", 
    RowBox[{"{", 
     RowBox[{"\"\<8 \[Phi] / 2\[Pi]\>\"", ",", "\"\<probability\>\""}], 
     "}"}]}]}], "]"}]}], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[7]:=",
 CellID->2115899125,ExpressionUUID->"dde9b646-5e33-4742-963a-9e63a23dab53"],

Cell[BoxData[
 GraphicsBox[{{}, {{{}, {}, 
     {RGBColor[0.368417, 0.506779, 0.709798], PointSize[
      0.012833333333333334`], Thickness[Large], 
      LineBox[{{0., 0.004167928145991091}, {1., 0.01251743019405755}, {2., 
       0.9504043140263699}, {3., 0.020161529954828873`}, {4., 
       0.0050737732928010865`}, {4.999999999999999, 0.002800095049522961}, {
       6., 0.0022937507904811105`}, {7., 0.0025811785459473055`}}]}}, 
    {RGBColor[0.368417, 0.506779, 0.709798], PointSize[0.012833333333333334`],
      Thickness[Large], GeometricTransformationBox[
      TagBox[InsetBox["\[FilledCircle]", {0., 0.}],
       "InsetString"], {{{0., 0.004167928145991091}}, {{1., 
      0.01251743019405755}}, {{2., 0.9504043140263699}}, {{3., 
      0.020161529954828873`}}, {{4., 0.0050737732928010865`}}, {{
      4.999999999999999, 0.002800095049522961}}, {{6., 
      0.0022937507904811105`}}, {{7., 0.0025811785459473055`}}}]}}, {{}, {}}},
  
  AspectRatio->NCache[GoldenRatio^(-1), 0.6180339887498948],
  Axes->{False, False},
  AxesLabel->{None, None},
  AxesOrigin->{0, 0},
  AxesStyle->Large,
  DisplayFunction->Identity,
  Frame->{{True, True}, {True, True}},
  FrameLabel->{{
     FormBox[
      TagBox["\"probability\"", HoldForm], TraditionalForm], None}, {
     FormBox[
      TagBox["\"8 \[Phi] / 2\[Pi]\"", HoldForm], TraditionalForm], None}},
  FrameStyle->Large,
  FrameTicks->{{Automatic, Automatic}, {Automatic, Automatic}},
  GridLines->{Automatic, Automatic},
  GridLinesStyle->Directive[
    GrayLevel[0.5, 0.4]],
  ImageSize->Large,
  Method->{
   "OptimizePlotMarkers" -> True, "OptimizePlotMarkers" -> True, 
    "CoordinatesToolOptions" -> {"DisplayFunction" -> ({
        Identity[
         Part[#, 1]], 
        Identity[
         Part[#, 2]]}& ), "CopiedValueFunction" -> ({
        Identity[
         Part[#, 1]], 
        Identity[
         Part[#, 2]]}& )}},
  PlotRange->{{0, 7.}, {0, 0.9504043140263699}},
  PlotRangeClipping->True,
  PlotRangePadding->{{
     Scaled[0.025], 
     Scaled[0.025]}, {
     Scaled[0.025], 
     Scaled[0.025]}},
  Ticks->{Automatic, Automatic}]], "Output",
 CellLabel->"Out[7]=",
 CellID->184078806,ExpressionUUID->"93f0dfd9-fabd-4411-8507-afa02b55d00a"]
}, Open  ]]
}, Open  ]]
}, Dynamic[CurrentValue[
 EvaluationNotebook[], {TaggingRules, "Openers", "ExampleSection", "0"}, 
  Closed]]]],

Cell[CellGroupData[{

Cell[TextData[{
 Cell[BoxData[
  DynamicBox[ToBoxes[
    If[
     MatchQ[
      CurrentValue[
       EvaluationNotebook[], {TaggingRules, "Openers", "ExampleSection", "1"},
        Closed], 
      Alternatives[Open, True]], 
     Style[
      Graphics[{
        Thickness[0.18], 
        RGBColor[0.8509803921568627, 0.396078431372549, 0], 
        Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
       PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
      0.68 Inherited], 
     Rotate[
      Style[
       Graphics[{
         Thickness[0.18], 
         RGBColor[0.8509803921568627, 0.396078431372549, 0], 
         Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
        PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
       0.68 Inherited], Rational[1, 2] Pi, {-1.65, -1}]]],
   ImageSizeCache->{14., {0.45000000000000107`, 13.549999999999999`}}]],
  ExpressionUUID->"54f89903-f8f7-4128-bc31-9b1ccd02d2a9"],
 Cell[BoxData[
  TemplateBox[{1},
   "Spacer1"]],ExpressionUUID->"7a7f8376-e838-478d-b439-3bad00ca3da0"],
 "Scope",
 "\[NonBreakingSpace]\[NonBreakingSpace]",
 Cell["(1)", "ExampleCount",ExpressionUUID->
  "226d661b-23fa-46d7-bc57-cb65a553eb94"]
}], "ExampleSection", "ExampleSection",
 WholeCellGroupOpener->True,
 CacheGraphics->False,
 CellID->1911880702,ExpressionUUID->"f8debabd-17af-4e89-88e4-9f3a7b96a816"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"$m", "=", "3"}], ";"}], " ", 
  RowBox[{"(*", " ", 
   RowBox[{
   "the", " ", "number", " ", "of", " ", "qubits", " ", "in", " ", "the", 
    " ", "\"\<probe\>\"", " ", "register"}], " ", 
   "*)"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"prb", "=", 
    RowBox[{"Range", "[", "$m", "]"}]}], ";"}], " ", 
  RowBox[{"(*", " ", 
   RowBox[{"the", " ", "\"\<probe\>\"", " ", "register"}], " ", 
   "*)"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"sys", "=", 
    RowBox[{"$m", "+", "1"}]}], ";"}], " ", 
  RowBox[{"(*", " ", 
   RowBox[{"the", " ", "\"\<system\>\"", " ", "register"}], " ", 
   "*)"}]}]}], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[1]:=",
 CellID->61660548,ExpressionUUID->"38768c1f-761d-42e3-b98c-d5dce2749076"],

Cell["\<\
Consider the phase gate in the eigen-basis of the Pauli X operator.\
\>", "ExampleText",
 CellID->834601618,ExpressionUUID->"80322106-2c62-4e43-a291-361e505bd093"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"op", "=", 
  RowBox[{
   RowBox[{
    RowBox[{"S", "[", 
     RowBox[{"sys", ",", "6"}], "]"}], "**", 
    RowBox[{"Phase", "[", 
     RowBox[{"\[Phi]", ",", 
      RowBox[{"S", "[", "sys", "]"}]}], "]"}], "**", 
    RowBox[{"S", "[", 
     RowBox[{"sys", ",", "6"}], "]"}]}], "//", "Elaborate"}]}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[2]:=",
 CellID->630087907,ExpressionUUID->"ce14cacb-50ab-41a8-b266-97a0126d68f6"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   FractionBox["1", "2"], " ", 
   RowBox[{"(", 
    RowBox[{"1", "+", 
     SuperscriptBox["\[ExponentialE]", 
      RowBox[{"\[ImaginaryI]", " ", "\[Phi]"}]]}], ")"}]}], "+", 
  RowBox[{
   FractionBox["1", "2"], " ", 
   RowBox[{"(", 
    RowBox[{"1", "-", 
     SuperscriptBox["\[ExponentialE]", 
      RowBox[{"\[ImaginaryI]", " ", "\[Phi]"}]]}], ")"}], " ", 
   TemplateBox[{
     TemplateBox[{"S"}, "RowDefault"], 
     TemplateBox[{"4"}, "RowDefault"], 
     TemplateBox[{"\"x\""}, "RowDefault"]},
    "Subsuperscript"]}]}]], "Output",
 CellLabel->"Out[2]=",
 CellID->124079670,ExpressionUUID->"1a00388f-2055-4f2b-81ab-13b2d73efa3f"]
}, Open  ]],

Cell["\<\
This is the quantum circuit for the controlled exponentiation.\
\>", "ExampleText",
 CellID->898727511,ExpressionUUID->"a3187f89-ff16-4b1a-b101-5f8d142531fd"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"qc", "=", 
  RowBox[{"QuantumCircuit", "[", 
   RowBox[{"ControlledExp", "[", 
    RowBox[{
     RowBox[{"S", "@", "prb"}], ",", "op"}], "]"}], "]"}]}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[3]:=",
 CellID->1336888100,ExpressionUUID->"e7f117f7-0510-4572-9783-557308353a42"],

Cell[BoxData[
 GraphicsBox[{
   {Dashing[{Small, Small}], LineBox[{}]}, 
   LineBox[{{{0, -1}, {2, -1}}, {{0, -2}, {2, -2}}, {{0, -3}, {2, -3}}, {{
    0, -4}, {2, -4}}}], {LineBox[{{1, -1}, {1, -2}, {1, -3}, {1, -4}}], 
    {GrayLevel[1], EdgeForm[GrayLevel[0]], 
     FilledCurveBox[{
      BezierCurve[{{1.4, -1}, {1.4, -0.47439999999999993`}, {
         0.6, -0.47439999999999993`}, {0.6, -1}}], 
       Line[{{0.6, -1}, {0.6, -3}}], 
       BezierCurve[{{0.6, -3.5256}, {1.4, -3.5256}, {1.4, -3}}]}]}, InsetBox[
     StyleBox["\<\"x\"\>",
      StripOnInput->False,
      FontSize->Scaled[0.2],
      FontWeight->"Light",
      FontSlant->Italic], {1, -2}, NCache[
     ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]]], 
    {GrayLevel[1], EdgeForm[None], RectangleBox[{0.6, -4.4}, {1.4, -3.6}]}, 
    LineBox[{{0.6, -4.4}, {1.4, -4.4}, {1.4, -3.6}, {0.6, -3.6}, {
     0.6, -4.4}}], InsetBox[
     StyleBox[
      TemplateBox[{"\"U\"", "\"x\""},
       "Superscript"],
      StripOnInput->False,
      FontSize->Scaled[0.2],
      FontWeight->"Light",
      FontSlant->Italic], {1, -4}, NCache[
     ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
      ImageScaled[{0.5, 0.5}]]]}},
  AxesStyle->Large,
  FrameStyle->Large,
  ImagePadding->{{23.400000000000002`, 23.400000000000002`}, {1, 1}},
  ImageSize->118.8,
  PlotRange->NCache[{Full, {
      Rational[-9, 2], 
      Rational[-1, 2]}}, {Full, {-4.5, -0.5}}],
  PlotRangePadding->Scaled[0.025]]], "Output",
 CellLabel->"Out[3]=",
 CellID->1315290003,ExpressionUUID->"954f2885-0bdb-4df8-b760-26fffef77e1f"]
}, Open  ]],

Cell["\<\
The controlled exponentiation can be implemented by using controlled-unitary \
gates.\
\>", "ExampleText",
 CellID->1066700697,ExpressionUUID->"4fbe218c-25ee-49f0-9197-dd6aaf8c976a"],

Cell[BoxData[
 RowBox[{
  RowBox[{"ctrlU", "[", "j_", "]"}], ":=", 
  RowBox[{"ControlledU", "[", 
   RowBox[{
    RowBox[{"S", "[", "j", "]"}], ",", 
    RowBox[{"MultiplyPower", "[", 
     RowBox[{"op", ",", 
      RowBox[{"Power", "[", 
       RowBox[{"2", ",", 
        RowBox[{"$m", "-", "j"}]}], "]"}]}], "]"}], ",", 
    RowBox[{"\"\<Label\>\"", "\[Rule]", 
     RowBox[{"Superscript", "[", 
      RowBox[{"\"\<U\>\"", ",", 
       RowBox[{"Superscript", "[", 
        RowBox[{"\"\<2\>\"", ",", 
         RowBox[{"ToString", "[", 
          RowBox[{"$m", "-", "j"}], "]"}]}], "]"}]}], "]"}]}], ",", 
    "\[IndentingNewLine]", 
    RowBox[{"\"\<LabelSize\>\"", "\[Rule]", "0.65"}]}], "]"}]}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[4]:=",
 CellID->511664418,ExpressionUUID->"631b3042-275b-437a-9dea-17c411368910"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"new", "=", 
  RowBox[{"QuantumCircuit", "[", 
   RowBox[{
    RowBox[{"ctrlU", "[", "1", "]"}], ",", 
    RowBox[{"ctrlU", "[", "2", "]"}], ",", 
    RowBox[{"ctrlU", "[", "3", "]"}]}], "]"}]}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[5]:=",
 CellID->1019350738,ExpressionUUID->"ab6bd862-3713-4ba6-88f2-ff0d07de9504"],

Cell[BoxData[
 GraphicsBox[{
   {Dashing[{Small, Small}], LineBox[{}]}, 
   LineBox[{{{0, -1}, {4, -1}}, {{0, -2}, {4, -2}}, {{0, -3}, {4, -3}}, {{
    0, -4}, {4, -4}}}], {LineBox[{{1, -1}, {1, -4}}], 
    DiskBox[{1, -1}, 0.09], 
    {GrayLevel[1], EdgeForm[None], RectangleBox[{0.6, -4.4}, {1.4, -3.6}]}, 
    LineBox[{{0.6, -4.4}, {1.4, -4.4}, {1.4, -3.6}, {0.6, -3.6}, {
     0.6, -4.4}}], InsetBox[
     StyleBox[
      TemplateBox[{"\"U\"", 
        TemplateBox[{"\"2\"", "\"2\""}, "Superscript", SyntaxForm -> 
         SuperscriptBox]},
       "Superscript"],
      StripOnInput->False,
      FontSize->Scaled[0.065],
      FontWeight->"Light",
      FontSlant->Italic], {1, -4}, NCache[
     ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
      ImageScaled[{0.5, 0.5}]]]}, {LineBox[{{2, -2}, {2, -4}}], 
    DiskBox[{2, -2}, 0.09], 
    {GrayLevel[1], EdgeForm[None], RectangleBox[{1.6, -4.4}, {2.4, -3.6}]}, 
    LineBox[{{1.6, -4.4}, {2.4, -4.4}, {2.4, -3.6}, {1.6, -3.6}, {
     1.6, -4.4}}], InsetBox[
     StyleBox[
      TemplateBox[{"\"U\"", 
        TemplateBox[{"\"2\"", "\"1\""}, "Superscript", SyntaxForm -> 
         SuperscriptBox]},
       "Superscript"],
      StripOnInput->False,
      FontSize->Scaled[0.065],
      FontWeight->"Light",
      FontSlant->Italic], {2, -4}, NCache[
     ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
      ImageScaled[{0.5, 0.5}]]]}, {LineBox[{{3, -3}, {3, -4}}], 
    DiskBox[{3, -3}, 0.09], 
    {GrayLevel[1], EdgeForm[None], RectangleBox[{2.6, -4.4}, {3.4, -3.6}]}, 
    LineBox[{{2.6, -4.4}, {3.4, -4.4}, {3.4, -3.6}, {2.6, -3.6}, {
     2.6, -4.4}}], InsetBox[
     StyleBox[
      TemplateBox[{"\"U\"", 
        TemplateBox[{"\"2\"", "\"0\""}, "Superscript", SyntaxForm -> 
         SuperscriptBox]},
       "Superscript"],
      StripOnInput->False,
      FontSize->Scaled[0.065],
      FontWeight->"Light",
      FontSlant->Italic], {3, -4}, NCache[
     ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
      ImageScaled[{0.5, 0.5}]]]}},
  AxesStyle->Large,
  FrameStyle->Large,
  ImagePadding->{{23.400000000000002`, 23.400000000000002`}, {1, 1}},
  ImageSize->190.79999999999998`,
  PlotRange->NCache[{Full, {
      Rational[-9, 2], 
      Rational[-1, 2]}}, {Full, {-4.5, -0.5}}],
  PlotRangePadding->Scaled[0.025]]], "Output",
 CellLabel->"Out[5]=",
 CellID->1106754690,ExpressionUUID->"e4084e82-3280-4613-a7aa-7998dc442766"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"Elaborate", "[", "qc", "]"}], "-", 
   RowBox[{"Elaborate", "[", "new", "]"}]}], "//", "Simplify"}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[6]:=",
 CellID->793501579,ExpressionUUID->"3d947bbc-b757-4143-a8c4-884bf9291eb9"],

Cell[BoxData["0"], "Output",
 CellLabel->"Out[6]=",
 CellID->1584299849,ExpressionUUID->"9ed6d813-9f06-412e-a80f-8d939fef3065"]
}, Open  ]]
}, Dynamic[CurrentValue[
 EvaluationNotebook[], {TaggingRules, "Openers", "ExampleSection", "1"}, 
  Closed]]]]
}, Dynamic[CurrentValue[
 EvaluationNotebook[], {TaggingRules, "Openers", "PrimaryExamplesSection"}, 
  Closed]]]],

Cell[BoxData[GridBox[{
   {
    DynamicBox[FEPrivate`ImportImage[
      FrontEnd`FileName[{"Documentation", "FooterIcons"}, 
       "RelatedFunction.png"]],
     ImageSizeCache->{50., {27., 33.}}], GridBox[{
      {
       StyleBox[
        RowBox[{"See", " ", "Also"}], "SeeAlsoSection"]},
      {Cell[TextData[{
        Cell[BoxData[
         TemplateBox[{
           Cell[
            TextData["ControlledU"]], "paclet:Q3/ref/ControlledU", 
           "Q3 Package Symbol"},
          "PackageLink",
          BaseStyle->"InlineFormula"]], "InlineFormula",
         FontFamily->"Source Sans Pro",ExpressionUUID->
         "6d59e184-6ac0-4135-8917-8f79bf72ee15"],
        "\[NonBreakingSpace]",
        StyleBox[
        "\[MediumSpace]\[FilledVerySmallSquare]\[MediumSpace]", 
         "InlineSeparator"],
        " ",
        Cell[BoxData[
         TemplateBox[{
           Cell[
            TextData["CNOT"]], "paclet:Q3/ref/CNOT", "Q3 Package Symbol"},
          "PackageLink",
          BaseStyle->"InlineFormula"]], "InlineFormula",
         FontFamily->"Source Sans Pro",ExpressionUUID->
         "072c5c6a-5efd-45d1-bb6c-af168848d937"],
        "\[NonBreakingSpace]",
        StyleBox[
        "\[MediumSpace]\[FilledVerySmallSquare]\[MediumSpace]", 
         "InlineSeparator"],
        " ",
        Cell[BoxData[
         TemplateBox[{
           Cell[
            TextData["CX"]], "paclet:Q3/ref/CX", "Q3 Package Symbol"},
          "PackageLink",
          BaseStyle->"InlineFormula"]], "InlineFormula",
         FontFamily->"Source Sans Pro",ExpressionUUID->
         "516fa686-303c-4f52-b3c7-fecc9e86d163"],
        "\[NonBreakingSpace]",
        StyleBox[
        "\[MediumSpace]\[FilledVerySmallSquare]\[MediumSpace]", 
         "InlineSeparator"],
        " ",
        Cell[BoxData[
         TemplateBox[{
           Cell[
            TextData["CZ"]], "paclet:Q3/ref/CZ", "Q3 Package Symbol"},
          "PackageLink",
          BaseStyle->"InlineFormula"]], "InlineFormula",
         FontFamily->"Source Sans Pro",ExpressionUUID->
         "b31f361b-2333-43b1-a255-01e30022d732"],
        "\[NonBreakingSpace]",
        StyleBox[
        "\[MediumSpace]\[FilledVerySmallSquare]\[MediumSpace]", 
         "InlineSeparator"],
        " ",
        Cell[BoxData[
         TemplateBox[{
           Cell[
            TextData["QuantumCircuit"]], "paclet:Q3/ref/QuantumCircuit", 
           "Q3 Package Symbol"},
          "PackageLink",
          BaseStyle->"InlineFormula"]], "InlineFormula",
         FontFamily->"Source Sans Pro",ExpressionUUID->
         "8d79f64d-2a32-4c88-b42b-f39f6a3cd622"]
       }], "SeeAlso",ExpressionUUID->"e414ae21-d324-48b5-84ab-c7d030af5047"]}
     }]}
  }]], "SeeAlsoSection",ExpressionUUID->"6af5b147-da7d-4267-949a-\
358ec4fc6d7c"],

Cell[BoxData[GridBox[{
   {
    DynamicBox[FEPrivate`ImportImage[
      FrontEnd`FileName[{"Documentation", "FooterIcons"}, 
       "RelatedTechNote.png"]],
     ImageSizeCache->{50., {27., 33.}}], GridBox[{
      {
       StyleBox[
        RowBox[{"Tech", " ", "Notes"}], "TechNotesSection"]},
      {
       RowBox[{
       "\[FilledVerySmallSquare]", Cell[TextData[ButtonBox[
        "Quantum Phase Estimation",
         BaseStyle->"Link",
         ButtonData->"paclet:Q3/tutorial/QuantumPhaseEstimation"]], 
         "TechNotes",ExpressionUUID->
         "800aa863-d975-4c82-afee-87d8eb6adf66"]}]},
      {
       RowBox[{"\[FilledVerySmallSquare]", Cell[BoxData[
         TemplateBox[{
           Cell[
            TextData["Multi-Control Unitary Gates"]], 
           "paclet:Q3/tutorial/MultiControlUnitaryGates"},
          "RefLinkPlain",
          BaseStyle->{"Tutorials"}]], "Tutorials",ExpressionUUID->
         "ee1a73a3-3663-4ef5-bbab-689e95a5cc5f"]}]},
      {
       RowBox[{"\[FilledVerySmallSquare]", Cell[BoxData[
         TemplateBox[{
           Cell[
            TextData["Quantum Computation: Overview"]], 
           "paclet:Q3/tutorial/QuantumComputationOverview"},
          "RefLinkPlain",
          BaseStyle->{"Tutorials"}]], "Tutorials",ExpressionUUID->
         "8da0df4b-8a41-4b3f-ac84-959133ddf84b"]}]},
      {
       RowBox[{"\[FilledVerySmallSquare]", Cell[BoxData[
         TemplateBox[{
           Cell[
            TextData["Quantum Information Systems with Q3"]], 
           "paclet:Q3/tutorial/QuantumInformationSystems"},
          "RefLinkPlain",
          BaseStyle->{"Tutorials"}]], "Tutorials",ExpressionUUID->
         "af705e42-2d26-4652-b9c5-b43e02574a51"]}]},
      {
       RowBox[{"\[FilledVerySmallSquare]", Cell[BoxData[
         TemplateBox[{
           Cell[
            TextData["Q3: Quick Start"]], "paclet:Q3/tutorial/Q3QuickStart"},
          "RefLinkPlain",
          BaseStyle->{"Tutorials"}]], "Tutorials",ExpressionUUID->
         "aa643f60-be22-49c8-9521-de6d9d4b395d"]}]}
     }]}
  }]], "TechNotesSection",ExpressionUUID->"54314808-bd59-4ea5-bb8c-\
3aed728999b3"],

Cell[BoxData[GridBox[{
   {
    DynamicBox[FEPrivate`ImportImage[
      FrontEnd`FileName[{"Documentation", "FooterIcons"}, "RelatedGuide.png"]],
     ImageSizeCache->{50., {27., 33.}}], GridBox[{
      {
       StyleBox[
        RowBox[{"Related", " ", "Guides"}], "MoreAboutSection"]},
      {
       RowBox[{"\[FilledVerySmallSquare]", Cell[BoxData[
         TemplateBox[{
           Cell[
            TextData["Quantum Information Systems"]], 
           "paclet:Q3/guide/QuantumInformationSystems"},
          "RefLinkPlain",
          BaseStyle->{"MoreAbout"}]], "MoreAbout",ExpressionUUID->
         "6284151a-6aa2-4aa1-90b3-cf3c6f43d4a5"]}]},
      {
       RowBox[{"\[FilledVerySmallSquare]", Cell[BoxData[
         TemplateBox[{
           Cell[
            TextData["Q3"]], "paclet:Q3/guide/Q3"},
          "RefLinkPlain",
          BaseStyle->{"MoreAbout"}]], "MoreAbout",ExpressionUUID->
         "54bbc333-c564-4ba7-bc26-ddd147cb971c"]}]}
     }]}
  }]], "MoreAboutSection",ExpressionUUID->"c99fa13c-7de5-423e-b5ca-\
3321f75b359b"],

Cell[BoxData[GridBox[{
   {
    TemplateBox[{29},
     "Spacer1"], GridBox[{
      {
       RowBox[{
        TemplateBox[{17},
         "Spacer1"], 
        StyleBox[
         RowBox[{"Related", " ", "Links"}], "RelatedLinksSection"]}]},
      {Cell[TextData[Cell[BoxData[
        TemplateBox[{
          Cell[
           TextData[
            Cell[
             TextData[{
               Cell[
                BoxData[
                 DynamicBox[
                  FEPrivate`ImportImage[
                   
                   FrontEnd`FileName[{"Documentation", "FooterIcons"}, 
                    "RelatedLinks-EIWL.png"]]]]], 
               Cell[
                BoxData[
                 TemplateBox[{4}, "Spacer1"]]], 
               "An Elementary Introduction to the Wolfram Language"}]]]], 
          "https://www.wolfram.com/language/elementary-introduction/"},
         "WebLink",
         BaseStyle->{"RelatedLinks"}]],ExpressionUUID->
        "f960ef5d-5dd6-4ed1-b3b5-9695c5dda194"]], "RelatedLinks",
        ExpressionUUID->"11a31bfa-20d3-4b8a-8ceb-8db928cddbf3"]},
      {Cell[TextData[Cell[BoxData[
        TemplateBox[{
          Cell[
           TextData[
            Cell[
             TextData[{
               Cell[
                BoxData[
                 DynamicBox[
                  FEPrivate`ImportImage[
                   
                   FrontEnd`FileName[{"Documentation", "FooterIcons"}, 
                    "RelatedLinks-FastIntro.png"]]]]], 
               Cell[
                BoxData[
                 TemplateBox[{4}, "Spacer1"]]], 
               "The Wolfram Language: Fast Introduction for Programmers"}]]]],
           "https://www.wolfram.com/language/fast-introduction-for-\
programmers/"},
         "WebLink",
         BaseStyle->{"RelatedLinks"}]],ExpressionUUID->
        "9b264a60-460b-4ff6-80ac-a783d1b7d332"]], "RelatedLinks",
        ExpressionUUID->"32d34d41-a522-49b2-8666-8fcdc4e84f68"]},
      {Cell[TextData[{
        Cell[BoxData[
         RowBox[{
          TemplateBox[{16},
           "Spacer1"], "\[FilledVerySmallSquare]", Cell[BoxData[
           TemplateBox[{
             Cell[
              TextData[
               Cell[
                TextData[{
                  Cell[
                   BoxData[
                    TemplateBox[{2}, "Spacer1"]]], 
                  "M. Nielsen and I. L. Chuang (2022)"}]]]], 
             "https://doi.org/10.1017/CBO9780511976667"},
            "WebLink",
            BaseStyle->{"RelatedLinks"}]],ExpressionUUID->
           "93dcaa0f-392f-45e6-8c9b-98b015904e79"]}]],ExpressionUUID->
         "16e69e51-a9a3-4f8d-91cb-4e22554a4378"],
        StyleBox[
        ", Quantum Computation and Quantum Information (Cambridge University \
Press, 2011).",
         FontSlant->"Plain"]
       }], "RelatedLinks",ExpressionUUID->
        "3d4bf305-7529-477d-a84c-8be347c7b530"]},
      {Cell[TextData[{
        Cell[BoxData[
         RowBox[{
          TemplateBox[{16},
           "Spacer1"], "\[FilledVerySmallSquare]", Cell[BoxData[
           TemplateBox[{
             Cell[
              TextData[
               Cell[
                TextData[{
                  Cell[
                   BoxData[
                    TemplateBox[{2}, "Spacer1"]]], 
                  "Mahn-Soo Choi (2022)"}]]]], 
             "https://doi.org/10.1007/978-3-030-91214-7"},
            "WebLink",
            BaseStyle->{"RelatedLinks"}]],ExpressionUUID->
           "622a5e88-e5ce-479a-810c-ae0f5bf7a164"]}]],ExpressionUUID->
         "40cc2e5c-6652-4fa8-ae7a-70f1c4cf796d"],
        ", A Quantum Computation Workbook (Springer, 2022)."
       }], "RelatedLinks",ExpressionUUID->
        "40d7976d-0ce8-4797-86cc-8e347640e75f"]}
     }]}
  }]], "RelatedLinksSection",ExpressionUUID->"ad331c49-9568-4700-96d6-\
be302f510c72"],

Cell[" ", "FooterCell",ExpressionUUID->"c0674794-56a4-4632-bbd8-e7844bd83f79"]
},
Saveable->False,
ScreenStyleEnvironment->"Working",
WindowSize->{900, 830},
WindowMargins->{{0, Automatic}, {Automatic, 0}},
WindowTitle->"ControlledExp",
TaggingRules->{
 "ModificationHighlight" -> False, "ColorType" -> "", "LinkTrails" -> "", 
  "HasOptions" -> True, "ExampleCounter" -> 1, 
  "Openers" -> {
   "PrimaryExamplesSection" -> Open, 
    "ExampleSection" -> {"0" -> Open, "1" -> Closed}, "NotesSection" -> 
    Closed}, "NewStyles" -> True, "CitationPopupData" -> $Failed, 
  "ShowCitation" -> False, "RootCaptions" -> "", 
  "Metadata" -> {
   "built" -> "{2023, 1, 3, 2, 20, 8.661449}", 
    "history" -> {"13.1", "", "", ""}, "context" -> "Q3`", "keywords" -> {}, 
    "specialkeywords" -> {}, "tutorialcollectionlinks" -> {}, "index" -> True,
     "label" -> "Q3 Symbol", "language" -> "en", "paclet" -> "Q3", "status" -> 
    "None", "summary" -> 
    "ControlledExp[{c1, c2, ...}, op] represents a controlled exponentiation \
gate.", "synonyms" -> {}, "tabletags" -> {}, "title" -> "ControlledExp", 
    "titlemodifier" -> "", "windowtitle" -> "ControlledExp", "type" -> 
    "Symbol", "uri" -> "Q3/ref/ControlledExp"}},
CellContext->"Global`",
FrontEndVersion->"13.1 for Mac OS X ARM (64-bit) (June 16, 2022)",
StyleDefinitions->Notebook[{
   Cell[
    StyleData[
    StyleDefinitions -> FrontEnd`FileName[{"Wolfram"}, "Reference.nb"]]], 
   Cell[
    StyleData["Input"], CellContext -> "Global`"], 
   Cell[
    StyleData["Output"], CellContext -> "Global`"]}, Visible -> False, 
  FrontEndVersion -> "13.1 for Mac OS X ARM (64-bit) (June 16, 2022)", 
  StyleDefinitions -> "Default.nb"],
ExpressionUUID->"6852d7a0-6283-4523-b461-9f12c0d60cd8"
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{
 "PrimaryExamplesSection"->{
  Cell[16982, 465, 1390, 37, 36, "PrimaryExamplesSection",ExpressionUUID->"545c14b1-86a6-43c3-aed1-3b8371f162b3",
   CellTags->"PrimaryExamplesSection",
   CellID->2017425597]}
 }
*)
(*CellTagsIndex
CellTagsIndex->{
 {"PrimaryExamplesSection", 102737, 2958}
 }
*)
(*NotebookFileOutline
Notebook[{
Cell[585, 21, 7405, 176, 57, "AnchorBarGrid",ExpressionUUID->"f566492c-497d-4465-a718-9f81ff65c51c",
 CellID->1],
Cell[7993, 199, 85, 0, 23, "ContextNameCell",ExpressionUUID->"a1d7d435-9f53-41a3-a663-a51769565367"],
Cell[CellGroupData[{
Cell[8103, 203, 1389, 38, 60, "ObjectNameGrid",ExpressionUUID->"82dd8f8d-5922-43ef-bec5-aae6258eac3b"],
Cell[9495, 243, 971, 26, 114, "Usage",ExpressionUUID->"df1e2fa1-fba5-4572-a409-864423852d21",
 CellID->64829665]
}, Open  ]],
Cell[CellGroupData[{
Cell[10503, 274, 1898, 47, 37, "NotesSection",ExpressionUUID->"119d26f9-df58-4e51-84e3-7328c481dcbf",
 CellGroupingRules->{"SectionGrouping", 50},
 CellID->503035227],
Cell[12404, 323, 2379, 78, 70, "Notes",ExpressionUUID->"c2f41ce3-45e4-4d5b-bd69-e73c069eb2d7",
 CellID->100026970],
Cell[14786, 403, 565, 15, 70, "Notes",ExpressionUUID->"e8ecf42d-30e4-4ea1-837c-866382304e2f",
 CellID->2112528434],
Cell[15354, 420, 530, 14, 70, "Notes",ExpressionUUID->"0230f574-1480-4d58-a55b-4bde45981f61",
 CellID->1630510880],
Cell[15887, 436, 256, 7, 70, "Notes",ExpressionUUID->"40b1b323-1c2b-4add-a452-fd88141c903a",
 CellID->1639654363],
Cell[16146, 445, 128, 1, 70, "Notes",ExpressionUUID->"fcc911b7-0b1c-47c3-bc06-f07a9c9cab73",
 CellID->817970626],
Cell[16277, 448, 578, 11, 70, "3ColumnTableMod",ExpressionUUID->"5c00ac90-f36c-403b-97a1-9637302d42cc",
 CellID->1589486735]
}, Dynamic[CurrentValue[EvaluationNotebook[], {TaggingRules, "Openers", "NotesSection"}, Closed]]]],
Cell[CellGroupData[{
Cell[16982, 465, 1390, 37, 36, "PrimaryExamplesSection",ExpressionUUID->"545c14b1-86a6-43c3-aed1-3b8371f162b3",
 CellTags->"PrimaryExamplesSection",
 CellID->2017425597],
Cell[18375, 504, 191, 3, 31, "Input",ExpressionUUID->"3ae6a338-1c6b-4df7-90e2-76b0f0911490",
 CellID->851865642],
Cell[CellGroupData[{
Cell[18591, 511, 1367, 36, 31, "ExampleSection",ExpressionUUID->"3f4dfa9e-a16f-43ca-9e67-6bd778a3a4d7",
 CellID->252706296],
Cell[19961, 549, 209, 5, 29, "Input",ExpressionUUID->"014c9d9f-afb5-4ad8-8cc5-1c42a125b410",
 CellID->2076530764],
Cell[CellGroupData[{
Cell[20195, 558, 415, 12, 29, "Input",ExpressionUUID->"43e7994d-b777-4613-8787-aab3582a14a8",
 CellID->1495803151],
Cell[20613, 572, 633, 23, 37, "Output",ExpressionUUID->"68a3170f-ad01-448a-a6f2-8b509f6e2995",
 CellID->743672099]
}, Open  ]],
Cell[CellGroupData[{
Cell[21283, 600, 395, 12, 29, "Input",ExpressionUUID->"db4b4573-02cf-42e8-9571-711f0f01a586",
 CellID->2104788460],
Cell[21681, 614, 733, 21, 41, "Output",ExpressionUUID->"5e287a25-e189-418e-be45-0d59a4921f13",
 CellID->6050000]
}, Open  ]],
Cell[CellGroupData[{
Cell[22451, 640, 504, 15, 48, "Input",ExpressionUUID->"ca6ccab4-701c-4904-85bc-2de3b98289cd",
 CellID->1154618494],
Cell[22958, 657, 1607, 51, 41, "Output",ExpressionUUID->"7dbf5dc5-ec8d-45c2-a2c7-ea232503fdae",
 CellID->57074622]
}, Open  ]],
Cell[CellGroupData[{
Cell[24602, 713, 287, 7, 48, "Input",ExpressionUUID->"6c0d3b13-3e92-4232-9cc2-7eff46157e12",
 CellID->1825261592],
Cell[24892, 722, 2541, 76, 41, "Output",ExpressionUUID->"7fc5e420-75cf-4e9c-830e-7254ea068839",
 CellID->1121796380]
}, Open  ]],
Cell[CellGroupData[{
Cell[27470, 803, 242, 5, 14, "ExampleDelimiter",ExpressionUUID->"54692882-e20b-4d8b-9f03-ff61715191fb",
 CellID->360562160],
Cell[27715, 810, 210, 4, 38, "ExampleText",ExpressionUUID->"65655618-cd8b-4b84-aaeb-c1c3298f0f8c",
 CellID->83261738],
Cell[CellGroupData[{
Cell[27950, 818, 294, 7, 48, "Input",ExpressionUUID->"fda527a0-5cc8-4730-a467-961f6ad8c0c8",
 CellID->2073621093],
Cell[28247, 827, 1489, 35, 174, "Output",ExpressionUUID->"17d4c181-d5c5-4a76-8f02-86ef953936c7",
 CellID->374303661]
}, Open  ]],
Cell[CellGroupData[{
Cell[29773, 867, 421, 12, 70, "Input",ExpressionUUID->"71861f93-8a49-4cb1-b2e2-addc4d6551df",
 CellID->43453953],
Cell[30197, 881, 3142, 69, 316, "Output",ExpressionUUID->"53173752-5c4e-49b4-bd33-666a0f60bd96",
 CellID->911029361]
}, Open  ]],
Cell[33354, 953, 185, 3, 70, "ExampleText",ExpressionUUID->"f4e1cde4-0892-4331-b315-9e932b2aaa39",
 CellID->1098295329],
Cell[CellGroupData[{
Cell[33564, 960, 213, 5, 70, "Input",ExpressionUUID->"3ca5008e-3096-4154-9bf8-0b46da43860f",
 CellID->337611983],
Cell[33780, 967, 5561, 164, 84, "Output",ExpressionUUID->"d210d997-3f21-4d17-965e-79bf8f17d366",
 CellID->1849721765]
}, Open  ]],
Cell[CellGroupData[{
Cell[39378, 1136, 376, 11, 70, "Input",ExpressionUUID->"9efc0514-79c9-40d0-9d9f-8ff227b4e5fb",
 CellID->1061819516],
Cell[39757, 1149, 2332, 53, 304, "Output",ExpressionUUID->"e7fe5e24-af31-446e-b65f-5cba9f3878dc",
 CellID->1546642812]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[42138, 1208, 242, 5, 70, "ExampleDelimiter",ExpressionUUID->"17e27e71-530c-4fb8-aef8-ec274ee60c36",
 CellID->689713619],
Cell[CellGroupData[{
Cell[42405, 1217, 453, 13, 70, "Input",ExpressionUUID->"cf578579-8438-4b2c-962b-cb007b450fa6",
 CellID->2047551674],
Cell[42861, 1232, 677, 20, 52, "Output",ExpressionUUID->"b1fba5a0-e465-43f7-93d2-9eaff8a8d66a",
 CellID->1253185812]
}, Open  ]],
Cell[CellGroupData[{
Cell[43575, 1257, 654, 19, 70, "Input",ExpressionUUID->"80aa047e-f3d4-4cc2-9d97-2ffe8cc0ca7d",
 CellID->658842380],
Cell[44232, 1278, 2680, 66, 163, "Output",ExpressionUUID->"194adade-5060-430d-9dde-9c0213529fef",
 CellID->959440679]
}, Open  ]],
Cell[CellGroupData[{
Cell[46949, 1349, 721, 22, 70, "Input",ExpressionUUID->"6aed0638-7cbc-4e07-973c-4a830dda48aa",
 CellID->629762013],
Cell[47673, 1373, 3508, 86, 165, "Output",ExpressionUUID->"15893c8f-e531-4f6f-a13d-5b05477733a4",
 CellID->1935489834]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[51230, 1465, 243, 5, 70, "ExampleDelimiter",ExpressionUUID->"034d79bd-3423-4766-9526-e22e165360af",
 CellID->1935006837],
Cell[CellGroupData[{
Cell[51498, 1474, 453, 13, 70, "Input",ExpressionUUID->"40b1aafd-8e07-4bbc-92be-ad01bcf309dc",
 CellID->1747542897],
Cell[51954, 1489, 677, 20, 52, "Output",ExpressionUUID->"9d69c929-3d4f-4777-be5b-3e3d66a50069",
 CellID->1640521585]
}, Open  ]],
Cell[CellGroupData[{
Cell[52668, 1514, 654, 19, 70, "Input",ExpressionUUID->"e2fdfe6a-610b-4723-965d-c20fb88ec766",
 CellID->765966584],
Cell[53325, 1535, 2680, 66, 163, "Output",ExpressionUUID->"f61a3481-6c0d-49be-ae27-48e7d962917c",
 CellID->870308783]
}, Open  ]],
Cell[CellGroupData[{
Cell[56042, 1606, 413, 12, 70, "Input",ExpressionUUID->"f34e1d4c-09b7-4640-aa4d-253215d8cd32",
 CellID->538882566],
Cell[56458, 1620, 4193, 131, 41, "Output",ExpressionUUID->"f8c03f25-6b56-4d8a-a1e8-1590b12259b1",
 CellID->2104255982]
}, Open  ]],
Cell[60666, 1754, 207, 4, 70, "ExampleText",ExpressionUUID->"34cac316-4777-4267-a51a-90e9a9e4d86a",
 CellID->1730346951],
Cell[CellGroupData[{
Cell[60898, 1762, 291, 7, 70, "Input",ExpressionUUID->"f6c6be04-47e9-40ee-8e42-aaf41c6ba907",
 CellID->1719176194],
Cell[61192, 1771, 6225, 184, 61, "Output",ExpressionUUID->"1521f0cc-2729-4277-97d6-a326633bdb34",
 CellID->1433368700]
}, Open  ]],
Cell[67432, 1958, 176, 3, 70, "ExampleText",ExpressionUUID->"f21ebdce-16df-4873-b1f7-9388c15cc979",
 CellID->1639236511],
Cell[CellGroupData[{
Cell[67633, 1965, 913, 27, 70, "Input",ExpressionUUID->"b11bd4ac-91be-429d-9ada-0e6e343107f4",
 CellID->575394993],
Cell[68549, 1994, 806, 24, 41, "Output",ExpressionUUID->"20ba198a-4941-4056-8991-96de4465c11f",
 CellID->708223847]
}, Open  ]],
Cell[69370, 2021, 327, 5, 70, "ExampleText",ExpressionUUID->"0001e554-d158-495e-b4cc-8210a4257698",
 CellID->1511280490],
Cell[CellGroupData[{
Cell[69722, 2030, 905, 26, 70, "Input",ExpressionUUID->"c4c249c0-6eb1-48e7-aef9-6c374328891c",
 CellID->881512640],
Cell[70630, 2058, 6795, 195, 101, "Output",ExpressionUUID->"88c42feb-1330-4f0e-8f08-e22388504c73",
 CellID->768959535]
}, Open  ]],
Cell[CellGroupData[{
Cell[77462, 2258, 1040, 27, 70, "Input",ExpressionUUID->"dde9b646-5e33-4742-963a-9e63a23dab53",
 CellID->2115899125],
Cell[78505, 2287, 2220, 55, 398, "Output",ExpressionUUID->"93f0dfd9-fabd-4411-8507-afa02b55d00a",
 CellID->184078806]
}, Open  ]]
}, Open  ]]
}, Dynamic[CurrentValue[EvaluationNotebook[], {TaggingRules, "Openers", "ExampleSection", "0"}, Closed]]]],
Cell[CellGroupData[{
Cell[80886, 2351, 1394, 36, 70, "ExampleSection",ExpressionUUID->"f8debabd-17af-4e89-88e4-9f3a7b96a816",
 CellID->1911880702],
Cell[82283, 2389, 823, 25, 70, "Input",ExpressionUUID->"38768c1f-761d-42e3-b98c-d5dce2749076",
 CellID->61660548],
Cell[83109, 2416, 173, 3, 70, "ExampleText",ExpressionUUID->"80322106-2c62-4e43-a291-361e505bd093",
 CellID->834601618],
Cell[CellGroupData[{
Cell[83307, 2423, 458, 13, 70, "Input",ExpressionUUID->"ce14cacb-50ab-41a8-b266-97a0126d68f6",
 CellID->630087907],
Cell[83768, 2438, 676, 20, 52, "Output",ExpressionUUID->"1a00388f-2055-4f2b-81ab-13b2d73efa3f",
 CellID->124079670]
}, Open  ]],
Cell[84459, 2461, 168, 3, 70, "ExampleText",ExpressionUUID->"a3187f89-ff16-4b1a-b101-5f8d142531fd",
 CellID->898727511],
Cell[CellGroupData[{
Cell[84652, 2468, 312, 8, 70, "Input",ExpressionUUID->"e7f117f7-0510-4572-9783-557308353a42",
 CellID->1336888100],
Cell[84967, 2478, 1590, 38, 167, "Output",ExpressionUUID->"954f2885-0bdb-4df8-b760-26fffef77e1f",
 CellID->1315290003]
}, Open  ]],
Cell[86572, 2519, 192, 4, 70, "ExampleText",ExpressionUUID->"4fbe218c-25ee-49f0-9197-dd6aaf8c976a",
 CellID->1066700697],
Cell[86767, 2525, 834, 22, 70, "Input",ExpressionUUID->"631b3042-275b-437a-9dea-17c411368910",
 CellID->511664418],
Cell[CellGroupData[{
Cell[87626, 2551, 354, 9, 70, "Input",ExpressionUUID->"ab6bd862-3713-4ba6-88f2-ff0d07de9504",
 CellID->1019350738],
Cell[87983, 2562, 2400, 59, 167, "Output",ExpressionUUID->"e4084e82-3280-4613-a7aa-7998dc442766",
 CellID->1106754690]
}, Open  ]],
Cell[CellGroupData[{
Cell[90420, 2626, 282, 7, 70, "Input",ExpressionUUID->"3d947bbc-b757-4143-a8c4-884bf9291eb9",
 CellID->793501579],
Cell[90705, 2635, 127, 2, 37, "Output",ExpressionUUID->"9ed6d813-9f06-412e-a80f-8d939fef3065",
 CellID->1584299849]
}, Open  ]]
}, Dynamic[CurrentValue[EvaluationNotebook[], {TaggingRules, "Openers", "ExampleSection", "1"}, Closed]]]]
}, Dynamic[CurrentValue[EvaluationNotebook[], {TaggingRules, "Openers", "PrimaryExamplesSection"}, Closed]]]],
Cell[91074, 2646, 2780, 75, 70, "SeeAlsoSection",ExpressionUUID->"6af5b147-da7d-4267-949a-358ec4fc6d7c"],
Cell[93857, 2723, 2131, 54, 70, "TechNotesSection",ExpressionUUID->"54314808-bd59-4ea5-bb8c-3aed728999b3"],
Cell[95991, 2779, 1045, 27, 70, "MoreAboutSection",ExpressionUUID->"c99fa13c-7de5-423e-b5ca-3321f75b359b"],
Cell[97039, 2808, 3818, 104, 70, "RelatedLinksSection",ExpressionUUID->"ad331c49-9568-4700-96d6-be302f510c72"],
Cell[100860, 2914, 78, 0, 70, "FooterCell",ExpressionUUID->"c0674794-56a4-4632-bbd8-e7844bd83f79"]
}
]
*)

(* End of internal cache information *)

