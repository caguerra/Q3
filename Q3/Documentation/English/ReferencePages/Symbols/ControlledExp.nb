(* Content-type: application/vnd.wolfram.mathematica *)

(*** Wolfram Notebook File ***)
(* http://www.wolfram.com/nb *)

(* CreatedBy='Mathematica 13.2' *)

(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[       158,          7]
NotebookDataLength[    130691,       3550]
NotebookOptionsPosition[    117884,       3282]
NotebookOutlinePosition[    120192,       3341]
CellTagsIndexPosition[    120068,       3335]
WindowTitle->ControlledExp
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{
Cell[BoxData[GridBox[{
   {GridBox[{
      {
       ItemBox[Cell[BoxData[
         RowBox[{
          TemplateBox[{12},
           "Spacer1"], Cell["Q3 SYMBOL", "PacletNameCell",
           TextAlignment->Center,ExpressionUUID->
           "64ba966a-8fd2-4043-a33c-9bb9e5572221"], 
          TemplateBox[{8},
           "Spacer1"]}]],
         TextAlignment->Center,ExpressionUUID->
         "ad95b2cc-85b0-4afd-a494-62fd54fb5915"],
        Background->RGBColor[0.490196, 0.576471, 0.690196],
        ItemSize->Full], ""}
     },
     GridBoxAlignment->{"Rows" -> {{Center}}},
     GridBoxItemSize->{"Columns" -> {Full, 
         Scaled[0.02]}, "Rows" -> {{2.5}}}], Cell[TextData[{
     Cell[BoxData[
      TagBox[
       ActionMenuBox[
        FrameBox[Cell[TextData[{
          "See Also",
          " ",
          Cell[BoxData[
           GraphicsBox[
            {GrayLevel[0.66667], Thickness[0.13], 
             LineBox[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]},
            AspectRatio->1,
            AxesStyle->Large,
            FrameStyle->Large,
            ImageSize->20,
            PlotRange->{{-3, 4}, {-1, 1}},
            PlotRangePadding->Scaled[0.025]]],ExpressionUUID->
           "fef89c0b-fc79-4531-98c4-d5a1b5d76089"]
         }],ExpressionUUID->"8c81d311-f0a0-4f90-bdd4-9253e83e58c3"],
         StripOnInput->False], {"\<\"ControlledU\"\>":>
        Documentation`HelpLookup["paclet:Q3/ref/ControlledU"], "\<\"CNOT\"\>":>
        Documentation`HelpLookup["paclet:Q3/ref/CNOT"], "\<\"CX\"\>":>
        Documentation`HelpLookup["paclet:Q3/ref/CX"], "\<\"CZ\"\>":>
        Documentation`HelpLookup[
        "paclet:Q3/ref/CZ"], "\<\"QuantumCircuit\"\>":>
        Documentation`HelpLookup["paclet:Q3/ref/QuantumCircuit"]},
        Appearance->None,
        MenuAppearance->Automatic,
        MenuStyle->"SeeAlso"],
       MouseAppearanceTag["LinkHand"]]],
      LineSpacing->{1.4, 0},ExpressionUUID->
      "6fe4673a-05cb-4afd-b5d7-3a6b85508e93"],
     "\[ThickSpace]\[ThickSpace]\[ThickSpace]\[ThickSpace]\[ThickSpace]\
\[ThickSpace]",
     Cell[BoxData[
      TagBox[
       ActionMenuBox[
        FrameBox[Cell[TextData[{
          "Related Guides",
          " ",
          Cell[BoxData[
           GraphicsBox[
            {GrayLevel[0.66667], Thickness[0.13], 
             LineBox[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]},
            AspectRatio->1,
            AxesStyle->Large,
            FrameStyle->Large,
            ImageSize->20,
            PlotRange->{{-3, 4}, {-1, 1}},
            PlotRangePadding->Scaled[0.025]]],ExpressionUUID->
           "5b7676ac-9847-4787-8f64-0157c5e4bd2a"]
         }],ExpressionUUID->"a99adb08-9f8f-4aa5-baae-d2f08ce3715e"],
         StripOnInput->False], {"\<\"Quantum Information Systems\"\>":>
        Documentation`HelpLookup[
        "paclet:Q3/guide/QuantumInformationSystems"], "\<\"Q3\"\>":>
        Documentation`HelpLookup["paclet:Q3/guide/Q3"]},
        Appearance->None,
        MenuAppearance->Automatic,
        MenuStyle->"MoreAbout"],
       MouseAppearanceTag["LinkHand"]]],
      LineSpacing->{1.4, 0},ExpressionUUID->
      "cc31a89a-a3f9-408e-b96d-4d6e6107e7b8"],
     "\[ThickSpace]\[ThickSpace]\[ThickSpace]\[ThickSpace]\[ThickSpace]\
\[ThickSpace]",
     Cell[BoxData[
      TagBox[
       ActionMenuBox[
        FrameBox[Cell[TextData[{
          "Tech Notes",
          " ",
          Cell[BoxData[
           GraphicsBox[
            {GrayLevel[0.66667], Thickness[0.13], 
             LineBox[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]},
            AspectRatio->1,
            AxesStyle->Large,
            FrameStyle->Large,
            ImageSize->20,
            PlotRange->{{-3, 4}, {-1, 1}},
            PlotRangePadding->Scaled[0.025]]],ExpressionUUID->
           "2fa6aa5f-e121-4b5e-97d4-d65576de2201"]
         }],ExpressionUUID->"f7460bc9-e5db-4b8b-a2d8-fd6d57ec2916"],
         StripOnInput->False], {"\<\"Quantum Phase Estimation\"\>":>
        Documentation`HelpLookup[
        "paclet:Q3/tutorial/QuantumPhaseEstimation"], "\<\"Multi-Control \
Unitary Gates\"\>":>Documentation`HelpLookup[
        "paclet:Q3/tutorial/MultiControlUnitaryGates"], "\<\"Quantum \
Computation: Overview\"\>":>Documentation`HelpLookup[
        "paclet:Q3/tutorial/QuantumComputationOverview"], "\<\"Quantum \
Information Systems with Q3\"\>":>Documentation`HelpLookup[
        "paclet:Q3/tutorial/QuantumInformationSystems"], "\<\"Quick Quantum \
Computing with Q3\"\>":>Documentation`HelpLookup[
        "paclet:Q3/tutorial/QuickQuantumComputingWithQ3"], "\<\"Q3: Quick \
Start\"\>":>Documentation`HelpLookup["paclet:Q3/tutorial/Q3QuickStart"]},
        Appearance->None,
        MenuAppearance->Automatic,
        MenuStyle->"Tutorials"],
       MouseAppearanceTag["LinkHand"]]],
      LineSpacing->{1.4, 0},ExpressionUUID->
      "65d56005-bce5-42db-a2c5-7a1925265da1"],
     "\[ThickSpace]\[ThickSpace]\[ThickSpace]\[ThickSpace]\[ThickSpace]\
\[ThickSpace]",
     Cell[BoxData[
      TagBox[
       ActionMenuBox[
        FrameBox[Cell[TextData[{
          "URL",
          " ",
          Cell[BoxData[
           GraphicsBox[
            {GrayLevel[0.66667], Thickness[0.13], 
             LineBox[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]},
            AspectRatio->1,
            AxesStyle->Large,
            FrameStyle->Large,
            ImageSize->20,
            PlotRange->{{-3, 4}, {-1, 1}},
            PlotRangePadding->Scaled[0.025]]],ExpressionUUID->
           "7b7d3e9c-ad59-435c-b431-a1f5751725b2"]
         }],ExpressionUUID->"bad9856d-ead6-4f49-83f5-7be7c471983f"],
         StripOnInput->False], {"\<\"Q3/ref/ControlledExp\"\>":>
        None, "\<\"Copy Wolfram Documentation Center URL\"\>":>
        Module[{DocumentationSearch`Private`nb$}, 
         DocumentationSearch`Private`nb$ = NotebookPut[
            Notebook[{
              Cell["Q3/ref/ControlledExp"]}, Visible -> False]]; 
         SelectionMove[DocumentationSearch`Private`nb$, All, Notebook]; 
         FrontEndTokenExecute[DocumentationSearch`Private`nb$, "Copy"]; 
         NotebookClose[DocumentationSearch`Private`nb$]; Null], 
        Delimiter, "\<\"Copy web URL\"\>":>
        Module[{DocumentationSearch`Private`nb$}, 
         DocumentationSearch`Private`nb$ = NotebookPut[
            Notebook[{
              Cell[
               BoxData[
                MakeBoxes[
                 Hyperlink[
                 "http://reference.wolfram.com/language/Q3/ref/ControlledExp.\
html"], StandardForm]], "Input", TextClipboardType -> "PlainText"]}, Visible -> 
             False]]; SelectionMove[
          DocumentationSearch`Private`nb$, All, Notebook]; 
         FrontEndTokenExecute[DocumentationSearch`Private`nb$, "Copy"]; 
         NotebookClose[DocumentationSearch`Private`nb$]; 
         Null], "\<\"Go to web URL\"\>":>FrontEndExecute[{
          NotebookLocate[{
            URL[If[
               TrueQ[DocumentationBuild`Make`Private`wsmlinkQ$28329], 
               "http://reference.wolfram.com/system-modeler/", 
               "http://reference.wolfram.com/language/"] <> 
             "Q3/ref/ControlledExp" <> ".html"], None}]}]},
        Appearance->None,
        MenuAppearance->Automatic,
        MenuStyle->"URLMenu"],
       MouseAppearanceTag["LinkHand"]]],
      LineSpacing->{1.4, 0},ExpressionUUID->
      "eddd64f8-b37c-4fda-b98d-c453aa2ec8c5"]
    }], "AnchorBar",
     CacheGraphics->False,ExpressionUUID->
     "9e2d0dbe-7be1-4de6-9567-a5e57e52b130"]}
  }]], "AnchorBarGrid",
 CellID->1,ExpressionUUID->"5469bb87-7f4b-45e9-81df-33d4810a5e22"],

Cell["Q3`", "ContextNameCell",ExpressionUUID->"052cf2fc-b49e-4db0-8dad-3da57d33f82f"],

Cell[CellGroupData[{

Cell[BoxData[GridBox[{
   {Cell[TextData[{
     Cell[
     "ControlledExp", "ObjectName",ExpressionUUID->
      "fc69e302-71e9-4943-97ac-051addcfd092"],
     Cell[BoxData[
      TemplateBox[{8},
       "Spacer1"]],ExpressionUUID->"a9dc9ecc-beec-4195-b917-a12614744042"],
     Cell[BoxData[
     ""], "ObjectNameTranslation",ExpressionUUID->
      "6174406f-28b0-436f-8c5e-210704cd5c6d"]
    }],ExpressionUUID->"ececd80e-7b2d-46f4-92ae-90e94389b179"], Cell[BoxData[
     TooltipBox[
      StyleBox[
       TagBox[
        StyleBox[
         GraphicsBox[InsetBox[
           StyleBox["\<\"NEW IN 13.1\"\>",
            StripOnInput->False,
            FontFamily->"Source Sans Pro",
            FontSize->18,
            FontWeight->"Bold",
            FontSlant->"Italic",
            FontColor->RGBColor[0.968627, 0.466667, 0]], {Right, Center}, {
           Right, Center}],
          AxesStyle->Large,
          FrameStyle->Large,
          ImageSize->{125, 24},
          PlotRangePadding->Scaled[0.025]], "NewInGraphic",
         StripOnInput->False],
        Deploy,
        DefaultBaseStyle->"Deploy"], "NewInGraphic",
       StripOnInput->False],
      "New in 13.2",
      TooltipDelay->0.3]],
     Magnification->1,ExpressionUUID->
     "55aea81e-53f5-40dc-bac0-bba782ad7f38"]}
  }]], "ObjectNameGrid",
 CacheGraphics->False,ExpressionUUID->"de9b0a4e-9d03-44e4-864e-2664bc33986f"],

Cell[BoxData[GridBox[{
   {"", Cell[TextData[{
     Cell[BoxData[
      RowBox[{
       TemplateBox[{
         Cell[
          TextData["ControlledExp"]], "paclet:Q3/ref/ControlledExp", 
         "Q3 Package Symbol"},
        "PackageLink",
        BaseStyle->"InlineFormula"], "[", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{
          SubscriptBox[
           StyleBox["c", "TI"], 
           StyleBox["1", "TR"]], ",", 
          SubscriptBox[
           StyleBox["c", "TI"], 
           StyleBox["2", "TR"]], ",", " ", 
          StyleBox["\[Ellipsis]", "TR"]}], "}"}], ",", 
        StyleBox["op", "TI"]}], "]"}]], "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "e7c36cdc-17f8-4d46-8bc0-87bd5cfffbea"],
     "\[LineSeparator]represents a controlled exponentiation gate."
    }],ExpressionUUID->"e086b571-1b42-456e-b661-de27a8050cf4"]}
  }]], "Usage",
 CellID->64829665,ExpressionUUID->"df1e2fa1-fba5-4572-a409-864423852d21"]
}, Open  ]],

Cell[CellGroupData[{

Cell[TextData[Cell[BoxData[
 ButtonBox[Cell[TextData[{
   Cell[BoxData[
    DynamicBox[ToBoxes[
      If[
       MatchQ[
        CurrentValue[
         EvaluationNotebook[], {TaggingRules, "Openers", "NotesSection"}, 
         Closed], 
        Alternatives[Open, True]], 
       Style[
        Graphics[{
          Thickness[0.18], 
          RGBColor[0.8509803921568627, 0.396078431372549, 0], 
          Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
         PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
        0.68 Inherited], 
       Rotate[
        Style[
         Graphics[{
           Thickness[0.18], 
           RGBColor[0.8509803921568627, 0.396078431372549, 0], 
           Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
          PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
         0.68 Inherited], Rational[1, 2] Pi, {-1.65, -1}]]],
     ImageSizeCache->{14., {0.45000000000000107`, 13.549999999999999`}}]],
    ExpressionUUID->"8eb65507-9d10-4831-a31a-56dc2e076ba9"],
   Cell[BoxData[
    TemplateBox[{1},
     "Spacer1"]],ExpressionUUID->"31529647-aaab-4ed7-990f-d4c5c925d7a9"],
   "Details and Options"
  }], "NotesFrameText",ExpressionUUID->"a62257f9-0598-4031-9d48-cf3d312e1ceb"],
  Appearance->{Automatic, None, "Normal", Automatic},
  BaseStyle->None,
  ButtonFunction:>(FrontEndExecute[{
     FrontEnd`SelectionMove[
      FrontEnd`SelectedNotebook[], All, ButtonCell], 
     FrontEndToken["OpenCloseGroup"], 
     FrontEnd`SelectionMove[
      FrontEnd`SelectedNotebook[], After, CellContents]}]& ),
  Evaluator->None,
  Method->
   "Preemptive"]],ExpressionUUID->"e40a9272-6d1b-44e2-a793-9cb798f4531e"]], \
"NotesSection",
 WholeCellGroupOpener->True,
 CellGroupingRules->{"SectionGrouping", 50},
 CacheGraphics->False,
 CellID->823428286,ExpressionUUID->"925378ae-d593-4d9b-aec0-c7b28eabd64a"],

Cell[TextData[{
 Cell[BoxData[
  RowBox[{
   TemplateBox[{
     Cell[
      TextData["ControlledExp"]], "paclet:Q3/ref/ControlledExp", 
     "Q3 Package Symbol"},
    "PackageLink",
    BaseStyle->"InlineFormula"], "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{
      SubscriptBox[
       StyleBox["c", "TI"], 
       StyleBox["1", "TR"]], ",", 
      SubscriptBox[
       StyleBox["c", "TI"], 
       StyleBox["2", "TR"]], ",", " ", 
      StyleBox["\[Ellipsis]", "TR"]}], "}"}], ",", 
    StyleBox["op", "TI"]}], "]"}]], "InlineFormula",
  FontFamily->"Source Sans Pro",ExpressionUUID->
  "c8fb74e4-3861-4769-a952-4013a105cd45"],
 " transforms computational basis states as\[LineSeparator]\t",
 Cell[BoxData[
  FormBox[
   RowBox[{
    RowBox[{
     TemplateBox[{
       RowBox[{
         SubscriptBox["c", "1"], 
         SubscriptBox["c", "2"], "\[Ellipsis]", "\[VeryThinSpace]", 
         SubscriptBox["c", "n"]}]},
      "Ket"], "\[CircleTimes]", 
     TemplateBox[{"\[Psi]"},
      "Ket"]}], "\[RightTeeArrow]", 
    RowBox[{
     TemplateBox[{
       RowBox[{
         SubscriptBox["c", "1"], 
         SubscriptBox["c", "2"], "\[Ellipsis]", "\[VeryThinSpace]", 
         SubscriptBox["c", "n"]}]},
      "Ket"], "\[CircleTimes]", 
     RowBox[{"(", 
      RowBox[{
       SuperscriptBox[
        StyleBox["op",
         FontSlant->"Italic"], "c"], 
       TemplateBox[{"\[Psi]"},
        "Ket"]}], ")"}]}]}], TraditionalForm]],ExpressionUUID->
  "36e3e24d-5cdc-4299-a4dc-fab1a9d9f715"],
 ", \[LineSeparator]where ",
 Cell[BoxData[
  FormBox[
   RowBox[{"c", "=", 
    SubscriptBox[
     RowBox[{"(", 
      RowBox[{
       SubscriptBox["c", "1"], 
       SubscriptBox["c", "2"], "\[Ellipsis]", "\[VeryThinSpace]", 
       SubscriptBox["c", "n"]}], ")"}], "2"]}], TraditionalForm]],
  ExpressionUUID->"6269290e-977c-425a-8e41-a01b1da0b4f2"],
 ", that is, ",
 Cell[BoxData[
  FormBox[
   RowBox[{"c", "=", 
    RowBox[{
     RowBox[{
      SubscriptBox["c", "1"], 
      SuperscriptBox["2", 
       RowBox[{"n", "-", "1"}]]}], "+", 
     RowBox[{
      SubscriptBox["c", "2"], 
      SuperscriptBox["2", 
       RowBox[{"n", "-", "2"}]]}], "+", "\[Ellipsis]", "+", 
     SubscriptBox["c", "n"]}]}], TraditionalForm]],ExpressionUUID->
  "2a876ae7-538d-42fe-aeff-e7e11bf77937"],
 "."
}], "Notes",
 CellID->100026970,ExpressionUUID->"c2f41ce3-45e4-4d5b-bd69-e73c069eb2d7"],

Cell[TextData[{
 Cell[BoxData[
  RowBox[{
   TemplateBox[{
     Cell[
      TextData["Elaborate"]], "paclet:Q3/ref/Elaborate", "Q3 Package Symbol"},
    
    "PackageLink",
    BaseStyle->"InlineFormula"], "[", 
   RowBox[{"ControlledExp", "[", "\[Ellipsis]", "]"}], "]"}]], "InlineFormula",
  FontFamily->"Source Sans Pro",ExpressionUUID->
  "0a9563ba-075b-4884-8773-bd1ab9af8d88"],
 " gives the expression of the controlled exponentiation in terms of the \
Pauli operators."
}], "Notes",
 CellID->2112528434,ExpressionUUID->"e8ecf42d-30e4-4ea1-837c-866382304e2f"],

Cell[TextData[{
 Cell[BoxData[
  RowBox[{
   TemplateBox[{
     Cell[
      TextData["Expand"]], "paclet:ref/Expand"},
    "RefLink",
    BaseStyle->{"InlineFormula"}], "[", 
   RowBox[{"ControlledExp", "[", "\[Ellipsis]", "]"}], "]"}]], "InlineFormula",
  FontFamily->"Source Sans Pro",ExpressionUUID->
  "320db2e7-6172-4732-b87b-2442c800f9bd"],
 " gives a sequence of controlled-unitary gates that compose the controlled \
exponentiation."
}], "Notes",
 CellID->1630510880,ExpressionUUID->"0230f574-1480-4d58-a55b-4bde45981f61"],

Cell[TextData[{
 "This gate can be implemented by using ",
 ButtonBox["controlled-unitary gates",
  BaseStyle->"Link",
  ButtonData->"paclet:Q3/ref/ControlledU"],
 "."
}], "Notes",
 CellID->1639654363,ExpressionUUID->"40b1b323-1c2b-4add-a452-fd88141c903a"],

Cell["The following options can be given: ", "Notes",
 CellID->817970626,ExpressionUUID->"fcc911b7-0b1c-47c3-bc06-f07a9c9cab73"],

Cell[BoxData[GridBox[{
   {Cell["      ", "TableRowIcon",ExpressionUUID->
     "8f6931c6-aa13-4d42-bbfc-99046aed13af"], "\"\<Label\>\"", 
    RowBox[{"{", 
     RowBox[{"x", ",", " ", "U"}], "}"}], Cell[
    "Labels for the controll and target registers, respectively.", 
     "TableText",ExpressionUUID->"8a378223-d0a2-4f9f-b977-c1fecbfa3a6f"]}
  }]], "3ColumnTableMod",
 GridBoxOptions->{
 GridBoxBackground->{"Columns" -> {{None}}, "Rows" -> {{None}}},
 GridBoxDividers->{"Rows" -> {{True, True}}}},
 CellID->1589486735,ExpressionUUID->"5c00ac90-f36c-403b-97a1-9637302d42cc"]
}, Dynamic[CurrentValue[
 EvaluationNotebook[], {TaggingRules, "Openers", "NotesSection"}, Closed]]]],

Cell[CellGroupData[{

Cell[TextData[{
 Cell[BoxData[
  DynamicBox[ToBoxes[
    If[
     MatchQ[
      CurrentValue[
       EvaluationNotebook[], {
       TaggingRules, "Openers", "PrimaryExamplesSection"}, Open], 
      Alternatives[True, Open]], 
     Style[
      Graphics[{
        Thickness[0.18], 
        RGBColor[0.8509803921568627, 0.396078431372549, 0], 
        Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
       PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
      0.68 Inherited], 
     Rotate[
      Style[
       Graphics[{
         Thickness[0.18], 
         RGBColor[0.8509803921568627, 0.396078431372549, 0], 
         Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
        PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
       0.68 Inherited], Rational[1, 2] Pi, {-1.65, -1}]]],
   ImageSizeCache->{14., {5., 9.}}]],ExpressionUUID->
  "dd7f68bc-f0f9-4771-80ec-1042b2bca084"],
 Cell[BoxData[
  TemplateBox[{1},
   "Spacer1"]],ExpressionUUID->"573bf655-4aff-43cf-b70d-6d8b19825d8d"],
 "Examples",
 "\[NonBreakingSpace]\[NonBreakingSpace]",
 Cell["(5)", "ExampleCount",ExpressionUUID->
  "a90f605e-d918-4bc8-a6dd-41792c4b028d"]
}], "PrimaryExamplesSection",
 WholeCellGroupOpener->True,
 CacheGraphics->False,
 CellTags->"PrimaryExamplesSection",
 CellID->974581534,ExpressionUUID->"9c3ef067-3f03-4f3d-b198-1d1cfdf5756c"],

Cell[BoxData[
 RowBox[{"Needs", "[", "\"\<Q3`\>\"", "]"}]], "Input", "ExampleInitialization",
 CellLabel->"In[1]:=",
 CellID->851865642,ExpressionUUID->"3ae6a338-1c6b-4df7-90e2-76b0f0911490"],

Cell[CellGroupData[{

Cell[TextData[{
 Cell[BoxData[
  DynamicBox[ToBoxes[
    If[
     MatchQ[
      CurrentValue[
       EvaluationNotebook[], {TaggingRules, "Openers", "ExampleSection", "0"},
        Closed], 
      Alternatives[Open, True]], 
     Style[
      Graphics[{
        Thickness[0.18], 
        RGBColor[0.8509803921568627, 0.396078431372549, 0], 
        Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
       PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
      0.68 Inherited], 
     Rotate[
      Style[
       Graphics[{
         Thickness[0.18], 
         RGBColor[0.8509803921568627, 0.396078431372549, 0], 
         Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
        PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
       0.68 Inherited], Rational[1, 2] Pi, {-1.65, -1}]]],
   ImageSizeCache->{14., {5., 9.}}]],ExpressionUUID->
  "046be10a-b32c-47a1-bbfc-f31f80c3018c"],
 Cell[BoxData[
  TemplateBox[{1},
   "Spacer1"]],ExpressionUUID->"362d522c-8269-435f-82c4-151bb8de6f32"],
 "Basic Examples",
 "\[NonBreakingSpace]\[NonBreakingSpace]",
 Cell["(4)", "ExampleCount",ExpressionUUID->
  "6a373cf3-4306-4ea5-810d-d42589a0c269"]
}], "ExampleSection", "ExampleSection",
 WholeCellGroupOpener->True,
 CacheGraphics->False,
 CellID->934066269,ExpressionUUID->"7300277f-2da9-4fb0-83ca-2951d59f6795"],

Cell[BoxData[
 RowBox[{"Let", "[", 
  RowBox[{"Qubit", ",", "S"}], "]"}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[1]:=",
 CellID->2076530764,ExpressionUUID->"014c9d9f-afb5-4ad8-8cc5-1c42a125b410"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"op", "=", 
  RowBox[{"ControlledExp", "[", 
   RowBox[{
    RowBox[{"S", "@", 
     RowBox[{"{", 
      RowBox[{"1", ",", "2"}], "}"}]}], ",", 
    RowBox[{"Phase", "[", 
     RowBox[{"\[Phi]", ",", 
      RowBox[{"S", "[", 
       RowBox[{"3", ",", "3"}], "]"}]}], "]"}]}], "]"}]}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[2]:=",
 CellID->1495803151,ExpressionUUID->"43e7994d-b777-4613-8787-aab3582a14a8"],

Cell[BoxData[
 RowBox[{"ControlledExp", "[", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{
     InterpretationBox[
      SubscriptBox[
       TemplateBox[{"S"},
        "RowDefault"], 
       TemplateBox[{"1"},
        "RowDefault"]],
      $CellContext`S[1, Q3`$]], ",", 
     InterpretationBox[
      SubscriptBox[
       TemplateBox[{"S"},
        "RowDefault"], 
       TemplateBox[{"2"},
        "RowDefault"]],
      $CellContext`S[2, Q3`$]]}], "}"}], ",", 
   InterpretationBox[
    TagBox[
     FormBox[
      TagBox[
       RowBox[{
        FormBox[
         InterpretationBox[
          TemplateBox[{
            TemplateBox[{"S"}, "RowDefault"], 
            TemplateBox[{"3"}, "RowDefault"], 
            TemplateBox[{"\"z\""}, "RowDefault"]},
           "Subsuperscript"],
          $CellContext`S[3, 3]],
         TraditionalForm], "\[InvisibleApplication]", 
        RowBox[{"(", "\[Phi]", ")"}]}],
       HoldForm],
      TraditionalForm],
     TraditionalForm,
     Editable->True],
    Q3`Phase[$CellContext`\[Phi], 
     $CellContext`S[3, 3]]]}], "]"}]], "Output",
 CellLabel->"Out[2]=",
 CellID->1469771354,ExpressionUUID->"7e469af0-cbf1-4808-8408-ddb9f0291299"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"op", "**", 
  RowBox[{"Ket", "[", 
   RowBox[{
    RowBox[{
     RowBox[{"S", "@", 
      RowBox[{"{", 
       RowBox[{"1", ",", "2"}], "}"}]}], "->", "1"}], ",", 
    RowBox[{
     RowBox[{"S", "[", "3", "]"}], "->", "1"}]}], "]"}]}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[3]:=",
 CellID->2104788460,ExpressionUUID->"db4b4573-02cf-42e8-9571-711f0f01a586"],

Cell[BoxData[
 RowBox[{
  SuperscriptBox["\[ExponentialE]", 
   RowBox[{"3", " ", "\[ImaginaryI]", " ", "\[Phi]"}]], " ", 
  InterpretationBox[
   TemplateBox[{
     TemplateBox[{
       SubscriptBox["1", 
        InterpretationBox[
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"1"}, "RowDefault"]], 
         $CellContext`S[1, Q3`$]]], 
       SubscriptBox["1", 
        InterpretationBox[
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"2"}, "RowDefault"]], 
         $CellContext`S[2, Q3`$]]], 
       SubscriptBox["1", 
        InterpretationBox[
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"3"}, "RowDefault"]], 
         $CellContext`S[3, Q3`$]]]}, "RowDefault"]},
    "Ket"],
   Ket[<|$CellContext`S[1, Q3`$] -> 1, $CellContext`S[2, Q3`$] -> 
     1, $CellContext`S[3, Q3`$] -> 1|>]]}]], "Output",
 CellLabel->"Out[3]=",
 CellID->1928705339,ExpressionUUID->"72fcbc55-2b98-4282-842d-dd0771725401"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"bs", "=", 
   RowBox[{"Basis", "[", 
    RowBox[{"S", "@", 
     RowBox[{"{", 
      RowBox[{"1", ",", "2"}], "}"}]}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"in", "=", 
  RowBox[{
   RowBox[{"Total", "[", "bs", "]"}], "**", 
   RowBox[{"Ket", "[", 
    RowBox[{
     RowBox[{"S", "[", "3", "]"}], "->", "1"}], "]"}]}]}]}], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[4]:=",
 CellID->1154618494,ExpressionUUID->"ca6ccab4-701c-4904-85bc-2de3b98289cd"],

Cell[BoxData[
 RowBox[{
  InterpretationBox[
   TemplateBox[{
     TemplateBox[{
       SubscriptBox["1", 
        InterpretationBox[
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"1"}, "RowDefault"]], 
         $CellContext`S[1, Q3`$]]], 
       SubscriptBox["1", 
        InterpretationBox[
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"2"}, "RowDefault"]], 
         $CellContext`S[2, Q3`$]]], 
       SubscriptBox["1", 
        InterpretationBox[
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"3"}, "RowDefault"]], 
         $CellContext`S[3, Q3`$]]]}, "RowDefault"]},
    "Ket"],
   Ket[<|$CellContext`S[1, Q3`$] -> 1, $CellContext`S[2, Q3`$] -> 
     1, $CellContext`S[3, Q3`$] -> 1|>]], "+", 
  InterpretationBox[
   TemplateBox[{
     TemplateBox[{
       SubscriptBox["1", 
        InterpretationBox[
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"1"}, "RowDefault"]], 
         $CellContext`S[1, Q3`$]]], 
       SubscriptBox["1", 
        InterpretationBox[
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"3"}, "RowDefault"]], 
         $CellContext`S[3, Q3`$]]]}, "RowDefault"]},
    "Ket"],
   Ket[<|$CellContext`S[1, Q3`$] -> 1, $CellContext`S[3, Q3`$] -> 1|>]], "+", 
  
  InterpretationBox[
   TemplateBox[{
     TemplateBox[{
       SubscriptBox["1", 
        InterpretationBox[
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"2"}, "RowDefault"]], 
         $CellContext`S[2, Q3`$]]], 
       SubscriptBox["1", 
        InterpretationBox[
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"3"}, "RowDefault"]], 
         $CellContext`S[3, Q3`$]]]}, "RowDefault"]},
    "Ket"],
   Ket[<|$CellContext`S[2, Q3`$] -> 1, $CellContext`S[3, Q3`$] -> 1|>]], "+", 
  
  InterpretationBox[
   TemplateBox[{
     TemplateBox[{
       SubscriptBox["1", 
        InterpretationBox[
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"3"}, "RowDefault"]], 
         $CellContext`S[3, Q3`$]]]}, "RowDefault"]},
    "Ket"],
   Ket[<|$CellContext`S[3, Q3`$] -> 1|>]]}]], "Output",
 CellLabel->"Out[4]=",
 CellID->517825565,ExpressionUUID->"551297a8-1acf-4095-8bf2-1ce3e1fb957a"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"out", "=", 
   RowBox[{"op", "**", "in"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"out", "//", "LogicalForm"}]}], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[5]:=",
 CellID->1825261592,ExpressionUUID->"6c0d3b13-3e92-4232-9cc2-7eff46157e12"],

Cell[BoxData[
 RowBox[{
  InterpretationBox[
   TemplateBox[{
     TemplateBox[{
       SubscriptBox["0", 
        InterpretationBox[
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"1"}, "RowDefault"]], 
         $CellContext`S[1, Q3`$]]], 
       SubscriptBox["0", 
        InterpretationBox[
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"2"}, "RowDefault"]], 
         $CellContext`S[2, Q3`$]]], 
       SubscriptBox["1", 
        InterpretationBox[
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"3"}, "RowDefault"]], 
         $CellContext`S[3, Q3`$]]]}, "RowDefault"]},
    "Ket"],
   Ket[<|$CellContext`S[1, Q3`$] -> 0, $CellContext`S[2, Q3`$] -> 
     0, $CellContext`S[3, Q3`$] -> 1|>]], "+", 
  RowBox[{
   SuperscriptBox["\[ExponentialE]", 
    RowBox[{"\[ImaginaryI]", " ", "\[Phi]"}]], " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{
        SubscriptBox["0", 
         InterpretationBox[
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"1"}, "RowDefault"]], 
          $CellContext`S[1, Q3`$]]], 
        SubscriptBox["1", 
         InterpretationBox[
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"2"}, "RowDefault"]], 
          $CellContext`S[2, Q3`$]]], 
        SubscriptBox["1", 
         InterpretationBox[
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"3"}, "RowDefault"]], 
          $CellContext`S[3, Q3`$]]]}, "RowDefault"]},
     "Ket"],
    Ket[<|$CellContext`S[1, Q3`$] -> 0, $CellContext`S[2, Q3`$] -> 
      1, $CellContext`S[3, Q3`$] -> 1|>]]}], "+", 
  RowBox[{
   SuperscriptBox["\[ExponentialE]", 
    RowBox[{"2", " ", "\[ImaginaryI]", " ", "\[Phi]"}]], " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{
        SubscriptBox["1", 
         InterpretationBox[
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"1"}, "RowDefault"]], 
          $CellContext`S[1, Q3`$]]], 
        SubscriptBox["0", 
         InterpretationBox[
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"2"}, "RowDefault"]], 
          $CellContext`S[2, Q3`$]]], 
        SubscriptBox["1", 
         InterpretationBox[
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"3"}, "RowDefault"]], 
          $CellContext`S[3, Q3`$]]]}, "RowDefault"]},
     "Ket"],
    Ket[<|$CellContext`S[1, Q3`$] -> 1, $CellContext`S[2, Q3`$] -> 
      0, $CellContext`S[3, Q3`$] -> 1|>]]}], "+", 
  RowBox[{
   SuperscriptBox["\[ExponentialE]", 
    RowBox[{"3", " ", "\[ImaginaryI]", " ", "\[Phi]"}]], " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{
        SubscriptBox["1", 
         InterpretationBox[
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"1"}, "RowDefault"]], 
          $CellContext`S[1, Q3`$]]], 
        SubscriptBox["1", 
         InterpretationBox[
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"2"}, "RowDefault"]], 
          $CellContext`S[2, Q3`$]]], 
        SubscriptBox["1", 
         InterpretationBox[
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"3"}, "RowDefault"]], 
          $CellContext`S[3, Q3`$]]]}, "RowDefault"]},
     "Ket"],
    Ket[<|$CellContext`S[1, Q3`$] -> 1, $CellContext`S[2, Q3`$] -> 
      1, $CellContext`S[3, Q3`$] -> 1|>]]}]}]], "Output",
 CellLabel->"Out[5]=",
 CellID->1560030185,ExpressionUUID->"acddf0af-da9f-475e-86b8-c9bc727485db"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 InterpretationBox[Cell[
  "\t", "ExampleDelimiter",ExpressionUUID->
   "ac408bd6-2458-48a3-9cbf-c880db2d3044"],
  $Line = 0; Null]], "ExampleDelimiter",
 CellID->360562160,ExpressionUUID->"54692882-e20b-4d8b-9f03-ff61715191fb"],

Cell["\<\
Convert the controlled exponentiation operator to its matrix representation \
in the computational basis.\
\>", "ExampleText",
 CellID->83261738,ExpressionUUID->"65655618-cd8b-4b84-aaeb-c1c3298f0f8c"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"mat", "=", 
   RowBox[{"Matrix", "[", "op", "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"mat", "//", "MatrixForm"}]}], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[1]:=",
 CellID->2073621093,ExpressionUUID->"fda527a0-5cc8-4730-a467-961f6ad8c0c8"],

Cell[BoxData[
 TagBox[
  RowBox[{"(", "\[NoBreak]", GridBox[{
     {"1", "0", "0", "0", "0", "0", "0", "0"},
     {"0", "1", "0", "0", "0", "0", "0", "0"},
     {"0", "0", "1", "0", "0", "0", "0", "0"},
     {"0", "0", "0", 
      SuperscriptBox["\[ExponentialE]", 
       RowBox[{"\[ImaginaryI]", " ", "\[Phi]"}]], "0", "0", "0", "0"},
     {"0", "0", "0", "0", "1", "0", "0", "0"},
     {"0", "0", "0", "0", "0", 
      SuperscriptBox["\[ExponentialE]", 
       RowBox[{"2", " ", "\[ImaginaryI]", " ", "\[Phi]"}]], "0", "0"},
     {"0", "0", "0", "0", "0", "0", "1", "0"},
     {"0", "0", "0", "0", "0", "0", "0", 
      SuperscriptBox["\[ExponentialE]", 
       RowBox[{"3", " ", "\[ImaginaryI]", " ", "\[Phi]"}]]}
    },
    GridBoxAlignment->{"Columns" -> {{Center}}, "Rows" -> {{Baseline}}},
    GridBoxSpacings->{"Columns" -> {
        Offset[0.27999999999999997`], {
         Offset[0.7]}, 
        Offset[0.27999999999999997`]}, "Rows" -> {
        Offset[0.2], {
         Offset[0.4]}, 
        Offset[0.2]}}], "\[NoBreak]", ")"}],
  Function[BoxForm`e$, 
   MatrixForm[
   SparseArray[
    Automatic, {8, 8}, 0, {
     1, {{0, 1, 2, 3, 4, 5, 6, 7, 8}, {{1}, {2}, {3}, {4}, {5}, {6}, {7}, {
       8}}}, {1, 1, 1, E^(Complex[0, 1] $CellContext`\[Phi]), 1, 
       E^(Complex[0, 2] $CellContext`\[Phi]), 1, 
       E^(Complex[0, 3] $CellContext`\[Phi])}}]]]]], "Output",
 CellLabel->"Out[1]//MatrixForm=",
 CellID->1340593786,ExpressionUUID->"6c65478f-da19-48a8-b639-bf9988f472f1"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"mat", "=", 
   RowBox[{"Matrix", "[", 
    RowBox[{"op", ",", 
     RowBox[{"S", "@", 
      RowBox[{"{", 
       RowBox[{"1", ",", "2", ",", "3", ",", "4"}], "}"}]}]}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{"mat", "//", "MatrixForm"}]}], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[2]:=",
 CellID->43453953,ExpressionUUID->"71861f93-8a49-4cb1-b2e2-addc4d6551df"],

Cell[BoxData[
 TagBox[
  RowBox[{"(", "\[NoBreak]", GridBox[{
     {"1", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "1", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "1", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "1", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "1", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "1", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", 
      SuperscriptBox["\[ExponentialE]", 
       RowBox[{"\[ImaginaryI]", " ", "\[Phi]"}]], "0", "0", "0", "0", "0", 
      "0", "0", "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", 
      SuperscriptBox["\[ExponentialE]", 
       RowBox[{"\[ImaginaryI]", " ", "\[Phi]"}]], "0", "0", "0", "0", "0", 
      "0", "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "1", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "1", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      SuperscriptBox["\[ExponentialE]", 
       RowBox[{"2", " ", "\[ImaginaryI]", " ", "\[Phi]"}]], "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      SuperscriptBox["\[ExponentialE]", 
       RowBox[{"2", " ", "\[ImaginaryI]", " ", "\[Phi]"}]], "0", "0", "0", 
      "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "1", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "1", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      SuperscriptBox["\[ExponentialE]", 
       RowBox[{"3", " ", "\[ImaginaryI]", " ", "\[Phi]"}]], "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", 
      SuperscriptBox["\[ExponentialE]", 
       RowBox[{"3", " ", "\[ImaginaryI]", " ", "\[Phi]"}]]}
    },
    GridBoxAlignment->{"Columns" -> {{Center}}, "Rows" -> {{Baseline}}},
    GridBoxSpacings->{"Columns" -> {
        Offset[0.27999999999999997`], {
         Offset[0.7]}, 
        Offset[0.27999999999999997`]}, "Rows" -> {
        Offset[0.2], {
         Offset[0.4]}, 
        Offset[0.2]}}], "\[NoBreak]", ")"}],
  Function[BoxForm`e$, 
   MatrixForm[
   SparseArray[
    Automatic, {16, 16}, 0, {
     1, {{0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16}, {{1}, {
       2}, {3}, {4}, {5}, {6}, {7}, {8}, {9}, {10}, {11}, {12}, {13}, {14}, {
       15}, {16}}}, {
      1, 1, 1, 1, 1, 1, E^(Complex[0, 1] $CellContext`\[Phi]), 
       E^(Complex[0, 1] $CellContext`\[Phi]), 1, 1, 
       E^(Complex[0, 2] $CellContext`\[Phi]), 
       E^(Complex[0, 2] $CellContext`\[Phi]), 1, 1, 
       E^(Complex[0, 3] $CellContext`\[Phi]), 
       E^(Complex[0, 3] $CellContext`\[Phi])}}]]]]], "Output",
 CellLabel->"Out[2]//MatrixForm=",
 CellID->347666744,ExpressionUUID->"8038f8b9-634f-4c18-af5c-fee447986a7f"]
}, Open  ]],

Cell["\<\
Expand the controlled exponentiation operator in terms of the Pauli operators.\
\>", "ExampleText",
 CellID->1098295329,ExpressionUUID->"f4e1cde4-0892-4331-b315-9e932b2aaa39"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"new", "=", 
  RowBox[{"Elaborate", "[", "op", "]"}]}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[3]:=",
 CellID->337611983,ExpressionUUID->"3ca5008e-3096-4154-9bf8-0b46da43860f"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   FractionBox["1", "8"], " ", 
   RowBox[{"(", 
    RowBox[{"5", "+", 
     SuperscriptBox["\[ExponentialE]", 
      RowBox[{"\[ImaginaryI]", " ", "\[Phi]"}]], "+", 
     SuperscriptBox["\[ExponentialE]", 
      RowBox[{"2", " ", "\[ImaginaryI]", " ", "\[Phi]"}]], "+", 
     SuperscriptBox["\[ExponentialE]", 
      RowBox[{"3", " ", "\[ImaginaryI]", " ", "\[Phi]"}]]}], ")"}]}], "+", 
  RowBox[{
   FractionBox["1", "8"], " ", 
   SuperscriptBox[
    RowBox[{"(", 
     RowBox[{
      RowBox[{"-", "1"}], "+", 
      SuperscriptBox["\[ExponentialE]", 
       RowBox[{"\[ImaginaryI]", " ", "\[Phi]"}]]}], ")"}], "2"], " ", 
   RowBox[{"(", 
    RowBox[{"1", "+", 
     SuperscriptBox["\[ExponentialE]", 
      RowBox[{"\[ImaginaryI]", " ", "\[Phi]"}]]}], ")"}], " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{
        InterpretationBox[
         TemplateBox[{
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"1"}, "RowDefault"], 
           TemplateBox[{"\"z\""}, "RowDefault"]}, "Subsuperscript", 
          SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[1, 3]], 
        InterpretationBox[
         TemplateBox[{
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"2"}, "RowDefault"], 
           TemplateBox[{"\"z\""}, "RowDefault"]}, "Subsuperscript", 
          SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[2, 3]]}, "RowDefault"]},
     "RowDefault"],
    Q3`Multiply[
     $CellContext`S[1, 3], 
     $CellContext`S[2, 3]]]}], "+", 
  RowBox[{
   FractionBox["1", "8"], " ", 
   RowBox[{"(", 
    RowBox[{
     RowBox[{"-", "1"}], "+", 
     SuperscriptBox["\[ExponentialE]", 
      RowBox[{"\[ImaginaryI]", " ", "\[Phi]"}]]}], ")"}], " ", 
   SuperscriptBox[
    RowBox[{"(", 
     RowBox[{"1", "+", 
      SuperscriptBox["\[ExponentialE]", 
       RowBox[{"\[ImaginaryI]", " ", "\[Phi]"}]]}], ")"}], "2"], " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{
        InterpretationBox[
         TemplateBox[{
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"1"}, "RowDefault"], 
           TemplateBox[{"\"z\""}, "RowDefault"]}, "Subsuperscript", 
          SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[1, 3]], 
        InterpretationBox[
         TemplateBox[{
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"3"}, "RowDefault"], 
           TemplateBox[{"\"z\""}, "RowDefault"]}, "Subsuperscript", 
          SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[3, 3]]}, "RowDefault"]},
     "RowDefault"],
    Q3`Multiply[
     $CellContext`S[1, 3], 
     $CellContext`S[3, 3]]]}], "+", 
  RowBox[{
   FractionBox["1", "8"], " ", 
   RowBox[{"(", 
    RowBox[{
     RowBox[{"-", "1"}], "+", 
     SuperscriptBox["\[ExponentialE]", 
      RowBox[{"\[ImaginaryI]", " ", "\[Phi]"}]], "-", 
     SuperscriptBox["\[ExponentialE]", 
      RowBox[{"2", " ", "\[ImaginaryI]", " ", "\[Phi]"}]], "+", 
     SuperscriptBox["\[ExponentialE]", 
      RowBox[{"3", " ", "\[ImaginaryI]", " ", "\[Phi]"}]]}], ")"}], " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{
        InterpretationBox[
         TemplateBox[{
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"2"}, "RowDefault"], 
           TemplateBox[{"\"z\""}, "RowDefault"]}, "Subsuperscript", 
          SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[2, 3]], 
        InterpretationBox[
         TemplateBox[{
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"3"}, "RowDefault"], 
           TemplateBox[{"\"z\""}, "RowDefault"]}, "Subsuperscript", 
          SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[3, 3]]}, "RowDefault"]},
     "RowDefault"],
    Q3`Multiply[
     $CellContext`S[2, 3], 
     $CellContext`S[3, 3]]]}], "-", 
  RowBox[{
   FractionBox["1", "8"], " ", 
   SuperscriptBox[
    RowBox[{"(", 
     RowBox[{
      RowBox[{"-", "1"}], "+", 
      SuperscriptBox["\[ExponentialE]", 
       RowBox[{"\[ImaginaryI]", " ", "\[Phi]"}]]}], ")"}], "2"], " ", 
   RowBox[{"(", 
    RowBox[{"1", "+", 
     SuperscriptBox["\[ExponentialE]", 
      RowBox[{"\[ImaginaryI]", " ", "\[Phi]"}]]}], ")"}], " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{
        InterpretationBox[
         TemplateBox[{
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"1"}, "RowDefault"], 
           TemplateBox[{"\"z\""}, "RowDefault"]}, "Subsuperscript", 
          SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[1, 3]], 
        InterpretationBox[
         TemplateBox[{
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"2"}, "RowDefault"], 
           TemplateBox[{"\"z\""}, "RowDefault"]}, "Subsuperscript", 
          SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[2, 3]], 
        InterpretationBox[
         TemplateBox[{
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"3"}, "RowDefault"], 
           TemplateBox[{"\"z\""}, "RowDefault"]}, "Subsuperscript", 
          SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[3, 3]]}, "RowDefault"]},
     "RowDefault"],
    Q3`Multiply[
     $CellContext`S[1, 3], 
     $CellContext`S[2, 3], 
     $CellContext`S[3, 3]]]}], "-", 
  RowBox[{
   FractionBox["1", "8"], " ", 
   RowBox[{"(", 
    RowBox[{
     RowBox[{"-", "1"}], "+", 
     SuperscriptBox["\[ExponentialE]", 
      RowBox[{"\[ImaginaryI]", " ", "\[Phi]"}]]}], ")"}], " ", 
   SuperscriptBox[
    RowBox[{"(", 
     RowBox[{"1", "+", 
      SuperscriptBox["\[ExponentialE]", 
       RowBox[{"\[ImaginaryI]", " ", "\[Phi]"}]]}], ")"}], "2"], " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"S"}, "RowDefault"], 
      TemplateBox[{"1"}, "RowDefault"], 
      TemplateBox[{"\"z\""}, "RowDefault"]},
     "Subsuperscript"],
    $CellContext`S[1, 3]]}], "+", 
  RowBox[{
   FractionBox["1", "8"], " ", 
   RowBox[{"(", 
    RowBox[{"1", "-", 
     SuperscriptBox["\[ExponentialE]", 
      RowBox[{"\[ImaginaryI]", " ", "\[Phi]"}]], "+", 
     SuperscriptBox["\[ExponentialE]", 
      RowBox[{"2", " ", "\[ImaginaryI]", " ", "\[Phi]"}]], "-", 
     SuperscriptBox["\[ExponentialE]", 
      RowBox[{"3", " ", "\[ImaginaryI]", " ", "\[Phi]"}]]}], ")"}], " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"S"}, "RowDefault"], 
      TemplateBox[{"2"}, "RowDefault"], 
      TemplateBox[{"\"z\""}, "RowDefault"]},
     "Subsuperscript"],
    $CellContext`S[2, 3]]}], "+", 
  RowBox[{
   FractionBox["1", "8"], " ", 
   RowBox[{"(", 
    RowBox[{"3", "-", 
     SuperscriptBox["\[ExponentialE]", 
      RowBox[{"\[ImaginaryI]", " ", "\[Phi]"}]], "-", 
     SuperscriptBox["\[ExponentialE]", 
      RowBox[{"2", " ", "\[ImaginaryI]", " ", "\[Phi]"}]], "-", 
     SuperscriptBox["\[ExponentialE]", 
      RowBox[{"3", " ", "\[ImaginaryI]", " ", "\[Phi]"}]]}], ")"}], " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"S"}, "RowDefault"], 
      TemplateBox[{"3"}, "RowDefault"], 
      TemplateBox[{"\"z\""}, "RowDefault"]},
     "Subsuperscript"],
    $CellContext`S[3, 3]]}]}]], "Output",
 CellLabel->"Out[3]=",
 CellID->1348872169,ExpressionUUID->"e50e5042-24e9-4c21-9ed7-57adf77a0313"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"Matrix", "[", 
    RowBox[{"new", ",", 
     RowBox[{"S", "@", 
      RowBox[{"{", 
       RowBox[{"1", ",", "2", ",", "3", ",", "4"}], "}"}]}]}], "]"}], "-", 
   "mat"}], "//", "MatrixForm"}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[4]:=",
 CellID->1061819516,ExpressionUUID->"9efc0514-79c9-40d0-9d9f-8ff227b4e5fb"],

Cell[BoxData[
 TagBox[
  RowBox[{"(", "\[NoBreak]", GridBox[{
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"}
    },
    GridBoxAlignment->{"Columns" -> {{Center}}, "Rows" -> {{Baseline}}},
    GridBoxSpacings->{"Columns" -> {
        Offset[0.27999999999999997`], {
         Offset[0.7]}, 
        Offset[0.27999999999999997`]}, "Rows" -> {
        Offset[0.2], {
         Offset[0.4]}, 
        Offset[0.2]}}], "\[NoBreak]", ")"}],
  Function[BoxForm`e$, 
   MatrixForm[
   SparseArray[
    Automatic, {16, 16}, 0, {
     1, {{0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16}, {{1}, {
       2}, {3}, {4}, {5}, {6}, {7}, {8}, {9}, {10}, {11}, {12}, {13}, {14}, {
       15}, {16}}}, {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
      0}}]]]]], "Output",
 CellLabel->"Out[4]//MatrixForm=",
 CellID->718838635,ExpressionUUID->"fc1fa241-66f4-4cfe-b302-71ace5c3e367"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 InterpretationBox[Cell[
  "\t", "ExampleDelimiter",ExpressionUUID->
   "0e0b3f6a-d2df-4741-a61a-b7c886c9c63d"],
  $Line = 0; Null]], "ExampleDelimiter",
 CellID->689713619,ExpressionUUID->"17e27e71-530c-4fb8-aef8-ec274ee60c36"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"op", "=", 
  RowBox[{
   RowBox[{
    RowBox[{"S", "[", 
     RowBox[{"4", ",", "6"}], "]"}], "**", 
    RowBox[{"Phase", "[", 
     RowBox[{"\[Phi]", ",", 
      RowBox[{"S", "[", 
       RowBox[{"4", ",", "3"}], "]"}]}], "]"}], "**", 
    RowBox[{"S", "[", 
     RowBox[{"4", ",", "6"}], "]"}]}], "//", "Elaborate"}]}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[1]:=",
 CellID->2047551674,ExpressionUUID->"cf578579-8438-4b2c-962b-cb007b450fa6"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   FractionBox["1", "2"], " ", 
   RowBox[{"(", 
    RowBox[{"1", "+", 
     SuperscriptBox["\[ExponentialE]", 
      RowBox[{"\[ImaginaryI]", " ", "\[Phi]"}]]}], ")"}]}], "+", 
  RowBox[{
   FractionBox["1", "2"], " ", 
   RowBox[{"(", 
    RowBox[{"1", "-", 
     SuperscriptBox["\[ExponentialE]", 
      RowBox[{"\[ImaginaryI]", " ", "\[Phi]"}]]}], ")"}], " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"S"}, "RowDefault"], 
      TemplateBox[{"4"}, "RowDefault"], 
      TemplateBox[{"\"x\""}, "RowDefault"]},
     "Subsuperscript"],
    $CellContext`S[4, 1]]}]}]], "Output",
 CellLabel->"Out[1]=",
 CellID->283459958,ExpressionUUID->"9e9532a8-df36-4de7-a228-e98502f907a4"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"qc", "=", 
  RowBox[{"QuantumCircuit", "[", 
   RowBox[{
    RowBox[{"Ket", "[", 
     RowBox[{
      RowBox[{"S", "[", "4", "]"}], "->", "1"}], "]"}], ",", 
    "\[IndentingNewLine]", 
    RowBox[{"S", "[", 
     RowBox[{"4", ",", "6"}], "]"}], ",", 
    RowBox[{"ControlledExp", "[", 
     RowBox[{
      RowBox[{"S", "@", 
       RowBox[{"{", 
        RowBox[{"1", ",", "2", ",", "3"}], "}"}]}], ",", "op"}], "]"}], ",", 
    RowBox[{"S", "[", 
     RowBox[{"4", ",", "6"}], "]"}]}], "]"}]}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[2]:=",
 CellID->658842380,ExpressionUUID->"80aa047e-f3d4-4cc2-9d97-2ffe8cc0ca7d"],

Cell[BoxData[
 InterpretationBox[
  GraphicsBox[{
    {Dashing[{Small, Small}], LineBox[{}]}, 
    LineBox[{{{0, -1}, {4, -1}}, {{0, -2}, {4, -2}}, {{0, -3}, {4, -3}}, {{
     0, -4}, {4, -4}}}], InsetBox[
     StyleBox[
      TemplateBox[{"1"},
       "Ket"],
      StripOnInput->False,
      FontSize->Scaled[0.08000000000000002],
      FontWeight->"Light"], {-0.1, -4}, NCache[
     ImageScaled[{1, Rational[1, 2]}], ImageScaled[{1, 0.5}]]], {
     {GrayLevel[1], EdgeForm[None], RectangleBox[{0.6, -4.4}, {1.4, -3.6}]}, 
     LineBox[{{0.6, -4.4}, {1.4, -4.4}, {1.4, -3.6}, {0.6, -3.6}, {
      0.6, -4.4}}], InsetBox[
      StyleBox["\<\"H\"\>",
       StripOnInput->False,
       FontSize->Scaled[0.1],
       FontWeight->"Light",
       FontSlant->Italic], {1, -4}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
       ImageScaled[{0.5, 0.5}]]]}, {
     LineBox[{{2, -1}, {2, -2}, {2, -3}, {2, -4}}], 
     {GrayLevel[1], EdgeForm[GrayLevel[0]], 
      FilledCurveBox[{
       BezierCurve[{{2.4, -1}, {2.4, -0.47439999999999993`}, {
          1.6, -0.47439999999999993`}, {1.6, -1}}], 
        Line[{{1.6, -1}, {1.6, -3}}], 
        BezierCurve[{{1.6, -3.5256}, {2.4, -3.5256}, {2.4, -3}}]}]}, 
     InsetBox[
      StyleBox["\<\"x\"\>",
       StripOnInput->False,
       FontSize->Scaled[0.1],
       FontWeight->"Light",
       FontSlant->Italic], {2, -2}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
       ImageScaled[{0.5, 0.5}]]], 
     {GrayLevel[1], EdgeForm[None], RectangleBox[{1.6, -4.4}, {2.4, -3.6}]}, 
     LineBox[{{1.6, -4.4}, {2.4, -4.4}, {2.4, -3.6}, {1.6, -3.6}, {
      1.6, -4.4}}], InsetBox[
      StyleBox[
       TemplateBox[{"\"U\"", "\"x\""},
        "Superscript"],
       StripOnInput->False,
       FontSize->Scaled[0.1],
       FontWeight->"Light",
       FontSlant->Italic], {2, -4}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
       ImageScaled[{0.5, 0.5}]]]}, {
     {GrayLevel[1], EdgeForm[None], RectangleBox[{2.6, -4.4}, {3.4, -3.6}]}, 
     LineBox[{{2.6, -4.4}, {3.4, -4.4}, {3.4, -3.6}, {2.6, -3.6}, {
      2.6, -4.4}}], InsetBox[
      StyleBox["\<\"H\"\>",
       StripOnInput->False,
       FontSize->Scaled[0.1],
       FontWeight->"Light",
       FontSlant->Italic], {3, -4}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
       ImageScaled[{0.5, 0.5}]]]}},
   AxesStyle->Large,
   FrameStyle->Large,
   ImagePadding->{{23.400000000000002`, 23.400000000000002`}, {1, 1}},
   ImageSize->190.79999999999998`,
   PlotRange->NCache[{Full, {
       Rational[-9, 2], 
       Rational[-1, 2]}}, {Full, {-4.5, -0.5}}],
   PlotRangePadding->Scaled[0.025]],
  Q3`QuantumCircuit[
   Q3`QuantumCircuitIn[
    Ket[<|$CellContext`S[4, Q3`$] -> 1|>]], 
   $CellContext`S[4, 6], 
   Q3`ControlledExp[{
     $CellContext`S[1, Q3`$], 
     $CellContext`S[2, Q3`$], 
     $CellContext`S[3, Q3`$]}, 
    Rational[1, 2] (1 + E^(Complex[0, 1] $CellContext`\[Phi])) + 
    Rational[1, 2] (1 - E^(Complex[0, 1] $CellContext`\[Phi])) $CellContext`S[
      4, 1]], 
   $CellContext`S[4, 6]]]], "Output",
 CellLabel->"Out[2]=",
 CellID->2010655344,ExpressionUUID->"8248bf29-6000-43b1-8545-3f6bd60d5494"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"qc", "=", 
  RowBox[{"QuantumCircuit", "[", 
   RowBox[{
    RowBox[{"Ket", "[", 
     RowBox[{
      RowBox[{"S", "[", "4", "]"}], "->", "1"}], "]"}], ",", 
    "\[IndentingNewLine]", 
    RowBox[{"S", "[", 
     RowBox[{"4", ",", "6"}], "]"}], ",", 
    RowBox[{"Expand", "@", 
     RowBox[{"ControlledExp", "[", 
      RowBox[{
       RowBox[{"S", "@", 
        RowBox[{"{", 
         RowBox[{"1", ",", "2", ",", "3"}], "}"}]}], ",", "op"}], "]"}]}], 
    ",", 
    RowBox[{"S", "[", 
     RowBox[{"4", ",", "6"}], "]"}]}], "\[IndentingNewLine]", 
   "]"}]}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[3]:=",
 CellID->629762013,ExpressionUUID->"6aed0638-7cbc-4e07-973c-4a830dda48aa"],

Cell[BoxData[
 InterpretationBox[
  GraphicsBox[{
    {Dashing[{Small, Small}], LineBox[{}]}, 
    LineBox[{{{0, -1}, {6, -1}}, {{0, -2}, {6, -2}}, {{0, -3}, {6, -3}}, {{
     0, -4}, {6, -4}}}], InsetBox[
     StyleBox[
      TemplateBox[{"1"},
       "Ket"],
      StripOnInput->False,
      FontSize->Scaled[0.05333333333333334],
      FontWeight->"Light"], {-0.1, -4}, NCache[
     ImageScaled[{1, Rational[1, 2]}], ImageScaled[{1, 0.5}]]], {
     {GrayLevel[1], EdgeForm[None], RectangleBox[{0.6, -4.4}, {1.4, -3.6}]}, 
     LineBox[{{0.6, -4.4}, {1.4, -4.4}, {1.4, -3.6}, {0.6, -3.6}, {
      0.6, -4.4}}], InsetBox[
      StyleBox["\<\"H\"\>",
       StripOnInput->False,
       FontSize->Scaled[0.06666666666666667],
       FontWeight->"Light",
       FontSlant->Italic], {1, -4}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
       ImageScaled[{0.5, 0.5}]]]}, {LineBox[{{2, -1}, {2, -4}}], 
     DiskBox[{2, -1}, 0.09], 
     {GrayLevel[1], EdgeForm[None], RectangleBox[{1.6, -4.4}, {2.4, -3.6}]}, 
     LineBox[{{1.6, -4.4}, {2.4, -4.4}, {2.4, -3.6}, {1.6, -3.6}, {
      1.6, -4.4}}], InsetBox[
      StyleBox[
       TemplateBox[{"\"U\"", 
         TemplateBox[{"2", "2"}, "Superscript", SyntaxForm -> SuperscriptBox]},
        "Superscript"],
       StripOnInput->False,
       FontSize->Scaled[0.043333333333333335`],
       FontWeight->"Light",
       FontSlant->Italic], {2, -4}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
       ImageScaled[{0.5, 0.5}]]]}, {LineBox[{{3, -2}, {3, -4}}], 
     DiskBox[{3, -2}, 0.09], 
     {GrayLevel[1], EdgeForm[None], RectangleBox[{2.6, -4.4}, {3.4, -3.6}]}, 
     LineBox[{{2.6, -4.4}, {3.4, -4.4}, {3.4, -3.6}, {2.6, -3.6}, {
      2.6, -4.4}}], InsetBox[
      StyleBox[
       TemplateBox[{"\"U\"", 
         TemplateBox[{"2", "1"}, "Superscript", SyntaxForm -> SuperscriptBox]},
        "Superscript"],
       StripOnInput->False,
       FontSize->Scaled[0.043333333333333335`],
       FontWeight->"Light",
       FontSlant->Italic], {3, -4}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
       ImageScaled[{0.5, 0.5}]]]}, {LineBox[{{4, -3}, {4, -4}}], 
     DiskBox[{4, -3}, 0.09], 
     {GrayLevel[1], EdgeForm[None], RectangleBox[{3.6, -4.4}, {4.4, -3.6}]}, 
     LineBox[{{3.6, -4.4}, {4.4, -4.4}, {4.4, -3.6}, {3.6, -3.6}, {
      3.6, -4.4}}], InsetBox[
      StyleBox[
       TemplateBox[{"\"U\"", 
         TemplateBox[{"2", "0"}, "Superscript", SyntaxForm -> SuperscriptBox]},
        "Superscript"],
       StripOnInput->False,
       FontSize->Scaled[0.043333333333333335`],
       FontWeight->"Light",
       FontSlant->Italic], {4, -4}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
       ImageScaled[{0.5, 0.5}]]]}, {
     {GrayLevel[1], EdgeForm[None], RectangleBox[{4.6, -4.4}, {5.4, -3.6}]}, 
     LineBox[{{4.6, -4.4}, {5.4, -4.4}, {5.4, -3.6}, {4.6, -3.6}, {
      4.6, -4.4}}], InsetBox[
      StyleBox["\<\"H\"\>",
       StripOnInput->False,
       FontSize->Scaled[0.06666666666666667],
       FontWeight->"Light",
       FontSlant->Italic], {5, -4}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
       ImageScaled[{0.5, 0.5}]]]}},
   AxesStyle->Large,
   FrameStyle->Large,
   ImagePadding->{{23.400000000000002`, 23.400000000000002`}, {1, 1}},
   ImageSize->262.8,
   PlotRange->NCache[{Full, {
       Rational[-9, 2], 
       Rational[-1, 2]}}, {Full, {-4.5, -0.5}}],
   PlotRangePadding->Scaled[0.025]],
  Q3`QuantumCircuit[
   Q3`QuantumCircuitIn[
    Ket[<|$CellContext`S[4, Q3`$] -> 1|>]], 
   $CellContext`S[4, 6], 
   Q3`ControlledU[{
      $CellContext`S[1, Q3`$]} -> {1}, 
    Rational[1, 2] (1 + E^(Complex[0, 4] $CellContext`\[Phi])) + 
    Rational[1, 2] (1 - E^(Complex[0, 4] $CellContext`\[Phi])) $CellContext`S[
      4, 1], "Label" -> Superscript["U", 
      Superscript[2, 2]], "LabelSize" -> 0.65], 
   Q3`ControlledU[{
      $CellContext`S[2, Q3`$]} -> {1}, 
    Rational[1, 2] (1 + E^(Complex[0, 2] $CellContext`\[Phi])) + 
    Rational[1, 2] (1 - E^(Complex[0, 2] $CellContext`\[Phi])) $CellContext`S[
      4, 1], "Label" -> Superscript["U", 
      Superscript[2, 1]], "LabelSize" -> 0.65], 
   Q3`ControlledU[{
      $CellContext`S[3, Q3`$]} -> {1}, 
    Rational[1, 2] (1 + E^(Complex[0, 1] $CellContext`\[Phi])) + 
    Rational[1, 2] (1 - E^(Complex[0, 1] $CellContext`\[Phi])) $CellContext`S[
      4, 1], "Label" -> Superscript["U", 
      Superscript[2, 0]], "LabelSize" -> 0.65], 
   $CellContext`S[4, 6]]]], "Output",
 CellLabel->"Out[3]=",
 CellID->2143372460,ExpressionUUID->"984fe6bb-02bc-4a6c-ba05-f7fb1be1973d"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 InterpretationBox[Cell[
  "\t", "ExampleDelimiter",ExpressionUUID->
   "826f537a-6ad8-4cb6-b8c3-58e8891dacd1"],
  $Line = 0; Null]], "ExampleDelimiter",
 CellID->1935006837,ExpressionUUID->"034d79bd-3423-4766-9526-e22e165360af"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"op", "=", 
  RowBox[{
   RowBox[{
    RowBox[{"S", "[", 
     RowBox[{"4", ",", "6"}], "]"}], "**", 
    RowBox[{"Phase", "[", 
     RowBox[{"\[Phi]", ",", 
      RowBox[{"S", "[", 
       RowBox[{"4", ",", "3"}], "]"}]}], "]"}], "**", 
    RowBox[{"S", "[", 
     RowBox[{"4", ",", "6"}], "]"}]}], "//", "Elaborate"}]}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[1]:=",
 CellID->1747542897,ExpressionUUID->"40b1aafd-8e07-4bbc-92be-ad01bcf309dc"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   FractionBox["1", "2"], " ", 
   RowBox[{"(", 
    RowBox[{"1", "+", 
     SuperscriptBox["\[ExponentialE]", 
      RowBox[{"\[ImaginaryI]", " ", "\[Phi]"}]]}], ")"}]}], "+", 
  RowBox[{
   FractionBox["1", "2"], " ", 
   RowBox[{"(", 
    RowBox[{"1", "-", 
     SuperscriptBox["\[ExponentialE]", 
      RowBox[{"\[ImaginaryI]", " ", "\[Phi]"}]]}], ")"}], " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"S"}, "RowDefault"], 
      TemplateBox[{"4"}, "RowDefault"], 
      TemplateBox[{"\"x\""}, "RowDefault"]},
     "Subsuperscript"],
    $CellContext`S[4, 1]]}]}]], "Output",
 CellLabel->"Out[1]=",
 CellID->1264088197,ExpressionUUID->"3c0724a2-002e-4e2d-bf9a-1a963a55e514"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"qc", "=", 
  RowBox[{"QuantumCircuit", "[", 
   RowBox[{
    RowBox[{"Ket", "[", 
     RowBox[{
      RowBox[{"S", "[", "4", "]"}], "->", "1"}], "]"}], ",", 
    "\[IndentingNewLine]", 
    RowBox[{"S", "[", 
     RowBox[{"4", ",", "6"}], "]"}], ",", 
    RowBox[{"ControlledExp", "[", 
     RowBox[{
      RowBox[{"S", "@", 
       RowBox[{"{", 
        RowBox[{"1", ",", "2", ",", "3"}], "}"}]}], ",", "op"}], "]"}], ",", 
    RowBox[{"S", "[", 
     RowBox[{"4", ",", "6"}], "]"}]}], "]"}]}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[2]:=",
 CellID->765966584,ExpressionUUID->"e2fdfe6a-610b-4723-965d-c20fb88ec766"],

Cell[BoxData[
 InterpretationBox[
  GraphicsBox[{
    {Dashing[{Small, Small}], LineBox[{}]}, 
    LineBox[{{{0, -1}, {4, -1}}, {{0, -2}, {4, -2}}, {{0, -3}, {4, -3}}, {{
     0, -4}, {4, -4}}}], InsetBox[
     StyleBox[
      TemplateBox[{"1"},
       "Ket"],
      StripOnInput->False,
      FontSize->Scaled[0.08000000000000002],
      FontWeight->"Light"], {-0.1, -4}, NCache[
     ImageScaled[{1, Rational[1, 2]}], ImageScaled[{1, 0.5}]]], {
     {GrayLevel[1], EdgeForm[None], RectangleBox[{0.6, -4.4}, {1.4, -3.6}]}, 
     LineBox[{{0.6, -4.4}, {1.4, -4.4}, {1.4, -3.6}, {0.6, -3.6}, {
      0.6, -4.4}}], InsetBox[
      StyleBox["\<\"H\"\>",
       StripOnInput->False,
       FontSize->Scaled[0.1],
       FontWeight->"Light",
       FontSlant->Italic], {1, -4}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
       ImageScaled[{0.5, 0.5}]]]}, {
     LineBox[{{2, -1}, {2, -2}, {2, -3}, {2, -4}}], 
     {GrayLevel[1], EdgeForm[GrayLevel[0]], 
      FilledCurveBox[{
       BezierCurve[{{2.4, -1}, {2.4, -0.47439999999999993`}, {
          1.6, -0.47439999999999993`}, {1.6, -1}}], 
        Line[{{1.6, -1}, {1.6, -3}}], 
        BezierCurve[{{1.6, -3.5256}, {2.4, -3.5256}, {2.4, -3}}]}]}, 
     InsetBox[
      StyleBox["\<\"x\"\>",
       StripOnInput->False,
       FontSize->Scaled[0.1],
       FontWeight->"Light",
       FontSlant->Italic], {2, -2}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
       ImageScaled[{0.5, 0.5}]]], 
     {GrayLevel[1], EdgeForm[None], RectangleBox[{1.6, -4.4}, {2.4, -3.6}]}, 
     LineBox[{{1.6, -4.4}, {2.4, -4.4}, {2.4, -3.6}, {1.6, -3.6}, {
      1.6, -4.4}}], InsetBox[
      StyleBox[
       TemplateBox[{"\"U\"", "\"x\""},
        "Superscript"],
       StripOnInput->False,
       FontSize->Scaled[0.1],
       FontWeight->"Light",
       FontSlant->Italic], {2, -4}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
       ImageScaled[{0.5, 0.5}]]]}, {
     {GrayLevel[1], EdgeForm[None], RectangleBox[{2.6, -4.4}, {3.4, -3.6}]}, 
     LineBox[{{2.6, -4.4}, {3.4, -4.4}, {3.4, -3.6}, {2.6, -3.6}, {
      2.6, -4.4}}], InsetBox[
      StyleBox["\<\"H\"\>",
       StripOnInput->False,
       FontSize->Scaled[0.1],
       FontWeight->"Light",
       FontSlant->Italic], {3, -4}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
       ImageScaled[{0.5, 0.5}]]]}},
   AxesStyle->Large,
   FrameStyle->Large,
   ImagePadding->{{23.400000000000002`, 23.400000000000002`}, {1, 1}},
   ImageSize->190.79999999999998`,
   PlotRange->NCache[{Full, {
       Rational[-9, 2], 
       Rational[-1, 2]}}, {Full, {-4.5, -0.5}}],
   PlotRangePadding->Scaled[0.025]],
  Q3`QuantumCircuit[
   Q3`QuantumCircuitIn[
    Ket[<|$CellContext`S[4, Q3`$] -> 1|>]], 
   $CellContext`S[4, 6], 
   Q3`ControlledExp[{
     $CellContext`S[1, Q3`$], 
     $CellContext`S[2, Q3`$], 
     $CellContext`S[3, Q3`$]}, 
    Rational[1, 2] (1 + E^(Complex[0, 1] $CellContext`\[Phi])) + 
    Rational[1, 2] (1 - E^(Complex[0, 1] $CellContext`\[Phi])) $CellContext`S[
      4, 1]], 
   $CellContext`S[4, 6]]]], "Output",
 CellLabel->"Out[2]=",
 CellID->2046527841,ExpressionUUID->"060cb547-4cfa-47d1-9293-bee2d138865a"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"in", "=", 
   RowBox[{"Total", "@", 
    RowBox[{"Basis", "[", 
     RowBox[{"S", "@", 
      RowBox[{"{", 
       RowBox[{"1", ",", "2", ",", "3"}], "}"}]}], "]"}]}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{"in", "//", "LogicalForm"}]}], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[3]:=",
 CellID->538882566,ExpressionUUID->"f34e1d4c-09b7-4640-aa4d-253215d8cd32"],

Cell[BoxData[
 GraphicsBox[
  TagBox[RasterBox[CompressedData["
1:eJztnWloFFsahjsdI8FoGOOKCypRc1HEFXcjI65xwwQN7ubiFo0manAIuI8L
+EMdjOaKC9gaRUVBMSoiqLj/iAlGBeOGu2PACO5bas54sKjbp7pS3V1Vp1Pf
+4DSXXWq3q/6Od8Jaao7bf7MTp3t9Xg8S2LZf6kZ//rn4sUZeWn/YE/GL1yS
OWfhrJkjFubOmjNrce8/o9nGP9i/9jEez/8fKwAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAADA32nUqJHsEiiSnZ29ZcsWiQXAuxTgnSbwThN4pwm80wTe
aQLvNAnBO0xJYfPmzZ07d5ZYALxLAd5pAu80gXeawDtN4J0m8E6TELzDlBQe
PXrk8XjY/7IKgHcpwDtN4J0m8E4TeKcJvNME3mkSgneYkkXnzp03bdokKx3e
ZQHvNIF3msA7TeCdJvBOE3inSbDeYUoWK1euTE5OlpUO77KAd5rAO03gnSbw
ThN4pwm80yRY79WaKisrW7p0KTtnx44dZ8yYsW/fvvAKrB4KiYzS0tLo6OiK
igoHskTgnfP582efz5eZmenYF1/Au4jDFtDvIhS8S0mMcO8Kge5Dv+vieu8K
+l0P16+66HddXO9dSmKw3o1NnTp1qm7dup6/k5GR8e3bNyuKJZqo0rp16927
d9udogu879mzZ8iQIfHx8TyrW7duNgWJwLuK8xbQ7yIUvKPfRSh0H/pdhIJ3
9LsIhVUX/S5CwXtN6XcDU/fv32e/vLPiR48eXVJS8uLFi/z8/Fq1arEteXl5
FhVLLlFLTk4Oy7U7RRfi3hkpKSnaNdnJDoV3FYctoN9FKHiXkqgSmd4VAt2H
ftfF9d4V9Lserl910e+6uN67lESVoLwbmMrKymKVDxgwQPvu0J49e9jG+vXr
f/jwIdxCSSZquXDhQmxsrN0puhD3znj37t1/f7Fs2TKHOxTeVRy2gH4XoeBd
SqJKZHpXCHQf+l0X13tX0O96uH7VRb/r4nrvUhJVgvIeyNTHjx/j4uJY5UeP
HtVu//79e9OmTdn2nTt3WlArsUQ/fvz40bBhQ790Z6Ds3Y9NmzY53KHwLuKA
BenXCO8izncf+l3Eld0nfW7DuxIBFtDvIq5cdaXPNHinmRiU90Cm7ty5w8qu
U6eO+PGH+fPns13Z2dnhFkovUSQjI2PKlCkhHPjw4cNz586FnEvZux/Od6gC
7wIOWJB+jQq8C1D4iaxEnnc/XNl90ue2Au8RYAH9LuLKVVf6TFPgnWSiEoz3
QKbOnj3Lym7btq3y61f45cuXT5o06fbt2+zpxo0b2a60tDQLCyaSKHL8+PH6
9et///492AN37NjRr1+/kHMpe/dDSofCux8OWJB+jQq8CxD5iRxp3v1wZfdJ
n9sKvEeABfS7iCtXXekzTYF3kolKMN4DmeKffejfvz97XFRU5PnF2LFj2VOf
z8ce9+7d2++QysrKkpKSt2/fhlYzhUSRT58+xcXFhfDulk0dStCCmQ6FdxdY
kH6NCrwLON996HcRV3af9LmtwHsEWEC/i7hy1ZU+0xR4J5moBOM9kKmCggJW
9qBBg5Rf37fPZ++oUaPY00OHDrHHXbp0UQffv39/yJAhnt+0bduWjQm2ZgqJ
uqSmpmZlZQV7lE0dStCCcYfCu2ssSL9GDrxrcb770O8iruw+6XObA+/UVhgO
ce/OJ0qfaRx4p5bIMek9kKnjx4+zejp16qT8vkNj+vTp/A6NrVu3sl0jR47k
I798+dKuXbuoqKjJkyezabNmzZr27duzAdeuXQuqYAqJuvh8vhYtWpgZWVVV
9fM3bHnp27fvTw1BhVL27odBh8K74iIL0q+RA+9anO8+9LuIK7tP+tzmwDu1
FYZD3LvzidJnGgfeqSVyTHoPZKq4uJhVoruXf/v67Nmz+dOrV69qJ7Py6zsD
Dx48GGzBFBJ1efz4MTv5o0ePqh2pfXNGxMwZVCh798OgQ+FdcZEF6dfIgXct
zncf+l3Eld0nfW5z4J3aCsMh7t35ROkzjQPv1BI5Jr0HMlVRUREVFcXOUFpa
6rerZ8+ebPv69ev5U37/Rgj3URBM1IUZb9q0aVVVVbUjX758Wf6bVatWdenS
pVxDUG+LUfbuh0GHwrviIgvSr5ED71qc7z70u4gru0/63ObAO7UVhkPcu/OJ
0mcaB96pJXJMejcwNXz4cLG8W7dusY1er1f9Xf7t27cNGjRgUz0nJ+fp06e6
p6qsrCwsLExPTy8oKDAoxqrE4uLiBQsWdO/evUOHDixUbEDLE2/evJmZmcn6
ul27diNGjDh8+LDBZfrBKlTffDOPfZ/7oOBdi0GHwrut3rWEYwH9Xi3EvVuV
6CbvWsJ5TZQIXufR78a41btV1wjvuodH7DqPfjfGrd6tSnTAu4Gp06dPs8qj
o6P379/Pt7x8+TIpKYltHDdunHbklStXWrVqxQenpaVdvnxZu3fDhg38rSfG
rFmzDIqxJJFN3dq1ayckJEyYMIHJYmNiYmLYK2lf4l9//cU2MpVs+9ixY+vU
qcOGrVu3zuBKVb5+/RofH3/q1Ckzg7XY16EUvGsx/qYFeLfPu5aQLaDfzUDc
uyWJLvOuJeTXRInsdR79boxbvVtyjfBe49Z59LsxbvVuSaIz3g1MVVVVTZs2
jYWy15ldckpKCjsne9qyZct79+6JiXv37u3Rowc3wn7fZ1v4ruvXrxcUFPC/
iGdsypLEFStWJCcnq1/8fuzYMbZ3/Pjx9iWWl5dPnDixoqKCD3vw4IHX623e
vLnBlaqcOXOmXr16X758MTNYi30dSsF7ampq49/UrVuXn0rdMmzYMDOJ8B6m
d0ssoN/NQNw7+l3EktdEiex1Hv0uQsE7+l3Eee/4+W4eeCfS78bvjbAJvHz5
8oSEBF5brVq1Bg4c+Pz5c4NDLl261LVrV4/mQxOcN2/eVGvKqsQfP36oe3/+
/Mle844dOzpwjSpsL/OuLSMQc+fODTSLjCkuLt61a1cIB3KIe+ef6wmE9q9I
mLlGFXhXMePdKgvo92oh7h39LmLtaxKZ67xViX7Au0pkeke/izjvHT/fzQPv
RPrdzN0IbA7fvXv32rVrHz9+NHNONr3ZVQwdOlS70eTKbGEi5+vXr3FxcSkp
KY4lHjp0iLX5vHnzqj0JC23WrFlhYaGZRGuB99CAd5HwvQcL+j1Y4N3yRNd4
D5aauM6j38OnJnoPFngXqYnrPPo9fGqidwsTbfIevqkLFy7k5uZ++vRJ3cJv
AJg6dap2mIWmTCZy8vPz2a4dO3bYnVhUVMTmQ5s2bZimnJycysrKak9748aN
mJgYMyMtB96tSoR3eId3FXgXgXc7Ejnwrgu8W5UI7/AO7yrwLhKU9/BNpaen
s5oTExOXLFmybds25oKdk1V76dIl7TALTZlMZJSWlsbGxvK/LG93InPXr1+/
li1bspHJyclmvlgvLy9v8ODB4RQWMvBuVSK8wzu8q8C7CLzbkajAe2Dg3apE
eId3eFeBd5GgvIdvqqqqavv27UlJSV6vl982zx4XFRX5DbPQlMnEsrKyxo0b
s5fuyZMnziRyrl69ykITEhJevXplfNoOHTrk5+eHWVtowLuFiRx41wLvIvBu
RyK8GwDvFiZy4F0LvIvAux2J8G4AvFuYyLHJu4X3/79//76kpET9qjc/7Lj/
3yCxtLSUXVqTJk3Eryi0KVHLrl272MX6fD6DMeXl5WzMs2fPLCzPPPBuVaIW
eFeBdz/g3Y5EeDcG3q1K1ALvKvDuB7zbkQjvxsC7VYla7PBuxyfudbH1E/d+
nDt3Lj4+vlWrVtZqCsSJEyfKysq0W/Ly8tjFsu0GR23cuLF79+42lxYQeA8f
eDcA3v2Ad8uB92qB9/CBdwPg3Q94txx4rxZ4Dx9nvNttqry8/D+/WL16NSu+
T58+/On58+dtSjxw4EDt2rVZ1qJFi9auXfvv31y8eNGOuG/fvrEpwRLnzJnj
8/lOnjyZlZXl9XoTExPfv39vcGDfvn1ZVXaUZAZ4DxN41wXeAwHv1gLvZoD3
MIF3XeA9EPBuLfBuBngPE8e8223qyJEjHj1mzpxpU2KvXr10E1euXGlT4ps3
b6ZNm9akSRMeFBUVNWbMmIcPHxoc8vr1a2bT7x0VJ4H38IF3EXjXBd4tB97N
AO/hA+8i8K4LvFsOvJsB3sPHGe+O3Y1AgRcvXty6dcv4LRHOzp07ExMTHSgp
EPBuIfBOE3inCbzTBN5pAu80gXea2OodpqSQnp6em5srsQB4lwK80wTeaQLv
NIF3msA7TeCdJiF4hymawDtN4J0m8E4TeKcJvNME3mkC7zUFmKIJvNME3mkC
7zSBd5rAO03gnSbwXlOAKZrAO03gnSbwThN4pwm80wTeaQLvAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAEBE8T9w3gdO
    "], {{0, 20.}, {659., 0}}, {0, 255},
    ColorFunction->RGBColor,
    ImageResolution->{144., 144.},
    SmoothingQuality->"High"],
   BoxForm`ImageTag["Byte", ColorSpace -> "RGB", Interleaving -> True],
   Selectable->False],
  DefaultBaseStyle->"ImageGraphics",
  ImageSize->Automatic,
  ImageSizeRaw->{659., 20.},
  PlotRange->{{0, 659.}, {0, 20.}}]], "Output",
 CellTags->"RasterizedOutput",
 CellLabel->"Out[3]=",
 CellID->746323513,ExpressionUUID->"ff10d96c-4801-44ea-95e4-eefac7e93380"]
}, Open  ]],

Cell["\<\
Operating on the superposition state, the controlled exponentiation induces \
relative phase shifts.\
\>", "ExampleText",
 CellID->1730346951,ExpressionUUID->"34cac316-4777-4267-a51a-90e9a9e4d86a"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"out", "=", 
   RowBox[{"qc", "**", "in"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"LogicalForm", "[", "out", "]"}]}], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[4]:=",
 CellID->1719176194,ExpressionUUID->"f6c6be04-47e9-40ee-8e42-aaf41c6ba907"],

Cell[BoxData[
 RowBox[{
  InterpretationBox[
   TemplateBox[{
     TemplateBox[{
       SubscriptBox["0", 
        InterpretationBox[
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"1"}, "RowDefault"]], 
         $CellContext`S[1, Q3`$]]], 
       SubscriptBox["0", 
        InterpretationBox[
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"2"}, "RowDefault"]], 
         $CellContext`S[2, Q3`$]]], 
       SubscriptBox["0", 
        InterpretationBox[
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"3"}, "RowDefault"]], 
         $CellContext`S[3, Q3`$]]], 
       SubscriptBox["1", 
        InterpretationBox[
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"4"}, "RowDefault"]], 
         $CellContext`S[4, Q3`$]]]}, "RowDefault"]},
    "Ket"],
   Ket[<|$CellContext`S[1, Q3`$] -> 0, $CellContext`S[2, Q3`$] -> 
     0, $CellContext`S[3, Q3`$] -> 0, $CellContext`S[4, Q3`$] -> 1|>]], "+", 
  RowBox[{
   SuperscriptBox["\[ExponentialE]", 
    RowBox[{"\[ImaginaryI]", " ", "\[Phi]"}]], " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{
        SubscriptBox["0", 
         InterpretationBox[
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"1"}, "RowDefault"]], 
          $CellContext`S[1, Q3`$]]], 
        SubscriptBox["0", 
         InterpretationBox[
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"2"}, "RowDefault"]], 
          $CellContext`S[2, Q3`$]]], 
        SubscriptBox["1", 
         InterpretationBox[
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"3"}, "RowDefault"]], 
          $CellContext`S[3, Q3`$]]], 
        SubscriptBox["1", 
         InterpretationBox[
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"4"}, "RowDefault"]], 
          $CellContext`S[4, Q3`$]]]}, "RowDefault"]},
     "Ket"],
    Ket[<|$CellContext`S[1, Q3`$] -> 0, $CellContext`S[2, Q3`$] -> 
      0, $CellContext`S[3, Q3`$] -> 1, $CellContext`S[4, Q3`$] -> 1|>]]}], 
  "+", 
  RowBox[{
   SuperscriptBox["\[ExponentialE]", 
    RowBox[{"2", " ", "\[ImaginaryI]", " ", "\[Phi]"}]], " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{
        SubscriptBox["0", 
         InterpretationBox[
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"1"}, "RowDefault"]], 
          $CellContext`S[1, Q3`$]]], 
        SubscriptBox["1", 
         InterpretationBox[
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"2"}, "RowDefault"]], 
          $CellContext`S[2, Q3`$]]], 
        SubscriptBox["0", 
         InterpretationBox[
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"3"}, "RowDefault"]], 
          $CellContext`S[3, Q3`$]]], 
        SubscriptBox["1", 
         InterpretationBox[
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"4"}, "RowDefault"]], 
          $CellContext`S[4, Q3`$]]]}, "RowDefault"]},
     "Ket"],
    Ket[<|$CellContext`S[1, Q3`$] -> 0, $CellContext`S[2, Q3`$] -> 
      1, $CellContext`S[3, Q3`$] -> 0, $CellContext`S[4, Q3`$] -> 1|>]]}], 
  "+", 
  RowBox[{
   SuperscriptBox["\[ExponentialE]", 
    RowBox[{"3", " ", "\[ImaginaryI]", " ", "\[Phi]"}]], " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{
        SubscriptBox["0", 
         InterpretationBox[
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"1"}, "RowDefault"]], 
          $CellContext`S[1, Q3`$]]], 
        SubscriptBox["1", 
         InterpretationBox[
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"2"}, "RowDefault"]], 
          $CellContext`S[2, Q3`$]]], 
        SubscriptBox["1", 
         InterpretationBox[
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"3"}, "RowDefault"]], 
          $CellContext`S[3, Q3`$]]], 
        SubscriptBox["1", 
         InterpretationBox[
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"4"}, "RowDefault"]], 
          $CellContext`S[4, Q3`$]]]}, "RowDefault"]},
     "Ket"],
    Ket[<|$CellContext`S[1, Q3`$] -> 0, $CellContext`S[2, Q3`$] -> 
      1, $CellContext`S[3, Q3`$] -> 1, $CellContext`S[4, Q3`$] -> 1|>]]}], 
  "+", 
  RowBox[{
   SuperscriptBox["\[ExponentialE]", 
    RowBox[{"4", " ", "\[ImaginaryI]", " ", "\[Phi]"}]], " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{
        SubscriptBox["1", 
         InterpretationBox[
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"1"}, "RowDefault"]], 
          $CellContext`S[1, Q3`$]]], 
        SubscriptBox["0", 
         InterpretationBox[
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"2"}, "RowDefault"]], 
          $CellContext`S[2, Q3`$]]], 
        SubscriptBox["0", 
         InterpretationBox[
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"3"}, "RowDefault"]], 
          $CellContext`S[3, Q3`$]]], 
        SubscriptBox["1", 
         InterpretationBox[
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"4"}, "RowDefault"]], 
          $CellContext`S[4, Q3`$]]]}, "RowDefault"]},
     "Ket"],
    Ket[<|$CellContext`S[1, Q3`$] -> 1, $CellContext`S[2, Q3`$] -> 
      0, $CellContext`S[3, Q3`$] -> 0, $CellContext`S[4, Q3`$] -> 1|>]]}], 
  "+", 
  RowBox[{
   SuperscriptBox["\[ExponentialE]", 
    RowBox[{"5", " ", "\[ImaginaryI]", " ", "\[Phi]"}]], " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{
        SubscriptBox["1", 
         InterpretationBox[
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"1"}, "RowDefault"]], 
          $CellContext`S[1, Q3`$]]], 
        SubscriptBox["0", 
         InterpretationBox[
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"2"}, "RowDefault"]], 
          $CellContext`S[2, Q3`$]]], 
        SubscriptBox["1", 
         InterpretationBox[
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"3"}, "RowDefault"]], 
          $CellContext`S[3, Q3`$]]], 
        SubscriptBox["1", 
         InterpretationBox[
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"4"}, "RowDefault"]], 
          $CellContext`S[4, Q3`$]]]}, "RowDefault"]},
     "Ket"],
    Ket[<|$CellContext`S[1, Q3`$] -> 1, $CellContext`S[2, Q3`$] -> 
      0, $CellContext`S[3, Q3`$] -> 1, $CellContext`S[4, Q3`$] -> 1|>]]}], 
  "+", 
  RowBox[{
   SuperscriptBox["\[ExponentialE]", 
    RowBox[{"6", " ", "\[ImaginaryI]", " ", "\[Phi]"}]], " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{
        SubscriptBox["1", 
         InterpretationBox[
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"1"}, "RowDefault"]], 
          $CellContext`S[1, Q3`$]]], 
        SubscriptBox["1", 
         InterpretationBox[
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"2"}, "RowDefault"]], 
          $CellContext`S[2, Q3`$]]], 
        SubscriptBox["0", 
         InterpretationBox[
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"3"}, "RowDefault"]], 
          $CellContext`S[3, Q3`$]]], 
        SubscriptBox["1", 
         InterpretationBox[
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"4"}, "RowDefault"]], 
          $CellContext`S[4, Q3`$]]]}, "RowDefault"]},
     "Ket"],
    Ket[<|$CellContext`S[1, Q3`$] -> 1, $CellContext`S[2, Q3`$] -> 
      1, $CellContext`S[3, Q3`$] -> 0, $CellContext`S[4, Q3`$] -> 1|>]]}], 
  "+", 
  RowBox[{
   SuperscriptBox["\[ExponentialE]", 
    RowBox[{"7", " ", "\[ImaginaryI]", " ", "\[Phi]"}]], " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{
        SubscriptBox["1", 
         InterpretationBox[
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"1"}, "RowDefault"]], 
          $CellContext`S[1, Q3`$]]], 
        SubscriptBox["1", 
         InterpretationBox[
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"2"}, "RowDefault"]], 
          $CellContext`S[2, Q3`$]]], 
        SubscriptBox["1", 
         InterpretationBox[
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"3"}, "RowDefault"]], 
          $CellContext`S[3, Q3`$]]], 
        SubscriptBox["1", 
         InterpretationBox[
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"4"}, "RowDefault"]], 
          $CellContext`S[4, Q3`$]]]}, "RowDefault"]},
     "Ket"],
    Ket[<|$CellContext`S[1, Q3`$] -> 1, $CellContext`S[2, Q3`$] -> 
      1, $CellContext`S[3, Q3`$] -> 1, $CellContext`S[4, Q3`$] -> 
      1|>]]}]}]], "Output",
 CellLabel->"Out[4]=",
 CellID->1190121442,ExpressionUUID->"aa3ee930-afab-46ce-957b-3e9d50175a2b"]
}, Open  ]],

Cell["\<\
When the phase is one of the discrete values, the QFT can pick it up.\
\>", "ExampleText",
 CellID->1639236511,ExpressionUUID->"f21ebdce-16df-4873-b1f7-9388c15cc979"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"trs", "=", 
   RowBox[{"Block", "[", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"\[Phi]", "=", 
       RowBox[{"2", "Pi", "*", 
        RowBox[{"2", "/", 
         RowBox[{"2", "^", "3"}]}]}]}], "}"}], ",", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{
       RowBox[{"Dagger", "[", 
        RowBox[{"QFT", "[", 
         RowBox[{"S", "@", 
          RowBox[{"{", 
           RowBox[{"1", ",", "2", ",", "3"}], "}"}]}], "]"}], "]"}], "**", 
       "out"}], "//", "Simplify"}]}], "\[IndentingNewLine]", "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{"LogicalForm", "[", 
  RowBox[{"trs", ",", 
   RowBox[{"S", "@", 
    RowBox[{"{", 
     RowBox[{"1", ",", "2", ",", "3", ",", "4"}], "}"}]}]}], "]"}]}], "Input",\

 CellProlog:>Needs["Q3`"],
 CellLabel->"In[5]:=",
 CellID->575394993,ExpressionUUID->"b11bd4ac-91be-429d-9ada-0e6e343107f4"],

Cell[BoxData[
 RowBox[{"2", " ", 
  SqrtBox["2"], " ", 
  InterpretationBox[
   TemplateBox[{
     TemplateBox[{
       SubscriptBox["0", 
        InterpretationBox[
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"1"}, "RowDefault"]], 
         $CellContext`S[1, Q3`$]]], 
       SubscriptBox["1", 
        InterpretationBox[
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"2"}, "RowDefault"]], 
         $CellContext`S[2, Q3`$]]], 
       SubscriptBox["0", 
        InterpretationBox[
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"3"}, "RowDefault"]], 
         $CellContext`S[3, Q3`$]]], 
       SubscriptBox["1", 
        InterpretationBox[
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"4"}, "RowDefault"]], 
         $CellContext`S[4, Q3`$]]]}, "RowDefault"]},
    "Ket"],
   Ket[<|$CellContext`S[1, Q3`$] -> 0, $CellContext`S[2, Q3`$] -> 
     1, $CellContext`S[3, Q3`$] -> 0, $CellContext`S[4, Q3`$] -> 
     1|>]]}]], "Output",
 CellLabel->"Out[5]=",
 CellID->1792499238,ExpressionUUID->"926431f6-d38b-4c4d-b578-d75d8f19fe97"]
}, Open  ]],

Cell["\<\
If the dimensionless phase value is not one of the discrete values that can \
be represented by the finite set \[LineSeparator]of control register, the QFT \
results in a superposition. But the probability distribution has a sharp peak.\
\>", "ExampleText",
 CellID->1511280490,ExpressionUUID->"0001e554-d158-495e-b4cc-8210a4257698"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"trs", "=", 
   RowBox[{"Block", "[", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"\[Phi]", "=", 
       RowBox[{"2", "Pi", "*", 
        RowBox[{"2.125", "/", 
         RowBox[{"2", "^", "3"}]}]}]}], "}"}], ",", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{
       RowBox[{"Dagger", "[", 
        RowBox[{"QFT", "[", 
         RowBox[{"S", "@", 
          RowBox[{"{", 
           RowBox[{"1", ",", "2", ",", "3"}], "}"}]}], "]"}], "]"}], "**", 
       "out"}], "//", "Simplify"}]}], "\[IndentingNewLine]", "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{"LogicalForm", "[", 
  RowBox[{"trs", ",", 
   RowBox[{"S", "@", 
    RowBox[{"{", 
     RowBox[{"1", ",", "2", ",", "3"}], "}"}]}]}], "]"}]}], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[6]:=",
 CellID->881512640,ExpressionUUID->"c4c249c0-6eb1-48e7-aef9-6c374328891c"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"(", 
    RowBox[{"0.16507009142403095`", "\[VeryThinSpace]", "-", 
     RowBox[{"0.07807233879672618`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{
        SubscriptBox["0", 
         InterpretationBox[
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"1"}, "RowDefault"]], 
          $CellContext`S[1, Q3`$]]], 
        SubscriptBox["0", 
         InterpretationBox[
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"2"}, "RowDefault"]], 
          $CellContext`S[2, Q3`$]]], 
        SubscriptBox["0", 
         InterpretationBox[
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"3"}, "RowDefault"]], 
          $CellContext`S[3, Q3`$]]]}, "RowDefault"]},
     "Ket"],
    Ket[<|$CellContext`S[1, Q3`$] -> 0, $CellContext`S[2, Q3`$] -> 
      0, $CellContext`S[3, Q3`$] -> 0|>]]}], "+", 
  RowBox[{
   RowBox[{"(", 
    RowBox[{"0.3160669899902172`", "\[VeryThinSpace]", "-", 
     RowBox[{"0.015527375534336807`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{
        SubscriptBox["0", 
         InterpretationBox[
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"1"}, "RowDefault"]], 
          $CellContext`S[1, Q3`$]]], 
        SubscriptBox["0", 
         InterpretationBox[
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"2"}, "RowDefault"]], 
          $CellContext`S[2, Q3`$]]], 
        SubscriptBox["1", 
         InterpretationBox[
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"3"}, "RowDefault"]], 
          $CellContext`S[3, Q3`$]]]}, "RowDefault"]},
     "Ket"],
    Ket[<|$CellContext`S[1, Q3`$] -> 0, $CellContext`S[2, Q3`$] -> 
      0, $CellContext`S[3, Q3`$] -> 1|>]]}], "+", 
  RowBox[{
   RowBox[{"(", 
    RowBox[{"2.5962101484200346`", "\[VeryThinSpace]", "+", 
     RowBox[{"0.9289388448395193`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{
        SubscriptBox["0", 
         InterpretationBox[
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"1"}, "RowDefault"]], 
          $CellContext`S[1, Q3`$]]], 
        SubscriptBox["1", 
         InterpretationBox[
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"2"}, "RowDefault"]], 
          $CellContext`S[2, Q3`$]]], 
        SubscriptBox["0", 
         InterpretationBox[
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"3"}, "RowDefault"]], 
          $CellContext`S[3, Q3`$]]]}, "RowDefault"]},
     "Ket"],
    Ket[<|$CellContext`S[1, Q3`$] -> 0, $CellContext`S[2, Q3`$] -> 
      1, $CellContext`S[3, Q3`$] -> 0|>]]}], "-", 
  RowBox[{
   RowBox[{"(", 
    RowBox[{"0.2975749012646729`", "\[VeryThinSpace]", "+", 
     RowBox[{"0.2697061693323886`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{
        SubscriptBox["0", 
         InterpretationBox[
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"1"}, "RowDefault"]], 
          $CellContext`S[1, Q3`$]]], 
        SubscriptBox["1", 
         InterpretationBox[
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"2"}, "RowDefault"]], 
          $CellContext`S[2, Q3`$]]], 
        SubscriptBox["1", 
         InterpretationBox[
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"3"}, "RowDefault"]], 
          $CellContext`S[3, Q3`$]]]}, "RowDefault"]},
     "Ket"],
    Ket[<|$CellContext`S[1, Q3`$] -> 0, $CellContext`S[2, Q3`$] -> 
      1, $CellContext`S[3, Q3`$] -> 1|>]]}], "-", 
  RowBox[{
   RowBox[{"(", 
    RowBox[{"0.08613955167004794`", "\[VeryThinSpace]", "+", 
     RowBox[{"0.18212677996519847`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{
        SubscriptBox["1", 
         InterpretationBox[
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"1"}, "RowDefault"]], 
          $CellContext`S[1, Q3`$]]], 
        SubscriptBox["0", 
         InterpretationBox[
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"2"}, "RowDefault"]], 
          $CellContext`S[2, Q3`$]]], 
        SubscriptBox["0", 
         InterpretationBox[
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"3"}, "RowDefault"]], 
          $CellContext`S[3, Q3`$]]]}, "RowDefault"]},
     "Ket"],
    Ket[<|$CellContext`S[1, Q3`$] -> 1, $CellContext`S[2, Q3`$] -> 
      0, $CellContext`S[3, Q3`$] -> 0|>]]}], "-", 
  RowBox[{
   RowBox[{"(", 
    RowBox[{"0.00734390168977761`", "\[VeryThinSpace]", "+", 
     RowBox[{"0.14948855308736705`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{
        SubscriptBox["1", 
         InterpretationBox[
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"1"}, "RowDefault"]], 
          $CellContext`S[1, Q3`$]]], 
        SubscriptBox["0", 
         InterpretationBox[
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"2"}, "RowDefault"]], 
          $CellContext`S[2, Q3`$]]], 
        SubscriptBox["1", 
         InterpretationBox[
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"3"}, "RowDefault"]], 
          $CellContext`S[3, Q3`$]]]}, "RowDefault"]},
     "Ket"],
    Ket[<|$CellContext`S[1, Q3`$] -> 1, $CellContext`S[2, Q3`$] -> 
      0, $CellContext`S[3, Q3`$] -> 1|>]]}], "+", 
  RowBox[{
   RowBox[{"(", 
    RowBox[{"0.04563583907545338`", "\[VeryThinSpace]", "-", 
     RowBox[{"0.1275436259313973`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{
        SubscriptBox["1", 
         InterpretationBox[
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"1"}, "RowDefault"]], 
          $CellContext`S[1, Q3`$]]], 
        SubscriptBox["1", 
         InterpretationBox[
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"2"}, "RowDefault"]], 
          $CellContext`S[2, Q3`$]]], 
        SubscriptBox["0", 
         InterpretationBox[
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"3"}, "RowDefault"]], 
          $CellContext`S[3, Q3`$]]]}, "RowDefault"]},
     "Ket"],
    Ket[<|$CellContext`S[1, Q3`$] -> 1, $CellContext`S[2, Q3`$] -> 
      1, $CellContext`S[3, Q3`$] -> 0|>]]}], "+", 
  RowBox[{
   RowBox[{"(", 
    RowBox[{"0.09650241046095226`", "\[VeryThinSpace]", "-", 
     RowBox[{"0.10647400219210479`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{
        SubscriptBox["1", 
         InterpretationBox[
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"1"}, "RowDefault"]], 
          $CellContext`S[1, Q3`$]]], 
        SubscriptBox["1", 
         InterpretationBox[
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"2"}, "RowDefault"]], 
          $CellContext`S[2, Q3`$]]], 
        SubscriptBox["1", 
         InterpretationBox[
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"3"}, "RowDefault"]], 
          $CellContext`S[3, Q3`$]]]}, "RowDefault"]},
     "Ket"],
    Ket[<|$CellContext`S[1, Q3`$] -> 1, $CellContext`S[2, Q3`$] -> 
      1, $CellContext`S[3, Q3`$] -> 1|>]]}]}]], "Output",
 CellLabel->"Out[6]=",
 CellID->293202473,ExpressionUUID->"a961532f-ff69-43a7-a733-99a412be1e57"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"prb", "=", 
   RowBox[{
    RowBox[{"Abs", "[", 
     RowBox[{"Normalize", "@", 
      RowBox[{"Matrix", "@", 
       RowBox[{"KetDrop", "[", 
        RowBox[{"trs", ",", 
         RowBox[{"S", "[", "4", "]"}]}], "]"}]}]}], "]"}], "^", "2"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{"ListPlot", "[", 
  RowBox[{"prb", ",", "\[IndentingNewLine]", 
   RowBox[{"Joined", "->", "True"}], ",", "\[IndentingNewLine]", 
   RowBox[{"PlotMarkers", "->", 
    RowBox[{"{", "\"\<\[FilledCircle]\>\"", "}"}]}], ",", 
   "\[IndentingNewLine]", 
   RowBox[{"DataRange", "->", 
    RowBox[{"{", 
     RowBox[{"0", ",", "7"}], "}"}]}], ",", "\[IndentingNewLine]", 
   RowBox[{"PlotRange", "->", "All"}], ",", "\[IndentingNewLine]", 
   RowBox[{"FrameLabel", "->", 
    RowBox[{"{", 
     RowBox[{"\"\<8 \[Phi] / 2\[Pi]\>\"", ",", "\"\<probability\>\""}], 
     "}"}]}]}], "]"}]}], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[7]:=",
 CellID->2115899125,ExpressionUUID->"dde9b646-5e33-4742-963a-9e63a23dab53"],

Cell[BoxData[
 GraphicsBox[{{}, {{{}, {}, 
     {RGBColor[0.368417, 0.506779, 0.709798], PointSize[
      0.012833333333333334`], Thickness[Large], 
      LineBox[{{0., 0.004167928145991091}, {1., 0.01251743019405755}, {2., 
       0.9504043140263699}, {3., 0.020161529954828863`}, {4., 
       0.0050737732928010865`}, {4.999999999999999, 0.0028000950495229602`}, {
       6., 0.00229375079048111}, {7., 0.002581178545947306}}]}}, 
    {RGBColor[0.368417, 0.506779, 0.709798], PointSize[0.012833333333333334`],
      Thickness[Large], GeometricTransformationBox[
      TagBox[InsetBox["\[FilledCircle]", {0., 0.}],
       "InsetString"], {{{0., 0.004167928145991091}}, {{1., 
      0.01251743019405755}}, {{2., 0.9504043140263699}}, {{3., 
      0.020161529954828863`}}, {{4., 0.0050737732928010865`}}, {{
      4.999999999999999, 0.0028000950495229602`}}, {{6., 
      0.00229375079048111}}, {{7., 0.002581178545947306}}}]}}, {{}, {}}},
  AspectRatio->NCache[GoldenRatio^(-1), 0.6180339887498948],
  Axes->{False, False},
  AxesLabel->{None, None},
  AxesOrigin->{0, 0},
  AxesStyle->Large,
  DisplayFunction->Identity,
  Frame->{{True, True}, {True, True}},
  FrameLabel->{{
     FormBox[
      TagBox["\"probability\"", HoldForm], TraditionalForm], None}, {
     FormBox[
      TagBox["\"8 \[Phi] / 2\[Pi]\"", HoldForm], TraditionalForm], None}},
  FrameStyle->Large,
  FrameTicks->{{Automatic, Automatic}, {Automatic, Automatic}},
  GridLines->{Automatic, Automatic},
  GridLinesStyle->Directive[
    GrayLevel[0.5, 0.4]],
  ImageSize->Large,
  Method->{
   "AxisPadding" -> Scaled[0.02], "DefaultBoundaryStyle" -> Automatic, 
    "DefaultGraphicsInteraction" -> {
     "Version" -> 1.2, "TrackMousePosition" -> {True, False}, 
      "Effects" -> {
       "Highlight" -> {"ratio" -> 2}, "HighlightPoint" -> {"ratio" -> 2}, 
        "Droplines" -> {
         "freeformCursorMode" -> True, 
          "placement" -> {"x" -> "All", "y" -> "None"}}}}, "DefaultMeshStyle" -> 
    AbsolutePointSize[6], "DefaultPlotStyle" -> {
      Directive[
       RGBColor[0.368417, 0.506779, 0.709798], 
       AbsoluteThickness[1.6]], 
      Directive[
       RGBColor[0.880722, 0.611041, 0.142051], 
       AbsoluteThickness[1.6]], 
      Directive[
       RGBColor[0.560181, 0.691569, 0.194885], 
       AbsoluteThickness[1.6]], 
      Directive[
       RGBColor[0.922526, 0.385626, 0.209179], 
       AbsoluteThickness[1.6]], 
      Directive[
       RGBColor[0.528488, 0.470624, 0.701351], 
       AbsoluteThickness[1.6]], 
      Directive[
       RGBColor[0.772079, 0.431554, 0.102387], 
       AbsoluteThickness[1.6]], 
      Directive[
       RGBColor[0.363898, 0.618501, 0.782349], 
       AbsoluteThickness[1.6]], 
      Directive[
       RGBColor[1, 0.75, 0], 
       AbsoluteThickness[1.6]], 
      Directive[
       RGBColor[0.647624, 0.37816, 0.614037], 
       AbsoluteThickness[1.6]], 
      Directive[
       RGBColor[0.571589, 0.586483, 0.], 
       AbsoluteThickness[1.6]], 
      Directive[
       RGBColor[0.915, 0.3325, 0.2125], 
       AbsoluteThickness[1.6]], 
      Directive[
       RGBColor[0.40082222609352647`, 0.5220066643438841, 0.85], 
       AbsoluteThickness[1.6]], 
      Directive[
       RGBColor[0.9728288904374106, 0.621644452187053, 0.07336199581899142], 
       AbsoluteThickness[1.6]], 
      Directive[
       RGBColor[0.736782672705901, 0.358, 0.5030266573755369], 
       AbsoluteThickness[1.6]], 
      Directive[
       RGBColor[0.28026441037696703`, 0.715, 0.4292089322474965], 
       AbsoluteThickness[1.6]]}, "DomainPadding" -> Scaled[0.02], 
    "PointSizeFunction" -> "SmallPointSize", "RangePadding" -> Scaled[0.05], 
    "OptimizePlotMarkers" -> True, "OptimizePlotMarkers" -> True, 
    "CoordinatesToolOptions" -> {"DisplayFunction" -> ({
        Identity[
         Part[#, 1]], 
        Identity[
         Part[#, 2]]}& ), "CopiedValueFunction" -> ({
        Identity[
         Part[#, 1]], 
        Identity[
         Part[#, 2]]}& )}},
  PlotRange->{{0, 7.}, {0, 0.9504043140263699}},
  PlotRangeClipping->True,
  PlotRangePadding->{{
     Scaled[0.025], 
     Scaled[0.025]}, {
     Scaled[0.025], 
     Scaled[0.025]}},
  Ticks->{Automatic, Automatic}]], "Output",
 CellLabel->"Out[7]=",
 CellID->196078837,ExpressionUUID->"2f72aa0e-3f32-4f65-960e-0f1307cead8f"]
}, Open  ]]
}, Open  ]]
}, Dynamic[CurrentValue[
 EvaluationNotebook[], {TaggingRules, "Openers", "ExampleSection", "0"}, 
  Closed]]]],

Cell[CellGroupData[{

Cell[TextData[{
 Cell[BoxData[
  DynamicBox[ToBoxes[
    If[
     MatchQ[
      CurrentValue[
       EvaluationNotebook[], {TaggingRules, "Openers", "ExampleSection", "1"},
        Closed], 
      Alternatives[Open, True]], 
     Style[
      Graphics[{
        Thickness[0.18], 
        RGBColor[0.8509803921568627, 0.396078431372549, 0], 
        Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
       PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
      0.68 Inherited], 
     Rotate[
      Style[
       Graphics[{
         Thickness[0.18], 
         RGBColor[0.8509803921568627, 0.396078431372549, 0], 
         Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
        PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
       0.68 Inherited], Rational[1, 2] Pi, {-1.65, -1}]]],
   ImageSizeCache->{14., {0.45000000000000107`, 13.549999999999999`}}]],
  ExpressionUUID->"cdb062ce-5fd5-4c1d-b65a-700d1d9ac34f"],
 Cell[BoxData[
  TemplateBox[{1},
   "Spacer1"]],ExpressionUUID->"7331da3a-0afa-4815-80da-88c6c87b8b9d"],
 "Scope",
 "\[NonBreakingSpace]\[NonBreakingSpace]",
 Cell["(1)", "ExampleCount",ExpressionUUID->
  "bcf6f57e-690e-4eae-acd1-34f0aee61908"]
}], "ExampleSection", "ExampleSection",
 WholeCellGroupOpener->True,
 CacheGraphics->False,
 CellID->1911880702,ExpressionUUID->"f8debabd-17af-4e89-88e4-9f3a7b96a816"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"$m", "=", "3"}], ";"}], " ", 
  RowBox[{"(*", " ", 
   RowBox[{
   "the", " ", "number", " ", "of", " ", "qubits", " ", "in", " ", "the", 
    " ", "\"\<probe\>\"", " ", "register"}], " ", 
   "*)"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"prb", "=", 
    RowBox[{"Range", "[", "$m", "]"}]}], ";"}], " ", 
  RowBox[{"(*", " ", 
   RowBox[{"the", " ", "\"\<probe\>\"", " ", "register"}], " ", 
   "*)"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"sys", "=", 
    RowBox[{"$m", "+", "1"}]}], ";"}], " ", 
  RowBox[{"(*", " ", 
   RowBox[{"the", " ", "\"\<system\>\"", " ", "register"}], " ", 
   "*)"}]}]}], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[1]:=",
 CellID->61660548,ExpressionUUID->"38768c1f-761d-42e3-b98c-d5dce2749076"],

Cell["\<\
Consider the phase gate in the eigen-basis of the Pauli X operator.\
\>", "ExampleText",
 CellID->834601618,ExpressionUUID->"80322106-2c62-4e43-a291-361e505bd093"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"op", "=", 
  RowBox[{
   RowBox[{
    RowBox[{"S", "[", 
     RowBox[{"sys", ",", "6"}], "]"}], "**", 
    RowBox[{"Phase", "[", 
     RowBox[{"\[Phi]", ",", 
      RowBox[{"S", "[", 
       RowBox[{"sys", ",", "3"}], "]"}]}], "]"}], "**", 
    RowBox[{"S", "[", 
     RowBox[{"sys", ",", "6"}], "]"}]}], "//", "Elaborate"}]}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[2]:=",
 CellID->630087907,ExpressionUUID->"ce14cacb-50ab-41a8-b266-97a0126d68f6"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   FractionBox["1", "2"], " ", 
   RowBox[{"(", 
    RowBox[{"1", "+", 
     SuperscriptBox["\[ExponentialE]", 
      RowBox[{"\[ImaginaryI]", " ", "\[Phi]"}]]}], ")"}]}], "+", 
  RowBox[{
   FractionBox["1", "2"], " ", 
   RowBox[{"(", 
    RowBox[{"1", "-", 
     SuperscriptBox["\[ExponentialE]", 
      RowBox[{"\[ImaginaryI]", " ", "\[Phi]"}]]}], ")"}], " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"S"}, "RowDefault"], 
      TemplateBox[{"4"}, "RowDefault"], 
      TemplateBox[{"\"x\""}, "RowDefault"]},
     "Subsuperscript"],
    $CellContext`S[4, 1]]}]}]], "Output",
 CellLabel->"Out[2]=",
 CellID->694016926,ExpressionUUID->"7c97f2b7-47c6-4b6d-a7d9-28203b711d6c"]
}, Open  ]],

Cell["\<\
This is the quantum circuit for the controlled exponentiation.\
\>", "ExampleText",
 CellID->898727511,ExpressionUUID->"a3187f89-ff16-4b1a-b101-5f8d142531fd"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"qc", "=", 
  RowBox[{"QuantumCircuit", "[", 
   RowBox[{"ControlledExp", "[", 
    RowBox[{
     RowBox[{"S", "@", "prb"}], ",", "op"}], "]"}], "]"}]}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[3]:=",
 CellID->1336888100,ExpressionUUID->"e7f117f7-0510-4572-9783-557308353a42"],

Cell[BoxData[
 InterpretationBox[
  GraphicsBox[{
    {Dashing[{Small, Small}], LineBox[{}]}, 
    LineBox[{{{0, -1}, {2, -1}}, {{0, -2}, {2, -2}}, {{0, -3}, {2, -3}}, {{
     0, -4}, {2, -4}}}], {LineBox[{{1, -1}, {1, -2}, {1, -3}, {1, -4}}], 
     {GrayLevel[1], EdgeForm[GrayLevel[0]], 
      FilledCurveBox[{
       BezierCurve[{{1.4, -1}, {1.4, -0.47439999999999993`}, {
          0.6, -0.47439999999999993`}, {0.6, -1}}], 
        Line[{{0.6, -1}, {0.6, -3}}], 
        BezierCurve[{{0.6, -3.5256}, {1.4, -3.5256}, {1.4, -3}}]}]}, 
     InsetBox[
      StyleBox["\<\"x\"\>",
       StripOnInput->False,
       FontSize->Scaled[0.2],
       FontWeight->"Light",
       FontSlant->Italic], {1, -2}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
       ImageScaled[{0.5, 0.5}]]], 
     {GrayLevel[1], EdgeForm[None], RectangleBox[{0.6, -4.4}, {1.4, -3.6}]}, 
     LineBox[{{0.6, -4.4}, {1.4, -4.4}, {1.4, -3.6}, {0.6, -3.6}, {
      0.6, -4.4}}], InsetBox[
      StyleBox[
       TemplateBox[{"\"U\"", "\"x\""},
        "Superscript"],
       StripOnInput->False,
       FontSize->Scaled[0.2],
       FontWeight->"Light",
       FontSlant->Italic], {1, -4}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
       ImageScaled[{0.5, 0.5}]]]}},
   AxesStyle->Large,
   FrameStyle->Large,
   ImagePadding->{{23.400000000000002`, 23.400000000000002`}, {1, 1}},
   ImageSize->118.8,
   PlotRange->NCache[{Full, {
       Rational[-9, 2], 
       Rational[-1, 2]}}, {Full, {-4.5, -0.5}}],
   PlotRangePadding->Scaled[0.025]],
  Q3`QuantumCircuit[
   Q3`ControlledExp[{
     $CellContext`S[1, Q3`$], 
     $CellContext`S[2, Q3`$], 
     $CellContext`S[3, Q3`$]}, 
    Rational[1, 2] (1 + E^(Complex[0, 1] $CellContext`\[Phi])) + 
    Rational[1, 2] (1 - E^(Complex[0, 1] $CellContext`\[Phi])) $CellContext`S[
      4, 1]]]]], "Output",
 CellLabel->"Out[3]=",
 CellID->1138243917,ExpressionUUID->"442ed2c6-b513-46cb-bf20-5497ea0c215e"]
}, Open  ]],

Cell["\<\
The controlled exponentiation can be implemented by using controlled-unitary \
gates.\
\>", "ExampleText",
 CellID->1066700697,ExpressionUUID->"4fbe218c-25ee-49f0-9197-dd6aaf8c976a"],

Cell[BoxData[
 RowBox[{
  RowBox[{"ctrlU", "[", "j_", "]"}], ":=", 
  RowBox[{"ControlledU", "[", 
   RowBox[{
    RowBox[{"S", "[", "j", "]"}], ",", 
    RowBox[{"MultiplyPower", "[", 
     RowBox[{"op", ",", 
      RowBox[{"Power", "[", 
       RowBox[{"2", ",", 
        RowBox[{"$m", "-", "j"}]}], "]"}]}], "]"}], ",", 
    RowBox[{"\"\<Label\>\"", "\[Rule]", 
     RowBox[{"Superscript", "[", 
      RowBox[{"\"\<U\>\"", ",", 
       RowBox[{"Superscript", "[", 
        RowBox[{"\"\<2\>\"", ",", 
         RowBox[{"ToString", "[", 
          RowBox[{"$m", "-", "j"}], "]"}]}], "]"}]}], "]"}]}], ",", 
    "\[IndentingNewLine]", 
    RowBox[{"\"\<LabelSize\>\"", "\[Rule]", "0.65"}]}], "]"}]}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[4]:=",
 CellID->511664418,ExpressionUUID->"631b3042-275b-437a-9dea-17c411368910"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"new", "=", 
  RowBox[{"QuantumCircuit", "[", 
   RowBox[{
    RowBox[{"ctrlU", "[", "1", "]"}], ",", 
    RowBox[{"ctrlU", "[", "2", "]"}], ",", 
    RowBox[{"ctrlU", "[", "3", "]"}]}], "]"}]}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[5]:=",
 CellID->1019350738,ExpressionUUID->"ab6bd862-3713-4ba6-88f2-ff0d07de9504"],

Cell[BoxData[
 InterpretationBox[
  GraphicsBox[{
    {Dashing[{Small, Small}], LineBox[{}]}, 
    LineBox[{{{0, -1}, {4, -1}}, {{0, -2}, {4, -2}}, {{0, -3}, {4, -3}}, {{
     0, -4}, {4, -4}}}], {LineBox[{{1, -1}, {1, -4}}], DiskBox[{1, -1}, 0.09], 
     {GrayLevel[1], EdgeForm[None], RectangleBox[{0.6, -4.4}, {1.4, -3.6}]}, 
     LineBox[{{0.6, -4.4}, {1.4, -4.4}, {1.4, -3.6}, {0.6, -3.6}, {
      0.6, -4.4}}], InsetBox[
      StyleBox[
       TemplateBox[{"\"U\"", 
         TemplateBox[{"\"2\"", "\"2\""}, "Superscript", SyntaxForm -> 
          SuperscriptBox]},
        "Superscript"],
       StripOnInput->False,
       FontSize->Scaled[0.065],
       FontWeight->"Light",
       FontSlant->Italic], {1, -4}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
       ImageScaled[{0.5, 0.5}]]]}, {LineBox[{{2, -2}, {2, -4}}], 
     DiskBox[{2, -2}, 0.09], 
     {GrayLevel[1], EdgeForm[None], RectangleBox[{1.6, -4.4}, {2.4, -3.6}]}, 
     LineBox[{{1.6, -4.4}, {2.4, -4.4}, {2.4, -3.6}, {1.6, -3.6}, {
      1.6, -4.4}}], InsetBox[
      StyleBox[
       TemplateBox[{"\"U\"", 
         TemplateBox[{"\"2\"", "\"1\""}, "Superscript", SyntaxForm -> 
          SuperscriptBox]},
        "Superscript"],
       StripOnInput->False,
       FontSize->Scaled[0.065],
       FontWeight->"Light",
       FontSlant->Italic], {2, -4}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
       ImageScaled[{0.5, 0.5}]]]}, {LineBox[{{3, -3}, {3, -4}}], 
     DiskBox[{3, -3}, 0.09], 
     {GrayLevel[1], EdgeForm[None], RectangleBox[{2.6, -4.4}, {3.4, -3.6}]}, 
     LineBox[{{2.6, -4.4}, {3.4, -4.4}, {3.4, -3.6}, {2.6, -3.6}, {
      2.6, -4.4}}], InsetBox[
      StyleBox[
       TemplateBox[{"\"U\"", 
         TemplateBox[{"\"2\"", "\"0\""}, "Superscript", SyntaxForm -> 
          SuperscriptBox]},
        "Superscript"],
       StripOnInput->False,
       FontSize->Scaled[0.065],
       FontWeight->"Light",
       FontSlant->Italic], {3, -4}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
       ImageScaled[{0.5, 0.5}]]]}},
   AxesStyle->Large,
   FrameStyle->Large,
   ImagePadding->{{23.400000000000002`, 23.400000000000002`}, {1, 1}},
   ImageSize->190.79999999999998`,
   PlotRange->NCache[{Full, {
       Rational[-9, 2], 
       Rational[-1, 2]}}, {Full, {-4.5, -0.5}}],
   PlotRangePadding->Scaled[0.025]],
  Q3`QuantumCircuit[
   Q3`ControlledU[{
      $CellContext`S[1, Q3`$]} -> {1}, 
    Rational[1, 2] (1 + E^(Complex[0, 4] $CellContext`\[Phi])) + 
    Rational[1, 2] (1 - E^(Complex[0, 4] $CellContext`\[Phi])) $CellContext`S[
      4, 1], "Label" -> Superscript["U", 
      Superscript["2", "2"]], "LabelSize" -> 0.65], 
   Q3`ControlledU[{
      $CellContext`S[2, Q3`$]} -> {1}, 
    Rational[1, 2] (1 + E^(Complex[0, 2] $CellContext`\[Phi])) + 
    Rational[1, 2] (1 - E^(Complex[0, 2] $CellContext`\[Phi])) $CellContext`S[
      4, 1], "Label" -> Superscript["U", 
      Superscript["2", "1"]], "LabelSize" -> 0.65], 
   Q3`ControlledU[{
      $CellContext`S[3, Q3`$]} -> {1}, 
    Rational[1, 2] (1 + E^(Complex[0, 1] $CellContext`\[Phi])) + 
    Rational[1, 2] (1 - E^(Complex[0, 1] $CellContext`\[Phi])) $CellContext`S[
      4, 1], "Label" -> Superscript["U", 
      Superscript["2", "0"]], "LabelSize" -> 0.65]]]], "Output",
 CellLabel->"Out[5]=",
 CellID->2119281393,ExpressionUUID->"d6e4bfff-c9b0-4c68-b72b-ee8461143275"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"Elaborate", "[", "qc", "]"}], "-", 
   RowBox[{"Elaborate", "[", "new", "]"}]}], "//", "Simplify"}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[6]:=",
 CellID->793501579,ExpressionUUID->"3d947bbc-b757-4143-a8c4-884bf9291eb9"],

Cell[BoxData["0"], "Output",
 CellLabel->"Out[6]=",
 CellID->2369321,ExpressionUUID->"3a90f3d9-c056-47b3-8218-c27fa3eb1d0d"]
}, Open  ]]
}, Dynamic[CurrentValue[
 EvaluationNotebook[], {TaggingRules, "Openers", "ExampleSection", "1"}, 
  Closed]]]]
}, Dynamic[CurrentValue[
 EvaluationNotebook[], {TaggingRules, "Openers", "PrimaryExamplesSection"}, 
  Closed]]]],

Cell[BoxData[GridBox[{
   {
    DynamicBox[FEPrivate`ImportImage[
      FrontEnd`FileName[{"Documentation", "FooterIcons"}, 
       "RelatedFunction.png"]],
     ImageSizeCache->{50., {27., 33.}}], GridBox[{
      {
       StyleBox[
        RowBox[{"See", " ", "Also"}], "SeeAlsoSection"]},
      {Cell[TextData[{
        Cell[BoxData[
         TemplateBox[{
           Cell[
            TextData["ControlledU"]], "paclet:Q3/ref/ControlledU", 
           "Q3 Package Symbol"},
          "PackageLink",
          BaseStyle->"InlineFormula"]], "InlineFormula",
         FontFamily->"Source Sans Pro",ExpressionUUID->
         "6d59e184-6ac0-4135-8917-8f79bf72ee15"],
        "\[NonBreakingSpace]",
        StyleBox[
        "\[MediumSpace]\[FilledVerySmallSquare]\[MediumSpace]", 
         "InlineSeparator"],
        " ",
        Cell[BoxData[
         TemplateBox[{
           Cell[
            TextData["CNOT"]], "paclet:Q3/ref/CNOT", "Q3 Package Symbol"},
          "PackageLink",
          BaseStyle->"InlineFormula"]], "InlineFormula",
         FontFamily->"Source Sans Pro",ExpressionUUID->
         "072c5c6a-5efd-45d1-bb6c-af168848d937"],
        "\[NonBreakingSpace]",
        StyleBox[
        "\[MediumSpace]\[FilledVerySmallSquare]\[MediumSpace]", 
         "InlineSeparator"],
        " ",
        Cell[BoxData[
         TemplateBox[{
           Cell[
            TextData["CX"]], "paclet:Q3/ref/CX", "Q3 Package Symbol"},
          "PackageLink",
          BaseStyle->"InlineFormula"]], "InlineFormula",
         FontFamily->"Source Sans Pro",ExpressionUUID->
         "516fa686-303c-4f52-b3c7-fecc9e86d163"],
        "\[NonBreakingSpace]",
        StyleBox[
        "\[MediumSpace]\[FilledVerySmallSquare]\[MediumSpace]", 
         "InlineSeparator"],
        " ",
        Cell[BoxData[
         TemplateBox[{
           Cell[
            TextData["CZ"]], "paclet:Q3/ref/CZ", "Q3 Package Symbol"},
          "PackageLink",
          BaseStyle->"InlineFormula"]], "InlineFormula",
         FontFamily->"Source Sans Pro",ExpressionUUID->
         "b31f361b-2333-43b1-a255-01e30022d732"],
        "\[NonBreakingSpace]",
        StyleBox[
        "\[MediumSpace]\[FilledVerySmallSquare]\[MediumSpace]", 
         "InlineSeparator"],
        " ",
        Cell[BoxData[
         TemplateBox[{
           Cell[
            TextData["QuantumCircuit"]], "paclet:Q3/ref/QuantumCircuit", 
           "Q3 Package Symbol"},
          "PackageLink",
          BaseStyle->"InlineFormula"]], "InlineFormula",
         FontFamily->"Source Sans Pro",ExpressionUUID->
         "8d79f64d-2a32-4c88-b42b-f39f6a3cd622"]
       }], "SeeAlso",ExpressionUUID->"e414ae21-d324-48b5-84ab-c7d030af5047"]}
     }]}
  }]], "SeeAlsoSection",ExpressionUUID->"5278d88d-28ac-4e8b-aea1-\
586749f30d2f"],

Cell[BoxData[GridBox[{
   {
    DynamicBox[FEPrivate`ImportImage[
      FrontEnd`FileName[{"Documentation", "FooterIcons"}, 
       "RelatedTechNote.png"]],
     ImageSizeCache->{50., {27., 33.}}], GridBox[{
      {
       StyleBox[
        RowBox[{"Tech", " ", "Notes"}], "TechNotesSection"]},
      {
       RowBox[{
       "\[FilledVerySmallSquare]", Cell[TextData[ButtonBox[
        "Quantum Phase Estimation",
         BaseStyle->"Link",
         ButtonData->"paclet:Q3/tutorial/QuantumPhaseEstimation"]], 
         "TechNotes",ExpressionUUID->
         "800aa863-d975-4c82-afee-87d8eb6adf66"]}]},
      {
       RowBox[{"\[FilledVerySmallSquare]", Cell[BoxData[
         TemplateBox[{
           Cell[
            TextData["Multi-Control Unitary Gates"]], 
           "paclet:Q3/tutorial/MultiControlUnitaryGates"},
          "RefLinkPlain",
          BaseStyle->{"Tutorials"}]], "Tutorials",ExpressionUUID->
         "ee1a73a3-3663-4ef5-bbab-689e95a5cc5f"]}]},
      {
       RowBox[{"\[FilledVerySmallSquare]", Cell[BoxData[
         TemplateBox[{
           Cell[
            TextData["Quantum Computation: Overview"]], 
           "paclet:Q3/tutorial/QuantumComputationOverview"},
          "RefLinkPlain",
          BaseStyle->{"Tutorials"}]], "Tutorials",ExpressionUUID->
         "8da0df4b-8a41-4b3f-ac84-959133ddf84b"]}]},
      {
       RowBox[{"\[FilledVerySmallSquare]", Cell[BoxData[
         TemplateBox[{
           Cell[
            TextData["Quantum Information Systems with Q3"]], 
           "paclet:Q3/tutorial/QuantumInformationSystems"},
          "RefLinkPlain",
          BaseStyle->{"Tutorials"}]], "Tutorials",ExpressionUUID->
         "af705e42-2d26-4652-b9c5-b43e02574a51"]}]},
      {
       RowBox[{"\[FilledVerySmallSquare]", Cell[BoxData[
         TemplateBox[{
           Cell[
            TextData["Quick Quantum Computing with Q3"]], 
           "paclet:Q3/tutorial/QuickQuantumComputingWithQ3"},
          "RefLinkPlain",
          BaseStyle->{"Tutorials"}]], "Tutorials",ExpressionUUID->
         "3f140254-b5a9-4c32-aa84-f2bb434b9028"]}]},
      {
       RowBox[{"\[FilledVerySmallSquare]", Cell[BoxData[
         TemplateBox[{
           Cell[
            TextData["Q3: Quick Start"]], "paclet:Q3/tutorial/Q3QuickStart"},
          "RefLinkPlain",
          BaseStyle->{"Tutorials"}]], "Tutorials",ExpressionUUID->
         "aa643f60-be22-49c8-9521-de6d9d4b395d"]}]}
     }]}
  }]], "TechNotesSection",ExpressionUUID->"7c07c111-3be8-4dd6-baf4-\
4aaf11997c54"],

Cell[BoxData[GridBox[{
   {
    DynamicBox[FEPrivate`ImportImage[
      FrontEnd`FileName[{"Documentation", "FooterIcons"}, "RelatedGuide.png"]],
     ImageSizeCache->{50., {27., 33.}}], GridBox[{
      {
       StyleBox[
        RowBox[{"Related", " ", "Guides"}], "MoreAboutSection"]},
      {
       RowBox[{"\[FilledVerySmallSquare]", Cell[BoxData[
         TemplateBox[{
           Cell[
            TextData["Quantum Information Systems"]], 
           "paclet:Q3/guide/QuantumInformationSystems"},
          "RefLinkPlain",
          BaseStyle->{"MoreAbout"}]], "MoreAbout",ExpressionUUID->
         "123970a6-066d-4e8d-a30e-e65c6483e613"]}]},
      {
       RowBox[{"\[FilledVerySmallSquare]", Cell[BoxData[
         TemplateBox[{
           Cell[
            TextData["Q3"]], "paclet:Q3/guide/Q3"},
          "RefLinkPlain",
          BaseStyle->{"MoreAbout"}]], "MoreAbout",ExpressionUUID->
         "5030a891-2a9c-4c50-9a1d-b6973bb8e99d"]}]}
     }]}
  }]], "MoreAboutSection",ExpressionUUID->"ecd2ac27-af9b-4a80-bea5-\
807d71924237"],

Cell[BoxData[GridBox[{
   {
    TemplateBox[{29},
     "Spacer1"], GridBox[{
      {
       RowBox[{
        TemplateBox[{17},
         "Spacer1"], 
        StyleBox[
         RowBox[{"Related", " ", "Links"}], "RelatedLinksSection"]}]},
      {Cell[TextData[Cell[BoxData[
        TemplateBox[{
          Cell[
           TextData[
            Cell[
             TextData[{
               Cell[
                BoxData[
                 DynamicBox[
                  FEPrivate`ImportImage[
                   
                   FrontEnd`FileName[{"Documentation", "FooterIcons"}, 
                    "RelatedLinks-EIWL.png"]]]]], 
               Cell[
                BoxData[
                 TemplateBox[{4}, "Spacer1"]]], 
               "An Elementary Introduction to the Wolfram Language"}]]]], 
          "https://www.wolfram.com/language/elementary-introduction/"},
         "WebLink",
         BaseStyle->{"RelatedLinks"}]],ExpressionUUID->
        "821f3d4a-ee41-4b89-9071-1215e3141bb2"]], "RelatedLinks",
        ExpressionUUID->"11a31bfa-20d3-4b8a-8ceb-8db928cddbf3"]},
      {Cell[TextData[Cell[BoxData[
        TemplateBox[{
          Cell[
           TextData[
            Cell[
             TextData[{
               Cell[
                BoxData[
                 DynamicBox[
                  FEPrivate`ImportImage[
                   
                   FrontEnd`FileName[{"Documentation", "FooterIcons"}, 
                    "RelatedLinks-FastIntro.png"]]]]], 
               Cell[
                BoxData[
                 TemplateBox[{4}, "Spacer1"]]], 
               "The Wolfram Language: Fast Introduction for Programmers"}]]]],
           "https://www.wolfram.com/language/fast-introduction-for-\
programmers/"},
         "WebLink",
         BaseStyle->{"RelatedLinks"}]],ExpressionUUID->
        "8fc8417a-ea93-4cdf-b1bb-cc04994797be"]], "RelatedLinks",
        ExpressionUUID->"32d34d41-a522-49b2-8666-8fcdc4e84f68"]},
      {Cell[TextData[{
        Cell[BoxData[
         RowBox[{
          TemplateBox[{16},
           "Spacer1"], "\[FilledVerySmallSquare]", Cell[BoxData[
           TemplateBox[{
             Cell[
              TextData[
               Cell[
                TextData[{
                  Cell[
                   BoxData[
                    TemplateBox[{2}, "Spacer1"]]], 
                  "M. Nielsen and I. L. Chuang (2022)"}]]]], 
             "https://doi.org/10.1017/CBO9780511976667"},
            "WebLink",
            BaseStyle->{"RelatedLinks"}]],ExpressionUUID->
           "e65fc5a4-cc4c-4669-aa9b-bfa5b4239a3d"]}]],ExpressionUUID->
         "b8e21080-024b-443a-82e9-03731132bad8"],
        StyleBox[
        ", Quantum Computation and Quantum Information (Cambridge University \
Press, 2011).",
         FontSlant->"Plain"]
       }], "RelatedLinks",ExpressionUUID->
        "3d4bf305-7529-477d-a84c-8be347c7b530"]},
      {Cell[TextData[{
        Cell[BoxData[
         RowBox[{
          TemplateBox[{16},
           "Spacer1"], "\[FilledVerySmallSquare]", Cell[BoxData[
           TemplateBox[{
             Cell[
              TextData[
               Cell[
                TextData[{
                  Cell[
                   BoxData[
                    TemplateBox[{2}, "Spacer1"]]], 
                  "Mahn-Soo Choi (2022)"}]]]], 
             "https://doi.org/10.1007/978-3-030-91214-7"},
            "WebLink",
            BaseStyle->{"RelatedLinks"}]],ExpressionUUID->
           "a97ff2e3-65da-443b-b242-eed39dee4854"]}]],ExpressionUUID->
         "5ebb0dfe-e9de-462a-a82d-2ad9a1876269"],
        ", A Quantum Computation Workbook (Springer, 2022)."
       }], "RelatedLinks",ExpressionUUID->
        "40d7976d-0ce8-4797-86cc-8e347640e75f"]}
     }]}
  }]], "RelatedLinksSection",ExpressionUUID->"90e4f67e-1559-4925-a048-\
5ef882559692"],

Cell[" ", "FooterCell",ExpressionUUID->"e2963d85-0266-4619-ac07-1614c6fee74e"]
},
Saveable->False,
ScreenStyleEnvironment->"Working",
WindowSize->{900, 830},
WindowMargins->{{0, Automatic}, {Automatic, 0}},
WindowTitle->"ControlledExp",
TaggingRules->{
 "ModificationHighlight" -> False, "ColorType" -> "", "LinkTrails" -> "", 
  "HasOptions" -> True, "ExampleCounter" -> 1, 
  "Openers" -> {
   "PrimaryExamplesSection" -> Open, 
    "ExampleSection" -> {"0" -> Open, "1" -> Closed}, "NotesSection" -> 
    Closed}, "NewStyles" -> True, "CitationPopupData" -> $Failed, 
  "ShowCitation" -> False, "RootCaptions" -> "", 
  "Metadata" -> {
   "built" -> "{2023, 2, 10, 23, 8, 59.850848}", 
    "history" -> {"13.1", "", "", ""}, "context" -> "Q3`", "keywords" -> {}, 
    "specialkeywords" -> {}, "tutorialcollectionlinks" -> {}, "index" -> True,
     "label" -> "Q3 Symbol", "language" -> "en", "paclet" -> "Q3", "status" -> 
    "None", "summary" -> 
    "ControlledExp[{c1, c2, ...}, op] represents a controlled exponentiation \
gate.", "synonyms" -> {}, "tabletags" -> {}, "title" -> "ControlledExp", 
    "titlemodifier" -> "", "windowtitle" -> "ControlledExp", "type" -> 
    "Symbol", "uri" -> "Q3/ref/ControlledExp"}},
CellContext->"Global`",
FrontEndVersion->"13.2 for Mac OS X ARM (64-bit) (November 18, 2022)",
StyleDefinitions->Notebook[{
   Cell[
    StyleData[
    StyleDefinitions -> FrontEnd`FileName[{"Wolfram"}, "Reference.nb"]]], 
   Cell[
    StyleData["Input"], CellContext -> "Global`"], 
   Cell[
    StyleData["Output"], CellContext -> "Global`"]}, Visible -> False, 
  FrontEndVersion -> "13.2 for Mac OS X ARM (64-bit) (November 18, 2022)", 
  StyleDefinitions -> "Default.nb"],
ExpressionUUID->"7bab6927-30db-4011-a2a0-1a2946db726d"
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{
 "PrimaryExamplesSection"->{
  Cell[17112, 467, 1389, 37, 36, "PrimaryExamplesSection",ExpressionUUID->"9c3ef067-3f03-4f3d-b198-1d1cfdf5756c",
   CellTags->"PrimaryExamplesSection",
   CellID->974581534]},
 "RasterizedOutput"->{
  Cell[63559, 1802, 5053, 89, 41, "Output",ExpressionUUID->"ff10d96c-4801-44ea-95e4-eefac7e93380",
   CellTags->"RasterizedOutput",
   CellID->746323513]}
 }
*)
(*CellTagsIndex
CellTagsIndex->{
 {"PrimaryExamplesSection", 119689, 3324},
 {"RasterizedOutput", 119889, 3328}
 }
*)
(*NotebookFileOutline
Notebook[{
Cell[585, 21, 7535, 178, 57, "AnchorBarGrid",ExpressionUUID->"5469bb87-7f4b-45e9-81df-33d4810a5e22",
 CellID->1],
Cell[8123, 201, 85, 0, 23, "ContextNameCell",ExpressionUUID->"052cf2fc-b49e-4db0-8dad-3da57d33f82f"],
Cell[CellGroupData[{
Cell[8233, 205, 1389, 38, 60, "ObjectNameGrid",ExpressionUUID->"de9b0a4e-9d03-44e4-864e-2664bc33986f"],
Cell[9625, 245, 971, 26, 114, "Usage",ExpressionUUID->"df1e2fa1-fba5-4572-a409-864423852d21",
 CellID->64829665]
}, Open  ]],
Cell[CellGroupData[{
Cell[10633, 276, 1898, 47, 37, "NotesSection",ExpressionUUID->"925378ae-d593-4d9b-aec0-c7b28eabd64a",
 CellGroupingRules->{"SectionGrouping", 50},
 CellID->823428286],
Cell[12534, 325, 2379, 78, 70, "Notes",ExpressionUUID->"c2f41ce3-45e4-4d5b-bd69-e73c069eb2d7",
 CellID->100026970],
Cell[14916, 405, 565, 15, 70, "Notes",ExpressionUUID->"e8ecf42d-30e4-4ea1-837c-866382304e2f",
 CellID->2112528434],
Cell[15484, 422, 530, 14, 70, "Notes",ExpressionUUID->"0230f574-1480-4d58-a55b-4bde45981f61",
 CellID->1630510880],
Cell[16017, 438, 256, 7, 70, "Notes",ExpressionUUID->"40b1b323-1c2b-4add-a452-fd88141c903a",
 CellID->1639654363],
Cell[16276, 447, 128, 1, 70, "Notes",ExpressionUUID->"fcc911b7-0b1c-47c3-bc06-f07a9c9cab73",
 CellID->817970626],
Cell[16407, 450, 578, 11, 70, "3ColumnTableMod",ExpressionUUID->"5c00ac90-f36c-403b-97a1-9637302d42cc",
 CellID->1589486735]
}, Dynamic[CurrentValue[EvaluationNotebook[], {TaggingRules, "Openers", "NotesSection"}, Closed]]]],
Cell[CellGroupData[{
Cell[17112, 467, 1389, 37, 36, "PrimaryExamplesSection",ExpressionUUID->"9c3ef067-3f03-4f3d-b198-1d1cfdf5756c",
 CellTags->"PrimaryExamplesSection",
 CellID->974581534],
Cell[18504, 506, 191, 3, 31, "Input",ExpressionUUID->"3ae6a338-1c6b-4df7-90e2-76b0f0911490",
 CellID->851865642],
Cell[CellGroupData[{
Cell[18720, 513, 1367, 36, 31, "ExampleSection",ExpressionUUID->"7300277f-2da9-4fb0-83ca-2951d59f6795",
 CellID->934066269],
Cell[20090, 551, 209, 5, 29, "Input",ExpressionUUID->"014c9d9f-afb5-4ad8-8cc5-1c42a125b410",
 CellID->2076530764],
Cell[CellGroupData[{
Cell[20324, 560, 443, 13, 29, "Input",ExpressionUUID->"43e7994d-b777-4613-8787-aab3582a14a8",
 CellID->1495803151],
Cell[20770, 575, 1178, 41, 39, "Output",ExpressionUUID->"7e469af0-cbf1-4808-8408-ddb9f0291299",
 CellID->1469771354]
}, Open  ]],
Cell[CellGroupData[{
Cell[21985, 621, 395, 12, 29, "Input",ExpressionUUID->"db4b4573-02cf-42e8-9571-711f0f01a586",
 CellID->2104788460],
Cell[22383, 635, 1040, 29, 41, "Output",ExpressionUUID->"72fcbc55-2b98-4282-842d-dd0771725401",
 CellID->1928705339]
}, Open  ]],
Cell[CellGroupData[{
Cell[23460, 669, 504, 15, 48, "Input",ExpressionUUID->"ca6ccab4-701c-4904-85bc-2de3b98289cd",
 CellID->1154618494],
Cell[23967, 686, 2428, 74, 41, "Output",ExpressionUUID->"551297a8-1acf-4095-8bf2-1ce3e1fb957a",
 CellID->517825565]
}, Open  ]],
Cell[CellGroupData[{
Cell[26432, 765, 287, 7, 48, "Input",ExpressionUUID->"6c0d3b13-3e92-4232-9cc2-7eff46157e12",
 CellID->1825261592],
Cell[26722, 774, 3781, 108, 41, "Output",ExpressionUUID->"acddf0af-da9f-475e-86b8-c9bc727485db",
 CellID->1560030185]
}, Open  ]],
Cell[CellGroupData[{
Cell[30540, 887, 242, 5, 14, "ExampleDelimiter",ExpressionUUID->"54692882-e20b-4d8b-9f03-ff61715191fb",
 CellID->360562160],
Cell[30785, 894, 210, 4, 38, "ExampleText",ExpressionUUID->"65655618-cd8b-4b84-aaeb-c1c3298f0f8c",
 CellID->83261738],
Cell[CellGroupData[{
Cell[31020, 902, 294, 7, 48, "Input",ExpressionUUID->"fda527a0-5cc8-4730-a467-961f6ad8c0c8",
 CellID->2073621093],
Cell[31317, 911, 1490, 35, 174, "Output",ExpressionUUID->"6c65478f-da19-48a8-b639-bf9988f472f1",
 CellID->1340593786]
}, Open  ]],
Cell[CellGroupData[{
Cell[32844, 951, 421, 12, 70, "Input",ExpressionUUID->"71861f93-8a49-4cb1-b2e2-addc4d6551df",
 CellID->43453953],
Cell[33268, 965, 3142, 69, 316, "Output",ExpressionUUID->"8038f8b9-634f-4c18-af5c-fee447986a7f",
 CellID->347666744]
}, Open  ]],
Cell[36425, 1037, 185, 3, 70, "ExampleText",ExpressionUUID->"f4e1cde4-0892-4331-b315-9e932b2aaa39",
 CellID->1098295329],
Cell[CellGroupData[{
Cell[36635, 1044, 213, 5, 70, "Input",ExpressionUUID->"3ca5008e-3096-4154-9bf8-0b46da43860f",
 CellID->337611983],
Cell[36851, 1051, 7285, 205, 84, "Output",ExpressionUUID->"e50e5042-24e9-4c21-9ed7-57adf77a0313",
 CellID->1348872169]
}, Open  ]],
Cell[CellGroupData[{
Cell[44173, 1261, 376, 11, 70, "Input",ExpressionUUID->"9efc0514-79c9-40d0-9d9f-8ff227b4e5fb",
 CellID->1061819516],
Cell[44552, 1274, 2331, 53, 304, "Output",ExpressionUUID->"fc1fa241-66f4-4cfe-b302-71ace5c3e367",
 CellID->718838635]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[46932, 1333, 242, 5, 70, "ExampleDelimiter",ExpressionUUID->"17e27e71-530c-4fb8-aef8-ec274ee60c36",
 CellID->689713619],
Cell[CellGroupData[{
Cell[47199, 1342, 481, 14, 70, "Input",ExpressionUUID->"cf578579-8438-4b2c-962b-cb007b450fa6",
 CellID->2047551674],
Cell[47683, 1358, 730, 22, 52, "Output",ExpressionUUID->"9e9532a8-df36-4de7-a228-e98502f907a4",
 CellID->283459958]
}, Open  ]],
Cell[CellGroupData[{
Cell[48450, 1385, 654, 19, 70, "Input",ExpressionUUID->"80aa047e-f3d4-4cc2-9d97-2ffe8cc0ca7d",
 CellID->658842380],
Cell[49107, 1406, 3198, 81, 163, "Output",ExpressionUUID->"8248bf29-6000-43b1-8545-3f6bd60d5494",
 CellID->2010655344]
}, Open  ]],
Cell[CellGroupData[{
Cell[52342, 1492, 721, 22, 70, "Input",ExpressionUUID->"6aed0638-7cbc-4e07-973c-4a830dda48aa",
 CellID->629762013],
Cell[53066, 1516, 4616, 107, 165, "Output",ExpressionUUID->"984fe6bb-02bc-4a6c-ba05-f7fb1be1973d",
 CellID->2143372460]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[57731, 1629, 243, 5, 70, "ExampleDelimiter",ExpressionUUID->"034d79bd-3423-4766-9526-e22e165360af",
 CellID->1935006837],
Cell[CellGroupData[{
Cell[57999, 1638, 481, 14, 70, "Input",ExpressionUUID->"40b1aafd-8e07-4bbc-92be-ad01bcf309dc",
 CellID->1747542897],
Cell[58483, 1654, 731, 22, 52, "Output",ExpressionUUID->"3c0724a2-002e-4e2d-bf9a-1a963a55e514",
 CellID->1264088197]
}, Open  ]],
Cell[CellGroupData[{
Cell[59251, 1681, 654, 19, 70, "Input",ExpressionUUID->"e2fdfe6a-610b-4723-965d-c20fb88ec766",
 CellID->765966584],
Cell[59908, 1702, 3198, 81, 163, "Output",ExpressionUUID->"060cb547-4cfa-47d1-9293-bee2d138865a",
 CellID->2046527841]
}, Open  ]],
Cell[CellGroupData[{
Cell[63143, 1788, 413, 12, 70, "Input",ExpressionUUID->"f34e1d4c-09b7-4640-aa4d-253215d8cd32",
 CellID->538882566],
Cell[63559, 1802, 5053, 89, 41, "Output",ExpressionUUID->"ff10d96c-4801-44ea-95e4-eefac7e93380",
 CellTags->"RasterizedOutput",
 CellID->746323513]
}, Open  ]],
Cell[68627, 1894, 207, 4, 70, "ExampleText",ExpressionUUID->"34cac316-4777-4267-a51a-90e9a9e4d86a",
 CellID->1730346951],
Cell[CellGroupData[{
Cell[68859, 1902, 291, 7, 70, "Input",ExpressionUUID->"f6c6be04-47e9-40ee-8e42-aaf41c6ba907",
 CellID->1719176194],
Cell[69153, 1911, 9520, 271, 61, "Output",ExpressionUUID->"aa3ee930-afab-46ce-957b-3e9d50175a2b",
 CellID->1190121442]
}, Open  ]],
Cell[78688, 2185, 176, 3, 70, "ExampleText",ExpressionUUID->"f21ebdce-16df-4873-b1f7-9388c15cc979",
 CellID->1639236511],
Cell[CellGroupData[{
Cell[78889, 2192, 913, 27, 70, "Input",ExpressionUUID->"b11bd4ac-91be-429d-9ada-0e6e343107f4",
 CellID->575394993],
Cell[79805, 2221, 1213, 35, 41, "Output",ExpressionUUID->"926431f6-d38b-4c4d-b578-d75d8f19fe97",
 CellID->1792499238]
}, Open  ]],
Cell[81033, 2259, 343, 5, 70, "ExampleText",ExpressionUUID->"0001e554-d158-495e-b4cc-8210a4257698",
 CellID->1511280490],
Cell[CellGroupData[{
Cell[81401, 2268, 905, 26, 70, "Input",ExpressionUUID->"c4c249c0-6eb1-48e7-aef9-6c374328891c",
 CellID->881512640],
Cell[82309, 2296, 8155, 227, 81, "Output",ExpressionUUID->"a961532f-ff69-43a7-a733-99a412be1e57",
 CellID->293202473]
}, Open  ]],
Cell[CellGroupData[{
Cell[90501, 2528, 1040, 27, 70, "Input",ExpressionUUID->"dde9b646-5e33-4742-963a-9e63a23dab53",
 CellID->2115899125],
Cell[91544, 2557, 4311, 109, 398, "Output",ExpressionUUID->"2f72aa0e-3f32-4f65-960e-0f1307cead8f",
 CellID->196078837]
}, Open  ]]
}, Open  ]]
}, Dynamic[CurrentValue[EvaluationNotebook[], {TaggingRules, "Openers", "ExampleSection", "0"}, Closed]]]],
Cell[CellGroupData[{
Cell[96016, 2675, 1394, 36, 70, "ExampleSection",ExpressionUUID->"f8debabd-17af-4e89-88e4-9f3a7b96a816",
 CellID->1911880702],
Cell[97413, 2713, 823, 25, 70, "Input",ExpressionUUID->"38768c1f-761d-42e3-b98c-d5dce2749076",
 CellID->61660548],
Cell[98239, 2740, 173, 3, 70, "ExampleText",ExpressionUUID->"80322106-2c62-4e43-a291-361e505bd093",
 CellID->834601618],
Cell[CellGroupData[{
Cell[98437, 2747, 486, 14, 70, "Input",ExpressionUUID->"ce14cacb-50ab-41a8-b266-97a0126d68f6",
 CellID->630087907],
Cell[98926, 2763, 730, 22, 52, "Output",ExpressionUUID->"7c97f2b7-47c6-4b6d-a7d9-28203b711d6c",
 CellID->694016926]
}, Open  ]],
Cell[99671, 2788, 168, 3, 70, "ExampleText",ExpressionUUID->"a3187f89-ff16-4b1a-b101-5f8d142531fd",
 CellID->898727511],
Cell[CellGroupData[{
Cell[99864, 2795, 312, 8, 70, "Input",ExpressionUUID->"e7f117f7-0510-4572-9783-557308353a42",
 CellID->1336888100],
Cell[100179, 2805, 1958, 49, 167, "Output",ExpressionUUID->"442ed2c6-b513-46cb-bf20-5497ea0c215e",
 CellID->1138243917]
}, Open  ]],
Cell[102152, 2857, 192, 4, 70, "ExampleText",ExpressionUUID->"4fbe218c-25ee-49f0-9197-dd6aaf8c976a",
 CellID->1066700697],
Cell[102347, 2863, 834, 22, 70, "Input",ExpressionUUID->"631b3042-275b-437a-9dea-17c411368910",
 CellID->511664418],
Cell[CellGroupData[{
Cell[103206, 2889, 354, 9, 70, "Input",ExpressionUUID->"ab6bd862-3713-4ba6-88f2-ff0d07de9504",
 CellID->1019350738],
Cell[103563, 2900, 3393, 78, 167, "Output",ExpressionUUID->"d6e4bfff-c9b0-4c68-b72b-ee8461143275",
 CellID->2119281393]
}, Open  ]],
Cell[CellGroupData[{
Cell[106993, 2983, 282, 7, 70, "Input",ExpressionUUID->"3d947bbc-b757-4143-a8c4-884bf9291eb9",
 CellID->793501579],
Cell[107278, 2992, 124, 2, 37, "Output",ExpressionUUID->"3a90f3d9-c056-47b3-8218-c27fa3eb1d0d",
 CellID->2369321]
}, Open  ]]
}, Dynamic[CurrentValue[EvaluationNotebook[], {TaggingRules, "Openers", "ExampleSection", "1"}, Closed]]]]
}, Dynamic[CurrentValue[EvaluationNotebook[], {TaggingRules, "Openers", "PrimaryExamplesSection"}, Closed]]]],
Cell[107644, 3003, 2780, 75, 70, "SeeAlsoSection",ExpressionUUID->"5278d88d-28ac-4e8b-aea1-586749f30d2f"],
Cell[110427, 3080, 2503, 63, 70, "TechNotesSection",ExpressionUUID->"7c07c111-3be8-4dd6-baf4-4aaf11997c54"],
Cell[112933, 3145, 1045, 27, 70, "MoreAboutSection",ExpressionUUID->"ecd2ac27-af9b-4a80-bea5-807d71924237"],
Cell[113981, 3174, 3818, 104, 70, "RelatedLinksSection",ExpressionUUID->"90e4f67e-1559-4925-a048-5ef882559692"],
Cell[117802, 3280, 78, 0, 70, "FooterCell",ExpressionUUID->"e2963d85-0266-4619-ac07-1614c6fee74e"]
}
]
*)

(* End of internal cache information *)

