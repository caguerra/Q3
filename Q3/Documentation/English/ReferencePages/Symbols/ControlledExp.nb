(* Content-type: application/vnd.wolfram.mathematica *)

(*** Wolfram Notebook File ***)
(* http://www.wolfram.com/nb *)

(* CreatedBy='Mathematica 13.2' *)

(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[       158,          7]
NotebookDataLength[    128580,       3496]
NotebookOptionsPosition[    115776,       3228]
NotebookOutlinePosition[    118084,       3287]
CellTagsIndexPosition[    117960,       3281]
WindowTitle->ControlledExp
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{
Cell[BoxData[GridBox[{
   {GridBox[{
      {
       ItemBox[Cell[BoxData[
         RowBox[{
          TemplateBox[{12},
           "Spacer1"], Cell["Q3 SYMBOL", "PacletNameCell",
           TextAlignment->Center,ExpressionUUID->
           "4c7ee574-2324-4446-9ba4-a2797534e593"], 
          TemplateBox[{8},
           "Spacer1"]}]],
         TextAlignment->Center,ExpressionUUID->
         "4a3dfc74-7444-48c7-a2bf-6bf00481f184"],
        Background->RGBColor[0.490196, 0.576471, 0.690196],
        ItemSize->Full], ""}
     },
     GridBoxAlignment->{"Rows" -> {{Center}}},
     GridBoxItemSize->{"Columns" -> {Full, 
         Scaled[0.02]}, "Rows" -> {{2.5}}}], Cell[TextData[{
     Cell[BoxData[
      TagBox[
       ActionMenuBox[
        FrameBox[Cell[TextData[{
          "See Also",
          " ",
          Cell[BoxData[
           GraphicsBox[
            {GrayLevel[0.66667], Thickness[0.13], 
             LineBox[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]},
            AspectRatio->1,
            AxesStyle->Large,
            FrameStyle->Large,
            ImageSize->20,
            PlotRange->{{-3, 4}, {-1, 1}},
            PlotRangePadding->Scaled[0.025]]],ExpressionUUID->
           "adc1b381-27a0-4992-ad83-536a327eed3d"]
         }],ExpressionUUID->"8f94b1c1-791b-4996-b3f0-6a791dd128c1"],
         StripOnInput->False], {"\<\"ControlledU\"\>":>
        Documentation`HelpLookup["paclet:Q3/ref/ControlledU"], "\<\"CNOT\"\>":>
        Documentation`HelpLookup["paclet:Q3/ref/CNOT"], "\<\"CX\"\>":>
        Documentation`HelpLookup["paclet:Q3/ref/CX"], "\<\"CZ\"\>":>
        Documentation`HelpLookup[
        "paclet:Q3/ref/CZ"], "\<\"QuantumCircuit\"\>":>
        Documentation`HelpLookup["paclet:Q3/ref/QuantumCircuit"]},
        Appearance->None,
        MenuAppearance->Automatic,
        MenuStyle->"SeeAlso"],
       MouseAppearanceTag["LinkHand"]]],
      LineSpacing->{1.4, 0},ExpressionUUID->
      "b6bc4022-854f-4c93-bde7-d96d8d6fab80"],
     "\[ThickSpace]\[ThickSpace]\[ThickSpace]\[ThickSpace]\[ThickSpace]\
\[ThickSpace]",
     Cell[BoxData[
      TagBox[
       ActionMenuBox[
        FrameBox[Cell[TextData[{
          "Related Guides",
          " ",
          Cell[BoxData[
           GraphicsBox[
            {GrayLevel[0.66667], Thickness[0.13], 
             LineBox[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]},
            AspectRatio->1,
            AxesStyle->Large,
            FrameStyle->Large,
            ImageSize->20,
            PlotRange->{{-3, 4}, {-1, 1}},
            PlotRangePadding->Scaled[0.025]]],ExpressionUUID->
           "334262d9-b2c2-4573-a946-0e4d5b5b7321"]
         }],ExpressionUUID->"5f7e7e11-36da-45c1-881f-77c0acd7031f"],
         StripOnInput->False], {"\<\"Quantum Information Systems\"\>":>
        Documentation`HelpLookup[
        "paclet:Q3/guide/QuantumInformationSystems"], "\<\"Q3\"\>":>
        Documentation`HelpLookup["paclet:Q3/guide/Q3"]},
        Appearance->None,
        MenuAppearance->Automatic,
        MenuStyle->"MoreAbout"],
       MouseAppearanceTag["LinkHand"]]],
      LineSpacing->{1.4, 0},ExpressionUUID->
      "9ca6791f-43ae-4994-9b59-ff3e37ca9775"],
     "\[ThickSpace]\[ThickSpace]\[ThickSpace]\[ThickSpace]\[ThickSpace]\
\[ThickSpace]",
     Cell[BoxData[
      TagBox[
       ActionMenuBox[
        FrameBox[Cell[TextData[{
          "Tech Notes",
          " ",
          Cell[BoxData[
           GraphicsBox[
            {GrayLevel[0.66667], Thickness[0.13], 
             LineBox[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]},
            AspectRatio->1,
            AxesStyle->Large,
            FrameStyle->Large,
            ImageSize->20,
            PlotRange->{{-3, 4}, {-1, 1}},
            PlotRangePadding->Scaled[0.025]]],ExpressionUUID->
           "f6a978f7-8633-45ad-b662-d40862d81f6f"]
         }],ExpressionUUID->"139abf9d-56fd-48da-849f-dfc898dabc44"],
         StripOnInput->False], {"\<\"Quantum Phase Estimation\"\>":>
        Documentation`HelpLookup[
        "paclet:Q3/tutorial/QuantumPhaseEstimation"], "\<\"Multi-Control \
Unitary Gates\"\>":>Documentation`HelpLookup[
        "paclet:Q3/tutorial/MultiControlUnitaryGates"], "\<\"Quantum \
Computation: Overview\"\>":>Documentation`HelpLookup[
        "paclet:Q3/tutorial/QuantumComputationOverview"], "\<\"Quantum \
Information Systems with Q3\"\>":>Documentation`HelpLookup[
        "paclet:Q3/tutorial/QuantumInformationSystems"], "\<\"Quick Quantum \
Computing with Q3\"\>":>Documentation`HelpLookup[
        "paclet:Q3/tutorial/QuickQuantumComputingWithQ3"], "\<\"Q3: Quick \
Start\"\>":>Documentation`HelpLookup["paclet:Q3/tutorial/Q3QuickStart"]},
        Appearance->None,
        MenuAppearance->Automatic,
        MenuStyle->"Tutorials"],
       MouseAppearanceTag["LinkHand"]]],
      LineSpacing->{1.4, 0},ExpressionUUID->
      "f1a39ef6-4b10-46ef-a3f0-281e08f3d599"],
     "\[ThickSpace]\[ThickSpace]\[ThickSpace]\[ThickSpace]\[ThickSpace]\
\[ThickSpace]",
     Cell[BoxData[
      TagBox[
       ActionMenuBox[
        FrameBox[Cell[TextData[{
          "URL",
          " ",
          Cell[BoxData[
           GraphicsBox[
            {GrayLevel[0.66667], Thickness[0.13], 
             LineBox[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]},
            AspectRatio->1,
            AxesStyle->Large,
            FrameStyle->Large,
            ImageSize->20,
            PlotRange->{{-3, 4}, {-1, 1}},
            PlotRangePadding->Scaled[0.025]]],ExpressionUUID->
           "67c4130b-7970-4846-8bce-4bca8849718c"]
         }],ExpressionUUID->"d483a7cf-d96d-4b83-a66d-125e31951d82"],
         StripOnInput->False], {"\<\"Q3/ref/ControlledExp\"\>":>
        None, "\<\"Copy Wolfram Documentation Center URL\"\>":>
        Module[{DocumentationSearch`Private`nb$}, 
         DocumentationSearch`Private`nb$ = NotebookPut[
            Notebook[{
              Cell["Q3/ref/ControlledExp"]}, Visible -> False]]; 
         SelectionMove[DocumentationSearch`Private`nb$, All, Notebook]; 
         FrontEndTokenExecute[DocumentationSearch`Private`nb$, "Copy"]; 
         NotebookClose[DocumentationSearch`Private`nb$]; Null], 
        Delimiter, "\<\"Copy web URL\"\>":>
        Module[{DocumentationSearch`Private`nb$}, 
         DocumentationSearch`Private`nb$ = NotebookPut[
            Notebook[{
              Cell[
               BoxData[
                MakeBoxes[
                 Hyperlink[
                 "http://reference.wolfram.com/language/Q3/ref/ControlledExp.\
html"], StandardForm]], "Input", TextClipboardType -> "PlainText"]}, Visible -> 
             False]]; SelectionMove[
          DocumentationSearch`Private`nb$, All, Notebook]; 
         FrontEndTokenExecute[DocumentationSearch`Private`nb$, "Copy"]; 
         NotebookClose[DocumentationSearch`Private`nb$]; 
         Null], "\<\"Go to web URL\"\>":>FrontEndExecute[{
          NotebookLocate[{
            URL[If[
               TrueQ[DocumentationBuild`Make`Private`wsmlinkQ$23670], 
               "http://reference.wolfram.com/system-modeler/", 
               "http://reference.wolfram.com/language/"] <> 
             "Q3/ref/ControlledExp" <> ".html"], None}]}]},
        Appearance->None,
        MenuAppearance->Automatic,
        MenuStyle->"URLMenu"],
       MouseAppearanceTag["LinkHand"]]],
      LineSpacing->{1.4, 0},ExpressionUUID->
      "a6c5da1a-642f-47cc-8c4b-776c953dc9a4"]
    }], "AnchorBar",
     CacheGraphics->False,ExpressionUUID->
     "7e75abb0-f891-4cae-948f-acdf831cff2d"]}
  }]], "AnchorBarGrid",
 CellID->1,ExpressionUUID->"bfd24b7d-5d40-4abe-b659-7b74ed29ba94"],

Cell["Q3`", "ContextNameCell",ExpressionUUID->"fde63dc9-59ff-40cc-b50f-f024461cb93f"],

Cell[CellGroupData[{

Cell[BoxData[GridBox[{
   {Cell[TextData[{
     Cell[
     "ControlledExp", "ObjectName",ExpressionUUID->
      "bb3a56d5-4409-4660-96e5-cdbbcf709ef9"],
     Cell[BoxData[
      TemplateBox[{8},
       "Spacer1"]],ExpressionUUID->"3b533860-a012-46dc-9b14-93ece133c984"],
     Cell[BoxData[
     ""], "ObjectNameTranslation",ExpressionUUID->
      "cd4cf8ce-ae78-4fc8-9667-4dfa59c3449f"]
    }],ExpressionUUID->"991e0c8f-d1e7-4bdc-aed8-65229a94d30d"], Cell[BoxData[
     TooltipBox[
      StyleBox[
       TagBox[
        StyleBox[
         GraphicsBox[InsetBox[
           StyleBox["\<\"NEW IN 13.1\"\>",
            StripOnInput->False,
            FontFamily->"Source Sans Pro",
            FontSize->18,
            FontWeight->"Bold",
            FontSlant->"Italic",
            FontColor->RGBColor[0.968627, 0.466667, 0]], {Right, Center}, {
           Right, Center}],
          AxesStyle->Large,
          FrameStyle->Large,
          ImageSize->{125, 24},
          PlotRangePadding->Scaled[0.025]], "NewInGraphic",
         StripOnInput->False],
        Deploy,
        DefaultBaseStyle->"Deploy"], "NewInGraphic",
       StripOnInput->False],
      "New in 13.2",
      TooltipDelay->0.3]],
     Magnification->1,ExpressionUUID->
     "20ffb92d-1531-4371-98f6-7b16879e719e"]}
  }]], "ObjectNameGrid",
 CacheGraphics->False,ExpressionUUID->"8858c844-2eb6-4e0f-9f96-7b716ac1d5a7"],

Cell[BoxData[GridBox[{
   {"", Cell[TextData[{
     Cell[BoxData[
      RowBox[{
       TemplateBox[{
         Cell[
          TextData["ControlledExp"]], "paclet:Q3/ref/ControlledExp", 
         "Q3 Package Symbol"},
        "PackageLink",
        BaseStyle->"InlineFormula"], "[", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{
          SubscriptBox[
           StyleBox["c", "TI"], 
           StyleBox["1", "TR"]], ",", 
          SubscriptBox[
           StyleBox["c", "TI"], 
           StyleBox["2", "TR"]], ",", " ", 
          StyleBox["\[Ellipsis]", "TR"]}], "}"}], ",", 
        StyleBox["op", "TI"]}], "]"}]], "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "e7c36cdc-17f8-4d46-8bc0-87bd5cfffbea"],
     "\[LineSeparator]represents a controlled exponentiation gate."
    }],ExpressionUUID->"47101b78-dcb7-4bd3-9328-f264f8511d06"]}
  }]], "Usage",
 CellID->64829665,ExpressionUUID->"df1e2fa1-fba5-4572-a409-864423852d21"]
}, Open  ]],

Cell[CellGroupData[{

Cell[TextData[Cell[BoxData[
 ButtonBox[Cell[TextData[{
   Cell[BoxData[
    DynamicBox[ToBoxes[
      If[
       MatchQ[
        CurrentValue[
         EvaluationNotebook[], {TaggingRules, "Openers", "NotesSection"}, 
         Closed], 
        Alternatives[Open, True]], 
       Style[
        Graphics[{
          Thickness[0.18], 
          RGBColor[0.8509803921568627, 0.396078431372549, 0], 
          Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
         PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
        0.68 Inherited], 
       Rotate[
        Style[
         Graphics[{
           Thickness[0.18], 
           RGBColor[0.8509803921568627, 0.396078431372549, 0], 
           Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
          PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
         0.68 Inherited], Rational[1, 2] Pi, {-1.65, -1}]]],
     ImageSizeCache->{14., {0.45000000000000107`, 13.549999999999999`}}]],
    ExpressionUUID->"fb462469-a5d1-4574-a083-79a75374d891"],
   Cell[BoxData[
    TemplateBox[{1},
     "Spacer1"]],ExpressionUUID->"d1fd8d05-c92c-4523-9c6f-390027c7c72d"],
   "Details and Options"
  }], "NotesFrameText",ExpressionUUID->"64abcc5a-055d-429e-9f96-2be47432540f"],
  Appearance->{Automatic, None, "Normal", Automatic},
  BaseStyle->None,
  ButtonFunction:>(FrontEndExecute[{
     FrontEnd`SelectionMove[
      FrontEnd`SelectedNotebook[], All, ButtonCell], 
     FrontEndToken["OpenCloseGroup"], 
     FrontEnd`SelectionMove[
      FrontEnd`SelectedNotebook[], After, CellContents]}]& ),
  Evaluator->None,
  Method->
   "Preemptive"]],ExpressionUUID->"f07e7647-d811-49dc-8f1a-617464995358"]], \
"NotesSection",
 WholeCellGroupOpener->True,
 CellGroupingRules->{"SectionGrouping", 50},
 CacheGraphics->False,
 CellID->1534332867,ExpressionUUID->"a6485b94-79cf-4c46-b5f7-b3d560be6242"],

Cell[TextData[{
 Cell[BoxData[
  RowBox[{
   TemplateBox[{
     Cell[
      TextData["ControlledExp"]], "paclet:Q3/ref/ControlledExp", 
     "Q3 Package Symbol"},
    "PackageLink",
    BaseStyle->"InlineFormula"], "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{
      SubscriptBox[
       StyleBox["c", "TI"], 
       StyleBox["1", "TR"]], ",", 
      SubscriptBox[
       StyleBox["c", "TI"], 
       StyleBox["2", "TR"]], ",", " ", 
      StyleBox["\[Ellipsis]", "TR"]}], "}"}], ",", 
    StyleBox["op", "TI"]}], "]"}]], "InlineFormula",
  FontFamily->"Source Sans Pro",ExpressionUUID->
  "c8fb74e4-3861-4769-a952-4013a105cd45"],
 " transforms computational basis states as\[LineSeparator]\t",
 Cell[BoxData[
  FormBox[
   RowBox[{
    RowBox[{
     TemplateBox[{
       RowBox[{
         SubscriptBox["c", "1"], 
         SubscriptBox["c", "2"], "\[Ellipsis]", "\[VeryThinSpace]", 
         SubscriptBox["c", "n"]}]},
      "Ket"], "\[CircleTimes]", 
     TemplateBox[{"\[Psi]"},
      "Ket"]}], "\[RightTeeArrow]", 
    RowBox[{
     TemplateBox[{
       RowBox[{
         SubscriptBox["c", "1"], 
         SubscriptBox["c", "2"], "\[Ellipsis]", "\[VeryThinSpace]", 
         SubscriptBox["c", "n"]}]},
      "Ket"], "\[CircleTimes]", 
     RowBox[{"(", 
      RowBox[{
       SuperscriptBox[
        StyleBox["op",
         FontSlant->"Italic"], "c"], 
       TemplateBox[{"\[Psi]"},
        "Ket"]}], ")"}]}]}], TraditionalForm]],ExpressionUUID->
  "36e3e24d-5cdc-4299-a4dc-fab1a9d9f715"],
 ", \[LineSeparator]where ",
 Cell[BoxData[
  FormBox[
   RowBox[{"c", "=", 
    SubscriptBox[
     RowBox[{"(", 
      RowBox[{
       SubscriptBox["c", "1"], 
       SubscriptBox["c", "2"], "\[Ellipsis]", "\[VeryThinSpace]", 
       SubscriptBox["c", "n"]}], ")"}], "2"]}], TraditionalForm]],
  ExpressionUUID->"6269290e-977c-425a-8e41-a01b1da0b4f2"],
 ", that is, ",
 Cell[BoxData[
  FormBox[
   RowBox[{"c", "=", 
    RowBox[{
     RowBox[{
      SubscriptBox["c", "1"], 
      SuperscriptBox["2", 
       RowBox[{"n", "-", "1"}]]}], "+", 
     RowBox[{
      SubscriptBox["c", "2"], 
      SuperscriptBox["2", 
       RowBox[{"n", "-", "2"}]]}], "+", "\[Ellipsis]", "+", 
     SubscriptBox["c", "n"]}]}], TraditionalForm]],ExpressionUUID->
  "2a876ae7-538d-42fe-aeff-e7e11bf77937"],
 "."
}], "Notes",
 CellID->100026970,ExpressionUUID->"c2f41ce3-45e4-4d5b-bd69-e73c069eb2d7"],

Cell[TextData[{
 Cell[BoxData[
  RowBox[{
   TemplateBox[{
     Cell[
      TextData["Elaborate"]], "paclet:Q3/ref/Elaborate", "Q3 Package Symbol"},
    
    "PackageLink",
    BaseStyle->"InlineFormula"], "[", 
   RowBox[{"ControlledExp", "[", "\[Ellipsis]", "]"}], "]"}]], "InlineFormula",
  FontFamily->"Source Sans Pro",ExpressionUUID->
  "0a9563ba-075b-4884-8773-bd1ab9af8d88"],
 " gives the expression of the controlled exponentiation in terms of the \
Pauli operators."
}], "Notes",
 CellID->2112528434,ExpressionUUID->"e8ecf42d-30e4-4ea1-837c-866382304e2f"],

Cell[TextData[{
 Cell[BoxData[
  RowBox[{
   TemplateBox[{
     Cell[
      TextData["Expand"]], "paclet:ref/Expand"},
    "RefLink",
    BaseStyle->{"InlineFormula"}], "[", 
   RowBox[{"ControlledExp", "[", "\[Ellipsis]", "]"}], "]"}]], "InlineFormula",
  FontFamily->"Source Sans Pro",ExpressionUUID->
  "320db2e7-6172-4732-b87b-2442c800f9bd"],
 " gives a sequence of controlled-unitary gates that compose the controlled \
exponentiation."
}], "Notes",
 CellID->1630510880,ExpressionUUID->"0230f574-1480-4d58-a55b-4bde45981f61"],

Cell[TextData[{
 "This gate can be implemented by using ",
 ButtonBox["controlled-unitary gates",
  BaseStyle->"Link",
  ButtonData->"paclet:Q3/ref/ControlledU"],
 "."
}], "Notes",
 CellID->1639654363,ExpressionUUID->"40b1b323-1c2b-4add-a452-fd88141c903a"],

Cell["The following options can be given: ", "Notes",
 CellID->817970626,ExpressionUUID->"fcc911b7-0b1c-47c3-bc06-f07a9c9cab73"],

Cell[BoxData[GridBox[{
   {Cell["      ", "TableRowIcon",ExpressionUUID->
     "8d2ab9e6-7ac9-4d51-b313-f902a14e149c"], "\"\<Label\>\"", 
    RowBox[{"{", 
     RowBox[{"x", ",", " ", "U"}], "}"}], Cell[
    "Labels for the controll and target registers, respectively.", 
     "TableText",ExpressionUUID->"8a378223-d0a2-4f9f-b977-c1fecbfa3a6f"]}
  }]], "3ColumnTableMod",
 GridBoxOptions->{
 GridBoxBackground->{"Columns" -> {{None}}, "Rows" -> {{None}}},
 GridBoxDividers->{"Rows" -> {{True, True}}}},
 CellID->1589486735,ExpressionUUID->"5c00ac90-f36c-403b-97a1-9637302d42cc"]
}, Dynamic[CurrentValue[
 EvaluationNotebook[], {TaggingRules, "Openers", "NotesSection"}, Closed]]]],

Cell[CellGroupData[{

Cell[TextData[{
 Cell[BoxData[
  DynamicBox[ToBoxes[
    If[
     MatchQ[
      CurrentValue[
       EvaluationNotebook[], {
       TaggingRules, "Openers", "PrimaryExamplesSection"}, Open], 
      Alternatives[True, Open]], 
     Style[
      Graphics[{
        Thickness[0.18], 
        RGBColor[0.8509803921568627, 0.396078431372549, 0], 
        Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
       PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
      0.68 Inherited], 
     Rotate[
      Style[
       Graphics[{
         Thickness[0.18], 
         RGBColor[0.8509803921568627, 0.396078431372549, 0], 
         Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
        PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
       0.68 Inherited], Rational[1, 2] Pi, {-1.65, -1}]]],
   ImageSizeCache->{14., {5., 9.}}]],ExpressionUUID->
  "617874d1-c042-4c9c-9de8-784b1d6627d7"],
 Cell[BoxData[
  TemplateBox[{1},
   "Spacer1"]],ExpressionUUID->"5128e25a-ba8d-403d-8bf2-cd231ca393d8"],
 "Examples",
 "\[NonBreakingSpace]\[NonBreakingSpace]",
 Cell["(5)", "ExampleCount",ExpressionUUID->
  "a00a7e5c-87f8-4320-89eb-752e37234bed"]
}], "PrimaryExamplesSection",
 WholeCellGroupOpener->True,
 CacheGraphics->False,
 CellTags->"PrimaryExamplesSection",
 CellID->548862493,ExpressionUUID->"f1ee801c-5cbc-45f0-a51b-730f9e4f9cb5"],

Cell[BoxData[
 RowBox[{"Needs", "[", "\"\<Q3`\>\"", "]"}]], "Input", "ExampleInitialization",
 CellLabel->"In[1]:=",
 CellID->851865642,ExpressionUUID->"3ae6a338-1c6b-4df7-90e2-76b0f0911490"],

Cell[CellGroupData[{

Cell[TextData[{
 Cell[BoxData[
  DynamicBox[ToBoxes[
    If[
     MatchQ[
      CurrentValue[
       EvaluationNotebook[], {TaggingRules, "Openers", "ExampleSection", "0"},
        Closed], 
      Alternatives[Open, True]], 
     Style[
      Graphics[{
        Thickness[0.18], 
        RGBColor[0.8509803921568627, 0.396078431372549, 0], 
        Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
       PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
      0.68 Inherited], 
     Rotate[
      Style[
       Graphics[{
         Thickness[0.18], 
         RGBColor[0.8509803921568627, 0.396078431372549, 0], 
         Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
        PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
       0.68 Inherited], Rational[1, 2] Pi, {-1.65, -1}]]],
   ImageSizeCache->{14., {5., 9.}}]],ExpressionUUID->
  "164f8868-04fc-442f-ac71-93a421c9f0fb"],
 Cell[BoxData[
  TemplateBox[{1},
   "Spacer1"]],ExpressionUUID->"d56990d5-5cde-4c38-aa6b-2bd889dd3fed"],
 "Basic Examples",
 "\[NonBreakingSpace]\[NonBreakingSpace]",
 Cell["(4)", "ExampleCount",ExpressionUUID->
  "785bafd4-becb-4c58-9c33-beda7e32a21c"]
}], "ExampleSection", "ExampleSection",
 WholeCellGroupOpener->True,
 CacheGraphics->False,
 CellID->1289655986,ExpressionUUID->"bf97bdf3-ae50-4a8d-9470-31155969adc5"],

Cell[BoxData[
 RowBox[{"Let", "[", 
  RowBox[{"Qubit", ",", "S"}], "]"}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[1]:=",
 CellID->2076530764,ExpressionUUID->"014c9d9f-afb5-4ad8-8cc5-1c42a125b410"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"op", "=", 
  RowBox[{"ControlledExp", "[", 
   RowBox[{
    RowBox[{"S", "@", 
     RowBox[{"{", 
      RowBox[{"1", ",", "2"}], "}"}]}], ",", 
    RowBox[{"Phase", "[", 
     RowBox[{"\[Phi]", ",", 
      RowBox[{"S", "[", 
       RowBox[{"3", ",", "3"}], "]"}]}], "]"}]}], "]"}]}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[2]:=",
 CellID->1495803151,ExpressionUUID->"43e7994d-b777-4613-8787-aab3582a14a8"],

Cell[BoxData[
 RowBox[{"ControlledExp", "[", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{
     InterpretationBox[
      SubscriptBox[
       TemplateBox[{"S"},
        "RowDefault"], 
       TemplateBox[{"1"},
        "RowDefault"]],
      $CellContext`S[1, None]], ",", 
     InterpretationBox[
      SubscriptBox[
       TemplateBox[{"S"},
        "RowDefault"], 
       TemplateBox[{"2"},
        "RowDefault"]],
      $CellContext`S[2, None]]}], "}"}], ",", 
   InterpretationBox[
    TagBox[
     FormBox[
      TagBox[
       RowBox[{
        FormBox[
         InterpretationBox[
          TemplateBox[{
            TemplateBox[{"S"}, "RowDefault"], 
            TemplateBox[{"3"}, "RowDefault"], 
            TemplateBox[{"\"z\""}, "RowDefault"]},
           "Subsuperscript"],
          $CellContext`S[3, 3]],
         TraditionalForm], "\[InvisibleApplication]", 
        RowBox[{"(", "\[Phi]", ")"}]}],
       HoldForm],
      TraditionalForm],
     TraditionalForm,
     Editable->True],
    Q3`Phase[$CellContext`\[Phi], 
     $CellContext`S[3, 3]]]}], "]"}]], "Output",
 CellLabel->"Out[2]=",
 CellID->1904010857,ExpressionUUID->"a77fe810-4595-4ce8-ad84-c64b2de2d4aa"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"op", "**", 
  RowBox[{"Ket", "[", 
   RowBox[{
    RowBox[{
     RowBox[{"S", "@", 
      RowBox[{"{", 
       RowBox[{"1", ",", "2"}], "}"}]}], "->", "1"}], ",", 
    RowBox[{
     RowBox[{"S", "[", "3", "]"}], "->", "1"}]}], "]"}]}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[3]:=",
 CellID->2104788460,ExpressionUUID->"db4b4573-02cf-42e8-9571-711f0f01a586"],

Cell[BoxData[
 RowBox[{
  SuperscriptBox["\[ExponentialE]", 
   RowBox[{"3", " ", "\[ImaginaryI]", " ", "\[Phi]"}]], " ", 
  InterpretationBox[
   TemplateBox[{
     TemplateBox[{
       SubscriptBox["1", 
        InterpretationBox[
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"1"}, "RowDefault"]], 
         $CellContext`S[1, None]]], 
       SubscriptBox["1", 
        InterpretationBox[
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"2"}, "RowDefault"]], 
         $CellContext`S[2, None]]], 
       SubscriptBox["1", 
        InterpretationBox[
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"3"}, "RowDefault"]], 
         $CellContext`S[3, None]]]}, "RowDefault"]},
    "Ket"],
   Ket[<|$CellContext`S[1, None] -> 1, $CellContext`S[2, None] -> 
     1, $CellContext`S[3, None] -> 1|>]]}]], "Output",
 CellLabel->"Out[3]=",
 CellID->615612222,ExpressionUUID->"c6c244ac-25f4-4f2e-b66b-0b7fbd544ea1"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"bs", "=", 
   RowBox[{"Basis", "[", 
    RowBox[{"S", "@", 
     RowBox[{"{", 
      RowBox[{"1", ",", "2"}], "}"}]}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"in", "=", 
  RowBox[{
   RowBox[{"Total", "[", "bs", "]"}], "**", 
   RowBox[{"Ket", "[", 
    RowBox[{
     RowBox[{"S", "[", "3", "]"}], "->", "1"}], "]"}]}]}]}], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[4]:=",
 CellID->1154618494,ExpressionUUID->"ca6ccab4-701c-4904-85bc-2de3b98289cd"],

Cell[BoxData[
 RowBox[{
  InterpretationBox[
   TemplateBox[{
     TemplateBox[{
       SubscriptBox["1", 
        InterpretationBox[
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"1"}, "RowDefault"]], 
         $CellContext`S[1, None]]], 
       SubscriptBox["1", 
        InterpretationBox[
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"2"}, "RowDefault"]], 
         $CellContext`S[2, None]]], 
       SubscriptBox["1", 
        InterpretationBox[
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"3"}, "RowDefault"]], 
         $CellContext`S[3, None]]]}, "RowDefault"]},
    "Ket"],
   Ket[<|$CellContext`S[1, None] -> 1, $CellContext`S[2, None] -> 
     1, $CellContext`S[3, None] -> 1|>]], "+", 
  InterpretationBox[
   TemplateBox[{
     TemplateBox[{
       SubscriptBox["1", 
        InterpretationBox[
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"1"}, "RowDefault"]], 
         $CellContext`S[1, None]]], 
       SubscriptBox["1", 
        InterpretationBox[
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"3"}, "RowDefault"]], 
         $CellContext`S[3, None]]]}, "RowDefault"]},
    "Ket"],
   Ket[<|$CellContext`S[1, None] -> 1, $CellContext`S[3, None] -> 1|>]], "+", 
  
  InterpretationBox[
   TemplateBox[{
     TemplateBox[{
       SubscriptBox["1", 
        InterpretationBox[
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"2"}, "RowDefault"]], 
         $CellContext`S[2, None]]], 
       SubscriptBox["1", 
        InterpretationBox[
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"3"}, "RowDefault"]], 
         $CellContext`S[3, None]]]}, "RowDefault"]},
    "Ket"],
   Ket[<|$CellContext`S[2, None] -> 1, $CellContext`S[3, None] -> 1|>]], "+", 
  
  InterpretationBox[
   TemplateBox[{
     TemplateBox[{
       SubscriptBox["1", 
        InterpretationBox[
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"3"}, "RowDefault"]], 
         $CellContext`S[3, None]]]}, "RowDefault"]},
    "Ket"],
   Ket[<|$CellContext`S[3, None] -> 1|>]]}]], "Output",
 CellLabel->"Out[4]=",
 CellID->1786936226,ExpressionUUID->"b591837d-941c-4a4a-914a-4184849bc809"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"out", "=", 
   RowBox[{"op", "**", "in"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"out", "//", "LogicalForm"}]}], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[5]:=",
 CellID->1825261592,ExpressionUUID->"6c0d3b13-3e92-4232-9cc2-7eff46157e12"],

Cell[BoxData[
 RowBox[{
  InterpretationBox[
   TemplateBox[{
     TemplateBox[{
       SubscriptBox["0", 
        InterpretationBox[
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"1"}, "RowDefault"]], 
         $CellContext`S[1, None]]], 
       SubscriptBox["0", 
        InterpretationBox[
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"2"}, "RowDefault"]], 
         $CellContext`S[2, None]]], 
       SubscriptBox["1", 
        InterpretationBox[
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"3"}, "RowDefault"]], 
         $CellContext`S[3, None]]]}, "RowDefault"]},
    "Ket"],
   Ket[<|$CellContext`S[1, None] -> 0, $CellContext`S[2, None] -> 
     0, $CellContext`S[3, None] -> 1|>]], "+", 
  RowBox[{
   SuperscriptBox["\[ExponentialE]", 
    RowBox[{"\[ImaginaryI]", " ", "\[Phi]"}]], " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{
        SubscriptBox["0", 
         InterpretationBox[
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"1"}, "RowDefault"]], 
          $CellContext`S[1, None]]], 
        SubscriptBox["1", 
         InterpretationBox[
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"2"}, "RowDefault"]], 
          $CellContext`S[2, None]]], 
        SubscriptBox["1", 
         InterpretationBox[
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"3"}, "RowDefault"]], 
          $CellContext`S[3, None]]]}, "RowDefault"]},
     "Ket"],
    Ket[<|$CellContext`S[1, None] -> 0, $CellContext`S[2, None] -> 
      1, $CellContext`S[3, None] -> 1|>]]}], "+", 
  RowBox[{
   SuperscriptBox["\[ExponentialE]", 
    RowBox[{"2", " ", "\[ImaginaryI]", " ", "\[Phi]"}]], " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{
        SubscriptBox["1", 
         InterpretationBox[
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"1"}, "RowDefault"]], 
          $CellContext`S[1, None]]], 
        SubscriptBox["0", 
         InterpretationBox[
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"2"}, "RowDefault"]], 
          $CellContext`S[2, None]]], 
        SubscriptBox["1", 
         InterpretationBox[
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"3"}, "RowDefault"]], 
          $CellContext`S[3, None]]]}, "RowDefault"]},
     "Ket"],
    Ket[<|$CellContext`S[1, None] -> 1, $CellContext`S[2, None] -> 
      0, $CellContext`S[3, None] -> 1|>]]}], "+", 
  RowBox[{
   SuperscriptBox["\[ExponentialE]", 
    RowBox[{"3", " ", "\[ImaginaryI]", " ", "\[Phi]"}]], " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{
        SubscriptBox["1", 
         InterpretationBox[
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"1"}, "RowDefault"]], 
          $CellContext`S[1, None]]], 
        SubscriptBox["1", 
         InterpretationBox[
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"2"}, "RowDefault"]], 
          $CellContext`S[2, None]]], 
        SubscriptBox["1", 
         InterpretationBox[
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"3"}, "RowDefault"]], 
          $CellContext`S[3, None]]]}, "RowDefault"]},
     "Ket"],
    Ket[<|$CellContext`S[1, None] -> 1, $CellContext`S[2, None] -> 
      1, $CellContext`S[3, None] -> 1|>]]}]}]], "Output",
 CellLabel->"Out[5]=",
 CellID->1197754008,ExpressionUUID->"a3fb7a92-02bb-4069-91bb-c6c0a5a5c580"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 InterpretationBox[Cell[
  "\t", "ExampleDelimiter",ExpressionUUID->
   "ac408bd6-2458-48a3-9cbf-c880db2d3044"],
  $Line = 0; Null]], "ExampleDelimiter",
 CellID->360562160,ExpressionUUID->"54692882-e20b-4d8b-9f03-ff61715191fb"],

Cell["\<\
Convert the controlled exponentiation operator to its matrix representation \
in the computational basis.\
\>", "ExampleText",
 CellID->83261738,ExpressionUUID->"65655618-cd8b-4b84-aaeb-c1c3298f0f8c"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"mat", "=", 
   RowBox[{"Matrix", "[", "op", "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"mat", "//", "MatrixForm"}]}], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[1]:=",
 CellID->2073621093,ExpressionUUID->"fda527a0-5cc8-4730-a467-961f6ad8c0c8"],

Cell[BoxData[
 TagBox[
  RowBox[{"(", "\[NoBreak]", GridBox[{
     {"1", "0", "0", "0", "0", "0", "0", "0"},
     {"0", "1", "0", "0", "0", "0", "0", "0"},
     {"0", "0", "1", "0", "0", "0", "0", "0"},
     {"0", "0", "0", 
      SuperscriptBox["\[ExponentialE]", 
       RowBox[{"\[ImaginaryI]", " ", "\[Phi]"}]], "0", "0", "0", "0"},
     {"0", "0", "0", "0", "1", "0", "0", "0"},
     {"0", "0", "0", "0", "0", 
      SuperscriptBox["\[ExponentialE]", 
       RowBox[{"2", " ", "\[ImaginaryI]", " ", "\[Phi]"}]], "0", "0"},
     {"0", "0", "0", "0", "0", "0", "1", "0"},
     {"0", "0", "0", "0", "0", "0", "0", 
      SuperscriptBox["\[ExponentialE]", 
       RowBox[{"3", " ", "\[ImaginaryI]", " ", "\[Phi]"}]]}
    },
    GridBoxAlignment->{"Columns" -> {{Center}}, "Rows" -> {{Baseline}}},
    GridBoxSpacings->{"Columns" -> {
        Offset[0.27999999999999997`], {
         Offset[0.7]}, 
        Offset[0.27999999999999997`]}, "Rows" -> {
        Offset[0.2], {
         Offset[0.4]}, 
        Offset[0.2]}}], "\[NoBreak]", ")"}],
  Function[BoxForm`e$, 
   MatrixForm[
   SparseArray[
    Automatic, {8, 8}, 0, {
     1, {{0, 1, 2, 3, 4, 5, 6, 7, 8}, {{1}, {2}, {3}, {4}, {5}, {6}, {7}, {
       8}}}, {1, 1, 1, E^(Complex[0, 1] $CellContext`\[Phi]), 1, 
       E^(Complex[0, 2] $CellContext`\[Phi]), 1, 
       E^(Complex[0, 3] $CellContext`\[Phi])}}]]]]], "Output",
 CellLabel->"Out[1]//MatrixForm=",
 CellID->1750613705,ExpressionUUID->"b944f77f-c280-4f81-96bc-13af322420d5"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"mat", "=", 
   RowBox[{"Matrix", "[", 
    RowBox[{"op", ",", 
     RowBox[{"S", "@", 
      RowBox[{"{", 
       RowBox[{"1", ",", "2", ",", "3", ",", "4"}], "}"}]}]}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{"mat", "//", "MatrixForm"}]}], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[2]:=",
 CellID->43453953,ExpressionUUID->"71861f93-8a49-4cb1-b2e2-addc4d6551df"],

Cell[BoxData[
 TagBox[
  RowBox[{"(", "\[NoBreak]", GridBox[{
     {"1", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "1", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "1", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "1", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "1", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "1", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", 
      SuperscriptBox["\[ExponentialE]", 
       RowBox[{"\[ImaginaryI]", " ", "\[Phi]"}]], "0", "0", "0", "0", "0", 
      "0", "0", "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", 
      SuperscriptBox["\[ExponentialE]", 
       RowBox[{"\[ImaginaryI]", " ", "\[Phi]"}]], "0", "0", "0", "0", "0", 
      "0", "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "1", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "1", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      SuperscriptBox["\[ExponentialE]", 
       RowBox[{"2", " ", "\[ImaginaryI]", " ", "\[Phi]"}]], "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      SuperscriptBox["\[ExponentialE]", 
       RowBox[{"2", " ", "\[ImaginaryI]", " ", "\[Phi]"}]], "0", "0", "0", 
      "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "1", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "1", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      SuperscriptBox["\[ExponentialE]", 
       RowBox[{"3", " ", "\[ImaginaryI]", " ", "\[Phi]"}]], "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", 
      SuperscriptBox["\[ExponentialE]", 
       RowBox[{"3", " ", "\[ImaginaryI]", " ", "\[Phi]"}]]}
    },
    GridBoxAlignment->{"Columns" -> {{Center}}, "Rows" -> {{Baseline}}},
    GridBoxSpacings->{"Columns" -> {
        Offset[0.27999999999999997`], {
         Offset[0.7]}, 
        Offset[0.27999999999999997`]}, "Rows" -> {
        Offset[0.2], {
         Offset[0.4]}, 
        Offset[0.2]}}], "\[NoBreak]", ")"}],
  Function[BoxForm`e$, 
   MatrixForm[
   SparseArray[
    Automatic, {16, 16}, 0, {
     1, {{0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16}, {{1}, {
       2}, {3}, {4}, {5}, {6}, {7}, {8}, {9}, {10}, {11}, {12}, {13}, {14}, {
       15}, {16}}}, {
      1, 1, 1, 1, 1, 1, E^(Complex[0, 1] $CellContext`\[Phi]), 
       E^(Complex[0, 1] $CellContext`\[Phi]), 1, 1, 
       E^(Complex[0, 2] $CellContext`\[Phi]), 
       E^(Complex[0, 2] $CellContext`\[Phi]), 1, 1, 
       E^(Complex[0, 3] $CellContext`\[Phi]), 
       E^(Complex[0, 3] $CellContext`\[Phi])}}]]]]], "Output",
 CellLabel->"Out[2]//MatrixForm=",
 CellID->1825247631,ExpressionUUID->"9120a716-4d71-4fef-84fb-d06a4434a88e"]
}, Open  ]],

Cell["\<\
Expand the controlled exponentiation operator in terms of the Pauli operators.\
\>", "ExampleText",
 CellID->1098295329,ExpressionUUID->"f4e1cde4-0892-4331-b315-9e932b2aaa39"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"new", "=", 
  RowBox[{"Elaborate", "[", "op", "]"}]}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[3]:=",
 CellID->337611983,ExpressionUUID->"3ca5008e-3096-4154-9bf8-0b46da43860f"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   FractionBox["1", "8"], " ", 
   RowBox[{"(", 
    RowBox[{"5", "+", 
     SuperscriptBox["\[ExponentialE]", 
      RowBox[{"\[ImaginaryI]", " ", "\[Phi]"}]], "+", 
     SuperscriptBox["\[ExponentialE]", 
      RowBox[{"2", " ", "\[ImaginaryI]", " ", "\[Phi]"}]], "+", 
     SuperscriptBox["\[ExponentialE]", 
      RowBox[{"3", " ", "\[ImaginaryI]", " ", "\[Phi]"}]]}], ")"}]}], "+", 
  RowBox[{
   FractionBox["1", "8"], " ", 
   SuperscriptBox[
    RowBox[{"(", 
     RowBox[{
      RowBox[{"-", "1"}], "+", 
      SuperscriptBox["\[ExponentialE]", 
       RowBox[{"\[ImaginaryI]", " ", "\[Phi]"}]]}], ")"}], "2"], " ", 
   RowBox[{"(", 
    RowBox[{"1", "+", 
     SuperscriptBox["\[ExponentialE]", 
      RowBox[{"\[ImaginaryI]", " ", "\[Phi]"}]]}], ")"}], " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{
        InterpretationBox[
         TemplateBox[{
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"1"}, "RowDefault"], 
           TemplateBox[{"\"z\""}, "RowDefault"]}, "Subsuperscript", 
          SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[1, 3]], 
        InterpretationBox[
         TemplateBox[{
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"2"}, "RowDefault"], 
           TemplateBox[{"\"z\""}, "RowDefault"]}, "Subsuperscript", 
          SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[2, 3]]}, "RowDefault"]},
     "RowDefault"],
    Q3`Multiply[
     $CellContext`S[1, 3], 
     $CellContext`S[2, 3]]]}], "+", 
  RowBox[{
   FractionBox["1", "8"], " ", 
   RowBox[{"(", 
    RowBox[{
     RowBox[{"-", "1"}], "+", 
     SuperscriptBox["\[ExponentialE]", 
      RowBox[{"\[ImaginaryI]", " ", "\[Phi]"}]]}], ")"}], " ", 
   SuperscriptBox[
    RowBox[{"(", 
     RowBox[{"1", "+", 
      SuperscriptBox["\[ExponentialE]", 
       RowBox[{"\[ImaginaryI]", " ", "\[Phi]"}]]}], ")"}], "2"], " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{
        InterpretationBox[
         TemplateBox[{
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"1"}, "RowDefault"], 
           TemplateBox[{"\"z\""}, "RowDefault"]}, "Subsuperscript", 
          SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[1, 3]], 
        InterpretationBox[
         TemplateBox[{
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"3"}, "RowDefault"], 
           TemplateBox[{"\"z\""}, "RowDefault"]}, "Subsuperscript", 
          SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[3, 3]]}, "RowDefault"]},
     "RowDefault"],
    Q3`Multiply[
     $CellContext`S[1, 3], 
     $CellContext`S[3, 3]]]}], "+", 
  RowBox[{
   FractionBox["1", "8"], " ", 
   RowBox[{"(", 
    RowBox[{
     RowBox[{"-", "1"}], "+", 
     SuperscriptBox["\[ExponentialE]", 
      RowBox[{"\[ImaginaryI]", " ", "\[Phi]"}]], "-", 
     SuperscriptBox["\[ExponentialE]", 
      RowBox[{"2", " ", "\[ImaginaryI]", " ", "\[Phi]"}]], "+", 
     SuperscriptBox["\[ExponentialE]", 
      RowBox[{"3", " ", "\[ImaginaryI]", " ", "\[Phi]"}]]}], ")"}], " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{
        InterpretationBox[
         TemplateBox[{
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"2"}, "RowDefault"], 
           TemplateBox[{"\"z\""}, "RowDefault"]}, "Subsuperscript", 
          SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[2, 3]], 
        InterpretationBox[
         TemplateBox[{
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"3"}, "RowDefault"], 
           TemplateBox[{"\"z\""}, "RowDefault"]}, "Subsuperscript", 
          SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[3, 3]]}, "RowDefault"]},
     "RowDefault"],
    Q3`Multiply[
     $CellContext`S[2, 3], 
     $CellContext`S[3, 3]]]}], "-", 
  RowBox[{
   FractionBox["1", "8"], " ", 
   SuperscriptBox[
    RowBox[{"(", 
     RowBox[{
      RowBox[{"-", "1"}], "+", 
      SuperscriptBox["\[ExponentialE]", 
       RowBox[{"\[ImaginaryI]", " ", "\[Phi]"}]]}], ")"}], "2"], " ", 
   RowBox[{"(", 
    RowBox[{"1", "+", 
     SuperscriptBox["\[ExponentialE]", 
      RowBox[{"\[ImaginaryI]", " ", "\[Phi]"}]]}], ")"}], " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{
        InterpretationBox[
         TemplateBox[{
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"1"}, "RowDefault"], 
           TemplateBox[{"\"z\""}, "RowDefault"]}, "Subsuperscript", 
          SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[1, 3]], 
        InterpretationBox[
         TemplateBox[{
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"2"}, "RowDefault"], 
           TemplateBox[{"\"z\""}, "RowDefault"]}, "Subsuperscript", 
          SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[2, 3]], 
        InterpretationBox[
         TemplateBox[{
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"3"}, "RowDefault"], 
           TemplateBox[{"\"z\""}, "RowDefault"]}, "Subsuperscript", 
          SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[3, 3]]}, "RowDefault"]},
     "RowDefault"],
    Q3`Multiply[
     $CellContext`S[1, 3], 
     $CellContext`S[2, 3], 
     $CellContext`S[3, 3]]]}], "-", 
  RowBox[{
   FractionBox["1", "8"], " ", 
   RowBox[{"(", 
    RowBox[{
     RowBox[{"-", "1"}], "+", 
     SuperscriptBox["\[ExponentialE]", 
      RowBox[{"\[ImaginaryI]", " ", "\[Phi]"}]]}], ")"}], " ", 
   SuperscriptBox[
    RowBox[{"(", 
     RowBox[{"1", "+", 
      SuperscriptBox["\[ExponentialE]", 
       RowBox[{"\[ImaginaryI]", " ", "\[Phi]"}]]}], ")"}], "2"], " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"S"}, "RowDefault"], 
      TemplateBox[{"1"}, "RowDefault"], 
      TemplateBox[{"\"z\""}, "RowDefault"]},
     "Subsuperscript"],
    $CellContext`S[1, 3]]}], "+", 
  RowBox[{
   FractionBox["1", "8"], " ", 
   RowBox[{"(", 
    RowBox[{"1", "-", 
     SuperscriptBox["\[ExponentialE]", 
      RowBox[{"\[ImaginaryI]", " ", "\[Phi]"}]], "+", 
     SuperscriptBox["\[ExponentialE]", 
      RowBox[{"2", " ", "\[ImaginaryI]", " ", "\[Phi]"}]], "-", 
     SuperscriptBox["\[ExponentialE]", 
      RowBox[{"3", " ", "\[ImaginaryI]", " ", "\[Phi]"}]]}], ")"}], " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"S"}, "RowDefault"], 
      TemplateBox[{"2"}, "RowDefault"], 
      TemplateBox[{"\"z\""}, "RowDefault"]},
     "Subsuperscript"],
    $CellContext`S[2, 3]]}], "+", 
  RowBox[{
   FractionBox["1", "8"], " ", 
   RowBox[{"(", 
    RowBox[{"3", "-", 
     SuperscriptBox["\[ExponentialE]", 
      RowBox[{"\[ImaginaryI]", " ", "\[Phi]"}]], "-", 
     SuperscriptBox["\[ExponentialE]", 
      RowBox[{"2", " ", "\[ImaginaryI]", " ", "\[Phi]"}]], "-", 
     SuperscriptBox["\[ExponentialE]", 
      RowBox[{"3", " ", "\[ImaginaryI]", " ", "\[Phi]"}]]}], ")"}], " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"S"}, "RowDefault"], 
      TemplateBox[{"3"}, "RowDefault"], 
      TemplateBox[{"\"z\""}, "RowDefault"]},
     "Subsuperscript"],
    $CellContext`S[3, 3]]}]}]], "Output",
 CellLabel->"Out[3]=",
 CellID->1073937128,ExpressionUUID->"dedbcfc1-0645-4381-8136-34364c4b8855"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"Matrix", "[", 
    RowBox[{"new", ",", 
     RowBox[{"S", "@", 
      RowBox[{"{", 
       RowBox[{"1", ",", "2", ",", "3", ",", "4"}], "}"}]}]}], "]"}], "-", 
   "mat"}], "//", "MatrixForm"}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[4]:=",
 CellID->1061819516,ExpressionUUID->"9efc0514-79c9-40d0-9d9f-8ff227b4e5fb"],

Cell[BoxData[
 TagBox[
  RowBox[{"(", "\[NoBreak]", GridBox[{
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"}
    },
    GridBoxAlignment->{"Columns" -> {{Center}}, "Rows" -> {{Baseline}}},
    GridBoxSpacings->{"Columns" -> {
        Offset[0.27999999999999997`], {
         Offset[0.7]}, 
        Offset[0.27999999999999997`]}, "Rows" -> {
        Offset[0.2], {
         Offset[0.4]}, 
        Offset[0.2]}}], "\[NoBreak]", ")"}],
  Function[BoxForm`e$, 
   MatrixForm[
   SparseArray[
    Automatic, {16, 16}, 0, {
     1, {{0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16}, {{1}, {
       2}, {3}, {4}, {5}, {6}, {7}, {8}, {9}, {10}, {11}, {12}, {13}, {14}, {
       15}, {16}}}, {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
      0}}]]]]], "Output",
 CellLabel->"Out[4]//MatrixForm=",
 CellID->491119364,ExpressionUUID->"52dac60a-5622-4ba2-81d1-3dff5a659aae"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 InterpretationBox[Cell[
  "\t", "ExampleDelimiter",ExpressionUUID->
   "0e0b3f6a-d2df-4741-a61a-b7c886c9c63d"],
  $Line = 0; Null]], "ExampleDelimiter",
 CellID->689713619,ExpressionUUID->"17e27e71-530c-4fb8-aef8-ec274ee60c36"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"op", "=", 
  RowBox[{
   RowBox[{
    RowBox[{"S", "[", 
     RowBox[{"4", ",", "6"}], "]"}], "**", 
    RowBox[{"Phase", "[", 
     RowBox[{"\[Phi]", ",", 
      RowBox[{"S", "[", 
       RowBox[{"4", ",", "3"}], "]"}]}], "]"}], "**", 
    RowBox[{"S", "[", 
     RowBox[{"4", ",", "6"}], "]"}]}], "//", "Elaborate"}]}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[1]:=",
 CellID->2047551674,ExpressionUUID->"cf578579-8438-4b2c-962b-cb007b450fa6"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   FractionBox["1", "2"], " ", 
   RowBox[{"(", 
    RowBox[{"1", "+", 
     SuperscriptBox["\[ExponentialE]", 
      RowBox[{"\[ImaginaryI]", " ", "\[Phi]"}]]}], ")"}]}], "+", 
  RowBox[{
   FractionBox["1", "2"], " ", 
   RowBox[{"(", 
    RowBox[{"1", "-", 
     SuperscriptBox["\[ExponentialE]", 
      RowBox[{"\[ImaginaryI]", " ", "\[Phi]"}]]}], ")"}], " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"S"}, "RowDefault"], 
      TemplateBox[{"4"}, "RowDefault"], 
      TemplateBox[{"\"x\""}, "RowDefault"]},
     "Subsuperscript"],
    $CellContext`S[4, 1]]}]}]], "Output",
 CellLabel->"Out[1]=",
 CellID->1722202126,ExpressionUUID->"88632af5-4b78-4101-813a-0537ad2b3cc5"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"qc", "=", 
  RowBox[{"QuantumCircuit", "[", 
   RowBox[{
    RowBox[{"Ket", "[", 
     RowBox[{
      RowBox[{"S", "[", "4", "]"}], "->", "1"}], "]"}], ",", 
    "\[IndentingNewLine]", 
    RowBox[{"S", "[", 
     RowBox[{"4", ",", "6"}], "]"}], ",", 
    RowBox[{"ControlledExp", "[", 
     RowBox[{
      RowBox[{"S", "@", 
       RowBox[{"{", 
        RowBox[{"1", ",", "2", ",", "3"}], "}"}]}], ",", "op"}], "]"}], ",", 
    RowBox[{"S", "[", 
     RowBox[{"4", ",", "6"}], "]"}]}], "]"}]}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[2]:=",
 CellID->658842380,ExpressionUUID->"80aa047e-f3d4-4cc2-9d97-2ffe8cc0ca7d"],

Cell[BoxData[
 InterpretationBox[
  GraphicsBox[{
    {Dashing[{Small, Small}], LineBox[{}]}, 
    LineBox[{{{0, -1}, {4, -1}}, {{0, -2}, {4, -2}}, {{0, -3}, {4, -3}}, {{
     0, -4}, {4, -4}}}], InsetBox[
     StyleBox[
      TemplateBox[{"1"},
       "Ket"],
      StripOnInput->False,
      FontSize->Scaled[0.08000000000000002],
      FontWeight->"Light"], {-0.1, -4}, NCache[
     ImageScaled[{1, Rational[1, 2]}], ImageScaled[{1, 0.5}]]], {
     {GrayLevel[1], EdgeForm[None], RectangleBox[{0.6, -4.4}, {1.4, -3.6}]}, 
     LineBox[{{0.6, -4.4}, {1.4, -4.4}, {1.4, -3.6}, {0.6, -3.6}, {
      0.6, -4.4}}], InsetBox[
      StyleBox["\<\"H\"\>",
       StripOnInput->False,
       FontSize->Scaled[0.1],
       FontWeight->"Light",
       FontSlant->Italic], {1, -4}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
       ImageScaled[{0.5, 0.5}]]]}, {
     LineBox[{{2, -1}, {2, -2}, {2, -3}, {2, -4}}], 
     {GrayLevel[1], EdgeForm[GrayLevel[0]], 
      FilledCurveBox[{
       BezierCurve[{{2.4, -1}, {2.4, -0.47439999999999993`}, {
          1.6, -0.47439999999999993`}, {1.6, -1}}], 
        Line[{{1.6, -1}, {1.6, -3}}], 
        BezierCurve[{{1.6, -3.5256}, {2.4, -3.5256}, {2.4, -3}}]}]}, 
     InsetBox[
      StyleBox["\<\"x\"\>",
       StripOnInput->False,
       FontSize->Scaled[0.1],
       FontWeight->"Light",
       FontSlant->Italic], {2, -2}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
       ImageScaled[{0.5, 0.5}]]], 
     {GrayLevel[1], EdgeForm[None], RectangleBox[{1.6, -4.4}, {2.4, -3.6}]}, 
     LineBox[{{1.6, -4.4}, {2.4, -4.4}, {2.4, -3.6}, {1.6, -3.6}, {
      1.6, -4.4}}], InsetBox[
      StyleBox[
       TemplateBox[{"\"U\"", "\"x\""},
        "Superscript"],
       StripOnInput->False,
       FontSize->Scaled[0.1],
       FontWeight->"Light",
       FontSlant->Italic], {2, -4}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
       ImageScaled[{0.5, 0.5}]]]}, {
     {GrayLevel[1], EdgeForm[None], RectangleBox[{2.6, -4.4}, {3.4, -3.6}]}, 
     LineBox[{{2.6, -4.4}, {3.4, -4.4}, {3.4, -3.6}, {2.6, -3.6}, {
      2.6, -4.4}}], InsetBox[
      StyleBox["\<\"H\"\>",
       StripOnInput->False,
       FontSize->Scaled[0.1],
       FontWeight->"Light",
       FontSlant->Italic], {3, -4}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
       ImageScaled[{0.5, 0.5}]]]}},
   AxesStyle->Large,
   FrameStyle->Large,
   ImagePadding->{{23.400000000000002`, 23.400000000000002`}, {1, 1}},
   ImageSize->190.79999999999998`,
   PlotRange->NCache[{Full, {
       Rational[-9, 2], 
       Rational[-1, 2]}}, {Full, {-4.5, -0.5}}],
   PlotRangePadding->Scaled[0.025]],
  Q3`QuantumCircuit[
   Q3`QuantumCircuitIn[
    Ket[<|$CellContext`S[4, None] -> 1|>]], 
   $CellContext`S[4, 6], 
   Q3`ControlledExp[{
     $CellContext`S[1, None], 
     $CellContext`S[2, None], 
     $CellContext`S[3, None]}, 
    Rational[1, 2] (1 + E^(Complex[0, 1] $CellContext`\[Phi])) + 
    Rational[1, 2] (1 - E^(Complex[0, 1] $CellContext`\[Phi])) $CellContext`S[
      4, 1]], 
   $CellContext`S[4, 6]]]], "Output",
 CellLabel->"Out[2]=",
 CellID->538376478,ExpressionUUID->"ad25e6e5-277c-41c4-949d-78bae52cdaec"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"qc", "=", 
  RowBox[{"QuantumCircuit", "[", 
   RowBox[{
    RowBox[{"Ket", "[", 
     RowBox[{
      RowBox[{"S", "[", "4", "]"}], "->", "1"}], "]"}], ",", 
    "\[IndentingNewLine]", 
    RowBox[{"S", "[", 
     RowBox[{"4", ",", "6"}], "]"}], ",", 
    RowBox[{"Expand", "@", 
     RowBox[{"ControlledExp", "[", 
      RowBox[{
       RowBox[{"S", "@", 
        RowBox[{"{", 
         RowBox[{"1", ",", "2", ",", "3"}], "}"}]}], ",", "op"}], "]"}]}], 
    ",", 
    RowBox[{"S", "[", 
     RowBox[{"4", ",", "6"}], "]"}]}], "\[IndentingNewLine]", 
   "]"}]}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[3]:=",
 CellID->629762013,ExpressionUUID->"6aed0638-7cbc-4e07-973c-4a830dda48aa"],

Cell[BoxData[
 InterpretationBox[
  GraphicsBox[{
    {Dashing[{Small, Small}], LineBox[{}]}, 
    LineBox[{{{0, -1}, {6, -1}}, {{0, -2}, {6, -2}}, {{0, -3}, {6, -3}}, {{
     0, -4}, {6, -4}}}], InsetBox[
     StyleBox[
      TemplateBox[{"1"},
       "Ket"],
      StripOnInput->False,
      FontSize->Scaled[0.05333333333333334],
      FontWeight->"Light"], {-0.1, -4}, NCache[
     ImageScaled[{1, Rational[1, 2]}], ImageScaled[{1, 0.5}]]], {
     {GrayLevel[1], EdgeForm[None], RectangleBox[{0.6, -4.4}, {1.4, -3.6}]}, 
     LineBox[{{0.6, -4.4}, {1.4, -4.4}, {1.4, -3.6}, {0.6, -3.6}, {
      0.6, -4.4}}], InsetBox[
      StyleBox["\<\"H\"\>",
       StripOnInput->False,
       FontSize->Scaled[0.06666666666666667],
       FontWeight->"Light",
       FontSlant->Italic], {1, -4}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
       ImageScaled[{0.5, 0.5}]]]}, {LineBox[{{2, -1}, {2, -4}}], 
     DiskBox[{2, -1}, 0.09], 
     {GrayLevel[1], EdgeForm[None], RectangleBox[{1.6, -4.4}, {2.4, -3.6}]}, 
     LineBox[{{1.6, -4.4}, {2.4, -4.4}, {2.4, -3.6}, {1.6, -3.6}, {
      1.6, -4.4}}], InsetBox[
      StyleBox[
       TemplateBox[{"\"U\"", 
         TemplateBox[{"2", "2"}, "Superscript", SyntaxForm -> SuperscriptBox]},
        "Superscript"],
       StripOnInput->False,
       FontSize->Scaled[0.043333333333333335`],
       FontWeight->"Light",
       FontSlant->Italic], {2, -4}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
       ImageScaled[{0.5, 0.5}]]]}, {LineBox[{{3, -2}, {3, -4}}], 
     DiskBox[{3, -2}, 0.09], 
     {GrayLevel[1], EdgeForm[None], RectangleBox[{2.6, -4.4}, {3.4, -3.6}]}, 
     LineBox[{{2.6, -4.4}, {3.4, -4.4}, {3.4, -3.6}, {2.6, -3.6}, {
      2.6, -4.4}}], InsetBox[
      StyleBox[
       TemplateBox[{"\"U\"", 
         TemplateBox[{"2", "1"}, "Superscript", SyntaxForm -> SuperscriptBox]},
        "Superscript"],
       StripOnInput->False,
       FontSize->Scaled[0.043333333333333335`],
       FontWeight->"Light",
       FontSlant->Italic], {3, -4}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
       ImageScaled[{0.5, 0.5}]]]}, {LineBox[{{4, -3}, {4, -4}}], 
     DiskBox[{4, -3}, 0.09], 
     {GrayLevel[1], EdgeForm[None], RectangleBox[{3.6, -4.4}, {4.4, -3.6}]}, 
     LineBox[{{3.6, -4.4}, {4.4, -4.4}, {4.4, -3.6}, {3.6, -3.6}, {
      3.6, -4.4}}], InsetBox[
      StyleBox[
       TemplateBox[{"\"U\"", 
         TemplateBox[{"2", "0"}, "Superscript", SyntaxForm -> SuperscriptBox]},
        "Superscript"],
       StripOnInput->False,
       FontSize->Scaled[0.043333333333333335`],
       FontWeight->"Light",
       FontSlant->Italic], {4, -4}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
       ImageScaled[{0.5, 0.5}]]]}, {
     {GrayLevel[1], EdgeForm[None], RectangleBox[{4.6, -4.4}, {5.4, -3.6}]}, 
     LineBox[{{4.6, -4.4}, {5.4, -4.4}, {5.4, -3.6}, {4.6, -3.6}, {
      4.6, -4.4}}], InsetBox[
      StyleBox["\<\"H\"\>",
       StripOnInput->False,
       FontSize->Scaled[0.06666666666666667],
       FontWeight->"Light",
       FontSlant->Italic], {5, -4}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
       ImageScaled[{0.5, 0.5}]]]}},
   AxesStyle->Large,
   FrameStyle->Large,
   ImagePadding->{{23.400000000000002`, 23.400000000000002`}, {1, 1}},
   ImageSize->262.8,
   PlotRange->NCache[{Full, {
       Rational[-9, 2], 
       Rational[-1, 2]}}, {Full, {-4.5, -0.5}}],
   PlotRangePadding->Scaled[0.025]],
  Q3`QuantumCircuit[
   Q3`QuantumCircuitIn[
    Ket[<|$CellContext`S[4, None] -> 1|>]], 
   $CellContext`S[4, 6], 
   Q3`ControlledU[{
      $CellContext`S[1, None]} -> {1}, 
    Rational[1, 2] (1 + E^(Complex[0, 4] $CellContext`\[Phi])) + 
    Rational[1, 2] (1 - E^(Complex[0, 4] $CellContext`\[Phi])) $CellContext`S[
      4, 1], "Label" -> Superscript["U", 
      Superscript[2, 2]], "LabelSize" -> 0.65], 
   Q3`ControlledU[{
      $CellContext`S[2, None]} -> {1}, 
    Rational[1, 2] (1 + E^(Complex[0, 2] $CellContext`\[Phi])) + 
    Rational[1, 2] (1 - E^(Complex[0, 2] $CellContext`\[Phi])) $CellContext`S[
      4, 1], "Label" -> Superscript["U", 
      Superscript[2, 1]], "LabelSize" -> 0.65], 
   Q3`ControlledU[{
      $CellContext`S[3, None]} -> {1}, 
    Rational[1, 2] (1 + E^(Complex[0, 1] $CellContext`\[Phi])) + 
    Rational[1, 2] (1 - E^(Complex[0, 1] $CellContext`\[Phi])) $CellContext`S[
      4, 1], "Label" -> Superscript["U", 
      Superscript[2, 0]], "LabelSize" -> 0.65], 
   $CellContext`S[4, 6]]]], "Output",
 CellLabel->"Out[3]=",
 CellID->704897059,ExpressionUUID->"a1fe1705-0225-4c74-9d38-d9ae5eac1f07"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 InterpretationBox[Cell[
  "\t", "ExampleDelimiter",ExpressionUUID->
   "826f537a-6ad8-4cb6-b8c3-58e8891dacd1"],
  $Line = 0; Null]], "ExampleDelimiter",
 CellID->1935006837,ExpressionUUID->"034d79bd-3423-4766-9526-e22e165360af"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"op", "=", 
  RowBox[{
   RowBox[{
    RowBox[{"S", "[", 
     RowBox[{"4", ",", "6"}], "]"}], "**", 
    RowBox[{"Phase", "[", 
     RowBox[{"\[Phi]", ",", 
      RowBox[{"S", "[", 
       RowBox[{"4", ",", "3"}], "]"}]}], "]"}], "**", 
    RowBox[{"S", "[", 
     RowBox[{"4", ",", "6"}], "]"}]}], "//", "Elaborate"}]}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[1]:=",
 CellID->1747542897,ExpressionUUID->"40b1aafd-8e07-4bbc-92be-ad01bcf309dc"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   FractionBox["1", "2"], " ", 
   RowBox[{"(", 
    RowBox[{"1", "+", 
     SuperscriptBox["\[ExponentialE]", 
      RowBox[{"\[ImaginaryI]", " ", "\[Phi]"}]]}], ")"}]}], "+", 
  RowBox[{
   FractionBox["1", "2"], " ", 
   RowBox[{"(", 
    RowBox[{"1", "-", 
     SuperscriptBox["\[ExponentialE]", 
      RowBox[{"\[ImaginaryI]", " ", "\[Phi]"}]]}], ")"}], " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"S"}, "RowDefault"], 
      TemplateBox[{"4"}, "RowDefault"], 
      TemplateBox[{"\"x\""}, "RowDefault"]},
     "Subsuperscript"],
    $CellContext`S[4, 1]]}]}]], "Output",
 CellLabel->"Out[1]=",
 CellID->931336801,ExpressionUUID->"a9856de4-78c6-4f47-ada8-8b3336c94d03"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"qc", "=", 
  RowBox[{"QuantumCircuit", "[", 
   RowBox[{
    RowBox[{"Ket", "[", 
     RowBox[{
      RowBox[{"S", "[", "4", "]"}], "->", "1"}], "]"}], ",", 
    "\[IndentingNewLine]", 
    RowBox[{"S", "[", 
     RowBox[{"4", ",", "6"}], "]"}], ",", 
    RowBox[{"ControlledExp", "[", 
     RowBox[{
      RowBox[{"S", "@", 
       RowBox[{"{", 
        RowBox[{"1", ",", "2", ",", "3"}], "}"}]}], ",", "op"}], "]"}], ",", 
    RowBox[{"S", "[", 
     RowBox[{"4", ",", "6"}], "]"}]}], "]"}]}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[2]:=",
 CellID->765966584,ExpressionUUID->"e2fdfe6a-610b-4723-965d-c20fb88ec766"],

Cell[BoxData[
 InterpretationBox[
  GraphicsBox[{
    {Dashing[{Small, Small}], LineBox[{}]}, 
    LineBox[{{{0, -1}, {4, -1}}, {{0, -2}, {4, -2}}, {{0, -3}, {4, -3}}, {{
     0, -4}, {4, -4}}}], InsetBox[
     StyleBox[
      TemplateBox[{"1"},
       "Ket"],
      StripOnInput->False,
      FontSize->Scaled[0.08000000000000002],
      FontWeight->"Light"], {-0.1, -4}, NCache[
     ImageScaled[{1, Rational[1, 2]}], ImageScaled[{1, 0.5}]]], {
     {GrayLevel[1], EdgeForm[None], RectangleBox[{0.6, -4.4}, {1.4, -3.6}]}, 
     LineBox[{{0.6, -4.4}, {1.4, -4.4}, {1.4, -3.6}, {0.6, -3.6}, {
      0.6, -4.4}}], InsetBox[
      StyleBox["\<\"H\"\>",
       StripOnInput->False,
       FontSize->Scaled[0.1],
       FontWeight->"Light",
       FontSlant->Italic], {1, -4}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
       ImageScaled[{0.5, 0.5}]]]}, {
     LineBox[{{2, -1}, {2, -2}, {2, -3}, {2, -4}}], 
     {GrayLevel[1], EdgeForm[GrayLevel[0]], 
      FilledCurveBox[{
       BezierCurve[{{2.4, -1}, {2.4, -0.47439999999999993`}, {
          1.6, -0.47439999999999993`}, {1.6, -1}}], 
        Line[{{1.6, -1}, {1.6, -3}}], 
        BezierCurve[{{1.6, -3.5256}, {2.4, -3.5256}, {2.4, -3}}]}]}, 
     InsetBox[
      StyleBox["\<\"x\"\>",
       StripOnInput->False,
       FontSize->Scaled[0.1],
       FontWeight->"Light",
       FontSlant->Italic], {2, -2}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
       ImageScaled[{0.5, 0.5}]]], 
     {GrayLevel[1], EdgeForm[None], RectangleBox[{1.6, -4.4}, {2.4, -3.6}]}, 
     LineBox[{{1.6, -4.4}, {2.4, -4.4}, {2.4, -3.6}, {1.6, -3.6}, {
      1.6, -4.4}}], InsetBox[
      StyleBox[
       TemplateBox[{"\"U\"", "\"x\""},
        "Superscript"],
       StripOnInput->False,
       FontSize->Scaled[0.1],
       FontWeight->"Light",
       FontSlant->Italic], {2, -4}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
       ImageScaled[{0.5, 0.5}]]]}, {
     {GrayLevel[1], EdgeForm[None], RectangleBox[{2.6, -4.4}, {3.4, -3.6}]}, 
     LineBox[{{2.6, -4.4}, {3.4, -4.4}, {3.4, -3.6}, {2.6, -3.6}, {
      2.6, -4.4}}], InsetBox[
      StyleBox["\<\"H\"\>",
       StripOnInput->False,
       FontSize->Scaled[0.1],
       FontWeight->"Light",
       FontSlant->Italic], {3, -4}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
       ImageScaled[{0.5, 0.5}]]]}},
   AxesStyle->Large,
   FrameStyle->Large,
   ImagePadding->{{23.400000000000002`, 23.400000000000002`}, {1, 1}},
   ImageSize->190.79999999999998`,
   PlotRange->NCache[{Full, {
       Rational[-9, 2], 
       Rational[-1, 2]}}, {Full, {-4.5, -0.5}}],
   PlotRangePadding->Scaled[0.025]],
  Q3`QuantumCircuit[
   Q3`QuantumCircuitIn[
    Ket[<|$CellContext`S[4, None] -> 1|>]], 
   $CellContext`S[4, 6], 
   Q3`ControlledExp[{
     $CellContext`S[1, None], 
     $CellContext`S[2, None], 
     $CellContext`S[3, None]}, 
    Rational[1, 2] (1 + E^(Complex[0, 1] $CellContext`\[Phi])) + 
    Rational[1, 2] (1 - E^(Complex[0, 1] $CellContext`\[Phi])) $CellContext`S[
      4, 1]], 
   $CellContext`S[4, 6]]]], "Output",
 CellLabel->"Out[2]=",
 CellID->56392534,ExpressionUUID->"9fbcf039-3fa4-4686-b734-4fb931fcd6ca"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"in", "=", 
   RowBox[{"Total", "@", 
    RowBox[{"Basis", "[", 
     RowBox[{"S", "@", 
      RowBox[{"{", 
       RowBox[{"1", ",", "2", ",", "3"}], "}"}]}], "]"}]}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{"in", "//", "LogicalForm"}]}], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[3]:=",
 CellID->538882566,ExpressionUUID->"f34e1d4c-09b7-4640-aa4d-253215d8cd32"],

Cell[BoxData[
 GraphicsBox[
  TagBox[RasterBox[CompressedData["
1:eJztnWloFFsahjsdI8FoGOOKCypRc1HEFXcjI65xwwQN7ubiFo0manAIuI8L
+EMdjOaKC9gaRUVBMSoiqLj/iAlGBeOGu2PACO5bas54sKjbp7pS3V1Vp1Pf
+4DSXXWq3q/6Od8Jaao7bf7MTp3t9Xg8S2LZf6kZ//rn4sUZeWn/YE/GL1yS
OWfhrJkjFubOmjNrce8/o9nGP9i/9jEez/8fKwAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAADA32nUqJHsEiiSnZ29ZcsWiQXAuxTgnSbwThN4pwm80wTe
aQLvNAnBO0xJYfPmzZ07d5ZYALxLAd5pAu80gXeawDtN4J0m8E6TELzDlBQe
PXrk8XjY/7IKgHcpwDtN4J0m8E4TeKcJvNME3mkSgneYkkXnzp03bdokKx3e
ZQHvNIF3msA7TeCdJvBOE3inSbDeYUoWK1euTE5OlpUO77KAd5rAO03gnSbw
ThN4pwm80yRY79WaKisrW7p0KTtnx44dZ8yYsW/fvvAKrB4KiYzS0tLo6OiK
igoHskTgnfP582efz5eZmenYF1/Au4jDFtDvIhS8S0mMcO8Kge5Dv+vieu8K
+l0P16+66HddXO9dSmKw3o1NnTp1qm7dup6/k5GR8e3bNyuKJZqo0rp16927
d9udogu879mzZ8iQIfHx8TyrW7duNgWJwLuK8xbQ7yIUvKPfRSh0H/pdhIJ3
9LsIhVUX/S5CwXtN6XcDU/fv32e/vLPiR48eXVJS8uLFi/z8/Fq1arEteXl5
FhVLLlFLTk4Oy7U7RRfi3hkpKSnaNdnJDoV3FYctoN9FKHiXkqgSmd4VAt2H
ftfF9d4V9Lserl910e+6uN67lESVoLwbmMrKymKVDxgwQPvu0J49e9jG+vXr
f/jwIdxCSSZquXDhQmxsrN0puhD3znj37t1/f7Fs2TKHOxTeVRy2gH4XoeBd
SqJKZHpXCHQf+l0X13tX0O96uH7VRb/r4nrvUhJVgvIeyNTHjx/j4uJY5UeP
HtVu//79e9OmTdn2nTt3WlArsUQ/fvz40bBhQ790Z6Ds3Y9NmzY53KHwLuKA
BenXCO8izncf+l3Eld0nfW7DuxIBFtDvIq5cdaXPNHinmRiU90Cm7ty5w8qu
U6eO+PGH+fPns13Z2dnhFkovUSQjI2PKlCkhHPjw4cNz586FnEvZux/Od6gC
7wIOWJB+jQq8C1D4iaxEnnc/XNl90ue2Au8RYAH9LuLKVVf6TFPgnWSiEoz3
QKbOnj3Lym7btq3y61f45cuXT5o06fbt2+zpxo0b2a60tDQLCyaSKHL8+PH6
9et///492AN37NjRr1+/kHMpe/dDSofCux8OWJB+jQq8CxD5iRxp3v1wZfdJ
n9sKvEeABfS7iCtXXekzTYF3kolKMN4DmeKffejfvz97XFRU5PnF2LFj2VOf
z8ce9+7d2++QysrKkpKSt2/fhlYzhUSRT58+xcXFhfDulk0dStCCmQ6FdxdY
kH6NCrwLON996HcRV3af9LmtwHsEWEC/i7hy1ZU+0xR4J5moBOM9kKmCggJW
9qBBg5Rf37fPZ++oUaPY00OHDrHHXbp0UQffv39/yJAhnt+0bduWjQm2ZgqJ
uqSmpmZlZQV7lE0dStCCcYfCu2ssSL9GDrxrcb770O8iruw+6XObA+/UVhgO
ce/OJ0qfaRx4p5bIMek9kKnjx4+zejp16qT8vkNj+vTp/A6NrVu3sl0jR47k
I798+dKuXbuoqKjJkyezabNmzZr27duzAdeuXQuqYAqJuvh8vhYtWpgZWVVV
9fM3bHnp27fvTw1BhVL27odBh8K74iIL0q+RA+9anO8+9LuIK7tP+tzmwDu1
FYZD3LvzidJnGgfeqSVyTHoPZKq4uJhVoruXf/v67Nmz+dOrV69qJ7Py6zsD
Dx48GGzBFBJ1efz4MTv5o0ePqh2pfXNGxMwZVCh798OgQ+FdcZEF6dfIgXct
zncf+l3Eld0nfW5z4J3aCsMh7t35ROkzjQPv1BI5Jr0HMlVRUREVFcXOUFpa
6rerZ8+ebPv69ev5U37/Rgj3URBM1IUZb9q0aVVVVbUjX758Wf6bVatWdenS
pVxDUG+LUfbuh0GHwrviIgvSr5ED71qc7z70u4gru0/63ObAO7UVhkPcu/OJ
0mcaB96pJXJMejcwNXz4cLG8W7dusY1er1f9Xf7t27cNGjRgUz0nJ+fp06e6
p6qsrCwsLExPTy8oKDAoxqrE4uLiBQsWdO/evUOHDixUbEDLE2/evJmZmcn6
ul27diNGjDh8+LDBZfrBKlTffDOPfZ/7oOBdi0GHwrut3rWEYwH9Xi3EvVuV
6CbvWsJ5TZQIXufR78a41btV1wjvuodH7DqPfjfGrd6tSnTAu4Gp06dPs8qj
o6P379/Pt7x8+TIpKYltHDdunHbklStXWrVqxQenpaVdvnxZu3fDhg38rSfG
rFmzDIqxJJFN3dq1ayckJEyYMIHJYmNiYmLYK2lf4l9//cU2MpVs+9ixY+vU
qcOGrVu3zuBKVb5+/RofH3/q1Ckzg7XY16EUvGsx/qYFeLfPu5aQLaDfzUDc
uyWJLvOuJeTXRInsdR79boxbvVtyjfBe49Z59LsxbvVuSaIz3g1MVVVVTZs2
jYWy15ldckpKCjsne9qyZct79+6JiXv37u3Rowc3wn7fZ1v4ruvXrxcUFPC/
iGdsypLEFStWJCcnq1/8fuzYMbZ3/Pjx9iWWl5dPnDixoqKCD3vw4IHX623e
vLnBlaqcOXOmXr16X758MTNYi30dSsF7ampq49/UrVuXn0rdMmzYMDOJ8B6m
d0ssoN/NQNw7+l3EktdEiex1Hv0uQsE7+l3Eee/4+W4eeCfS78bvjbAJvHz5
8oSEBF5brVq1Bg4c+Pz5c4NDLl261LVrV4/mQxOcN2/eVGvKqsQfP36oe3/+
/Mle844dOzpwjSpsL/OuLSMQc+fODTSLjCkuLt61a1cIB3KIe+ef6wmE9q9I
mLlGFXhXMePdKgvo92oh7h39LmLtaxKZ67xViX7Au0pkeke/izjvHT/fzQPv
RPrdzN0IbA7fvXv32rVrHz9+NHNONr3ZVQwdOlS70eTKbGEi5+vXr3FxcSkp
KY4lHjp0iLX5vHnzqj0JC23WrFlhYaGZRGuB99CAd5HwvQcL+j1Y4N3yRNd4
D5aauM6j38OnJnoPFngXqYnrPPo9fGqidwsTbfIevqkLFy7k5uZ++vRJ3cJv
AJg6dap2mIWmTCZy8vPz2a4dO3bYnVhUVMTmQ5s2bZimnJycysrKak9748aN
mJgYMyMtB96tSoR3eId3FXgXgXc7Ejnwrgu8W5UI7/AO7yrwLhKU9/BNpaen
s5oTExOXLFmybds25oKdk1V76dIl7TALTZlMZJSWlsbGxvK/LG93InPXr1+/
li1bspHJyclmvlgvLy9v8ODB4RQWMvBuVSK8wzu8q8C7CLzbkajAe2Dg3apE
eId3eFeBd5GgvIdvqqqqavv27UlJSV6vl982zx4XFRX5DbPQlMnEsrKyxo0b
s5fuyZMnziRyrl69ykITEhJevXplfNoOHTrk5+eHWVtowLuFiRx41wLvIvBu
RyK8GwDvFiZy4F0LvIvAux2J8G4AvFuYyLHJu4X3/79//76kpET9qjc/7Lj/
3yCxtLSUXVqTJk3Eryi0KVHLrl272MX6fD6DMeXl5WzMs2fPLCzPPPBuVaIW
eFeBdz/g3Y5EeDcG3q1K1ALvKvDuB7zbkQjvxsC7VYla7PBuxyfudbH1E/d+
nDt3Lj4+vlWrVtZqCsSJEyfKysq0W/Ly8tjFsu0GR23cuLF79+42lxYQeA8f
eDcA3v2Ad8uB92qB9/CBdwPg3Q94txx4rxZ4Dx9nvNttqry8/D+/WL16NSu+
T58+/On58+dtSjxw4EDt2rVZ1qJFi9auXfvv31y8eNGOuG/fvrEpwRLnzJnj
8/lOnjyZlZXl9XoTExPfv39vcGDfvn1ZVXaUZAZ4DxN41wXeAwHv1gLvZoD3
MIF3XeA9EPBuLfBuBngPE8e8223qyJEjHj1mzpxpU2KvXr10E1euXGlT4ps3
b6ZNm9akSRMeFBUVNWbMmIcPHxoc8vr1a2bT7x0VJ4H38IF3EXjXBd4tB97N
AO/hA+8i8K4LvFsOvJsB3sPHGe+O3Y1AgRcvXty6dcv4LRHOzp07ExMTHSgp
EPBuIfBOE3inCbzTBN5pAu80gXea2OodpqSQnp6em5srsQB4lwK80wTeaQLv
NIF3msA7TeCdJiF4hymawDtN4J0m8E4TeKcJvNME3mkC7zUFmKIJvNME3mkC
7zSBd5rAO03gnSbwXlOAKZrAO03gnSbwThN4pwm80wTeaQLvAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAEBE8T9w3gdO
    "], {{0, 20.}, {659., 0}}, {0, 255},
    ColorFunction->RGBColor,
    ImageResolution->{144., 144.},
    SmoothingQuality->"High"],
   BoxForm`ImageTag["Byte", ColorSpace -> "RGB", Interleaving -> True],
   Selectable->False],
  DefaultBaseStyle->"ImageGraphics",
  ImageSize->Automatic,
  ImageSizeRaw->{659., 20.},
  PlotRange->{{0, 659.}, {0, 20.}}]], "Output",
 CellTags->"RasterizedOutput",
 CellLabel->"Out[3]=",
 CellID->695707531,ExpressionUUID->"7a74f9d4-b3af-4e08-8887-db652c7e0d56"]
}, Open  ]],

Cell["\<\
Operating on the superposition state, the controlled exponentiation induces \
relative phase shifts.\
\>", "ExampleText",
 CellID->1730346951,ExpressionUUID->"34cac316-4777-4267-a51a-90e9a9e4d86a"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"out", "=", 
   RowBox[{"qc", "**", "in"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"LogicalForm", "[", "out", "]"}]}], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[4]:=",
 CellID->1719176194,ExpressionUUID->"f6c6be04-47e9-40ee-8e42-aaf41c6ba907"],

Cell[BoxData[
 RowBox[{
  InterpretationBox[
   TemplateBox[{
     TemplateBox[{
       SubscriptBox["0", 
        InterpretationBox[
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"1"}, "RowDefault"]], 
         $CellContext`S[1, None]]], 
       SubscriptBox["0", 
        InterpretationBox[
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"2"}, "RowDefault"]], 
         $CellContext`S[2, None]]], 
       SubscriptBox["0", 
        InterpretationBox[
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"3"}, "RowDefault"]], 
         $CellContext`S[3, None]]], 
       SubscriptBox["1", 
        InterpretationBox[
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"4"}, "RowDefault"]], 
         $CellContext`S[4, None]]]}, "RowDefault"]},
    "Ket"],
   Ket[<|$CellContext`S[1, None] -> 0, $CellContext`S[2, None] -> 
     0, $CellContext`S[3, None] -> 0, $CellContext`S[4, None] -> 1|>]], "+", 
  RowBox[{
   SuperscriptBox["\[ExponentialE]", 
    RowBox[{"\[ImaginaryI]", " ", "\[Phi]"}]], " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{
        SubscriptBox["0", 
         InterpretationBox[
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"1"}, "RowDefault"]], 
          $CellContext`S[1, None]]], 
        SubscriptBox["0", 
         InterpretationBox[
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"2"}, "RowDefault"]], 
          $CellContext`S[2, None]]], 
        SubscriptBox["1", 
         InterpretationBox[
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"3"}, "RowDefault"]], 
          $CellContext`S[3, None]]], 
        SubscriptBox["1", 
         InterpretationBox[
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"4"}, "RowDefault"]], 
          $CellContext`S[4, None]]]}, "RowDefault"]},
     "Ket"],
    Ket[<|$CellContext`S[1, None] -> 0, $CellContext`S[2, None] -> 
      0, $CellContext`S[3, None] -> 1, $CellContext`S[4, None] -> 1|>]]}], 
  "+", 
  RowBox[{
   SuperscriptBox["\[ExponentialE]", 
    RowBox[{"2", " ", "\[ImaginaryI]", " ", "\[Phi]"}]], " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{
        SubscriptBox["0", 
         InterpretationBox[
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"1"}, "RowDefault"]], 
          $CellContext`S[1, None]]], 
        SubscriptBox["1", 
         InterpretationBox[
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"2"}, "RowDefault"]], 
          $CellContext`S[2, None]]], 
        SubscriptBox["0", 
         InterpretationBox[
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"3"}, "RowDefault"]], 
          $CellContext`S[3, None]]], 
        SubscriptBox["1", 
         InterpretationBox[
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"4"}, "RowDefault"]], 
          $CellContext`S[4, None]]]}, "RowDefault"]},
     "Ket"],
    Ket[<|$CellContext`S[1, None] -> 0, $CellContext`S[2, None] -> 
      1, $CellContext`S[3, None] -> 0, $CellContext`S[4, None] -> 1|>]]}], 
  "+", 
  RowBox[{
   SuperscriptBox["\[ExponentialE]", 
    RowBox[{"3", " ", "\[ImaginaryI]", " ", "\[Phi]"}]], " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{
        SubscriptBox["0", 
         InterpretationBox[
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"1"}, "RowDefault"]], 
          $CellContext`S[1, None]]], 
        SubscriptBox["1", 
         InterpretationBox[
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"2"}, "RowDefault"]], 
          $CellContext`S[2, None]]], 
        SubscriptBox["1", 
         InterpretationBox[
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"3"}, "RowDefault"]], 
          $CellContext`S[3, None]]], 
        SubscriptBox["1", 
         InterpretationBox[
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"4"}, "RowDefault"]], 
          $CellContext`S[4, None]]]}, "RowDefault"]},
     "Ket"],
    Ket[<|$CellContext`S[1, None] -> 0, $CellContext`S[2, None] -> 
      1, $CellContext`S[3, None] -> 1, $CellContext`S[4, None] -> 1|>]]}], 
  "+", 
  RowBox[{
   SuperscriptBox["\[ExponentialE]", 
    RowBox[{"4", " ", "\[ImaginaryI]", " ", "\[Phi]"}]], " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{
        SubscriptBox["1", 
         InterpretationBox[
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"1"}, "RowDefault"]], 
          $CellContext`S[1, None]]], 
        SubscriptBox["0", 
         InterpretationBox[
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"2"}, "RowDefault"]], 
          $CellContext`S[2, None]]], 
        SubscriptBox["0", 
         InterpretationBox[
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"3"}, "RowDefault"]], 
          $CellContext`S[3, None]]], 
        SubscriptBox["1", 
         InterpretationBox[
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"4"}, "RowDefault"]], 
          $CellContext`S[4, None]]]}, "RowDefault"]},
     "Ket"],
    Ket[<|$CellContext`S[1, None] -> 1, $CellContext`S[2, None] -> 
      0, $CellContext`S[3, None] -> 0, $CellContext`S[4, None] -> 1|>]]}], 
  "+", 
  RowBox[{
   SuperscriptBox["\[ExponentialE]", 
    RowBox[{"5", " ", "\[ImaginaryI]", " ", "\[Phi]"}]], " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{
        SubscriptBox["1", 
         InterpretationBox[
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"1"}, "RowDefault"]], 
          $CellContext`S[1, None]]], 
        SubscriptBox["0", 
         InterpretationBox[
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"2"}, "RowDefault"]], 
          $CellContext`S[2, None]]], 
        SubscriptBox["1", 
         InterpretationBox[
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"3"}, "RowDefault"]], 
          $CellContext`S[3, None]]], 
        SubscriptBox["1", 
         InterpretationBox[
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"4"}, "RowDefault"]], 
          $CellContext`S[4, None]]]}, "RowDefault"]},
     "Ket"],
    Ket[<|$CellContext`S[1, None] -> 1, $CellContext`S[2, None] -> 
      0, $CellContext`S[3, None] -> 1, $CellContext`S[4, None] -> 1|>]]}], 
  "+", 
  RowBox[{
   SuperscriptBox["\[ExponentialE]", 
    RowBox[{"6", " ", "\[ImaginaryI]", " ", "\[Phi]"}]], " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{
        SubscriptBox["1", 
         InterpretationBox[
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"1"}, "RowDefault"]], 
          $CellContext`S[1, None]]], 
        SubscriptBox["1", 
         InterpretationBox[
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"2"}, "RowDefault"]], 
          $CellContext`S[2, None]]], 
        SubscriptBox["0", 
         InterpretationBox[
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"3"}, "RowDefault"]], 
          $CellContext`S[3, None]]], 
        SubscriptBox["1", 
         InterpretationBox[
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"4"}, "RowDefault"]], 
          $CellContext`S[4, None]]]}, "RowDefault"]},
     "Ket"],
    Ket[<|$CellContext`S[1, None] -> 1, $CellContext`S[2, None] -> 
      1, $CellContext`S[3, None] -> 0, $CellContext`S[4, None] -> 1|>]]}], 
  "+", 
  RowBox[{
   SuperscriptBox["\[ExponentialE]", 
    RowBox[{"7", " ", "\[ImaginaryI]", " ", "\[Phi]"}]], " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{
        SubscriptBox["1", 
         InterpretationBox[
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"1"}, "RowDefault"]], 
          $CellContext`S[1, None]]], 
        SubscriptBox["1", 
         InterpretationBox[
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"2"}, "RowDefault"]], 
          $CellContext`S[2, None]]], 
        SubscriptBox["1", 
         InterpretationBox[
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"3"}, "RowDefault"]], 
          $CellContext`S[3, None]]], 
        SubscriptBox["1", 
         InterpretationBox[
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"4"}, "RowDefault"]], 
          $CellContext`S[4, None]]]}, "RowDefault"]},
     "Ket"],
    Ket[<|$CellContext`S[1, None] -> 1, $CellContext`S[2, None] -> 
      1, $CellContext`S[3, None] -> 1, $CellContext`S[4, None] -> 
      1|>]]}]}]], "Output",
 CellLabel->"Out[4]=",
 CellID->675776343,ExpressionUUID->"991e8d79-ae4a-4b07-8268-4b964b007394"]
}, Open  ]],

Cell["\<\
When the phase is one of the discrete values, the QFT can pick it up.\
\>", "ExampleText",
 CellID->1639236511,ExpressionUUID->"f21ebdce-16df-4873-b1f7-9388c15cc979"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"trs", "=", 
   RowBox[{"Block", "[", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"\[Phi]", "=", 
       RowBox[{"2", "Pi", "*", 
        RowBox[{"2", "/", 
         RowBox[{"2", "^", "3"}]}]}]}], "}"}], ",", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{
       RowBox[{"Dagger", "[", 
        RowBox[{"QFT", "[", 
         RowBox[{"S", "@", 
          RowBox[{"{", 
           RowBox[{"1", ",", "2", ",", "3"}], "}"}]}], "]"}], "]"}], "**", 
       "out"}], "//", "Simplify"}]}], "\[IndentingNewLine]", "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{"LogicalForm", "[", 
  RowBox[{"trs", ",", 
   RowBox[{"S", "@", 
    RowBox[{"{", 
     RowBox[{"1", ",", "2", ",", "3", ",", "4"}], "}"}]}]}], "]"}]}], "Input",\

 CellProlog:>Needs["Q3`"],
 CellLabel->"In[5]:=",
 CellID->575394993,ExpressionUUID->"b11bd4ac-91be-429d-9ada-0e6e343107f4"],

Cell[BoxData[
 RowBox[{"2", " ", 
  SqrtBox["2"], " ", 
  InterpretationBox[
   TemplateBox[{
     TemplateBox[{
       SubscriptBox["0", 
        InterpretationBox[
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"1"}, "RowDefault"]], 
         $CellContext`S[1, None]]], 
       SubscriptBox["1", 
        InterpretationBox[
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"2"}, "RowDefault"]], 
         $CellContext`S[2, None]]], 
       SubscriptBox["0", 
        InterpretationBox[
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"3"}, "RowDefault"]], 
         $CellContext`S[3, None]]], 
       SubscriptBox["1", 
        InterpretationBox[
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"4"}, "RowDefault"]], 
         $CellContext`S[4, None]]]}, "RowDefault"]},
    "Ket"],
   Ket[<|$CellContext`S[1, None] -> 0, $CellContext`S[2, None] -> 
     1, $CellContext`S[3, None] -> 0, $CellContext`S[4, None] -> 
     1|>]]}]], "Output",
 CellLabel->"Out[5]=",
 CellID->1156267756,ExpressionUUID->"9542fe37-6c91-4250-b62b-dc0a5859a823"]
}, Open  ]],

Cell["\<\
If the dimensionless phase value is not one of the discrete values that can \
be represented by the finite set of control register, the QFT results in a \
superposition. But the probability distribution has a sharp peak.\
\>", "ExampleText",
 CellID->1511280490,ExpressionUUID->"0001e554-d158-495e-b4cc-8210a4257698"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"trs", "=", 
   RowBox[{"Block", "[", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"\[Phi]", "=", 
       RowBox[{"2", "Pi", "*", 
        RowBox[{"2.125", "/", 
         RowBox[{"2", "^", "3"}]}]}]}], "}"}], ",", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{
       RowBox[{"Dagger", "[", 
        RowBox[{"QFT", "[", 
         RowBox[{"S", "@", 
          RowBox[{"{", 
           RowBox[{"1", ",", "2", ",", "3"}], "}"}]}], "]"}], "]"}], "**", 
       "out"}], "//", "Simplify"}]}], "\[IndentingNewLine]", "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{"LogicalForm", "[", 
  RowBox[{"trs", ",", 
   RowBox[{"S", "@", 
    RowBox[{"{", 
     RowBox[{"1", ",", "2", ",", "3"}], "}"}]}]}], "]"}]}], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[6]:=",
 CellID->881512640,ExpressionUUID->"c4c249c0-6eb1-48e7-aef9-6c374328891c"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"(", 
    RowBox[{"0.16507009142403095`", "\[VeryThinSpace]", "-", 
     RowBox[{"0.07807233879672618`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{
        SubscriptBox["0", 
         InterpretationBox[
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"1"}, "RowDefault"]], 
          $CellContext`S[1, None]]], 
        SubscriptBox["0", 
         InterpretationBox[
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"2"}, "RowDefault"]], 
          $CellContext`S[2, None]]], 
        SubscriptBox["0", 
         InterpretationBox[
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"3"}, "RowDefault"]], 
          $CellContext`S[3, None]]]}, "RowDefault"]},
     "Ket"],
    Ket[<|$CellContext`S[1, None] -> 0, $CellContext`S[2, None] -> 
      0, $CellContext`S[3, None] -> 0|>]]}], "+", 
  RowBox[{
   RowBox[{"(", 
    RowBox[{"0.3160669899902172`", "\[VeryThinSpace]", "-", 
     RowBox[{"0.015527375534336807`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{
        SubscriptBox["0", 
         InterpretationBox[
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"1"}, "RowDefault"]], 
          $CellContext`S[1, None]]], 
        SubscriptBox["0", 
         InterpretationBox[
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"2"}, "RowDefault"]], 
          $CellContext`S[2, None]]], 
        SubscriptBox["1", 
         InterpretationBox[
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"3"}, "RowDefault"]], 
          $CellContext`S[3, None]]]}, "RowDefault"]},
     "Ket"],
    Ket[<|$CellContext`S[1, None] -> 0, $CellContext`S[2, None] -> 
      0, $CellContext`S[3, None] -> 1|>]]}], "+", 
  RowBox[{
   RowBox[{"(", 
    RowBox[{"2.5962101484200346`", "\[VeryThinSpace]", "+", 
     RowBox[{"0.9289388448395193`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{
        SubscriptBox["0", 
         InterpretationBox[
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"1"}, "RowDefault"]], 
          $CellContext`S[1, None]]], 
        SubscriptBox["1", 
         InterpretationBox[
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"2"}, "RowDefault"]], 
          $CellContext`S[2, None]]], 
        SubscriptBox["0", 
         InterpretationBox[
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"3"}, "RowDefault"]], 
          $CellContext`S[3, None]]]}, "RowDefault"]},
     "Ket"],
    Ket[<|$CellContext`S[1, None] -> 0, $CellContext`S[2, None] -> 
      1, $CellContext`S[3, None] -> 0|>]]}], "-", 
  RowBox[{
   RowBox[{"(", 
    RowBox[{"0.2975749012646729`", "\[VeryThinSpace]", "+", 
     RowBox[{"0.2697061693323886`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{
        SubscriptBox["0", 
         InterpretationBox[
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"1"}, "RowDefault"]], 
          $CellContext`S[1, None]]], 
        SubscriptBox["1", 
         InterpretationBox[
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"2"}, "RowDefault"]], 
          $CellContext`S[2, None]]], 
        SubscriptBox["1", 
         InterpretationBox[
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"3"}, "RowDefault"]], 
          $CellContext`S[3, None]]]}, "RowDefault"]},
     "Ket"],
    Ket[<|$CellContext`S[1, None] -> 0, $CellContext`S[2, None] -> 
      1, $CellContext`S[3, None] -> 1|>]]}], "-", 
  RowBox[{
   RowBox[{"(", 
    RowBox[{"0.08613955167004794`", "\[VeryThinSpace]", "+", 
     RowBox[{"0.18212677996519847`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{
        SubscriptBox["1", 
         InterpretationBox[
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"1"}, "RowDefault"]], 
          $CellContext`S[1, None]]], 
        SubscriptBox["0", 
         InterpretationBox[
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"2"}, "RowDefault"]], 
          $CellContext`S[2, None]]], 
        SubscriptBox["0", 
         InterpretationBox[
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"3"}, "RowDefault"]], 
          $CellContext`S[3, None]]]}, "RowDefault"]},
     "Ket"],
    Ket[<|$CellContext`S[1, None] -> 1, $CellContext`S[2, None] -> 
      0, $CellContext`S[3, None] -> 0|>]]}], "-", 
  RowBox[{
   RowBox[{"(", 
    RowBox[{"0.00734390168977761`", "\[VeryThinSpace]", "+", 
     RowBox[{"0.14948855308736705`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{
        SubscriptBox["1", 
         InterpretationBox[
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"1"}, "RowDefault"]], 
          $CellContext`S[1, None]]], 
        SubscriptBox["0", 
         InterpretationBox[
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"2"}, "RowDefault"]], 
          $CellContext`S[2, None]]], 
        SubscriptBox["1", 
         InterpretationBox[
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"3"}, "RowDefault"]], 
          $CellContext`S[3, None]]]}, "RowDefault"]},
     "Ket"],
    Ket[<|$CellContext`S[1, None] -> 1, $CellContext`S[2, None] -> 
      0, $CellContext`S[3, None] -> 1|>]]}], "+", 
  RowBox[{
   RowBox[{"(", 
    RowBox[{"0.04563583907545338`", "\[VeryThinSpace]", "-", 
     RowBox[{"0.1275436259313973`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{
        SubscriptBox["1", 
         InterpretationBox[
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"1"}, "RowDefault"]], 
          $CellContext`S[1, None]]], 
        SubscriptBox["1", 
         InterpretationBox[
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"2"}, "RowDefault"]], 
          $CellContext`S[2, None]]], 
        SubscriptBox["0", 
         InterpretationBox[
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"3"}, "RowDefault"]], 
          $CellContext`S[3, None]]]}, "RowDefault"]},
     "Ket"],
    Ket[<|$CellContext`S[1, None] -> 1, $CellContext`S[2, None] -> 
      1, $CellContext`S[3, None] -> 0|>]]}], "+", 
  RowBox[{
   RowBox[{"(", 
    RowBox[{"0.09650241046095226`", "\[VeryThinSpace]", "-", 
     RowBox[{"0.10647400219210479`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{
        SubscriptBox["1", 
         InterpretationBox[
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"1"}, "RowDefault"]], 
          $CellContext`S[1, None]]], 
        SubscriptBox["1", 
         InterpretationBox[
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"2"}, "RowDefault"]], 
          $CellContext`S[2, None]]], 
        SubscriptBox["1", 
         InterpretationBox[
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"3"}, "RowDefault"]], 
          $CellContext`S[3, None]]]}, "RowDefault"]},
     "Ket"],
    Ket[<|$CellContext`S[1, None] -> 1, $CellContext`S[2, None] -> 
      1, $CellContext`S[3, None] -> 1|>]]}]}]], "Output",
 CellLabel->"Out[6]=",
 CellID->244044402,ExpressionUUID->"7627c868-b1a6-4518-822f-b884ceb6d588"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"prb", "=", 
   RowBox[{
    RowBox[{"Abs", "[", 
     RowBox[{"Normalize", "@", 
      RowBox[{"Matrix", "@", 
       RowBox[{"KetDrop", "[", 
        RowBox[{"trs", ",", 
         RowBox[{"S", "[", "4", "]"}]}], "]"}]}]}], "]"}], "^", "2"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{"ListPlot", "[", 
  RowBox[{"prb", ",", "\[IndentingNewLine]", 
   RowBox[{"Joined", "->", "True"}], ",", "\[IndentingNewLine]", 
   RowBox[{"PlotMarkers", "->", 
    RowBox[{"{", "\"\<\[FilledCircle]\>\"", "}"}]}], ",", 
   "\[IndentingNewLine]", 
   RowBox[{"DataRange", "->", 
    RowBox[{"{", 
     RowBox[{"0", ",", "7"}], "}"}]}], ",", "\[IndentingNewLine]", 
   RowBox[{"PlotRange", "->", "All"}], ",", "\[IndentingNewLine]", 
   RowBox[{"FrameLabel", "->", 
    RowBox[{"{", 
     RowBox[{"\"\<8 \[Phi] / 2\[Pi]\>\"", ",", "\"\<probability\>\""}], 
     "}"}]}]}], "]"}]}], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[7]:=",
 CellID->2115899125,ExpressionUUID->"dde9b646-5e33-4742-963a-9e63a23dab53"],

Cell[BoxData[
 GraphicsBox[{{}, {{{}, {}, 
     {RGBColor[0.368417, 0.506779, 0.709798], PointSize[
      0.012833333333333334`], Thickness[Large], 
      LineBox[{{0., 0.004167928145991091}, {1., 0.01251743019405755}, {2., 
       0.9504043140263699}, {3., 0.020161529954828873`}, {4., 
       0.0050737732928010865`}, {4.999999999999999, 0.002800095049522961}, {
       6., 0.0022937507904811105`}, {7., 0.0025811785459473055`}}]}}, 
    {RGBColor[0.368417, 0.506779, 0.709798], PointSize[0.012833333333333334`],
      Thickness[Large], GeometricTransformationBox[
      TagBox[InsetBox["\[FilledCircle]", {0., 0.}],
       "InsetString"], {{{0., 0.004167928145991091}}, {{1., 
      0.01251743019405755}}, {{2., 0.9504043140263699}}, {{3., 
      0.020161529954828873`}}, {{4., 0.0050737732928010865`}}, {{
      4.999999999999999, 0.002800095049522961}}, {{6., 
      0.0022937507904811105`}}, {{7., 0.0025811785459473055`}}}]}}, {{}, {}}},
  
  AspectRatio->NCache[GoldenRatio^(-1), 0.6180339887498948],
  Axes->{False, False},
  AxesLabel->{None, None},
  AxesOrigin->{0, 0},
  AxesStyle->Large,
  DisplayFunction->Identity,
  Frame->{{True, True}, {True, True}},
  FrameLabel->{{
     FormBox[
      TagBox["\"probability\"", HoldForm], TraditionalForm], None}, {
     FormBox[
      TagBox["\"8 \[Phi] / 2\[Pi]\"", HoldForm], TraditionalForm], None}},
  FrameStyle->Large,
  FrameTicks->{{Automatic, Automatic}, {Automatic, Automatic}},
  GridLines->{Automatic, Automatic},
  GridLinesStyle->Directive[
    GrayLevel[0.5, 0.4]],
  ImageSize->Large,
  Method->{
   "OptimizePlotMarkers" -> True, "OptimizePlotMarkers" -> True, 
    "CoordinatesToolOptions" -> {"DisplayFunction" -> ({
        Identity[
         Part[#, 1]], 
        Identity[
         Part[#, 2]]}& ), "CopiedValueFunction" -> ({
        Identity[
         Part[#, 1]], 
        Identity[
         Part[#, 2]]}& )}},
  PlotRange->{{0, 7.}, {0, 0.9504043140263699}},
  PlotRangeClipping->True,
  PlotRangePadding->{{
     Scaled[0.025], 
     Scaled[0.025]}, {
     Scaled[0.025], 
     Scaled[0.025]}},
  Ticks->{Automatic, Automatic}]], "Output",
 CellLabel->"Out[7]=",
 CellID->184078806,ExpressionUUID->"93f0dfd9-fabd-4411-8507-afa02b55d00a"]
}, Open  ]]
}, Open  ]]
}, Dynamic[CurrentValue[
 EvaluationNotebook[], {TaggingRules, "Openers", "ExampleSection", "0"}, 
  Closed]]]],

Cell[CellGroupData[{

Cell[TextData[{
 Cell[BoxData[
  DynamicBox[ToBoxes[
    If[
     MatchQ[
      CurrentValue[
       EvaluationNotebook[], {TaggingRules, "Openers", "ExampleSection", "1"},
        Closed], 
      Alternatives[Open, True]], 
     Style[
      Graphics[{
        Thickness[0.18], 
        RGBColor[0.8509803921568627, 0.396078431372549, 0], 
        Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
       PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
      0.68 Inherited], 
     Rotate[
      Style[
       Graphics[{
         Thickness[0.18], 
         RGBColor[0.8509803921568627, 0.396078431372549, 0], 
         Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
        PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
       0.68 Inherited], Rational[1, 2] Pi, {-1.65, -1}]]],
   ImageSizeCache->{14., {0.45000000000000107`, 13.549999999999999`}}]],
  ExpressionUUID->"997235d9-84c2-4d5c-a2e2-8d67e99737fd"],
 Cell[BoxData[
  TemplateBox[{1},
   "Spacer1"]],ExpressionUUID->"86bcfa93-3377-4e33-a49e-5975755796a0"],
 "Scope",
 "\[NonBreakingSpace]\[NonBreakingSpace]",
 Cell["(1)", "ExampleCount",ExpressionUUID->
  "b0c0b13c-5705-4c2a-aabd-7a96ad16eb1c"]
}], "ExampleSection", "ExampleSection",
 WholeCellGroupOpener->True,
 CacheGraphics->False,
 CellID->1911880702,ExpressionUUID->"f8debabd-17af-4e89-88e4-9f3a7b96a816"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"$m", "=", "3"}], ";"}], " ", 
  RowBox[{"(*", " ", 
   RowBox[{
   "the", " ", "number", " ", "of", " ", "qubits", " ", "in", " ", "the", 
    " ", "\"\<probe\>\"", " ", "register"}], " ", 
   "*)"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"prb", "=", 
    RowBox[{"Range", "[", "$m", "]"}]}], ";"}], " ", 
  RowBox[{"(*", " ", 
   RowBox[{"the", " ", "\"\<probe\>\"", " ", "register"}], " ", 
   "*)"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"sys", "=", 
    RowBox[{"$m", "+", "1"}]}], ";"}], " ", 
  RowBox[{"(*", " ", 
   RowBox[{"the", " ", "\"\<system\>\"", " ", "register"}], " ", 
   "*)"}]}]}], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[1]:=",
 CellID->61660548,ExpressionUUID->"38768c1f-761d-42e3-b98c-d5dce2749076"],

Cell["\<\
Consider the phase gate in the eigen-basis of the Pauli X operator.\
\>", "ExampleText",
 CellID->834601618,ExpressionUUID->"80322106-2c62-4e43-a291-361e505bd093"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"op", "=", 
  RowBox[{
   RowBox[{
    RowBox[{"S", "[", 
     RowBox[{"sys", ",", "6"}], "]"}], "**", 
    RowBox[{"Phase", "[", 
     RowBox[{"\[Phi]", ",", 
      RowBox[{"S", "[", 
       RowBox[{"sys", ",", "3"}], "]"}]}], "]"}], "**", 
    RowBox[{"S", "[", 
     RowBox[{"sys", ",", "6"}], "]"}]}], "//", "Elaborate"}]}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[2]:=",
 CellID->630087907,ExpressionUUID->"ce14cacb-50ab-41a8-b266-97a0126d68f6"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   FractionBox["1", "2"], " ", 
   RowBox[{"(", 
    RowBox[{"1", "+", 
     SuperscriptBox["\[ExponentialE]", 
      RowBox[{"\[ImaginaryI]", " ", "\[Phi]"}]]}], ")"}]}], "+", 
  RowBox[{
   FractionBox["1", "2"], " ", 
   RowBox[{"(", 
    RowBox[{"1", "-", 
     SuperscriptBox["\[ExponentialE]", 
      RowBox[{"\[ImaginaryI]", " ", "\[Phi]"}]]}], ")"}], " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"S"}, "RowDefault"], 
      TemplateBox[{"4"}, "RowDefault"], 
      TemplateBox[{"\"x\""}, "RowDefault"]},
     "Subsuperscript"],
    $CellContext`S[4, 1]]}]}]], "Output",
 CellLabel->"Out[2]=",
 CellID->1126492237,ExpressionUUID->"2fef21c5-1977-4a2b-8c9b-c850e9338434"]
}, Open  ]],

Cell["\<\
This is the quantum circuit for the controlled exponentiation.\
\>", "ExampleText",
 CellID->898727511,ExpressionUUID->"a3187f89-ff16-4b1a-b101-5f8d142531fd"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"qc", "=", 
  RowBox[{"QuantumCircuit", "[", 
   RowBox[{"ControlledExp", "[", 
    RowBox[{
     RowBox[{"S", "@", "prb"}], ",", "op"}], "]"}], "]"}]}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[3]:=",
 CellID->1336888100,ExpressionUUID->"e7f117f7-0510-4572-9783-557308353a42"],

Cell[BoxData[
 InterpretationBox[
  GraphicsBox[{
    {Dashing[{Small, Small}], LineBox[{}]}, 
    LineBox[{{{0, -1}, {2, -1}}, {{0, -2}, {2, -2}}, {{0, -3}, {2, -3}}, {{
     0, -4}, {2, -4}}}], {LineBox[{{1, -1}, {1, -2}, {1, -3}, {1, -4}}], 
     {GrayLevel[1], EdgeForm[GrayLevel[0]], 
      FilledCurveBox[{
       BezierCurve[{{1.4, -1}, {1.4, -0.47439999999999993`}, {
          0.6, -0.47439999999999993`}, {0.6, -1}}], 
        Line[{{0.6, -1}, {0.6, -3}}], 
        BezierCurve[{{0.6, -3.5256}, {1.4, -3.5256}, {1.4, -3}}]}]}, 
     InsetBox[
      StyleBox["\<\"x\"\>",
       StripOnInput->False,
       FontSize->Scaled[0.2],
       FontWeight->"Light",
       FontSlant->Italic], {1, -2}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
       ImageScaled[{0.5, 0.5}]]], 
     {GrayLevel[1], EdgeForm[None], RectangleBox[{0.6, -4.4}, {1.4, -3.6}]}, 
     LineBox[{{0.6, -4.4}, {1.4, -4.4}, {1.4, -3.6}, {0.6, -3.6}, {
      0.6, -4.4}}], InsetBox[
      StyleBox[
       TemplateBox[{"\"U\"", "\"x\""},
        "Superscript"],
       StripOnInput->False,
       FontSize->Scaled[0.2],
       FontWeight->"Light",
       FontSlant->Italic], {1, -4}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
       ImageScaled[{0.5, 0.5}]]]}},
   AxesStyle->Large,
   FrameStyle->Large,
   ImagePadding->{{23.400000000000002`, 23.400000000000002`}, {1, 1}},
   ImageSize->118.8,
   PlotRange->NCache[{Full, {
       Rational[-9, 2], 
       Rational[-1, 2]}}, {Full, {-4.5, -0.5}}],
   PlotRangePadding->Scaled[0.025]],
  Q3`QuantumCircuit[
   Q3`ControlledExp[{
     $CellContext`S[1, None], 
     $CellContext`S[2, None], 
     $CellContext`S[3, None]}, 
    Rational[1, 2] (1 + E^(Complex[0, 1] $CellContext`\[Phi])) + 
    Rational[1, 2] (1 - E^(Complex[0, 1] $CellContext`\[Phi])) $CellContext`S[
      4, 1]]]]], "Output",
 CellLabel->"Out[3]=",
 CellID->65165062,ExpressionUUID->"d919d7fe-2ad8-4260-bf69-fbec22df0c3c"]
}, Open  ]],

Cell["\<\
The controlled exponentiation can be implemented by using controlled-unitary \
gates.\
\>", "ExampleText",
 CellID->1066700697,ExpressionUUID->"4fbe218c-25ee-49f0-9197-dd6aaf8c976a"],

Cell[BoxData[
 RowBox[{
  RowBox[{"ctrlU", "[", "j_", "]"}], ":=", 
  RowBox[{"ControlledU", "[", 
   RowBox[{
    RowBox[{"S", "[", "j", "]"}], ",", 
    RowBox[{"MultiplyPower", "[", 
     RowBox[{"op", ",", 
      RowBox[{"Power", "[", 
       RowBox[{"2", ",", 
        RowBox[{"$m", "-", "j"}]}], "]"}]}], "]"}], ",", 
    RowBox[{"\"\<Label\>\"", "\[Rule]", 
     RowBox[{"Superscript", "[", 
      RowBox[{"\"\<U\>\"", ",", 
       RowBox[{"Superscript", "[", 
        RowBox[{"\"\<2\>\"", ",", 
         RowBox[{"ToString", "[", 
          RowBox[{"$m", "-", "j"}], "]"}]}], "]"}]}], "]"}]}], ",", 
    "\[IndentingNewLine]", 
    RowBox[{"\"\<LabelSize\>\"", "\[Rule]", "0.65"}]}], "]"}]}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[4]:=",
 CellID->511664418,ExpressionUUID->"631b3042-275b-437a-9dea-17c411368910"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"new", "=", 
  RowBox[{"QuantumCircuit", "[", 
   RowBox[{
    RowBox[{"ctrlU", "[", "1", "]"}], ",", 
    RowBox[{"ctrlU", "[", "2", "]"}], ",", 
    RowBox[{"ctrlU", "[", "3", "]"}]}], "]"}]}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[5]:=",
 CellID->1019350738,ExpressionUUID->"ab6bd862-3713-4ba6-88f2-ff0d07de9504"],

Cell[BoxData[
 InterpretationBox[
  GraphicsBox[{
    {Dashing[{Small, Small}], LineBox[{}]}, 
    LineBox[{{{0, -1}, {4, -1}}, {{0, -2}, {4, -2}}, {{0, -3}, {4, -3}}, {{
     0, -4}, {4, -4}}}], {LineBox[{{1, -1}, {1, -4}}], DiskBox[{1, -1}, 0.09], 
     {GrayLevel[1], EdgeForm[None], RectangleBox[{0.6, -4.4}, {1.4, -3.6}]}, 
     LineBox[{{0.6, -4.4}, {1.4, -4.4}, {1.4, -3.6}, {0.6, -3.6}, {
      0.6, -4.4}}], InsetBox[
      StyleBox[
       TemplateBox[{"\"U\"", 
         TemplateBox[{"\"2\"", "\"2\""}, "Superscript", SyntaxForm -> 
          SuperscriptBox]},
        "Superscript"],
       StripOnInput->False,
       FontSize->Scaled[0.065],
       FontWeight->"Light",
       FontSlant->Italic], {1, -4}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
       ImageScaled[{0.5, 0.5}]]]}, {LineBox[{{2, -2}, {2, -4}}], 
     DiskBox[{2, -2}, 0.09], 
     {GrayLevel[1], EdgeForm[None], RectangleBox[{1.6, -4.4}, {2.4, -3.6}]}, 
     LineBox[{{1.6, -4.4}, {2.4, -4.4}, {2.4, -3.6}, {1.6, -3.6}, {
      1.6, -4.4}}], InsetBox[
      StyleBox[
       TemplateBox[{"\"U\"", 
         TemplateBox[{"\"2\"", "\"1\""}, "Superscript", SyntaxForm -> 
          SuperscriptBox]},
        "Superscript"],
       StripOnInput->False,
       FontSize->Scaled[0.065],
       FontWeight->"Light",
       FontSlant->Italic], {2, -4}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
       ImageScaled[{0.5, 0.5}]]]}, {LineBox[{{3, -3}, {3, -4}}], 
     DiskBox[{3, -3}, 0.09], 
     {GrayLevel[1], EdgeForm[None], RectangleBox[{2.6, -4.4}, {3.4, -3.6}]}, 
     LineBox[{{2.6, -4.4}, {3.4, -4.4}, {3.4, -3.6}, {2.6, -3.6}, {
      2.6, -4.4}}], InsetBox[
      StyleBox[
       TemplateBox[{"\"U\"", 
         TemplateBox[{"\"2\"", "\"0\""}, "Superscript", SyntaxForm -> 
          SuperscriptBox]},
        "Superscript"],
       StripOnInput->False,
       FontSize->Scaled[0.065],
       FontWeight->"Light",
       FontSlant->Italic], {3, -4}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
       ImageScaled[{0.5, 0.5}]]]}},
   AxesStyle->Large,
   FrameStyle->Large,
   ImagePadding->{{23.400000000000002`, 23.400000000000002`}, {1, 1}},
   ImageSize->190.79999999999998`,
   PlotRange->NCache[{Full, {
       Rational[-9, 2], 
       Rational[-1, 2]}}, {Full, {-4.5, -0.5}}],
   PlotRangePadding->Scaled[0.025]],
  Q3`QuantumCircuit[
   Q3`ControlledU[{
      $CellContext`S[1, None]} -> {1}, 
    Rational[1, 2] (1 + E^(Complex[0, 4] $CellContext`\[Phi])) + 
    Rational[1, 2] (1 - E^(Complex[0, 4] $CellContext`\[Phi])) $CellContext`S[
      4, 1], "Label" -> Superscript["U", 
      Superscript["2", "2"]], "LabelSize" -> 0.65], 
   Q3`ControlledU[{
      $CellContext`S[2, None]} -> {1}, 
    Rational[1, 2] (1 + E^(Complex[0, 2] $CellContext`\[Phi])) + 
    Rational[1, 2] (1 - E^(Complex[0, 2] $CellContext`\[Phi])) $CellContext`S[
      4, 1], "Label" -> Superscript["U", 
      Superscript["2", "1"]], "LabelSize" -> 0.65], 
   Q3`ControlledU[{
      $CellContext`S[3, None]} -> {1}, 
    Rational[1, 2] (1 + E^(Complex[0, 1] $CellContext`\[Phi])) + 
    Rational[1, 2] (1 - E^(Complex[0, 1] $CellContext`\[Phi])) $CellContext`S[
      4, 1], "Label" -> Superscript["U", 
      Superscript["2", "0"]], "LabelSize" -> 0.65]]]], "Output",
 CellLabel->"Out[5]=",
 CellID->1216385931,ExpressionUUID->"a7c53523-5696-47cb-b7b5-acd3aba1e865"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"Elaborate", "[", "qc", "]"}], "-", 
   RowBox[{"Elaborate", "[", "new", "]"}]}], "//", "Simplify"}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[6]:=",
 CellID->793501579,ExpressionUUID->"3d947bbc-b757-4143-a8c4-884bf9291eb9"],

Cell[BoxData["0"], "Output",
 CellLabel->"Out[6]=",
 CellID->184467746,ExpressionUUID->"343888b6-db9e-4b65-9b54-9a0ea60f33a5"]
}, Open  ]]
}, Dynamic[CurrentValue[
 EvaluationNotebook[], {TaggingRules, "Openers", "ExampleSection", "1"}, 
  Closed]]]]
}, Dynamic[CurrentValue[
 EvaluationNotebook[], {TaggingRules, "Openers", "PrimaryExamplesSection"}, 
  Closed]]]],

Cell[BoxData[GridBox[{
   {
    DynamicBox[FEPrivate`ImportImage[
      FrontEnd`FileName[{"Documentation", "FooterIcons"}, 
       "RelatedFunction.png"]],
     ImageSizeCache->{50., {27., 33.}}], GridBox[{
      {
       StyleBox[
        RowBox[{"See", " ", "Also"}], "SeeAlsoSection"]},
      {Cell[TextData[{
        Cell[BoxData[
         TemplateBox[{
           Cell[
            TextData["ControlledU"]], "paclet:Q3/ref/ControlledU", 
           "Q3 Package Symbol"},
          "PackageLink",
          BaseStyle->"InlineFormula"]], "InlineFormula",
         FontFamily->"Source Sans Pro",ExpressionUUID->
         "6d59e184-6ac0-4135-8917-8f79bf72ee15"],
        "\[NonBreakingSpace]",
        StyleBox[
        "\[MediumSpace]\[FilledVerySmallSquare]\[MediumSpace]", 
         "InlineSeparator"],
        " ",
        Cell[BoxData[
         TemplateBox[{
           Cell[
            TextData["CNOT"]], "paclet:Q3/ref/CNOT", "Q3 Package Symbol"},
          "PackageLink",
          BaseStyle->"InlineFormula"]], "InlineFormula",
         FontFamily->"Source Sans Pro",ExpressionUUID->
         "072c5c6a-5efd-45d1-bb6c-af168848d937"],
        "\[NonBreakingSpace]",
        StyleBox[
        "\[MediumSpace]\[FilledVerySmallSquare]\[MediumSpace]", 
         "InlineSeparator"],
        " ",
        Cell[BoxData[
         TemplateBox[{
           Cell[
            TextData["CX"]], "paclet:Q3/ref/CX", "Q3 Package Symbol"},
          "PackageLink",
          BaseStyle->"InlineFormula"]], "InlineFormula",
         FontFamily->"Source Sans Pro",ExpressionUUID->
         "516fa686-303c-4f52-b3c7-fecc9e86d163"],
        "\[NonBreakingSpace]",
        StyleBox[
        "\[MediumSpace]\[FilledVerySmallSquare]\[MediumSpace]", 
         "InlineSeparator"],
        " ",
        Cell[BoxData[
         TemplateBox[{
           Cell[
            TextData["CZ"]], "paclet:Q3/ref/CZ", "Q3 Package Symbol"},
          "PackageLink",
          BaseStyle->"InlineFormula"]], "InlineFormula",
         FontFamily->"Source Sans Pro",ExpressionUUID->
         "b31f361b-2333-43b1-a255-01e30022d732"],
        "\[NonBreakingSpace]",
        StyleBox[
        "\[MediumSpace]\[FilledVerySmallSquare]\[MediumSpace]", 
         "InlineSeparator"],
        " ",
        Cell[BoxData[
         TemplateBox[{
           Cell[
            TextData["QuantumCircuit"]], "paclet:Q3/ref/QuantumCircuit", 
           "Q3 Package Symbol"},
          "PackageLink",
          BaseStyle->"InlineFormula"]], "InlineFormula",
         FontFamily->"Source Sans Pro",ExpressionUUID->
         "8d79f64d-2a32-4c88-b42b-f39f6a3cd622"]
       }], "SeeAlso",ExpressionUUID->"e414ae21-d324-48b5-84ab-c7d030af5047"]}
     }]}
  }]], "SeeAlsoSection",ExpressionUUID->"80a449ea-0813-4a37-91de-\
8ee822f7621d"],

Cell[BoxData[GridBox[{
   {
    DynamicBox[FEPrivate`ImportImage[
      FrontEnd`FileName[{"Documentation", "FooterIcons"}, 
       "RelatedTechNote.png"]],
     ImageSizeCache->{50., {27., 33.}}], GridBox[{
      {
       StyleBox[
        RowBox[{"Tech", " ", "Notes"}], "TechNotesSection"]},
      {
       RowBox[{
       "\[FilledVerySmallSquare]", Cell[TextData[ButtonBox[
        "Quantum Phase Estimation",
         BaseStyle->"Link",
         ButtonData->"paclet:Q3/tutorial/QuantumPhaseEstimation"]], 
         "TechNotes",ExpressionUUID->
         "800aa863-d975-4c82-afee-87d8eb6adf66"]}]},
      {
       RowBox[{"\[FilledVerySmallSquare]", Cell[BoxData[
         TemplateBox[{
           Cell[
            TextData["Multi-Control Unitary Gates"]], 
           "paclet:Q3/tutorial/MultiControlUnitaryGates"},
          "RefLinkPlain",
          BaseStyle->{"Tutorials"}]], "Tutorials",ExpressionUUID->
         "ee1a73a3-3663-4ef5-bbab-689e95a5cc5f"]}]},
      {
       RowBox[{"\[FilledVerySmallSquare]", Cell[BoxData[
         TemplateBox[{
           Cell[
            TextData["Quantum Computation: Overview"]], 
           "paclet:Q3/tutorial/QuantumComputationOverview"},
          "RefLinkPlain",
          BaseStyle->{"Tutorials"}]], "Tutorials",ExpressionUUID->
         "8da0df4b-8a41-4b3f-ac84-959133ddf84b"]}]},
      {
       RowBox[{"\[FilledVerySmallSquare]", Cell[BoxData[
         TemplateBox[{
           Cell[
            TextData["Quantum Information Systems with Q3"]], 
           "paclet:Q3/tutorial/QuantumInformationSystems"},
          "RefLinkPlain",
          BaseStyle->{"Tutorials"}]], "Tutorials",ExpressionUUID->
         "af705e42-2d26-4652-b9c5-b43e02574a51"]}]},
      {
       RowBox[{"\[FilledVerySmallSquare]", Cell[BoxData[
         TemplateBox[{
           Cell[
            TextData["Quick Quantum Computing with Q3"]], 
           "paclet:Q3/tutorial/QuickQuantumComputingWithQ3"},
          "RefLinkPlain",
          BaseStyle->{"Tutorials"}]], "Tutorials",ExpressionUUID->
         "3f140254-b5a9-4c32-aa84-f2bb434b9028"]}]},
      {
       RowBox[{"\[FilledVerySmallSquare]", Cell[BoxData[
         TemplateBox[{
           Cell[
            TextData["Q3: Quick Start"]], "paclet:Q3/tutorial/Q3QuickStart"},
          "RefLinkPlain",
          BaseStyle->{"Tutorials"}]], "Tutorials",ExpressionUUID->
         "aa643f60-be22-49c8-9521-de6d9d4b395d"]}]}
     }]}
  }]], "TechNotesSection",ExpressionUUID->"da2ee8fb-f90e-44db-96d8-\
ce99eb4e7d5f"],

Cell[BoxData[GridBox[{
   {
    DynamicBox[FEPrivate`ImportImage[
      FrontEnd`FileName[{"Documentation", "FooterIcons"}, "RelatedGuide.png"]],
     ImageSizeCache->{50., {27., 33.}}], GridBox[{
      {
       StyleBox[
        RowBox[{"Related", " ", "Guides"}], "MoreAboutSection"]},
      {
       RowBox[{"\[FilledVerySmallSquare]", Cell[BoxData[
         TemplateBox[{
           Cell[
            TextData["Quantum Information Systems"]], 
           "paclet:Q3/guide/QuantumInformationSystems"},
          "RefLinkPlain",
          BaseStyle->{"MoreAbout"}]], "MoreAbout",ExpressionUUID->
         "f11cf659-29f3-4729-a0f2-95a6b7e03e93"]}]},
      {
       RowBox[{"\[FilledVerySmallSquare]", Cell[BoxData[
         TemplateBox[{
           Cell[
            TextData["Q3"]], "paclet:Q3/guide/Q3"},
          "RefLinkPlain",
          BaseStyle->{"MoreAbout"}]], "MoreAbout",ExpressionUUID->
         "e2c164c6-79da-466a-ba19-a374807f16f8"]}]}
     }]}
  }]], "MoreAboutSection",ExpressionUUID->"beb2836a-f2c3-4f51-a440-\
e65ccc8d39b1"],

Cell[BoxData[GridBox[{
   {
    TemplateBox[{29},
     "Spacer1"], GridBox[{
      {
       RowBox[{
        TemplateBox[{17},
         "Spacer1"], 
        StyleBox[
         RowBox[{"Related", " ", "Links"}], "RelatedLinksSection"]}]},
      {Cell[TextData[Cell[BoxData[
        TemplateBox[{
          Cell[
           TextData[
            Cell[
             TextData[{
               Cell[
                BoxData[
                 DynamicBox[
                  FEPrivate`ImportImage[
                   
                   FrontEnd`FileName[{"Documentation", "FooterIcons"}, 
                    "RelatedLinks-EIWL.png"]]]]], 
               Cell[
                BoxData[
                 TemplateBox[{4}, "Spacer1"]]], 
               "An Elementary Introduction to the Wolfram Language"}]]]], 
          "https://www.wolfram.com/language/elementary-introduction/"},
         "WebLink",
         BaseStyle->{"RelatedLinks"}]],ExpressionUUID->
        "b93f2554-5d0e-40bc-8cb0-d435f85f9b2a"]], "RelatedLinks",
        ExpressionUUID->"11a31bfa-20d3-4b8a-8ceb-8db928cddbf3"]},
      {Cell[TextData[Cell[BoxData[
        TemplateBox[{
          Cell[
           TextData[
            Cell[
             TextData[{
               Cell[
                BoxData[
                 DynamicBox[
                  FEPrivate`ImportImage[
                   
                   FrontEnd`FileName[{"Documentation", "FooterIcons"}, 
                    "RelatedLinks-FastIntro.png"]]]]], 
               Cell[
                BoxData[
                 TemplateBox[{4}, "Spacer1"]]], 
               "The Wolfram Language: Fast Introduction for Programmers"}]]]],
           "https://www.wolfram.com/language/fast-introduction-for-\
programmers/"},
         "WebLink",
         BaseStyle->{"RelatedLinks"}]],ExpressionUUID->
        "b5b84b39-fcc2-4495-9bb5-974b64c8142c"]], "RelatedLinks",
        ExpressionUUID->"32d34d41-a522-49b2-8666-8fcdc4e84f68"]},
      {Cell[TextData[{
        Cell[BoxData[
         RowBox[{
          TemplateBox[{16},
           "Spacer1"], "\[FilledVerySmallSquare]", Cell[BoxData[
           TemplateBox[{
             Cell[
              TextData[
               Cell[
                TextData[{
                  Cell[
                   BoxData[
                    TemplateBox[{2}, "Spacer1"]]], 
                  "M. Nielsen and I. L. Chuang (2022)"}]]]], 
             "https://doi.org/10.1017/CBO9780511976667"},
            "WebLink",
            BaseStyle->{"RelatedLinks"}]],ExpressionUUID->
           "d8118e3b-b296-40a8-a93f-8b5c3d60d041"]}]],ExpressionUUID->
         "46ddf45e-a78b-4b6b-bc2c-fa6d46c1b545"],
        StyleBox[
        ", Quantum Computation and Quantum Information (Cambridge University \
Press, 2011).",
         FontSlant->"Plain"]
       }], "RelatedLinks",ExpressionUUID->
        "3d4bf305-7529-477d-a84c-8be347c7b530"]},
      {Cell[TextData[{
        Cell[BoxData[
         RowBox[{
          TemplateBox[{16},
           "Spacer1"], "\[FilledVerySmallSquare]", Cell[BoxData[
           TemplateBox[{
             Cell[
              TextData[
               Cell[
                TextData[{
                  Cell[
                   BoxData[
                    TemplateBox[{2}, "Spacer1"]]], 
                  "Mahn-Soo Choi (2022)"}]]]], 
             "https://doi.org/10.1007/978-3-030-91214-7"},
            "WebLink",
            BaseStyle->{"RelatedLinks"}]],ExpressionUUID->
           "ec90571c-8885-48d2-b982-33963209ee24"]}]],ExpressionUUID->
         "8f4f7b94-3b4c-470c-adca-087dcc0806bc"],
        ", A Quantum Computation Workbook (Springer, 2022)."
       }], "RelatedLinks",ExpressionUUID->
        "40d7976d-0ce8-4797-86cc-8e347640e75f"]}
     }]}
  }]], "RelatedLinksSection",ExpressionUUID->"e0f40a9b-aec7-4971-b5f0-\
373c71f3ff20"],

Cell[" ", "FooterCell",ExpressionUUID->"e15b17ad-87fb-4574-ac7f-4d8b642747c0"]
},
Saveable->False,
ScreenStyleEnvironment->"Working",
WindowSize->{900, 830},
WindowMargins->{{0, Automatic}, {Automatic, 0}},
WindowTitle->"ControlledExp",
TaggingRules->{
 "ModificationHighlight" -> False, "ColorType" -> "", "LinkTrails" -> "", 
  "HasOptions" -> True, "ExampleCounter" -> 1, 
  "Openers" -> {
   "PrimaryExamplesSection" -> Open, 
    "ExampleSection" -> {"0" -> Open, "1" -> Closed}, "NotesSection" -> 
    Closed}, "NewStyles" -> True, "CitationPopupData" -> $Failed, 
  "ShowCitation" -> False, "RootCaptions" -> "", 
  "Metadata" -> {
   "built" -> "{2023, 1, 24, 0, 56, 58.524028}", 
    "history" -> {"13.1", "", "", ""}, "context" -> "Q3`", "keywords" -> {}, 
    "specialkeywords" -> {}, "tutorialcollectionlinks" -> {}, "index" -> True,
     "label" -> "Q3 Symbol", "language" -> "en", "paclet" -> "Q3", "status" -> 
    "None", "summary" -> 
    "ControlledExp[{c1, c2, ...}, op] represents a controlled exponentiation \
gate.", "synonyms" -> {}, "tabletags" -> {}, "title" -> "ControlledExp", 
    "titlemodifier" -> "", "windowtitle" -> "ControlledExp", "type" -> 
    "Symbol", "uri" -> "Q3/ref/ControlledExp"}},
CellContext->"Global`",
FrontEndVersion->"13.2 for Mac OS X ARM (64-bit) (November 18, 2022)",
StyleDefinitions->Notebook[{
   Cell[
    StyleData[
    StyleDefinitions -> FrontEnd`FileName[{"Wolfram"}, "Reference.nb"]]], 
   Cell[
    StyleData["Input"], CellContext -> "Global`"], 
   Cell[
    StyleData["Output"], CellContext -> "Global`"]}, Visible -> False, 
  FrontEndVersion -> "13.2 for Mac OS X ARM (64-bit) (November 18, 2022)", 
  StyleDefinitions -> "Default.nb"],
ExpressionUUID->"0f0c1117-b5c2-477c-9d0b-9aec51063a81"
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{
 "PrimaryExamplesSection"->{
  Cell[17113, 467, 1389, 37, 36, "PrimaryExamplesSection",ExpressionUUID->"f1ee801c-5cbc-45f0-a51b-730f9e4f9cb5",
   CellTags->"PrimaryExamplesSection",
   CellID->548862493]},
 "RasterizedOutput"->{
  Cell[63558, 1802, 5053, 89, 41, "Output",ExpressionUUID->"7a74f9d4-b3af-4e08-8887-db652c7e0d56",
   CellTags->"RasterizedOutput",
   CellID->695707531]}
 }
*)
(*CellTagsIndex
CellTagsIndex->{
 {"PrimaryExamplesSection", 117581, 3270},
 {"RasterizedOutput", 117781, 3274}
 }
*)
(*NotebookFileOutline
Notebook[{
Cell[585, 21, 7535, 178, 57, "AnchorBarGrid",ExpressionUUID->"bfd24b7d-5d40-4abe-b659-7b74ed29ba94",
 CellID->1],
Cell[8123, 201, 85, 0, 23, "ContextNameCell",ExpressionUUID->"fde63dc9-59ff-40cc-b50f-f024461cb93f"],
Cell[CellGroupData[{
Cell[8233, 205, 1389, 38, 60, "ObjectNameGrid",ExpressionUUID->"8858c844-2eb6-4e0f-9f96-7b716ac1d5a7"],
Cell[9625, 245, 971, 26, 114, "Usage",ExpressionUUID->"df1e2fa1-fba5-4572-a409-864423852d21",
 CellID->64829665]
}, Open  ]],
Cell[CellGroupData[{
Cell[10633, 276, 1899, 47, 37, "NotesSection",ExpressionUUID->"a6485b94-79cf-4c46-b5f7-b3d560be6242",
 CellGroupingRules->{"SectionGrouping", 50},
 CellID->1534332867],
Cell[12535, 325, 2379, 78, 70, "Notes",ExpressionUUID->"c2f41ce3-45e4-4d5b-bd69-e73c069eb2d7",
 CellID->100026970],
Cell[14917, 405, 565, 15, 70, "Notes",ExpressionUUID->"e8ecf42d-30e4-4ea1-837c-866382304e2f",
 CellID->2112528434],
Cell[15485, 422, 530, 14, 70, "Notes",ExpressionUUID->"0230f574-1480-4d58-a55b-4bde45981f61",
 CellID->1630510880],
Cell[16018, 438, 256, 7, 70, "Notes",ExpressionUUID->"40b1b323-1c2b-4add-a452-fd88141c903a",
 CellID->1639654363],
Cell[16277, 447, 128, 1, 70, "Notes",ExpressionUUID->"fcc911b7-0b1c-47c3-bc06-f07a9c9cab73",
 CellID->817970626],
Cell[16408, 450, 578, 11, 70, "3ColumnTableMod",ExpressionUUID->"5c00ac90-f36c-403b-97a1-9637302d42cc",
 CellID->1589486735]
}, Dynamic[CurrentValue[EvaluationNotebook[], {TaggingRules, "Openers", "NotesSection"}, Closed]]]],
Cell[CellGroupData[{
Cell[17113, 467, 1389, 37, 36, "PrimaryExamplesSection",ExpressionUUID->"f1ee801c-5cbc-45f0-a51b-730f9e4f9cb5",
 CellTags->"PrimaryExamplesSection",
 CellID->548862493],
Cell[18505, 506, 191, 3, 31, "Input",ExpressionUUID->"3ae6a338-1c6b-4df7-90e2-76b0f0911490",
 CellID->851865642],
Cell[CellGroupData[{
Cell[18721, 513, 1368, 36, 31, "ExampleSection",ExpressionUUID->"bf97bdf3-ae50-4a8d-9470-31155969adc5",
 CellID->1289655986],
Cell[20092, 551, 209, 5, 29, "Input",ExpressionUUID->"014c9d9f-afb5-4ad8-8cc5-1c42a125b410",
 CellID->2076530764],
Cell[CellGroupData[{
Cell[20326, 560, 443, 13, 29, "Input",ExpressionUUID->"43e7994d-b777-4613-8787-aab3582a14a8",
 CellID->1495803151],
Cell[20772, 575, 1178, 41, 39, "Output",ExpressionUUID->"a77fe810-4595-4ce8-ad84-c64b2de2d4aa",
 CellID->1904010857]
}, Open  ]],
Cell[CellGroupData[{
Cell[21987, 621, 395, 12, 29, "Input",ExpressionUUID->"db4b4573-02cf-42e8-9571-711f0f01a586",
 CellID->2104788460],
Cell[22385, 635, 1039, 29, 41, "Output",ExpressionUUID->"c6c244ac-25f4-4f2e-b66b-0b7fbd544ea1",
 CellID->615612222]
}, Open  ]],
Cell[CellGroupData[{
Cell[23461, 669, 504, 15, 48, "Input",ExpressionUUID->"ca6ccab4-701c-4904-85bc-2de3b98289cd",
 CellID->1154618494],
Cell[23968, 686, 2429, 74, 41, "Output",ExpressionUUID->"b591837d-941c-4a4a-914a-4184849bc809",
 CellID->1786936226]
}, Open  ]],
Cell[CellGroupData[{
Cell[26434, 765, 287, 7, 48, "Input",ExpressionUUID->"6c0d3b13-3e92-4232-9cc2-7eff46157e12",
 CellID->1825261592],
Cell[26724, 774, 3781, 108, 41, "Output",ExpressionUUID->"a3fb7a92-02bb-4069-91bb-c6c0a5a5c580",
 CellID->1197754008]
}, Open  ]],
Cell[CellGroupData[{
Cell[30542, 887, 242, 5, 14, "ExampleDelimiter",ExpressionUUID->"54692882-e20b-4d8b-9f03-ff61715191fb",
 CellID->360562160],
Cell[30787, 894, 210, 4, 38, "ExampleText",ExpressionUUID->"65655618-cd8b-4b84-aaeb-c1c3298f0f8c",
 CellID->83261738],
Cell[CellGroupData[{
Cell[31022, 902, 294, 7, 48, "Input",ExpressionUUID->"fda527a0-5cc8-4730-a467-961f6ad8c0c8",
 CellID->2073621093],
Cell[31319, 911, 1490, 35, 174, "Output",ExpressionUUID->"b944f77f-c280-4f81-96bc-13af322420d5",
 CellID->1750613705]
}, Open  ]],
Cell[CellGroupData[{
Cell[32846, 951, 421, 12, 70, "Input",ExpressionUUID->"71861f93-8a49-4cb1-b2e2-addc4d6551df",
 CellID->43453953],
Cell[33270, 965, 3143, 69, 316, "Output",ExpressionUUID->"9120a716-4d71-4fef-84fb-d06a4434a88e",
 CellID->1825247631]
}, Open  ]],
Cell[36428, 1037, 185, 3, 70, "ExampleText",ExpressionUUID->"f4e1cde4-0892-4331-b315-9e932b2aaa39",
 CellID->1098295329],
Cell[CellGroupData[{
Cell[36638, 1044, 213, 5, 70, "Input",ExpressionUUID->"3ca5008e-3096-4154-9bf8-0b46da43860f",
 CellID->337611983],
Cell[36854, 1051, 7285, 205, 84, "Output",ExpressionUUID->"dedbcfc1-0645-4381-8136-34364c4b8855",
 CellID->1073937128]
}, Open  ]],
Cell[CellGroupData[{
Cell[44176, 1261, 376, 11, 70, "Input",ExpressionUUID->"9efc0514-79c9-40d0-9d9f-8ff227b4e5fb",
 CellID->1061819516],
Cell[44555, 1274, 2331, 53, 304, "Output",ExpressionUUID->"52dac60a-5622-4ba2-81d1-3dff5a659aae",
 CellID->491119364]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[46935, 1333, 242, 5, 70, "ExampleDelimiter",ExpressionUUID->"17e27e71-530c-4fb8-aef8-ec274ee60c36",
 CellID->689713619],
Cell[CellGroupData[{
Cell[47202, 1342, 481, 14, 70, "Input",ExpressionUUID->"cf578579-8438-4b2c-962b-cb007b450fa6",
 CellID->2047551674],
Cell[47686, 1358, 731, 22, 52, "Output",ExpressionUUID->"88632af5-4b78-4101-813a-0537ad2b3cc5",
 CellID->1722202126]
}, Open  ]],
Cell[CellGroupData[{
Cell[48454, 1385, 654, 19, 70, "Input",ExpressionUUID->"80aa047e-f3d4-4cc2-9d97-2ffe8cc0ca7d",
 CellID->658842380],
Cell[49111, 1406, 3197, 81, 163, "Output",ExpressionUUID->"ad25e6e5-277c-41c4-949d-78bae52cdaec",
 CellID->538376478]
}, Open  ]],
Cell[CellGroupData[{
Cell[52345, 1492, 721, 22, 70, "Input",ExpressionUUID->"6aed0638-7cbc-4e07-973c-4a830dda48aa",
 CellID->629762013],
Cell[53069, 1516, 4615, 107, 165, "Output",ExpressionUUID->"a1fe1705-0225-4c74-9d38-d9ae5eac1f07",
 CellID->704897059]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[57733, 1629, 243, 5, 70, "ExampleDelimiter",ExpressionUUID->"034d79bd-3423-4766-9526-e22e165360af",
 CellID->1935006837],
Cell[CellGroupData[{
Cell[58001, 1638, 481, 14, 70, "Input",ExpressionUUID->"40b1aafd-8e07-4bbc-92be-ad01bcf309dc",
 CellID->1747542897],
Cell[58485, 1654, 730, 22, 52, "Output",ExpressionUUID->"a9856de4-78c6-4f47-ada8-8b3336c94d03",
 CellID->931336801]
}, Open  ]],
Cell[CellGroupData[{
Cell[59252, 1681, 654, 19, 70, "Input",ExpressionUUID->"e2fdfe6a-610b-4723-965d-c20fb88ec766",
 CellID->765966584],
Cell[59909, 1702, 3196, 81, 163, "Output",ExpressionUUID->"9fbcf039-3fa4-4686-b734-4fb931fcd6ca",
 CellID->56392534]
}, Open  ]],
Cell[CellGroupData[{
Cell[63142, 1788, 413, 12, 70, "Input",ExpressionUUID->"f34e1d4c-09b7-4640-aa4d-253215d8cd32",
 CellID->538882566],
Cell[63558, 1802, 5053, 89, 41, "Output",ExpressionUUID->"7a74f9d4-b3af-4e08-8887-db652c7e0d56",
 CellTags->"RasterizedOutput",
 CellID->695707531]
}, Open  ]],
Cell[68626, 1894, 207, 4, 70, "ExampleText",ExpressionUUID->"34cac316-4777-4267-a51a-90e9a9e4d86a",
 CellID->1730346951],
Cell[CellGroupData[{
Cell[68858, 1902, 291, 7, 70, "Input",ExpressionUUID->"f6c6be04-47e9-40ee-8e42-aaf41c6ba907",
 CellID->1719176194],
Cell[69152, 1911, 9519, 271, 61, "Output",ExpressionUUID->"991e8d79-ae4a-4b07-8268-4b964b007394",
 CellID->675776343]
}, Open  ]],
Cell[78686, 2185, 176, 3, 70, "ExampleText",ExpressionUUID->"f21ebdce-16df-4873-b1f7-9388c15cc979",
 CellID->1639236511],
Cell[CellGroupData[{
Cell[78887, 2192, 913, 27, 70, "Input",ExpressionUUID->"b11bd4ac-91be-429d-9ada-0e6e343107f4",
 CellID->575394993],
Cell[79803, 2221, 1213, 35, 41, "Output",ExpressionUUID->"9542fe37-6c91-4250-b62b-dc0a5859a823",
 CellID->1156267756]
}, Open  ]],
Cell[81031, 2259, 327, 5, 70, "ExampleText",ExpressionUUID->"0001e554-d158-495e-b4cc-8210a4257698",
 CellID->1511280490],
Cell[CellGroupData[{
Cell[81383, 2268, 905, 26, 70, "Input",ExpressionUUID->"c4c249c0-6eb1-48e7-aef9-6c374328891c",
 CellID->881512640],
Cell[82291, 2296, 8155, 227, 81, "Output",ExpressionUUID->"7627c868-b1a6-4518-822f-b884ceb6d588",
 CellID->244044402]
}, Open  ]],
Cell[CellGroupData[{
Cell[90483, 2528, 1040, 27, 70, "Input",ExpressionUUID->"dde9b646-5e33-4742-963a-9e63a23dab53",
 CellID->2115899125],
Cell[91526, 2557, 2220, 55, 398, "Output",ExpressionUUID->"93f0dfd9-fabd-4411-8507-afa02b55d00a",
 CellID->184078806]
}, Open  ]]
}, Open  ]]
}, Dynamic[CurrentValue[EvaluationNotebook[], {TaggingRules, "Openers", "ExampleSection", "0"}, Closed]]]],
Cell[CellGroupData[{
Cell[93907, 2621, 1394, 36, 70, "ExampleSection",ExpressionUUID->"f8debabd-17af-4e89-88e4-9f3a7b96a816",
 CellID->1911880702],
Cell[95304, 2659, 823, 25, 70, "Input",ExpressionUUID->"38768c1f-761d-42e3-b98c-d5dce2749076",
 CellID->61660548],
Cell[96130, 2686, 173, 3, 70, "ExampleText",ExpressionUUID->"80322106-2c62-4e43-a291-361e505bd093",
 CellID->834601618],
Cell[CellGroupData[{
Cell[96328, 2693, 486, 14, 70, "Input",ExpressionUUID->"ce14cacb-50ab-41a8-b266-97a0126d68f6",
 CellID->630087907],
Cell[96817, 2709, 731, 22, 52, "Output",ExpressionUUID->"2fef21c5-1977-4a2b-8c9b-c850e9338434",
 CellID->1126492237]
}, Open  ]],
Cell[97563, 2734, 168, 3, 70, "ExampleText",ExpressionUUID->"a3187f89-ff16-4b1a-b101-5f8d142531fd",
 CellID->898727511],
Cell[CellGroupData[{
Cell[97756, 2741, 312, 8, 70, "Input",ExpressionUUID->"e7f117f7-0510-4572-9783-557308353a42",
 CellID->1336888100],
Cell[98071, 2751, 1956, 49, 167, "Output",ExpressionUUID->"d919d7fe-2ad8-4260-bf69-fbec22df0c3c",
 CellID->65165062]
}, Open  ]],
Cell[100042, 2803, 192, 4, 70, "ExampleText",ExpressionUUID->"4fbe218c-25ee-49f0-9197-dd6aaf8c976a",
 CellID->1066700697],
Cell[100237, 2809, 834, 22, 70, "Input",ExpressionUUID->"631b3042-275b-437a-9dea-17c411368910",
 CellID->511664418],
Cell[CellGroupData[{
Cell[101096, 2835, 354, 9, 70, "Input",ExpressionUUID->"ab6bd862-3713-4ba6-88f2-ff0d07de9504",
 CellID->1019350738],
Cell[101453, 2846, 3393, 78, 167, "Output",ExpressionUUID->"a7c53523-5696-47cb-b7b5-acd3aba1e865",
 CellID->1216385931]
}, Open  ]],
Cell[CellGroupData[{
Cell[104883, 2929, 282, 7, 70, "Input",ExpressionUUID->"3d947bbc-b757-4143-a8c4-884bf9291eb9",
 CellID->793501579],
Cell[105168, 2938, 126, 2, 37, "Output",ExpressionUUID->"343888b6-db9e-4b65-9b54-9a0ea60f33a5",
 CellID->184467746]
}, Open  ]]
}, Dynamic[CurrentValue[EvaluationNotebook[], {TaggingRules, "Openers", "ExampleSection", "1"}, Closed]]]]
}, Dynamic[CurrentValue[EvaluationNotebook[], {TaggingRules, "Openers", "PrimaryExamplesSection"}, Closed]]]],
Cell[105536, 2949, 2780, 75, 70, "SeeAlsoSection",ExpressionUUID->"80a449ea-0813-4a37-91de-8ee822f7621d"],
Cell[108319, 3026, 2503, 63, 70, "TechNotesSection",ExpressionUUID->"da2ee8fb-f90e-44db-96d8-ce99eb4e7d5f"],
Cell[110825, 3091, 1045, 27, 70, "MoreAboutSection",ExpressionUUID->"beb2836a-f2c3-4f51-a440-e65ccc8d39b1"],
Cell[111873, 3120, 3818, 104, 70, "RelatedLinksSection",ExpressionUUID->"e0f40a9b-aec7-4971-b5f0-373c71f3ff20"],
Cell[115694, 3226, 78, 0, 70, "FooterCell",ExpressionUUID->"e15b17ad-87fb-4574-ac7f-4d8b642747c0"]
}
]
*)

(* End of internal cache information *)

