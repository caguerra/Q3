(* Content-type: application/vnd.wolfram.mathematica *)

(*** Wolfram Notebook File ***)
(* http://www.wolfram.com/nb *)

(* CreatedBy='Mathematica 13.3' *)

(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[       158,          7]
NotebookDataLength[    106892,       2710]
NotebookOptionsPosition[     96958,       2508]
NotebookOutlinePosition[     99288,       2566]
CellTagsIndexPosition[     99202,       2561]
WindowTitle->AmplitudeEmbeddingGate
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{
Cell[BoxData[GridBox[{
   {GridBox[{
      {
       ItemBox[Cell[BoxData[
         RowBox[{
          TemplateBox[{12},
           "Spacer1"], Cell["Q3 SYMBOL", "PacletNameCell",
           TextAlignment->Center,ExpressionUUID->
           "6e3c422f-5a3b-40ff-8000-0bfb4b964d98"], 
          TemplateBox[{8},
           "Spacer1"]}]],
         TextAlignment->Center,ExpressionUUID->
         "1e79172e-ceb0-4891-ba60-6b48535eb8a3"],
        Background->RGBColor[0.490196, 0.576471, 0.690196],
        ItemSize->Full], ""}
     },
     GridBoxAlignment->{"Rows" -> {{Center}}},
     GridBoxItemSize->{"Columns" -> {Full, 
         Scaled[0.02]}, "Rows" -> {{2.5}}}], Cell[TextData[{
     Cell[BoxData[
      TagBox[
       ActionMenuBox[
        FrameBox[Cell[TextData[{
          "See Also",
          " ",
          Cell[BoxData[
           GraphicsBox[
            {GrayLevel[0.66667], Thickness[0.13], 
             LineBox[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]},
            AspectRatio->1,
            AxesStyle->Large,
            FrameStyle->Large,
            ImageSize->20,
            PlotRange->{{-3, 4}, {-1, 1}},
            PlotRangePadding->Scaled[0.025]]],ExpressionUUID->
           "23792063-6db6-4505-8a88-e7f7b07ef156"]
         }],ExpressionUUID->"b560070c-5e12-4397-9dc6-0c0b3d7fca24"],
         StripOnInput->False],{
        "\"AmplitudeEmbedding\"" :> 
         Documentation`HelpLookup["paclet:Q3/ref/AmplitudeEmbedding"], 
         "\"UniformlyControlledRotation\"" :> 
         Documentation`HelpLookup[
          "paclet:Q3/ref/UniformlyControlledRotation"], "\"BasisEmbedding\"" :> 
         Documentation`HelpLookup["paclet:Q3/ref/BasisEmbedding"], 
         "\"BasisEmbeddingGate\"" :> 
         Documentation`HelpLookup["paclet:Q3/ref/BasisEmbeddingGate"]},
        Appearance->None,
        MenuAppearance->Automatic,
        MenuStyle->"SeeAlso"],
       MouseAppearanceTag["LinkHand"]]],
      LineSpacing->{1.4, 0},ExpressionUUID->
      "45fafb65-9b5f-4f71-8441-c0c236b5d690"],
     "\[ThickSpace]\[ThickSpace]\[ThickSpace]\[ThickSpace]\[ThickSpace]\
\[ThickSpace]",
     Cell[BoxData[
      TagBox[
       ActionMenuBox[
        FrameBox[Cell[TextData[{
          "Related Guides",
          " ",
          Cell[BoxData[
           GraphicsBox[
            {GrayLevel[0.66667], Thickness[0.13], 
             LineBox[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]},
            AspectRatio->1,
            AxesStyle->Large,
            FrameStyle->Large,
            ImageSize->20,
            PlotRange->{{-3, 4}, {-1, 1}},
            PlotRangePadding->Scaled[0.025]]],ExpressionUUID->
           "a01fc977-3b2f-4590-8165-780fc2990a31"]
         }],ExpressionUUID->"67ca1cff-a623-4188-a653-6acb1640c3b2"],
         StripOnInput->False],{
        "\"Quantum Information Systems\"" :> 
         Documentation`HelpLookup[
          "paclet:Q3/guide/QuantumInformationSystems"], "\"Q3\"" :> 
         Documentation`HelpLookup["paclet:Q3/guide/Q3"]},
        Appearance->None,
        MenuAppearance->Automatic,
        MenuStyle->"MoreAbout"],
       MouseAppearanceTag["LinkHand"]]],
      LineSpacing->{1.4, 0},ExpressionUUID->
      "7a3438bd-0a3e-4844-b144-654890536bdd"],
     "\[ThickSpace]\[ThickSpace]\[ThickSpace]\[ThickSpace]\[ThickSpace]\
\[ThickSpace]",
     Cell[BoxData[
      TagBox[
       ActionMenuBox[
        FrameBox[Cell[TextData[{
          "Tech Notes",
          " ",
          Cell[BoxData[
           GraphicsBox[
            {GrayLevel[0.66667], Thickness[0.13], 
             LineBox[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]},
            AspectRatio->1,
            AxesStyle->Large,
            FrameStyle->Large,
            ImageSize->20,
            PlotRange->{{-3, 4}, {-1, 1}},
            PlotRangePadding->Scaled[0.025]]],ExpressionUUID->
           "3e698560-cac1-4815-99d3-ae434b82d557"]
         }],ExpressionUUID->"50543a86-194a-4516-83d6-e2061ebc9cb2"],
         StripOnInput->False],{
        "\"Multi-Control Unitary Gates\"" :> 
         Documentation`HelpLookup[
          "paclet:Q3/tutorial/MultiControlUnitaryGates"], 
         "\"Quantum Information Systems with Q3\"" :> 
         Documentation`HelpLookup[
          "paclet:Q3/tutorial/QuantumInformationSystems"], 
         "\"Quick Quantum Computing with Q3\"" :> 
         Documentation`HelpLookup[
          "paclet:Q3/tutorial/QuickQuantumComputingWithQ3"], 
         "\"Q3: Quick Start\"" :> 
         Documentation`HelpLookup["paclet:Q3/tutorial/Q3QuickStart"]},
        Appearance->None,
        MenuAppearance->Automatic,
        MenuStyle->"Tutorials"],
       MouseAppearanceTag["LinkHand"]]],
      LineSpacing->{1.4, 0},ExpressionUUID->
      "551565e1-59fa-4cb2-a8af-5e653617855b"],
     "\[ThickSpace]\[ThickSpace]\[ThickSpace]\[ThickSpace]\[ThickSpace]\
\[ThickSpace]",
     Cell[BoxData[
      TagBox[
       ActionMenuBox[
        FrameBox[Cell[TextData[{
          "URL",
          " ",
          Cell[BoxData[
           GraphicsBox[
            {GrayLevel[0.66667], Thickness[0.13], 
             LineBox[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]},
            AspectRatio->1,
            AxesStyle->Large,
            FrameStyle->Large,
            ImageSize->20,
            PlotRange->{{-3, 4}, {-1, 1}},
            PlotRangePadding->Scaled[0.025]]],ExpressionUUID->
           "d73cd7cd-136f-4ecc-a322-dbba9f8d27a4"]
         }],ExpressionUUID->"bcd3f3a9-b147-4555-96f3-85b1d403838b"],
         StripOnInput->False],{
        "\"Q3/ref/AmplitudeEmbeddingGate\"" :> None, 
         "\"Copy Wolfram Documentation Center URL\"" :> 
         Module[{DocumentationSearch`Private`nb$}, 
           DocumentationSearch`Private`nb$ = 
            NotebookPut[
             Notebook[{Cell["Q3/ref/AmplitudeEmbeddingGate"]}, Visible -> 
               False]]; 
           SelectionMove[DocumentationSearch`Private`nb$, All, Notebook]; 
           FrontEndTokenExecute[DocumentationSearch`Private`nb$, "Copy"]; 
           NotebookClose[DocumentationSearch`Private`nb$]; Null], Delimiter, 
         "\"Copy web URL\"" :> 
         Module[{DocumentationSearch`Private`nb$}, 
           DocumentationSearch`Private`nb$ = 
            NotebookPut[
             Notebook[{
               Cell[BoxData[
                 MakeBoxes[
                  Hyperlink[
                   "http://reference.wolfram.com/language/Q3/ref/\
AmplitudeEmbeddingGate.html"], StandardForm]], "Input", TextClipboardType -> 
                 "PlainText"]}, Visible -> False]]; 
           SelectionMove[DocumentationSearch`Private`nb$, All, Notebook]; 
           FrontEndTokenExecute[DocumentationSearch`Private`nb$, "Copy"]; 
           NotebookClose[DocumentationSearch`Private`nb$]; Null], 
         "\"Go to web URL\"" :> 
         FrontEndExecute[{
           NotebookLocate[{
             URL[If[TrueQ[DocumentationBuild`Make`Private`wsmlinkQ$23593], 
                 "http://reference.wolfram.com/system-modeler/", 
                 "http://reference.wolfram.com/language/"] <> 
               "Q3/ref/AmplitudeEmbeddingGate" <> ".html"], None}]}]},
        Appearance->None,
        MenuAppearance->Automatic,
        MenuStyle->"URLMenu"],
       MouseAppearanceTag["LinkHand"]]],
      LineSpacing->{1.4, 0},ExpressionUUID->
      "d512d6e9-8fd0-4040-8de9-9862b53fd7f8"]
    }], "AnchorBar",
     CacheGraphics->False,ExpressionUUID->
     "6de7f423-b904-4cba-900c-2f0de45f4cdb"]}
  }]], "AnchorBarGrid",
 CellID->1,ExpressionUUID->"95a0eaf7-3963-4a45-ba26-0ec594481edb"],

Cell["Q3`", "ContextNameCell",ExpressionUUID->"0d8625d3-bd22-400f-a009-8adb01da499f"],

Cell[CellGroupData[{

Cell[BoxData[GridBox[{
   {Cell[TextData[{
     Cell[
     "AmplitudeEmbeddingGate", "ObjectName",ExpressionUUID->
      "7e391101-1e0c-4d3f-9cc6-25aee393c08c"],
     Cell[BoxData[
      TemplateBox[{8},
       "Spacer1"]],ExpressionUUID->"c65c799e-7192-4426-bd44-f681494aa377"],
     Cell[BoxData[
     ""], "ObjectNameTranslation",ExpressionUUID->
      "ec46af4a-6e36-4104-bd6c-3fb49de73b1d"]
    }],ExpressionUUID->"002fc034-71ab-439e-9c60-56a837b8c642"], Cell[BoxData[
     TooltipBox[
      StyleBox[
       TagBox[
        StyleBox[
         GraphicsBox[InsetBox[
           StyleBox["\<\"NEW IN 13.3\"\>",
            StripOnInput->False,
            FontFamily->"Source Sans Pro",
            FontSize->18,
            FontWeight->"Bold",
            FontSlant->"Italic",
            FontColor->RGBColor[0.968627, 0.466667, 0]], {Right, Center}, {
           Right, Center}],
          AxesStyle->Large,
          FrameStyle->Large,
          ImageSize->{125, 24},
          PlotRangePadding->Scaled[0.025]], "NewInGraphic",
         StripOnInput->False],
        Deploy,
        DefaultBaseStyle->"Deploy"], "NewInGraphic",
       StripOnInput->False],
      "New in 13.2",
      TooltipDelay->0.3]],
     Magnification->1,ExpressionUUID->
     "b689436d-db07-4ece-8b8a-c0b830e75b74"]}
  }]], "ObjectNameGrid",
 CacheGraphics->False,ExpressionUUID->"daf6754f-99f6-4a17-8341-78516da4a8d7"],

Cell[BoxData[GridBox[{
   {"", Cell[TextData[{
     Cell[BoxData[
      RowBox[{
       TemplateBox[{
         Cell[
          TextData["AmplitudeEmbeddingGate"]], 
         "paclet:Q3/ref/AmplitudeEmbeddingGate", "Q3 Package Symbol"},
        "PackageLink",
        BaseStyle->"InlineFormula"], "[", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{
          SubscriptBox[
           StyleBox["x", "TI"], 
           StyleBox["1", "TR"]], ",", 
          SubscriptBox[
           StyleBox["x", "TI"], 
           StyleBox["2", "TR"]], ",", 
          StyleBox["\[Ellipsis]", "TR"], ",", 
          SubscriptBox[
           StyleBox["x", "TI"], 
           StyleBox[
            SuperscriptBox[
             StyleBox["2", "TI"], 
             StyleBox["n", "TI"]], "TI"]]}], "}"}], ",", 
        RowBox[{"{", 
         RowBox[{
          SubscriptBox[
           StyleBox["s", "TI"], 
           StyleBox["1", "TR"]], ",", 
          SubscriptBox[
           StyleBox["s", "TI"], 
           StyleBox["2", "TR"]], ",", 
          StyleBox["\[Ellipsis]", "TR"], ",", 
          SubscriptBox[
           StyleBox["s", "TI"], 
           StyleBox["n", "TI"]]}], "}"}]}], "]"}]], "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "f26550e4-728c-4b37-91ed-20ef1b5e4f9f"],
     "\[LineSeparator]represents the gate to encode classical input data ",
     Cell[BoxData[
      RowBox[{"{", 
       RowBox[{
        SubscriptBox[
         StyleBox["x", "TI"], 
         StyleBox["1", "TR"]], ",", 
        SubscriptBox[
         StyleBox["x", "TI"], 
         StyleBox["2", "TR"]], ",", 
        StyleBox["\[Ellipsis]", "TR"], ",", 
        SubscriptBox[
         StyleBox["x", "TI"], 
         SuperscriptBox[
          StyleBox["2", "TI"], 
          StyleBox["n", "TI"]]]}]}]], "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "4b622db4-2273-442f-aca6-64d652bfcaf5"],
     " into the amplitudes of a quantum state of qubits ",
     Cell[BoxData[
      RowBox[{
       SubscriptBox[
        StyleBox["s", "TI"], 
        StyleBox["1", "TR"]], ",", 
       SubscriptBox[
        StyleBox["s", "TI"], 
        StyleBox["2", "TR"]], ",", 
       StyleBox["\[Ellipsis]", "TR"], ",", 
       SubscriptBox[
        StyleBox["s", "TI"], 
        StyleBox["n", "TI"]]}]], "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "c6f0a634-fca1-42dc-8ac6-f9dcd7f81f8c"],
     "."
    }],ExpressionUUID->"d2979a6e-566a-49f4-b314-6fc810df19fa"]}
  }]], "Usage",
 CellID->259240717,ExpressionUUID->"a4c92ae4-d6fe-4a18-b7b8-263f82321dcd"]
}, Open  ]],

Cell[CellGroupData[{

Cell[TextData[Cell[BoxData[
 ButtonBox[Cell[TextData[{
   Cell[BoxData[
    DynamicBox[ToBoxes[
      If[
       MatchQ[
        CurrentValue[
         EvaluationNotebook[], {TaggingRules, "Openers", "NotesSection"}, 
         Closed], 
        Alternatives[Open, True]], 
       Style[
        Graphics[{
          Thickness[0.18], 
          RGBColor[0.8509803921568627, 0.396078431372549, 0], 
          Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
         PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
        0.68 Inherited], 
       Rotate[
        Style[
         Graphics[{
           Thickness[0.18], 
           RGBColor[0.8509803921568627, 0.396078431372549, 0], 
           Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
          PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
         0.68 Inherited], Rational[1, 2] Pi, {-1.65, -1}]]],
     ImageSizeCache->{14., {0.45000000000000107`, 13.549999999999999`}}]],
    ExpressionUUID->"9615611a-af24-48ae-bf20-20ec2146f52e"],
   Cell[BoxData[
    TemplateBox[{1},
     "Spacer1"]],ExpressionUUID->"41378b9e-d7ac-46c3-aa53-833a0ceab42a"],
   "Details and Options"
  }], "NotesFrameText",ExpressionUUID->"be4cd6c6-fa63-42f7-a737-10553d5501f2"],
  Appearance->{Automatic, None, "Normal", Automatic},
  BaseStyle->None,
  ButtonFunction:>(FrontEndExecute[{
     FrontEnd`SelectionMove[
      FrontEnd`SelectedNotebook[], All, ButtonCell], 
     FrontEndToken["OpenCloseGroup"], 
     FrontEnd`SelectionMove[
      FrontEnd`SelectedNotebook[], After, CellContents]}]& ),
  Evaluator->None,
  Method->
   "Preemptive"]],ExpressionUUID->"270b47b9-ca1b-41d2-b6fe-3c2748abd870"]], \
"NotesSection",
 WholeCellGroupOpener->True,
 CellGroupingRules->{"SectionGrouping", 50},
 CacheGraphics->False,
 CellID->1859503602,ExpressionUUID->"4b0e4480-8f4f-4325-ba6d-bed375c81fc9"],

Cell[TextData[{
 "The ",
 StyleBox["amplitude embedding",
  FontSlant->"Italic"],
 " is mapping, ",
 Cell[BoxData[
  FormBox[
   RowBox[{
    RowBox[{"{", 
     RowBox[{
      SubscriptBox["x", "1"], ",", 
      SubscriptBox["x", "2"], ",", "\[Ellipsis]", ",", 
      SubscriptBox["x", 
       SuperscriptBox["2", "n"]]}], "}"}], "\[RightTeeArrow]", 
    RowBox[{
     UnderoverscriptBox["\[CapitalSigma]", 
      RowBox[{"k", "=", "1"}], 
      SuperscriptBox["2", "n"]], 
     TemplateBox[{
       RowBox[{"k", "-", "1"}]},
      "Ket"], 
     SubscriptBox["x", "k"]}]}], TraditionalForm]],ExpressionUUID->
  "3c978052-bf5f-42f5-b53d-efc93322e5b2"],
 ", where ",
 Cell[BoxData[
  FormBox[
   RowBox[{
    TemplateBox[{"a"},
     "Ket"], ":=", 
    RowBox[{
     TemplateBox[{
       SubscriptBox["a", "1"]},
      "Ket"], "\[CircleTimes]", 
     TemplateBox[{
       SubscriptBox["a", "2"]},
      "Ket"], "\[CircleTimes]", "\[Ellipsis]", "\[CircleTimes]", 
     TemplateBox[{
       SubscriptBox["a", "n"]},
      "Ket"]}]}], TraditionalForm]],ExpressionUUID->
  "0381031f-dc57-4c7d-9527-bd64a203df0d"],
 " and ",
 Cell[BoxData[
  FormBox[
   RowBox[{"a", ":=", 
    SubscriptBox[
     RowBox[{"(", 
      RowBox[{
       SubscriptBox["a", "1"], 
       SubscriptBox["a", "2"], "\[Ellipsis]", "\[VeryThinSpace]", 
       SubscriptBox["a", "n"]}], ")"}], "2"]}], TraditionalForm]],
  ExpressionUUID->"67e80a05-6911-4e55-bebb-6adff20bec0c"],
 " is the binary-digit representation of integer ",
 Cell[BoxData[
  FormBox["a", TraditionalForm]],ExpressionUUID->
  "8ff5284c-a9b3-457d-b471-26f28c335324"],
 "."
}], "Notes",
 CellID->1961894503,ExpressionUUID->"ec4889a4-fb06-4785-a6a6-bace11fcf443"]
}, Dynamic[CurrentValue[
 EvaluationNotebook[], {TaggingRules, "Openers", "NotesSection"}, Closed]]]],

Cell[CellGroupData[{

Cell[TextData[{
 Cell[BoxData[
  DynamicBox[ToBoxes[
    If[
     MatchQ[
      CurrentValue[
       EvaluationNotebook[], {
       TaggingRules, "Openers", "PrimaryExamplesSection"}, Open], 
      Alternatives[True, Open]], 
     Style[
      Graphics[{
        Thickness[0.18], 
        RGBColor[0.8509803921568627, 0.396078431372549, 0], 
        Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
       PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
      0.68 Inherited], 
     Rotate[
      Style[
       Graphics[{
         Thickness[0.18], 
         RGBColor[0.8509803921568627, 0.396078431372549, 0], 
         Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
        PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
       0.68 Inherited], Rational[1, 2] Pi, {-1.65, -1}]]],
   ImageSizeCache->{14., {5., 9.}}]],ExpressionUUID->
  "91389a5e-bff0-4b75-961d-3b9680e667b9"],
 Cell[BoxData[
  TemplateBox[{1},
   "Spacer1"]],ExpressionUUID->"124bb319-58a8-4482-bc8a-1a27a6c5de80"],
 "Examples",
 "\[NonBreakingSpace]\[NonBreakingSpace]",
 Cell["(1)", "ExampleCount",ExpressionUUID->
  "65cb6a83-6dff-4aaf-a8e0-3c6a89507eea"]
}], "PrimaryExamplesSection",
 WholeCellGroupOpener->True,
 CacheGraphics->False,
 CellTags->"PrimaryExamplesSection",
 CellID->347524023,ExpressionUUID->"292f413f-5038-4937-93cc-6ebb25ddc2e4"],

Cell[BoxData[
 RowBox[{"Needs", "[", "\"\<Q3`\>\"", "]"}]], "Input", "ExampleInitialization",
 CellLabel->"In[1]:=",
 CellID->1158483089,ExpressionUUID->"60474c7a-a2d1-43e2-809e-3ead69563716"],

Cell[CellGroupData[{

Cell[TextData[{
 Cell[BoxData[
  DynamicBox[ToBoxes[
    If[
     MatchQ[
      CurrentValue[
       EvaluationNotebook[], {TaggingRules, "Openers", "ExampleSection", "0"},
        Closed], 
      Alternatives[Open, True]], 
     Style[
      Graphics[{
        Thickness[0.18], 
        RGBColor[0.8509803921568627, 0.396078431372549, 0], 
        Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
       PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
      0.68 Inherited], 
     Rotate[
      Style[
       Graphics[{
         Thickness[0.18], 
         RGBColor[0.8509803921568627, 0.396078431372549, 0], 
         Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
        PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
       0.68 Inherited], Rational[1, 2] Pi, {-1.65, -1}]]],
   ImageSizeCache->{14., {5., 9.}}]],ExpressionUUID->
  "7af6a0c6-3dea-46bb-bcfc-c6b7f77ab98f"],
 Cell[BoxData[
  TemplateBox[{1},
   "Spacer1"]],ExpressionUUID->"1e4e85f5-4a36-4160-90b0-3a60cbc4eb98"],
 "Basic Examples",
 "\[NonBreakingSpace]\[NonBreakingSpace]",
 Cell["(1)", "ExampleCount",ExpressionUUID->
  "a574945d-e0ca-4146-b505-5da989a14150"]
}], "ExampleSection", "ExampleSection",
 WholeCellGroupOpener->True,
 CacheGraphics->False,
 CellID->1828218368,ExpressionUUID->"6d0ef181-ad38-4aa5-9b44-4a2e59d8a4a9"],

Cell[BoxData[
 RowBox[{"Let", "[", 
  RowBox[{"Qubit", ",", "S"}], "]"}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[1]:=",
 CellID->426830961,ExpressionUUID->"17751442-7f3d-487c-8344-8ef317bdbe54"],

Cell[TextData[{
 "Consider a system of ",
 StyleBox["n",
  FontSlant->"Italic"],
 " qubits."
}], "ExampleText",
 CellID->1642217665,ExpressionUUID->"7717f9df-21d7-49a3-8d4f-836e816dddb5"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"$n", "=", "3"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"$N", "=", 
   RowBox[{"Power", "[", 
    RowBox[{"2", ",", "$n"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"kk", "=", 
   RowBox[{"Range", "[", "$n", "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"SS", "=", 
  RowBox[{"S", "[", 
   RowBox[{"kk", ",", "$"}], "]"}]}]}], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[2]:=",
 CellID->711129472,ExpressionUUID->"ecdf9f03-7e49-43a9-bb4f-c9a37f1ff4e2"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   InterpretationBox[
    SubscriptBox["S", 
     TemplateBox[{",", "\",\"", "1"},
      "RowWithSeparators"]],
    $CellContext`S[1, Q3`$]], ",", 
   InterpretationBox[
    SubscriptBox["S", 
     TemplateBox[{",", "\",\"", "2"},
      "RowWithSeparators"]],
    $CellContext`S[2, Q3`$]], ",", 
   InterpretationBox[
    SubscriptBox["S", 
     TemplateBox[{",", "\",\"", "3"},
      "RowWithSeparators"]],
    $CellContext`S[3, Q3`$]]}], "}"}]], "Output",
 CellLabel->"Out[2]=",
 CellID->178793606,ExpressionUUID->"d0c8b201-4d67-4f37-a336-122e1a0356d5"]
}, Open  ]],

Cell["We want to embed a classical input data of the form.", "ExampleText",
 CellID->758659970,ExpressionUUID->"f526ee77-3a08-4f58-9fd6-1328da6a03e8"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"xx", "=", 
  RowBox[{"Normalize", "@", 
   RowBox[{"RandomVector", "[", "$N", "]"}]}]}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[3]:=",
 CellID->1991275397,ExpressionUUID->"067e5f0f-4b44-4228-ae6f-b74ac2e70db0"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{
    RowBox[{"-", "0.31777925797714107`"}], "-", 
    RowBox[{"0.1892428316323305`", " ", "\[ImaginaryI]"}]}], ",", 
   RowBox[{"0.22034893553156695`", "\[VeryThinSpace]", "-", 
    RowBox[{"0.3547328918250511`", " ", "\[ImaginaryI]"}]}], ",", 
   RowBox[{"0.2778353189616883`", "\[VeryThinSpace]", "-", 
    RowBox[{"0.4742764342899084`", " ", "\[ImaginaryI]"}]}], ",", 
   RowBox[{
    RowBox[{"-", "0.44988228841668687`"}], "-", 
    RowBox[{"0.0689967599490181`", " ", "\[ImaginaryI]"}]}], ",", 
   RowBox[{"0.17546257943793614`", "\[VeryThinSpace]", "+", 
    RowBox[{"0.24517309968532275`", " ", "\[ImaginaryI]"}]}], ",", 
   RowBox[{
    RowBox[{"-", "0.2562246482199304`"}], "+", 
    RowBox[{"0.026237808955599844`", " ", "\[ImaginaryI]"}]}], ",", 
   RowBox[{"0.09616692032199836`", "\[VeryThinSpace]", "-", 
    RowBox[{"0.04617706216446856`", " ", "\[ImaginaryI]"}]}], ",", 
   RowBox[{
    RowBox[{"-", "0.07229584371422165`"}], "-", 
    RowBox[{"0.07540320831221906`", " ", "\[ImaginaryI]"}]}]}], 
  "}"}]], "Output",
 CellLabel->"Out[3]=",
 CellID->2023718447,ExpressionUUID->"e64e8eb7-62d5-440f-849a-153455cf0576"]
}, Open  ]],

Cell["We assume that the data is normalized.", "ExampleText",
 CellID->288867569,ExpressionUUID->"8bbd7f94-ff92-405b-b117-d063299d3ba5"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"Norm", "[", "xx", "]"}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[4]:=",
 CellID->1517686802,ExpressionUUID->"d6306c00-a497-44b5-9349-4173afe1ac55"],

Cell[BoxData["1.0000000000000002`"], "Output",
 CellLabel->"Out[4]=",
 CellID->1014365032,ExpressionUUID->"472fb4b3-e753-487d-bdde-fc9147816146"]
}, Open  ]],

Cell["\<\
This is the desired quantum state embedding the classical data above.\
\>", "ExampleText",
 CellID->216100998,ExpressionUUID->"8cfc81c0-8c66-4f9c-8e3c-2bce80f33acb"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"vec", "=", 
  RowBox[{"AmplitudeEmbedding", "[", 
   RowBox[{"xx", ",", "SS"}], "]"}]}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[5]:=",
 CellID->805687617,ExpressionUUID->"bffb76ef-47de-4d10-a2ef-ebb19a20f105"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"(", 
    RowBox[{
     RowBox[{"-", "0.31777925797714107`"}], "-", 
     RowBox[{"0.1892428316323305`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
   InterpretationBox[
    TagBox[
     TemplateBox[{
       TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
         SubscriptBox["0", 
          TemplateBox[{",", "\",\"", 
            InterpretationBox[
             SubscriptBox["S", 
              TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
             $CellContext`S[1, Q3`$]]}, "RowWithSeparators"]], 
         SubscriptBox["0", 
          TemplateBox[{",", "\",\"", 
            InterpretationBox[
             SubscriptBox["S", 
              TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
             $CellContext`S[2, Q3`$]]}, "RowWithSeparators"]], 
         SubscriptBox["0", 
          TemplateBox[{",", "\",\"", 
            InterpretationBox[
             SubscriptBox["S", 
              TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
             $CellContext`S[3, Q3`$]]}, "RowWithSeparators"]]}, 
        "RowWithSeparators"]},
      "Ket"],
     DisplayForm],
    Ket[<|$CellContext`S[1, Q3`$] -> 0, $CellContext`S[2, Q3`$] -> 
      0, $CellContext`S[3, Q3`$] -> 0|>]]}], "+", 
  RowBox[{
   RowBox[{"(", 
    RowBox[{"0.22034893553156695`", "\[VeryThinSpace]", "-", 
     RowBox[{"0.3547328918250511`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
   InterpretationBox[
    TagBox[
     TemplateBox[{
       TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
         SubscriptBox["0", 
          TemplateBox[{",", "\",\"", 
            InterpretationBox[
             SubscriptBox["S", 
              TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
             $CellContext`S[1, Q3`$]]}, "RowWithSeparators"]], 
         SubscriptBox["0", 
          TemplateBox[{",", "\",\"", 
            InterpretationBox[
             SubscriptBox["S", 
              TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
             $CellContext`S[2, Q3`$]]}, "RowWithSeparators"]], 
         SubscriptBox["1", 
          TemplateBox[{",", "\",\"", 
            InterpretationBox[
             SubscriptBox["S", 
              TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
             $CellContext`S[3, Q3`$]]}, "RowWithSeparators"]]}, 
        "RowWithSeparators"]},
      "Ket"],
     DisplayForm],
    Ket[<|$CellContext`S[1, Q3`$] -> 0, $CellContext`S[2, Q3`$] -> 
      0, $CellContext`S[3, Q3`$] -> 1|>]]}], "+", 
  RowBox[{
   RowBox[{"(", 
    RowBox[{"0.2778353189616883`", "\[VeryThinSpace]", "-", 
     RowBox[{"0.4742764342899084`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
   InterpretationBox[
    TagBox[
     TemplateBox[{
       TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
         SubscriptBox["0", 
          TemplateBox[{",", "\",\"", 
            InterpretationBox[
             SubscriptBox["S", 
              TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
             $CellContext`S[1, Q3`$]]}, "RowWithSeparators"]], 
         SubscriptBox["1", 
          TemplateBox[{",", "\",\"", 
            InterpretationBox[
             SubscriptBox["S", 
              TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
             $CellContext`S[2, Q3`$]]}, "RowWithSeparators"]], 
         SubscriptBox["0", 
          TemplateBox[{",", "\",\"", 
            InterpretationBox[
             SubscriptBox["S", 
              TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
             $CellContext`S[3, Q3`$]]}, "RowWithSeparators"]]}, 
        "RowWithSeparators"]},
      "Ket"],
     DisplayForm],
    Ket[<|$CellContext`S[1, Q3`$] -> 0, $CellContext`S[2, Q3`$] -> 
      1, $CellContext`S[3, Q3`$] -> 0|>]]}], "-", 
  RowBox[{
   RowBox[{"(", 
    RowBox[{"0.44988228841668687`", "\[VeryThinSpace]", "+", 
     RowBox[{"0.0689967599490181`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
   InterpretationBox[
    TagBox[
     TemplateBox[{
       TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
         SubscriptBox["0", 
          TemplateBox[{",", "\",\"", 
            InterpretationBox[
             SubscriptBox["S", 
              TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
             $CellContext`S[1, Q3`$]]}, "RowWithSeparators"]], 
         SubscriptBox["1", 
          TemplateBox[{",", "\",\"", 
            InterpretationBox[
             SubscriptBox["S", 
              TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
             $CellContext`S[2, Q3`$]]}, "RowWithSeparators"]], 
         SubscriptBox["1", 
          TemplateBox[{",", "\",\"", 
            InterpretationBox[
             SubscriptBox["S", 
              TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
             $CellContext`S[3, Q3`$]]}, "RowWithSeparators"]]}, 
        "RowWithSeparators"]},
      "Ket"],
     DisplayForm],
    Ket[<|$CellContext`S[1, Q3`$] -> 0, $CellContext`S[2, Q3`$] -> 
      1, $CellContext`S[3, Q3`$] -> 1|>]]}], "+", 
  RowBox[{
   RowBox[{"(", 
    RowBox[{"0.17546257943793614`", "\[VeryThinSpace]", "+", 
     RowBox[{"0.24517309968532275`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
   InterpretationBox[
    TagBox[
     TemplateBox[{
       TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
         SubscriptBox["1", 
          TemplateBox[{",", "\",\"", 
            InterpretationBox[
             SubscriptBox["S", 
              TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
             $CellContext`S[1, Q3`$]]}, "RowWithSeparators"]], 
         SubscriptBox["0", 
          TemplateBox[{",", "\",\"", 
            InterpretationBox[
             SubscriptBox["S", 
              TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
             $CellContext`S[2, Q3`$]]}, "RowWithSeparators"]], 
         SubscriptBox["0", 
          TemplateBox[{",", "\",\"", 
            InterpretationBox[
             SubscriptBox["S", 
              TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
             $CellContext`S[3, Q3`$]]}, "RowWithSeparators"]]}, 
        "RowWithSeparators"]},
      "Ket"],
     DisplayForm],
    Ket[<|$CellContext`S[1, Q3`$] -> 1, $CellContext`S[2, Q3`$] -> 
      0, $CellContext`S[3, Q3`$] -> 0|>]]}], "-", 
  RowBox[{
   RowBox[{"(", 
    RowBox[{"0.2562246482199304`", "\[VeryThinSpace]", "-", 
     RowBox[{"0.026237808955599844`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
   InterpretationBox[
    TagBox[
     TemplateBox[{
       TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
         SubscriptBox["1", 
          TemplateBox[{",", "\",\"", 
            InterpretationBox[
             SubscriptBox["S", 
              TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
             $CellContext`S[1, Q3`$]]}, "RowWithSeparators"]], 
         SubscriptBox["0", 
          TemplateBox[{",", "\",\"", 
            InterpretationBox[
             SubscriptBox["S", 
              TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
             $CellContext`S[2, Q3`$]]}, "RowWithSeparators"]], 
         SubscriptBox["1", 
          TemplateBox[{",", "\",\"", 
            InterpretationBox[
             SubscriptBox["S", 
              TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
             $CellContext`S[3, Q3`$]]}, "RowWithSeparators"]]}, 
        "RowWithSeparators"]},
      "Ket"],
     DisplayForm],
    Ket[<|$CellContext`S[1, Q3`$] -> 1, $CellContext`S[2, Q3`$] -> 
      0, $CellContext`S[3, Q3`$] -> 1|>]]}], "+", 
  RowBox[{
   RowBox[{"(", 
    RowBox[{"0.09616692032199836`", "\[VeryThinSpace]", "-", 
     RowBox[{"0.04617706216446856`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
   InterpretationBox[
    TagBox[
     TemplateBox[{
       TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
         SubscriptBox["1", 
          TemplateBox[{",", "\",\"", 
            InterpretationBox[
             SubscriptBox["S", 
              TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
             $CellContext`S[1, Q3`$]]}, "RowWithSeparators"]], 
         SubscriptBox["1", 
          TemplateBox[{",", "\",\"", 
            InterpretationBox[
             SubscriptBox["S", 
              TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
             $CellContext`S[2, Q3`$]]}, "RowWithSeparators"]], 
         SubscriptBox["0", 
          TemplateBox[{",", "\",\"", 
            InterpretationBox[
             SubscriptBox["S", 
              TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
             $CellContext`S[3, Q3`$]]}, "RowWithSeparators"]]}, 
        "RowWithSeparators"]},
      "Ket"],
     DisplayForm],
    Ket[<|$CellContext`S[1, Q3`$] -> 1, $CellContext`S[2, Q3`$] -> 
      1, $CellContext`S[3, Q3`$] -> 0|>]]}], "-", 
  RowBox[{
   RowBox[{"(", 
    RowBox[{"0.07229584371422165`", "\[VeryThinSpace]", "+", 
     RowBox[{"0.07540320831221906`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
   InterpretationBox[
    TagBox[
     TemplateBox[{
       TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
         SubscriptBox["1", 
          TemplateBox[{",", "\",\"", 
            InterpretationBox[
             SubscriptBox["S", 
              TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
             $CellContext`S[1, Q3`$]]}, "RowWithSeparators"]], 
         SubscriptBox["1", 
          TemplateBox[{",", "\",\"", 
            InterpretationBox[
             SubscriptBox["S", 
              TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
             $CellContext`S[2, Q3`$]]}, "RowWithSeparators"]], 
         SubscriptBox["1", 
          TemplateBox[{",", "\",\"", 
            InterpretationBox[
             SubscriptBox["S", 
              TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
             $CellContext`S[3, Q3`$]]}, "RowWithSeparators"]]}, 
        "RowWithSeparators"]},
      "Ket"],
     DisplayForm],
    Ket[<|$CellContext`S[1, Q3`$] -> 1, $CellContext`S[2, Q3`$] -> 
      1, $CellContext`S[3, Q3`$] -> 1|>]]}]}]], "Output",
 CellLabel->"Out[5]=",
 CellID->953354096,ExpressionUUID->"1824afca-340f-4dbc-aef1-555a45829862"]
}, Open  ]],

Cell[TextData[{
 "On a quantum machine, the above quantum state must be achieved through a \
unitary gate starting from the usual initial state ",
 Cell[BoxData[
  FormBox[
   RowBox[{
    TemplateBox[{"0"},
     "Ket"], ":=", 
    SuperscriptBox[
     TemplateBox[{"0"},
      "Ket"], 
     RowBox[{"\[CircleTimes]", "n"}]]}], TraditionalForm]],ExpressionUUID->
  "555b1996-4502-49e9-a5e0-194a3afcde28"],
 "."
}], "ExampleText",
 CellID->1630842327,ExpressionUUID->"43211c17-d836-4032-b021-5c0d401cb93e"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"op", "=", 
  RowBox[{"AmplitudeEmbeddingGate", "[", 
   RowBox[{"xx", ",", "SS"}], "]"}]}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[6]:=",
 CellID->864655653,ExpressionUUID->"7ac8aea1-1838-4b3a-bda7-7326cbd34f36"],

Cell[BoxData[
 RowBox[{"AmplitudeEmbeddingGate", "[", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{
     RowBox[{
      RowBox[{"-", "0.31777925797714107`"}], "-", 
      RowBox[{"0.1892428316323305`", " ", "\[ImaginaryI]"}]}], ",", 
     RowBox[{"0.22034893553156695`", "\[VeryThinSpace]", "-", 
      RowBox[{"0.3547328918250511`", " ", "\[ImaginaryI]"}]}], ",", 
     RowBox[{"0.2778353189616883`", "\[VeryThinSpace]", "-", 
      RowBox[{"0.4742764342899084`", " ", "\[ImaginaryI]"}]}], ",", 
     RowBox[{
      RowBox[{"-", "0.44988228841668687`"}], "-", 
      RowBox[{"0.0689967599490181`", " ", "\[ImaginaryI]"}]}], ",", 
     RowBox[{"0.17546257943793614`", "\[VeryThinSpace]", "+", 
      RowBox[{"0.24517309968532275`", " ", "\[ImaginaryI]"}]}], ",", 
     RowBox[{
      RowBox[{"-", "0.2562246482199304`"}], "+", 
      RowBox[{"0.026237808955599844`", " ", "\[ImaginaryI]"}]}], ",", 
     RowBox[{"0.09616692032199836`", "\[VeryThinSpace]", "-", 
      RowBox[{"0.04617706216446856`", " ", "\[ImaginaryI]"}]}], ",", 
     RowBox[{
      RowBox[{"-", "0.07229584371422165`"}], "-", 
      RowBox[{"0.07540320831221906`", " ", "\[ImaginaryI]"}]}]}], "}"}], ",", 
   
   RowBox[{"{", 
    RowBox[{
     InterpretationBox[
      SubscriptBox["S", 
       TemplateBox[{",", "\",\"", "1"},
        "RowWithSeparators"]],
      $CellContext`S[1, Q3`$]], ",", 
     InterpretationBox[
      SubscriptBox["S", 
       TemplateBox[{",", "\",\"", "2"},
        "RowWithSeparators"]],
      $CellContext`S[2, Q3`$]], ",", 
     InterpretationBox[
      SubscriptBox["S", 
       TemplateBox[{",", "\",\"", "3"},
        "RowWithSeparators"]],
      $CellContext`S[3, Q3`$]]}], "}"}]}], "]"}]], "Output",
 CellLabel->"Out[6]=",
 CellID->857848668,ExpressionUUID->"cfce9802-d5f8-40c1-b929-d22beeeeddc0"]
}, Open  ]],

Cell[TextData[{
 "In quantum circuit, it is depicted as follows, which consists of two ",
 ButtonBox["uniformly controlled rotations",
  BaseStyle->"Link",
  ButtonData->"paclet:Q3/ref/UniformlyControlledRotation"],
 "."
}], "ExampleText",
 CellID->1596819841,ExpressionUUID->"97fb6d95-bf15-4dbe-adc7-bf7e1d75862b"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"qc", "=", 
  RowBox[{"QuantumCircuit", "[", "op", "]"}]}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[7]:=",
 CellID->1130179844,ExpressionUUID->"422ca4f4-3827-4cde-b78e-5463178355ff"],

Cell[BoxData[
 InterpretationBox[
  GraphicsBox[{
    {Dashing[{Small, Small}], LineBox[{}]}, 
    LineBox[{{{0, -1}, {2, -1}}, {{0, -2}, {2, -2}}, {{0, -3}, {2, -3}}}], {
     LineBox[{{1, -1}, {1, -2}, {1, -3}}], {
      {GrayLevel[1], EdgeForm[GrayLevel[0]], DiskBox[{1, -1}, 0.18], 
       {GrayLevel[0], DiskBox[{1, -1}, 0.0675]}}, 
      {GrayLevel[1], EdgeForm[GrayLevel[0]], DiskBox[{1, -2}, 0.18], 
       {GrayLevel[0], DiskBox[{1, -2}, 0.0675]}}, 
      {GrayLevel[1], EdgeForm[GrayLevel[0]], DiskBox[{1, -3}, 0.18], 
       {GrayLevel[0], DiskBox[{1, -3}, 0.0675]}}}}},
   AxesStyle->Large,
   FrameStyle->Large,
   ImagePadding->{{23.400000000000002`, 23.400000000000002`}, {1, 1}},
   ImageSize->118.8,
   PlotRange->NCache[{Full, {
       Rational[-7, 2], 
       Rational[-1, 2]}}, {Full, {-3.5, -0.5}}],
   PlotRangePadding->Scaled[0.025]],
  Q3`QuantumCircuit[
   Q3`AmplitudeEmbeddingGate[{
     Complex[-0.31777925797714107`, -0.1892428316323305], 
     Complex[0.22034893553156695`, -0.3547328918250511], 
     Complex[0.2778353189616883, -0.4742764342899084], 
     Complex[-0.44988228841668687`, -0.0689967599490181], 
     Complex[0.17546257943793614`, 0.24517309968532275`], 
     Complex[-0.2562246482199304, 0.026237808955599844`], 
     Complex[0.09616692032199836, -0.04617706216446856], 
     Complex[-0.07229584371422165, -0.07540320831221906]}, {
     $CellContext`S[1, Q3`$], 
     $CellContext`S[2, Q3`$], 
     $CellContext`S[3, Q3`$]}]]]], "Output",
 CellLabel->"Out[7]=",
 CellID->1984543712,ExpressionUUID->"404e525f-f49d-446b-ad34-0b4b94570da1"]
}, Open  ]],

Cell["Obtain the output state from the above unitary gate.", "ExampleText",
 CellID->1919296223,ExpressionUUID->"274ef456-9502-4457-83ea-d0441069bb2a"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"EchoTiming", "[", 
  RowBox[{"out", "=", 
   RowBox[{"qc", "**", 
    RowBox[{"Ket", "[", "]"}]}]}], "]"}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[8]:=",
 CellID->1910949901,ExpressionUUID->"0ce4bd5d-537b-49e7-ba81-485c6887ca1a"],

Cell[BoxData["7.803816`"], "EchoTiming",
 CellID->463532737,ExpressionUUID->"b284a385-a5d2-4c8c-9f5c-9c4c12aa7aff"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"(", 
    RowBox[{
     RowBox[{"-", "0.08369278245202205`"}], "-", 
     RowBox[{"0.36026660168570107`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
   InterpretationBox[
    TagBox[
     TemplateBox[{
       TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
         SubscriptBox["0", 
          TemplateBox[{",", "\",\"", 
            InterpretationBox[
             SubscriptBox["S", 
              TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
             $CellContext`S[1, Q3`$]]}, "RowWithSeparators"]], 
         SubscriptBox["0", 
          TemplateBox[{",", "\",\"", 
            InterpretationBox[
             SubscriptBox["S", 
              TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
             $CellContext`S[2, Q3`$]]}, "RowWithSeparators"]], 
         SubscriptBox["0", 
          TemplateBox[{",", "\",\"", 
            InterpretationBox[
             SubscriptBox["S", 
              TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
             $CellContext`S[3, Q3`$]]}, "RowWithSeparators"]]}, 
        "RowWithSeparators"]},
      "Ket"],
     DisplayForm],
    Ket[<|$CellContext`S[1, Q3`$] -> 0, $CellContext`S[2, Q3`$] -> 
      0, $CellContext`S[3, Q3`$] -> 0|>]]}], "+", 
  RowBox[{
   RowBox[{"(", 
    RowBox[{"0.4084652415295654`", "\[VeryThinSpace]", "-", 
     RowBox[{"0.0868632511172136`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
   InterpretationBox[
    TagBox[
     TemplateBox[{
       TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
         SubscriptBox["0", 
          TemplateBox[{",", "\",\"", 
            InterpretationBox[
             SubscriptBox["S", 
              TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
             $CellContext`S[1, Q3`$]]}, "RowWithSeparators"]], 
         SubscriptBox["0", 
          TemplateBox[{",", "\",\"", 
            InterpretationBox[
             SubscriptBox["S", 
              TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
             $CellContext`S[2, Q3`$]]}, "RowWithSeparators"]], 
         SubscriptBox["1", 
          TemplateBox[{",", "\",\"", 
            InterpretationBox[
             SubscriptBox["S", 
              TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
             $CellContext`S[3, Q3`$]]}, "RowWithSeparators"]]}, 
        "RowWithSeparators"]},
      "Ket"],
     DisplayForm],
    Ket[<|$CellContext`S[1, Q3`$] -> 0, $CellContext`S[2, Q3`$] -> 
      0, $CellContext`S[3, Q3`$] -> 1|>]]}], "+", 
  RowBox[{
   RowBox[{"(", 
    RowBox[{"0.5344977624750389`", "\[VeryThinSpace]", "-", 
     RowBox[{"0.1282292575603164`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
   InterpretationBox[
    TagBox[
     TemplateBox[{
       TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
         SubscriptBox["0", 
          TemplateBox[{",", "\",\"", 
            InterpretationBox[
             SubscriptBox["S", 
              TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
             $CellContext`S[1, Q3`$]]}, "RowWithSeparators"]], 
         SubscriptBox["1", 
          TemplateBox[{",", "\",\"", 
            InterpretationBox[
             SubscriptBox["S", 
              TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
             $CellContext`S[2, Q3`$]]}, "RowWithSeparators"]], 
         SubscriptBox["0", 
          TemplateBox[{",", "\",\"", 
            InterpretationBox[
             SubscriptBox["S", 
              TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
             $CellContext`S[3, Q3`$]]}, "RowWithSeparators"]]}, 
        "RowWithSeparators"]},
      "Ket"],
     DisplayForm],
    Ket[<|$CellContext`S[1, Q3`$] -> 0, $CellContext`S[2, Q3`$] -> 
      1, $CellContext`S[3, Q3`$] -> 0|>]]}], "-", 
  RowBox[{
   RowBox[{"(", 
    RowBox[{"0.2619269164155484`", "\[VeryThinSpace]", "+", 
     RowBox[{"0.372221596326086`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
   InterpretationBox[
    TagBox[
     TemplateBox[{
       TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
         SubscriptBox["0", 
          TemplateBox[{",", "\",\"", 
            InterpretationBox[
             SubscriptBox["S", 
              TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
             $CellContext`S[1, Q3`$]]}, "RowWithSeparators"]], 
         SubscriptBox["1", 
          TemplateBox[{",", "\",\"", 
            InterpretationBox[
             SubscriptBox["S", 
              TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
             $CellContext`S[2, Q3`$]]}, "RowWithSeparators"]], 
         SubscriptBox["1", 
          TemplateBox[{",", "\",\"", 
            InterpretationBox[
             SubscriptBox["S", 
              TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
             $CellContext`S[3, Q3`$]]}, "RowWithSeparators"]]}, 
        "RowWithSeparators"]},
      "Ket"],
     DisplayForm],
    Ket[<|$CellContext`S[1, Q3`$] -> 0, $CellContext`S[2, Q3`$] -> 
      1, $CellContext`S[3, Q3`$] -> 1|>]]}], "-", 
  RowBox[{
   RowBox[{"(", 
    RowBox[{"0.05523789546308597`", "\[VeryThinSpace]", "-", 
     RowBox[{"0.2963878211012261`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
   InterpretationBox[
    TagBox[
     TemplateBox[{
       TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
         SubscriptBox["1", 
          TemplateBox[{",", "\",\"", 
            InterpretationBox[
             SubscriptBox["S", 
              TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
             $CellContext`S[1, Q3`$]]}, "RowWithSeparators"]], 
         SubscriptBox["0", 
          TemplateBox[{",", "\",\"", 
            InterpretationBox[
             SubscriptBox["S", 
              TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
             $CellContext`S[2, Q3`$]]}, "RowWithSeparators"]], 
         SubscriptBox["0", 
          TemplateBox[{",", "\",\"", 
            InterpretationBox[
             SubscriptBox["S", 
              TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
             $CellContext`S[3, Q3`$]]}, "RowWithSeparators"]]}, 
        "RowWithSeparators"]},
      "Ket"],
     DisplayForm],
    Ket[<|$CellContext`S[1, Q3`$] -> 1, $CellContext`S[2, Q3`$] -> 
      0, $CellContext`S[3, Q3`$] -> 0|>]]}], "-", 
  RowBox[{
   RowBox[{"(", 
    RowBox[{"0.19643513013454145`", "\[VeryThinSpace]", "+", 
     RowBox[{"0.16659151425941054`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
   InterpretationBox[
    TagBox[
     TemplateBox[{
       TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
         SubscriptBox["1", 
          TemplateBox[{",", "\",\"", 
            InterpretationBox[
             SubscriptBox["S", 
              TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
             $CellContext`S[1, Q3`$]]}, "RowWithSeparators"]], 
         SubscriptBox["0", 
          TemplateBox[{",", "\",\"", 
            InterpretationBox[
             SubscriptBox["S", 
              TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
             $CellContext`S[2, Q3`$]]}, "RowWithSeparators"]], 
         SubscriptBox["1", 
          TemplateBox[{",", "\",\"", 
            InterpretationBox[
             SubscriptBox["S", 
              TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
             $CellContext`S[3, Q3`$]]}, "RowWithSeparators"]]}, 
        "RowWithSeparators"]},
      "Ket"],
     DisplayForm],
    Ket[<|$CellContext`S[1, Q3`$] -> 1, $CellContext`S[2, Q3`$] -> 
      0, $CellContext`S[3, Q3`$] -> 1|>]]}], "+", 
  RowBox[{
   RowBox[{"(", 
    RowBox[{"0.09992450710204163`", "\[VeryThinSpace]", "+", 
     RowBox[{"0.037356264732609404`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
   InterpretationBox[
    TagBox[
     TemplateBox[{
       TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
         SubscriptBox["1", 
          TemplateBox[{",", "\",\"", 
            InterpretationBox[
             SubscriptBox["S", 
              TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
             $CellContext`S[1, Q3`$]]}, "RowWithSeparators"]], 
         SubscriptBox["1", 
          TemplateBox[{",", "\",\"", 
            InterpretationBox[
             SubscriptBox["S", 
              TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
             $CellContext`S[2, Q3`$]]}, "RowWithSeparators"]], 
         SubscriptBox["0", 
          TemplateBox[{",", "\",\"", 
            InterpretationBox[
             SubscriptBox["S", 
              TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
             $CellContext`S[3, Q3`$]]}, "RowWithSeparators"]]}, 
        "RowWithSeparators"]},
      "Ket"],
     DisplayForm],
    Ket[<|$CellContext`S[1, Q3`$] -> 1, $CellContext`S[2, Q3`$] -> 
      1, $CellContext`S[3, Q3`$] -> 0|>]]}], "+", 
  RowBox[{
   RowBox[{"(", 
    RowBox[{"0.004287792957296352`", "\[VeryThinSpace]", "-", 
     RowBox[{"0.10437407567821816`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
   InterpretationBox[
    TagBox[
     TemplateBox[{
       TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
         SubscriptBox["1", 
          TemplateBox[{",", "\",\"", 
            InterpretationBox[
             SubscriptBox["S", 
              TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
             $CellContext`S[1, Q3`$]]}, "RowWithSeparators"]], 
         SubscriptBox["1", 
          TemplateBox[{",", "\",\"", 
            InterpretationBox[
             SubscriptBox["S", 
              TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
             $CellContext`S[2, Q3`$]]}, "RowWithSeparators"]], 
         SubscriptBox["1", 
          TemplateBox[{",", "\",\"", 
            InterpretationBox[
             SubscriptBox["S", 
              TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
             $CellContext`S[3, Q3`$]]}, "RowWithSeparators"]]}, 
        "RowWithSeparators"]},
      "Ket"],
     DisplayForm],
    Ket[<|$CellContext`S[1, Q3`$] -> 1, $CellContext`S[2, Q3`$] -> 
      1, $CellContext`S[3, Q3`$] -> 1|>]]}]}]], "Output",
 CellLabel->"Out[8]=",
 CellID->1671523090,ExpressionUUID->"ae9aa762-4b2a-4530-89fa-7b553d18fe6b"]
}, Open  ]],

Cell[TextData[{
 "Apparently, it looks different from the desired state ",
 StyleBox["vec", "Input"],
 " shown above. However, this is because of a physically irrelevant global \
phase. Indeed, the fidelity between the two states are unity."
}], "ExampleText",
 CellID->1425405128,ExpressionUUID->"c2708694-4eca-4fc6-84b1-2d1f10f64e0e"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"Fidelity", "[", 
  RowBox[{"out", ",", "vec"}], "]"}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[9]:=",
 CellID->230677517,ExpressionUUID->"89674021-de22-43d8-a558-d31f7ba8476e"],

Cell[BoxData["1.0000000000000002`"], "Output",
 CellLabel->"Out[9]=",
 CellID->2054987223,ExpressionUUID->"9044b119-b306-45ea-90aa-93d093194d3d"]
}, Open  ]],

Cell[TextData[{
 "As already mentioned, the amplitude embedding gate consists of two ",
 ButtonBox["uniformly controlled rotations",
  BaseStyle->"Link",
  ButtonData->"paclet:Q3/ref/UniformlyControlledRotation"],
 ". This is made explicitly using the ",
 ButtonBox["Expand",
  BaseStyle->"Link",
  ButtonData->"paclet:ref/Expand"],
 " function."
}], "ExampleText",
 CellID->1073681305,ExpressionUUID->"701962a8-6ce8-47b6-bf3c-5516586be9c9"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"new", "=", 
  RowBox[{"Expand", "[", "op", "]"}]}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[10]:=",
 CellID->345681032,ExpressionUUID->"10b5fda9-cf00-4879-8bb2-8706cd0afd2e"],

Cell[BoxData[
 InterpretationBox[
  GraphicsBox[{
    {Dashing[{Small, Small}], LineBox[{}]}, 
    LineBox[{{{0, -1}, {7, -1}}, {{0, -2}, {7, -2}}, {{0, -3}, {7, -3}}}], {
     {GrayLevel[1], EdgeForm[None], RectangleBox[{0.6, -1.4}, {1.4, -0.6}]}, 
     LineBox[{{0.6, -1.4}, {1.4, -1.4}, {1.4, -0.6}, {0.6, -0.6}, {
      0.6, -1.4}}], InsetBox[
      StyleBox[
       SubscriptBox["\<\"R\"\>", "\<\"y\"\>"],
       StripOnInput->False,
       FontSize->Scaled[0.05714285714285714],
       FontWeight->"Light",
       FontSlant->Italic], {1, -1}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
       ImageScaled[{0.5, 0.5}]]]}, {LineBox[{{2, -1}, {2, -2}}], 
     {GrayLevel[1], EdgeForm[GrayLevel[0]], 
      DiskBox[{2, -1}, 0.09, 
       NCache[{Rational[1, 4] Pi, Rational[5, 4] Pi}, {0.7853981633974483, 
        3.9269908169872414`}]], 
      {GrayLevel[0], 
       DiskBox[{2, -1}, 0.09, 
        NCache[{Rational[-3, 4] Pi, Rational[1, 4] Pi}, {-2.356194490192345, 
         0.7853981633974483}]]}}, 
     {GrayLevel[1], EdgeForm[None], RectangleBox[{1.6, -2.4}, {2.4, -1.6}]}, 
     LineBox[{{1.6, -2.4}, {2.4, -2.4}, {2.4, -1.6}, {1.6, -1.6}, {
      1.6, -2.4}}], InsetBox[
      StyleBox[
       SubscriptBox["\<\"R\"\>", "\<\"y\"\>"],
       StripOnInput->False,
       FontSize->Scaled[0.05714285714285714],
       FontWeight->"Light",
       FontSlant->Italic], {2, -2}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
       ImageScaled[{0.5, 0.5}]]]}, {LineBox[{{3, -1}, {3, -2}, {3, -3}}], 
     {GrayLevel[1], EdgeForm[GrayLevel[0]], 
      DiskBox[{3, -1}, 0.09, 
       NCache[{Rational[1, 4] Pi, Rational[5, 4] Pi}, {0.7853981633974483, 
        3.9269908169872414`}]], 
      {GrayLevel[0], 
       DiskBox[{3, -1}, 0.09, 
        NCache[{Rational[-3, 4] Pi, Rational[1, 4] Pi}, {-2.356194490192345, 
         0.7853981633974483}]]}}, 
     {GrayLevel[1], EdgeForm[GrayLevel[0]], 
      DiskBox[{3, -2}, 0.09, 
       NCache[{Rational[1, 4] Pi, Rational[5, 4] Pi}, {0.7853981633974483, 
        3.9269908169872414`}]], 
      {GrayLevel[0], 
       DiskBox[{3, -2}, 0.09, 
        NCache[{Rational[-3, 4] Pi, Rational[1, 4] Pi}, {-2.356194490192345, 
         0.7853981633974483}]]}}, 
     {GrayLevel[1], EdgeForm[None], RectangleBox[{2.6, -3.4}, {3.4, -2.6}]}, 
     LineBox[{{2.6, -3.4}, {3.4, -3.4}, {3.4, -2.6}, {2.6, -2.6}, {
      2.6, -3.4}}], InsetBox[
      StyleBox[
       SubscriptBox["\<\"R\"\>", "\<\"y\"\>"],
       StripOnInput->False,
       FontSize->Scaled[0.05714285714285714],
       FontWeight->"Light",
       FontSlant->Italic], {3, -3}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
       ImageScaled[{0.5, 0.5}]]]}, {
     {GrayLevel[1], EdgeForm[None], RectangleBox[{3.6, -1.4}, {4.4, -0.6}]}, 
     LineBox[{{3.6, -1.4}, {4.4, -1.4}, {4.4, -0.6}, {3.6, -0.6}, {
      3.6, -1.4}}], InsetBox[
      StyleBox[
       SubscriptBox["\<\"R\"\>", "\<\"z\"\>"],
       StripOnInput->False,
       FontSize->Scaled[0.05714285714285714],
       FontWeight->"Light",
       FontSlant->Italic], {4, -1}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
       ImageScaled[{0.5, 0.5}]]]}, {LineBox[{{5, -1}, {5, -2}}], 
     {GrayLevel[1], EdgeForm[GrayLevel[0]], 
      DiskBox[{5, -1}, 0.09, 
       NCache[{Rational[1, 4] Pi, Rational[5, 4] Pi}, {0.7853981633974483, 
        3.9269908169872414`}]], 
      {GrayLevel[0], 
       DiskBox[{5, -1}, 0.09, 
        NCache[{Rational[-3, 4] Pi, Rational[1, 4] Pi}, {-2.356194490192345, 
         0.7853981633974483}]]}}, 
     {GrayLevel[1], EdgeForm[None], RectangleBox[{4.6, -2.4}, {5.4, -1.6}]}, 
     LineBox[{{4.6, -2.4}, {5.4, -2.4}, {5.4, -1.6}, {4.6, -1.6}, {
      4.6, -2.4}}], InsetBox[
      StyleBox[
       SubscriptBox["\<\"R\"\>", "\<\"z\"\>"],
       StripOnInput->False,
       FontSize->Scaled[0.05714285714285714],
       FontWeight->"Light",
       FontSlant->Italic], {5, -2}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
       ImageScaled[{0.5, 0.5}]]]}, {LineBox[{{6, -1}, {6, -2}, {6, -3}}], 
     {GrayLevel[1], EdgeForm[GrayLevel[0]], 
      DiskBox[{6, -1}, 0.09, 
       NCache[{Rational[1, 4] Pi, Rational[5, 4] Pi}, {0.7853981633974483, 
        3.9269908169872414`}]], 
      {GrayLevel[0], 
       DiskBox[{6, -1}, 0.09, 
        NCache[{Rational[-3, 4] Pi, Rational[1, 4] Pi}, {-2.356194490192345, 
         0.7853981633974483}]]}}, 
     {GrayLevel[1], EdgeForm[GrayLevel[0]], 
      DiskBox[{6, -2}, 0.09, 
       NCache[{Rational[1, 4] Pi, Rational[5, 4] Pi}, {0.7853981633974483, 
        3.9269908169872414`}]], 
      {GrayLevel[0], 
       DiskBox[{6, -2}, 0.09, 
        NCache[{Rational[-3, 4] Pi, Rational[1, 4] Pi}, {-2.356194490192345, 
         0.7853981633974483}]]}}, 
     {GrayLevel[1], EdgeForm[None], RectangleBox[{5.6, -3.4}, {6.4, -2.6}]}, 
     LineBox[{{5.6, -3.4}, {6.4, -3.4}, {6.4, -2.6}, {5.6, -2.6}, {
      5.6, -3.4}}], InsetBox[
      StyleBox[
       SubscriptBox["\<\"R\"\>", "\<\"z\"\>"],
       StripOnInput->False,
       FontSize->Scaled[0.05714285714285714],
       FontWeight->"Light",
       FontSlant->Italic], {6, -3}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
       ImageScaled[{0.5, 0.5}]]]}},
   AxesStyle->Large,
   FrameStyle->Large,
   ImagePadding->{{23.400000000000002`, 23.400000000000002`}, {1, 1}},
   ImageSize->298.8,
   PlotRange->NCache[{Full, {
       Rational[-7, 2], 
       Rational[-1, 2]}}, {Full, {-3.5, -0.5}}],
   PlotRangePadding->Scaled[0.025]],
  Q3`QuantumCircuit[
   Q3`Rotation[0.8750719628132048, {0, 1, 0}, 
    $CellContext`S[1, Q3`$]], 
   Q3`UniformlyControlledRotation[{
     $CellContext`S[1, Q3`$]}, {1.8146522983009945`, 0.7202309634989789}, {0, 
    1, 0}, 
    $CellContext`S[2, Q3`$]], 
   Q3`UniformlyControlledRotation[{
     $CellContext`S[1, Q3`$], 
     $CellContext`S[2, Q3`$]}, {1.6918964522744384`, 1.3832093305959563`, 
    1.413972506738634, 1.5497984867061474`}, {0, 1, 0}, 
    $CellContext`S[3, Q3`$]], 
   Q3`Rotation[2.2140196989243908`, {0, 0, 1}, 
    $CellContext`S[1, Q3`$]], 
   Q3`UniformlyControlledRotation[{
     $CellContext`S[1, Q3`$]}, {-0.205427923701758, -3.386000525208714}, {0, 
    0, 1}, 
    $CellContext`S[2, Q3`$]], 
   Q3`UniformlyControlledRotation[{
     $CellContext`S[1, Q3`$], 
     $CellContext`S[2, Q3`$]}, {1.5895193555841418`, -1.9485352937715776`, 
    2.0899147277534946`, -1.8874959710192218`}, {0, 0, 1}, 
    $CellContext`S[3, Q3`$]]]]], "Output",
 CellLabel->"Out[10]=",
 CellID->1592555825,ExpressionUUID->"44b6e7a0-f34b-478e-bae4-abcc2f51d9d6"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"InputForm", "[", "new", "]"}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[11]:=",
 CellID->1116136118,ExpressionUUID->"15755640-629b-4244-97c9-313f7d05f214"],

Cell["\<\
QuantumCircuit[Rotation[0.8750719628132048, {0, 1, 0}, S[1, $]], 
 UniformlyControlledRotation[{S[1, $]}, {1.8146522983009945, \
0.7202309634989789}, {0, 1, 0}, S[2, $]], 
 UniformlyControlledRotation[{S[1, $], S[2, $]}, {1.6918964522744384, \
1.3832093305959563, 1.413972506738634, 
   1.5497984867061474}, {0, 1, 0}, S[3, $]], Rotation[2.2140196989243908, {0, \
0, 1}, S[1, $]], 
 UniformlyControlledRotation[{S[1, $]}, {-0.205427923701758, \
-3.386000525208714}, {0, 0, 1}, S[2, $]], 
 UniformlyControlledRotation[{S[1, $], S[2, $]}, {1.5895193555841418, \
-1.9485352937715776, 
   2.0899147277534946, -1.8874959710192218}, {0, 0, 1}, S[3, $]]]\
\>", "Output",
 CellLabel->"Out[11]//InputForm=",
 CellID->35778619,ExpressionUUID->"8f8f043a-0228-4fb9-900d-7bba3a90e11f"]
}, Open  ]],

Cell[TextData[{
 "Of course, it may also be expanded inside ",
 Cell[BoxData[
  TemplateBox[{
    Cell[
     TextData["QuantumCircuit"]], "paclet:Q3/ref/QuantumCircuit", 
    "Q3 Package Symbol"},
   "PackageLink",
   BaseStyle->"InlineFormula"]], "InlineFormula",
  FontFamily->"Source Sans Pro",ExpressionUUID->
  "4f733f23-c89b-483e-a610-0f721e15a6cd"],
 "."
}], "ExampleText",
 CellID->713445166,ExpressionUUID->"3956822a-0091-44ea-956f-7e96bc1a41b7"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"qc", "=", 
  RowBox[{"QuantumCircuit", "[", 
   RowBox[{"Expand", "@", "op"}], "]"}]}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[12]:=",
 CellID->1472359479,ExpressionUUID->"4df98d5c-1d93-4d94-b567-470c759755eb"],

Cell[BoxData[
 InterpretationBox[
  GraphicsBox[{
    {Dashing[{Small, Small}], LineBox[{}]}, 
    LineBox[{{{0, -1}, {7, -1}}, {{0, -2}, {7, -2}}, {{0, -3}, {7, -3}}}], {
     {GrayLevel[1], EdgeForm[None], RectangleBox[{0.6, -1.4}, {1.4, -0.6}]}, 
     LineBox[{{0.6, -1.4}, {1.4, -1.4}, {1.4, -0.6}, {0.6, -0.6}, {
      0.6, -1.4}}], InsetBox[
      StyleBox[
       SubscriptBox["\<\"R\"\>", "\<\"y\"\>"],
       StripOnInput->False,
       FontSize->Scaled[0.05714285714285714],
       FontWeight->"Light",
       FontSlant->Italic], {1, -1}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
       ImageScaled[{0.5, 0.5}]]]}, {LineBox[{{2, -1}, {2, -2}}], 
     {GrayLevel[1], EdgeForm[GrayLevel[0]], 
      DiskBox[{2, -1}, 0.09, 
       NCache[{Rational[1, 4] Pi, Rational[5, 4] Pi}, {0.7853981633974483, 
        3.9269908169872414`}]], 
      {GrayLevel[0], 
       DiskBox[{2, -1}, 0.09, 
        NCache[{Rational[-3, 4] Pi, Rational[1, 4] Pi}, {-2.356194490192345, 
         0.7853981633974483}]]}}, 
     {GrayLevel[1], EdgeForm[None], RectangleBox[{1.6, -2.4}, {2.4, -1.6}]}, 
     LineBox[{{1.6, -2.4}, {2.4, -2.4}, {2.4, -1.6}, {1.6, -1.6}, {
      1.6, -2.4}}], InsetBox[
      StyleBox[
       SubscriptBox["\<\"R\"\>", "\<\"y\"\>"],
       StripOnInput->False,
       FontSize->Scaled[0.05714285714285714],
       FontWeight->"Light",
       FontSlant->Italic], {2, -2}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
       ImageScaled[{0.5, 0.5}]]]}, {LineBox[{{3, -1}, {3, -2}, {3, -3}}], 
     {GrayLevel[1], EdgeForm[GrayLevel[0]], 
      DiskBox[{3, -1}, 0.09, 
       NCache[{Rational[1, 4] Pi, Rational[5, 4] Pi}, {0.7853981633974483, 
        3.9269908169872414`}]], 
      {GrayLevel[0], 
       DiskBox[{3, -1}, 0.09, 
        NCache[{Rational[-3, 4] Pi, Rational[1, 4] Pi}, {-2.356194490192345, 
         0.7853981633974483}]]}}, 
     {GrayLevel[1], EdgeForm[GrayLevel[0]], 
      DiskBox[{3, -2}, 0.09, 
       NCache[{Rational[1, 4] Pi, Rational[5, 4] Pi}, {0.7853981633974483, 
        3.9269908169872414`}]], 
      {GrayLevel[0], 
       DiskBox[{3, -2}, 0.09, 
        NCache[{Rational[-3, 4] Pi, Rational[1, 4] Pi}, {-2.356194490192345, 
         0.7853981633974483}]]}}, 
     {GrayLevel[1], EdgeForm[None], RectangleBox[{2.6, -3.4}, {3.4, -2.6}]}, 
     LineBox[{{2.6, -3.4}, {3.4, -3.4}, {3.4, -2.6}, {2.6, -2.6}, {
      2.6, -3.4}}], InsetBox[
      StyleBox[
       SubscriptBox["\<\"R\"\>", "\<\"y\"\>"],
       StripOnInput->False,
       FontSize->Scaled[0.05714285714285714],
       FontWeight->"Light",
       FontSlant->Italic], {3, -3}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
       ImageScaled[{0.5, 0.5}]]]}, {
     {GrayLevel[1], EdgeForm[None], RectangleBox[{3.6, -1.4}, {4.4, -0.6}]}, 
     LineBox[{{3.6, -1.4}, {4.4, -1.4}, {4.4, -0.6}, {3.6, -0.6}, {
      3.6, -1.4}}], InsetBox[
      StyleBox[
       SubscriptBox["\<\"R\"\>", "\<\"z\"\>"],
       StripOnInput->False,
       FontSize->Scaled[0.05714285714285714],
       FontWeight->"Light",
       FontSlant->Italic], {4, -1}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
       ImageScaled[{0.5, 0.5}]]]}, {LineBox[{{5, -1}, {5, -2}}], 
     {GrayLevel[1], EdgeForm[GrayLevel[0]], 
      DiskBox[{5, -1}, 0.09, 
       NCache[{Rational[1, 4] Pi, Rational[5, 4] Pi}, {0.7853981633974483, 
        3.9269908169872414`}]], 
      {GrayLevel[0], 
       DiskBox[{5, -1}, 0.09, 
        NCache[{Rational[-3, 4] Pi, Rational[1, 4] Pi}, {-2.356194490192345, 
         0.7853981633974483}]]}}, 
     {GrayLevel[1], EdgeForm[None], RectangleBox[{4.6, -2.4}, {5.4, -1.6}]}, 
     LineBox[{{4.6, -2.4}, {5.4, -2.4}, {5.4, -1.6}, {4.6, -1.6}, {
      4.6, -2.4}}], InsetBox[
      StyleBox[
       SubscriptBox["\<\"R\"\>", "\<\"z\"\>"],
       StripOnInput->False,
       FontSize->Scaled[0.05714285714285714],
       FontWeight->"Light",
       FontSlant->Italic], {5, -2}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
       ImageScaled[{0.5, 0.5}]]]}, {LineBox[{{6, -1}, {6, -2}, {6, -3}}], 
     {GrayLevel[1], EdgeForm[GrayLevel[0]], 
      DiskBox[{6, -1}, 0.09, 
       NCache[{Rational[1, 4] Pi, Rational[5, 4] Pi}, {0.7853981633974483, 
        3.9269908169872414`}]], 
      {GrayLevel[0], 
       DiskBox[{6, -1}, 0.09, 
        NCache[{Rational[-3, 4] Pi, Rational[1, 4] Pi}, {-2.356194490192345, 
         0.7853981633974483}]]}}, 
     {GrayLevel[1], EdgeForm[GrayLevel[0]], 
      DiskBox[{6, -2}, 0.09, 
       NCache[{Rational[1, 4] Pi, Rational[5, 4] Pi}, {0.7853981633974483, 
        3.9269908169872414`}]], 
      {GrayLevel[0], 
       DiskBox[{6, -2}, 0.09, 
        NCache[{Rational[-3, 4] Pi, Rational[1, 4] Pi}, {-2.356194490192345, 
         0.7853981633974483}]]}}, 
     {GrayLevel[1], EdgeForm[None], RectangleBox[{5.6, -3.4}, {6.4, -2.6}]}, 
     LineBox[{{5.6, -3.4}, {6.4, -3.4}, {6.4, -2.6}, {5.6, -2.6}, {
      5.6, -3.4}}], InsetBox[
      StyleBox[
       SubscriptBox["\<\"R\"\>", "\<\"z\"\>"],
       StripOnInput->False,
       FontSize->Scaled[0.05714285714285714],
       FontWeight->"Light",
       FontSlant->Italic], {6, -3}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
       ImageScaled[{0.5, 0.5}]]]}},
   AxesStyle->Large,
   FrameStyle->Large,
   ImagePadding->{{23.400000000000002`, 23.400000000000002`}, {1, 1}},
   ImageSize->298.8,
   PlotRange->NCache[{Full, {
       Rational[-7, 2], 
       Rational[-1, 2]}}, {Full, {-3.5, -0.5}}],
   PlotRangePadding->Scaled[0.025]],
  Q3`QuantumCircuit[
   Q3`Rotation[0.8750719628132048, {0, 1, 0}, 
    $CellContext`S[1, Q3`$]], 
   Q3`UniformlyControlledRotation[{
     $CellContext`S[1, Q3`$]}, {1.8146522983009945`, 0.7202309634989789}, {0, 
    1, 0}, 
    $CellContext`S[2, Q3`$]], 
   Q3`UniformlyControlledRotation[{
     $CellContext`S[1, Q3`$], 
     $CellContext`S[2, Q3`$]}, {1.6918964522744384`, 1.3832093305959563`, 
    1.413972506738634, 1.5497984867061474`}, {0, 1, 0}, 
    $CellContext`S[3, Q3`$]], 
   Q3`Rotation[2.2140196989243908`, {0, 0, 1}, 
    $CellContext`S[1, Q3`$]], 
   Q3`UniformlyControlledRotation[{
     $CellContext`S[1, Q3`$]}, {-0.205427923701758, -3.386000525208714}, {0, 
    0, 1}, 
    $CellContext`S[2, Q3`$]], 
   Q3`UniformlyControlledRotation[{
     $CellContext`S[1, Q3`$], 
     $CellContext`S[2, Q3`$]}, {1.5895193555841418`, -1.9485352937715776`, 
    2.0899147277534946`, -1.8874959710192218`}, {0, 0, 1}, 
    $CellContext`S[3, Q3`$]]]]], "Output",
 CellLabel->"Out[12]=",
 CellID->628133648,ExpressionUUID->"5fbc5c47-6f30-4417-b5e0-7a9676ae7d84"]
}, Open  ]],

Cell[TextData[{
 "The ",
 ButtonBox["uniformly controlled rotations",
  BaseStyle->"Link",
  ButtonData->"paclet:Q3/ref/UniformlyControlledRotation"],
 " themselves may be decomposed further into products of more elementary \
gates as follows (notice the ",
 ButtonBox["ExpandAll",
  BaseStyle->"Link",
  ButtonData->"paclet:ref/ExpandAll"],
 " command)."
}], "ExampleText",
 CellID->1576401756,ExpressionUUID->"4079ed90-7f64-4611-b347-b5a1dce3e031"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"qc", "=", 
  RowBox[{"QuantumCircuit", "[", 
   RowBox[{"ExpandAll", "@", "op"}], "]"}]}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[13]:=",
 CellID->159446119,ExpressionUUID->"48aec172-b65e-4aca-bd3e-ec504e915005"],

Cell[BoxData[
 InterpretationBox[
  GraphicsBox[{
    {Dashing[{Small, Small}], LineBox[{}]}, 
    LineBox[{{{0, -1}, {15, -1}}, {{0, -2}, {15, -2}}, {{0, -3}, {15, -3}}}], {
     {GrayLevel[1], EdgeForm[None], RectangleBox[{0.6, -1.4}, {1.4, -0.6}]}, 
     LineBox[{{0.6, -1.4}, {1.4, -1.4}, {1.4, -0.6}, {0.6, -0.6}, {
      0.6, -1.4}}], InsetBox[
      StyleBox[
       SubscriptBox["\<\"R\"\>", "\<\"y\"\>"],
       StripOnInput->False,
       FontSize->Scaled[0.02666666666666667],
       FontWeight->"Light",
       FontSlant->Italic], {1, -1}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
       ImageScaled[{0.5, 0.5}]]]}, {LineBox[{{2, -1}, {2, -2}}], 
     {GrayLevel[1], EdgeForm[GrayLevel[0]], DiskBox[{2, -1}, 0.09]}, 
     {GrayLevel[1], EdgeForm[None], RectangleBox[{1.6, -2.4}, {2.4, -1.6}]}, 
     LineBox[{{1.6, -2.4}, {2.4, -2.4}, {2.4, -1.6}, {1.6, -1.6}, {
      1.6, -2.4}}], InsetBox[
      StyleBox[
       SubscriptBox["\<\"R\"\>", "\<\"y\"\>"],
       StripOnInput->False,
       FontSize->Scaled[0.02666666666666667],
       FontWeight->"Light",
       FontSlant->Italic], {2, -2}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
       ImageScaled[{0.5, 0.5}]]]}, {LineBox[{{3, -1}, {3, -2}}], 
     DiskBox[{3, -1}, 0.09], 
     {GrayLevel[1], EdgeForm[None], RectangleBox[{2.6, -2.4}, {3.4, -1.6}]}, 
     LineBox[{{2.6, -2.4}, {3.4, -2.4}, {3.4, -1.6}, {2.6, -1.6}, {
      2.6, -2.4}}], InsetBox[
      StyleBox[
       SubscriptBox["\<\"R\"\>", "\<\"y\"\>"],
       StripOnInput->False,
       FontSize->Scaled[0.02666666666666667],
       FontWeight->"Light",
       FontSlant->Italic], {3, -2}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
       ImageScaled[{0.5, 0.5}]]]}, {LineBox[{{4, -1}, {4, -2}, {4, -3}}], 
     {GrayLevel[1], EdgeForm[GrayLevel[0]], DiskBox[{4, -1}, 0.09]}, 
     {GrayLevel[1], EdgeForm[GrayLevel[0]], DiskBox[{4, -2}, 0.09]}, 
     {GrayLevel[1], EdgeForm[None], RectangleBox[{3.6, -3.4}, {4.4, -2.6}]}, 
     LineBox[{{3.6, -3.4}, {4.4, -3.4}, {4.4, -2.6}, {3.6, -2.6}, {
      3.6, -3.4}}], InsetBox[
      StyleBox[
       SubscriptBox["\<\"R\"\>", "\<\"y\"\>"],
       StripOnInput->False,
       FontSize->Scaled[0.02666666666666667],
       FontWeight->"Light",
       FontSlant->Italic], {4, -3}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
       ImageScaled[{0.5, 0.5}]]]}, {LineBox[{{5, -1}, {5, -2}, {5, -3}}], 
     {GrayLevel[1], EdgeForm[GrayLevel[0]], DiskBox[{5, -1}, 0.09]}, 
     DiskBox[{5, -2}, 0.09], 
     {GrayLevel[1], EdgeForm[None], RectangleBox[{4.6, -3.4}, {5.4, -2.6}]}, 
     LineBox[{{4.6, -3.4}, {5.4, -3.4}, {5.4, -2.6}, {4.6, -2.6}, {
      4.6, -3.4}}], InsetBox[
      StyleBox[
       SubscriptBox["\<\"R\"\>", "\<\"y\"\>"],
       StripOnInput->False,
       FontSize->Scaled[0.02666666666666667],
       FontWeight->"Light",
       FontSlant->Italic], {5, -3}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
       ImageScaled[{0.5, 0.5}]]]}, {LineBox[{{6, -1}, {6, -2}, {6, -3}}], 
     DiskBox[{6, -1}, 0.09], 
     {GrayLevel[1], EdgeForm[GrayLevel[0]], DiskBox[{6, -2}, 0.09]}, 
     {GrayLevel[1], EdgeForm[None], RectangleBox[{5.6, -3.4}, {6.4, -2.6}]}, 
     LineBox[{{5.6, -3.4}, {6.4, -3.4}, {6.4, -2.6}, {5.6, -2.6}, {
      5.6, -3.4}}], InsetBox[
      StyleBox[
       SubscriptBox["\<\"R\"\>", "\<\"y\"\>"],
       StripOnInput->False,
       FontSize->Scaled[0.02666666666666667],
       FontWeight->"Light",
       FontSlant->Italic], {6, -3}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
       ImageScaled[{0.5, 0.5}]]]}, {LineBox[{{7, -1}, {7, -2}, {7, -3}}], 
     DiskBox[{7, -1}, 0.09], DiskBox[{7, -2}, 0.09], 
     {GrayLevel[1], EdgeForm[None], RectangleBox[{6.6, -3.4}, {7.4, -2.6}]}, 
     LineBox[{{6.6, -3.4}, {7.4, -3.4}, {7.4, -2.6}, {6.6, -2.6}, {
      6.6, -3.4}}], InsetBox[
      StyleBox[
       SubscriptBox["\<\"R\"\>", "\<\"y\"\>"],
       StripOnInput->False,
       FontSize->Scaled[0.02666666666666667],
       FontWeight->"Light",
       FontSlant->Italic], {7, -3}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
       ImageScaled[{0.5, 0.5}]]]}, {
     {GrayLevel[1], EdgeForm[None], RectangleBox[{7.6, -1.4}, {8.4, -0.6}]}, 
     LineBox[{{7.6, -1.4}, {8.4, -1.4}, {8.4, -0.6}, {7.6, -0.6}, {
      7.6, -1.4}}], InsetBox[
      StyleBox[
       SubscriptBox["\<\"R\"\>", "\<\"z\"\>"],
       StripOnInput->False,
       FontSize->Scaled[0.02666666666666667],
       FontWeight->"Light",
       FontSlant->Italic], {8, -1}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
       ImageScaled[{0.5, 0.5}]]]}, {LineBox[{{9, -1}, {9, -2}}], 
     {GrayLevel[1], EdgeForm[GrayLevel[0]], DiskBox[{9, -1}, 0.09]}, 
     {GrayLevel[1], EdgeForm[None], RectangleBox[{8.6, -2.4}, {9.4, -1.6}]}, 
     LineBox[{{8.6, -2.4}, {9.4, -2.4}, {9.4, -1.6}, {8.6, -1.6}, {
      8.6, -2.4}}], InsetBox[
      StyleBox[
       SubscriptBox["\<\"R\"\>", "\<\"z\"\>"],
       StripOnInput->False,
       FontSize->Scaled[0.02666666666666667],
       FontWeight->"Light",
       FontSlant->Italic], {9, -2}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
       ImageScaled[{0.5, 0.5}]]]}, {LineBox[{{10, -1}, {10, -2}}], 
     DiskBox[{10, -1}, 0.09], 
     {GrayLevel[1], EdgeForm[None], RectangleBox[{9.6, -2.4}, {10.4, -1.6}]}, 
     LineBox[{{9.6, -2.4}, {10.4, -2.4}, {10.4, -1.6}, {9.6, -1.6}, {
      9.6, -2.4}}], InsetBox[
      StyleBox[
       SubscriptBox["\<\"R\"\>", "\<\"z\"\>"],
       StripOnInput->False,
       FontSize->Scaled[0.02666666666666667],
       FontWeight->"Light",
       FontSlant->Italic], {10, -2}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
       ImageScaled[{0.5, 0.5}]]]}, {LineBox[{{11, -1}, {11, -2}, {11, -3}}], 
     {GrayLevel[1], EdgeForm[GrayLevel[0]], DiskBox[{11, -1}, 0.09]}, 
     {GrayLevel[1], EdgeForm[GrayLevel[0]], DiskBox[{11, -2}, 0.09]}, 
     {GrayLevel[1], EdgeForm[None], RectangleBox[{10.6, -3.4}, {11.4, -2.6}]},
      LineBox[{{10.6, -3.4}, {11.4, -3.4}, {11.4, -2.6}, {10.6, -2.6}, {
      10.6, -3.4}}], InsetBox[
      StyleBox[
       SubscriptBox["\<\"R\"\>", "\<\"z\"\>"],
       StripOnInput->False,
       FontSize->Scaled[0.02666666666666667],
       FontWeight->"Light",
       FontSlant->Italic], {11, -3}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
       ImageScaled[{0.5, 0.5}]]]}, {LineBox[{{12, -1}, {12, -2}, {12, -3}}], 
     {GrayLevel[1], EdgeForm[GrayLevel[0]], DiskBox[{12, -1}, 0.09]}, 
     DiskBox[{12, -2}, 0.09], 
     {GrayLevel[1], EdgeForm[None], RectangleBox[{11.6, -3.4}, {12.4, -2.6}]},
      LineBox[{{11.6, -3.4}, {12.4, -3.4}, {12.4, -2.6}, {11.6, -2.6}, {
      11.6, -3.4}}], InsetBox[
      StyleBox[
       SubscriptBox["\<\"R\"\>", "\<\"z\"\>"],
       StripOnInput->False,
       FontSize->Scaled[0.02666666666666667],
       FontWeight->"Light",
       FontSlant->Italic], {12, -3}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
       ImageScaled[{0.5, 0.5}]]]}, {LineBox[{{13, -1}, {13, -2}, {13, -3}}], 
     DiskBox[{13, -1}, 0.09], 
     {GrayLevel[1], EdgeForm[GrayLevel[0]], DiskBox[{13, -2}, 0.09]}, 
     {GrayLevel[1], EdgeForm[None], RectangleBox[{12.6, -3.4}, {13.4, -2.6}]},
      LineBox[{{12.6, -3.4}, {13.4, -3.4}, {13.4, -2.6}, {12.6, -2.6}, {
      12.6, -3.4}}], InsetBox[
      StyleBox[
       SubscriptBox["\<\"R\"\>", "\<\"z\"\>"],
       StripOnInput->False,
       FontSize->Scaled[0.02666666666666667],
       FontWeight->"Light",
       FontSlant->Italic], {13, -3}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
       ImageScaled[{0.5, 0.5}]]]}, {LineBox[{{14, -1}, {14, -2}, {14, -3}}], 
     DiskBox[{14, -1}, 0.09], DiskBox[{14, -2}, 0.09], 
     {GrayLevel[1], EdgeForm[None], RectangleBox[{13.6, -3.4}, {14.4, -2.6}]},
      LineBox[{{13.6, -3.4}, {14.4, -3.4}, {14.4, -2.6}, {13.6, -2.6}, {
      13.6, -3.4}}], InsetBox[
      StyleBox[
       SubscriptBox["\<\"R\"\>", "\<\"z\"\>"],
       StripOnInput->False,
       FontSize->Scaled[0.02666666666666667],
       FontWeight->"Light",
       FontSlant->Italic], {14, -3}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
       ImageScaled[{0.5, 0.5}]]]}},
   AxesStyle->Large,
   FrameStyle->Large,
   ImagePadding->{{23.400000000000002`, 23.400000000000002`}, {1, 1}},
   ImageSize->586.8000000000001,
   PlotRange->NCache[{Full, {
       Rational[-7, 2], 
       Rational[-1, 2]}}, {Full, {-3.5, -0.5}}],
   PlotRangePadding->Scaled[0.025]],
  Q3`QuantumCircuit[
   Q3`Rotation[0.8750719628132048, {0, 1, 0}, 
    $CellContext`S[1, Q3`$]], 
   Q3`ControlledGate[{$CellContext`S[1, Q3`$] -> 0}, 
    Q3`Rotation[1.8146522983009945`, {0, 1, 0}, 
     $CellContext`S[2, Q3`$]]], 
   Q3`ControlledGate[{$CellContext`S[1, Q3`$] -> 1}, 
    Q3`Rotation[0.7202309634989789, {0, 1, 0}, 
     $CellContext`S[2, Q3`$]]], 
   Q3`ControlledGate[{$CellContext`S[1, Q3`$] -> 0, $CellContext`S[2, Q3`$] -> 
     0}, 
    Q3`Rotation[1.6918964522744384`, {0, 1, 0}, 
     $CellContext`S[3, Q3`$]]], 
   Q3`ControlledGate[{$CellContext`S[1, Q3`$] -> 0, $CellContext`S[2, Q3`$] -> 
     1}, 
    Q3`Rotation[1.3832093305959563`, {0, 1, 0}, 
     $CellContext`S[3, Q3`$]]], 
   Q3`ControlledGate[{$CellContext`S[1, Q3`$] -> 1, $CellContext`S[2, Q3`$] -> 
     0}, 
    Q3`Rotation[1.413972506738634, {0, 1, 0}, 
     $CellContext`S[3, Q3`$]]], 
   Q3`ControlledGate[{$CellContext`S[1, Q3`$] -> 1, $CellContext`S[2, Q3`$] -> 
     1}, 
    Q3`Rotation[1.5497984867061474`, {0, 1, 0}, 
     $CellContext`S[3, Q3`$]]], 
   Q3`Rotation[2.2140196989243908`, {0, 0, 1}, 
    $CellContext`S[1, Q3`$]], 
   Q3`ControlledGate[{$CellContext`S[1, Q3`$] -> 0}, 
    Q3`Rotation[-0.205427923701758, {0, 0, 1}, 
     $CellContext`S[2, Q3`$]]], 
   Q3`ControlledGate[{$CellContext`S[1, Q3`$] -> 1}, 
    Q3`Rotation[-3.386000525208714, {0, 0, 1}, 
     $CellContext`S[2, Q3`$]]], 
   Q3`ControlledGate[{$CellContext`S[1, Q3`$] -> 0, $CellContext`S[2, Q3`$] -> 
     0}, 
    Q3`Rotation[1.5895193555841418`, {0, 0, 1}, 
     $CellContext`S[3, Q3`$]]], 
   Q3`ControlledGate[{$CellContext`S[1, Q3`$] -> 0, $CellContext`S[2, Q3`$] -> 
     1}, 
    Q3`Rotation[-1.9485352937715776`, {0, 0, 1}, 
     $CellContext`S[3, Q3`$]]], 
   Q3`ControlledGate[{$CellContext`S[1, Q3`$] -> 1, $CellContext`S[2, Q3`$] -> 
     0}, 
    Q3`Rotation[2.0899147277534946`, {0, 0, 1}, 
     $CellContext`S[3, Q3`$]]], 
   Q3`ControlledGate[{$CellContext`S[1, Q3`$] -> 1, $CellContext`S[2, Q3`$] -> 
     1}, 
    Q3`Rotation[-1.8874959710192218`, {0, 0, 1}, 
     $CellContext`S[3, Q3`$]]]]]], "Output",
 CellLabel->"Out[13]=",
 CellID->2038572094,ExpressionUUID->"739e0b4a-c5ac-4492-a6f6-fae17e06461c"]
}, Open  ]],

Cell["\<\
Check again the above statement is true by examining the output state.\
\>", "ExampleText",
 CellID->729267414,ExpressionUUID->"87100233-ee51-45c5-b40d-d94a60dfd710"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"EchoTiming", "[", 
  RowBox[{"more", "=", 
   RowBox[{"qc", "**", 
    RowBox[{"Ket", "[", "SS", "]"}]}]}], "]"}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[14]:=",
 CellID->1406538949,ExpressionUUID->"f1806dfe-270c-4fdf-badc-e07b1df91f9e"],

Cell[BoxData["9.0379`"], "EchoTiming",
 CellID->65264926,ExpressionUUID->"21de0f06-80bc-4afb-9afa-0c32d1479128"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"(", 
    RowBox[{
     RowBox[{"-", "0.08369278245202205`"}], "-", 
     RowBox[{"0.36026660168570107`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
   InterpretationBox[
    TagBox[
     TemplateBox[{
       TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
         SubscriptBox["0", 
          TemplateBox[{",", "\",\"", 
            InterpretationBox[
             SubscriptBox["S", 
              TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
             $CellContext`S[1, Q3`$]]}, "RowWithSeparators"]], 
         SubscriptBox["0", 
          TemplateBox[{",", "\",\"", 
            InterpretationBox[
             SubscriptBox["S", 
              TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
             $CellContext`S[2, Q3`$]]}, "RowWithSeparators"]], 
         SubscriptBox["0", 
          TemplateBox[{",", "\",\"", 
            InterpretationBox[
             SubscriptBox["S", 
              TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
             $CellContext`S[3, Q3`$]]}, "RowWithSeparators"]]}, 
        "RowWithSeparators"]},
      "Ket"],
     DisplayForm],
    Ket[<|$CellContext`S[1, Q3`$] -> 0, $CellContext`S[2, Q3`$] -> 
      0, $CellContext`S[3, Q3`$] -> 0|>]]}], "+", 
  RowBox[{
   RowBox[{"(", 
    RowBox[{"0.4084652415295654`", "\[VeryThinSpace]", "-", 
     RowBox[{"0.0868632511172136`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
   InterpretationBox[
    TagBox[
     TemplateBox[{
       TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
         SubscriptBox["0", 
          TemplateBox[{",", "\",\"", 
            InterpretationBox[
             SubscriptBox["S", 
              TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
             $CellContext`S[1, Q3`$]]}, "RowWithSeparators"]], 
         SubscriptBox["0", 
          TemplateBox[{",", "\",\"", 
            InterpretationBox[
             SubscriptBox["S", 
              TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
             $CellContext`S[2, Q3`$]]}, "RowWithSeparators"]], 
         SubscriptBox["1", 
          TemplateBox[{",", "\",\"", 
            InterpretationBox[
             SubscriptBox["S", 
              TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
             $CellContext`S[3, Q3`$]]}, "RowWithSeparators"]]}, 
        "RowWithSeparators"]},
      "Ket"],
     DisplayForm],
    Ket[<|$CellContext`S[1, Q3`$] -> 0, $CellContext`S[2, Q3`$] -> 
      0, $CellContext`S[3, Q3`$] -> 1|>]]}], "+", 
  RowBox[{
   RowBox[{"(", 
    RowBox[{"0.5344977624750388`", "\[VeryThinSpace]", "-", 
     RowBox[{"0.1282292575603164`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
   InterpretationBox[
    TagBox[
     TemplateBox[{
       TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
         SubscriptBox["0", 
          TemplateBox[{",", "\",\"", 
            InterpretationBox[
             SubscriptBox["S", 
              TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
             $CellContext`S[1, Q3`$]]}, "RowWithSeparators"]], 
         SubscriptBox["1", 
          TemplateBox[{",", "\",\"", 
            InterpretationBox[
             SubscriptBox["S", 
              TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
             $CellContext`S[2, Q3`$]]}, "RowWithSeparators"]], 
         SubscriptBox["0", 
          TemplateBox[{",", "\",\"", 
            InterpretationBox[
             SubscriptBox["S", 
              TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
             $CellContext`S[3, Q3`$]]}, "RowWithSeparators"]]}, 
        "RowWithSeparators"]},
      "Ket"],
     DisplayForm],
    Ket[<|$CellContext`S[1, Q3`$] -> 0, $CellContext`S[2, Q3`$] -> 
      1, $CellContext`S[3, Q3`$] -> 0|>]]}], "-", 
  RowBox[{
   RowBox[{"(", 
    RowBox[{"0.2619269164155484`", "\[VeryThinSpace]", "+", 
     RowBox[{"0.372221596326086`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
   InterpretationBox[
    TagBox[
     TemplateBox[{
       TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
         SubscriptBox["0", 
          TemplateBox[{",", "\",\"", 
            InterpretationBox[
             SubscriptBox["S", 
              TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
             $CellContext`S[1, Q3`$]]}, "RowWithSeparators"]], 
         SubscriptBox["1", 
          TemplateBox[{",", "\",\"", 
            InterpretationBox[
             SubscriptBox["S", 
              TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
             $CellContext`S[2, Q3`$]]}, "RowWithSeparators"]], 
         SubscriptBox["1", 
          TemplateBox[{",", "\",\"", 
            InterpretationBox[
             SubscriptBox["S", 
              TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
             $CellContext`S[3, Q3`$]]}, "RowWithSeparators"]]}, 
        "RowWithSeparators"]},
      "Ket"],
     DisplayForm],
    Ket[<|$CellContext`S[1, Q3`$] -> 0, $CellContext`S[2, Q3`$] -> 
      1, $CellContext`S[3, Q3`$] -> 1|>]]}], "-", 
  RowBox[{
   RowBox[{"(", 
    RowBox[{"0.05523789546308596`", "\[VeryThinSpace]", "-", 
     RowBox[{"0.2963878211012261`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
   InterpretationBox[
    TagBox[
     TemplateBox[{
       TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
         SubscriptBox["1", 
          TemplateBox[{",", "\",\"", 
            InterpretationBox[
             SubscriptBox["S", 
              TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
             $CellContext`S[1, Q3`$]]}, "RowWithSeparators"]], 
         SubscriptBox["0", 
          TemplateBox[{",", "\",\"", 
            InterpretationBox[
             SubscriptBox["S", 
              TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
             $CellContext`S[2, Q3`$]]}, "RowWithSeparators"]], 
         SubscriptBox["0", 
          TemplateBox[{",", "\",\"", 
            InterpretationBox[
             SubscriptBox["S", 
              TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
             $CellContext`S[3, Q3`$]]}, "RowWithSeparators"]]}, 
        "RowWithSeparators"]},
      "Ket"],
     DisplayForm],
    Ket[<|$CellContext`S[1, Q3`$] -> 1, $CellContext`S[2, Q3`$] -> 
      0, $CellContext`S[3, Q3`$] -> 0|>]]}], "-", 
  RowBox[{
   RowBox[{"(", 
    RowBox[{"0.1964351301345414`", "\[VeryThinSpace]", "+", 
     RowBox[{"0.16659151425941054`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
   InterpretationBox[
    TagBox[
     TemplateBox[{
       TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
         SubscriptBox["1", 
          TemplateBox[{",", "\",\"", 
            InterpretationBox[
             SubscriptBox["S", 
              TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
             $CellContext`S[1, Q3`$]]}, "RowWithSeparators"]], 
         SubscriptBox["0", 
          TemplateBox[{",", "\",\"", 
            InterpretationBox[
             SubscriptBox["S", 
              TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
             $CellContext`S[2, Q3`$]]}, "RowWithSeparators"]], 
         SubscriptBox["1", 
          TemplateBox[{",", "\",\"", 
            InterpretationBox[
             SubscriptBox["S", 
              TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
             $CellContext`S[3, Q3`$]]}, "RowWithSeparators"]]}, 
        "RowWithSeparators"]},
      "Ket"],
     DisplayForm],
    Ket[<|$CellContext`S[1, Q3`$] -> 1, $CellContext`S[2, Q3`$] -> 
      0, $CellContext`S[3, Q3`$] -> 1|>]]}], "+", 
  RowBox[{
   RowBox[{"(", 
    RowBox[{"0.09992450710204165`", "\[VeryThinSpace]", "+", 
     RowBox[{"0.037356264732609404`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
   InterpretationBox[
    TagBox[
     TemplateBox[{
       TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
         SubscriptBox["1", 
          TemplateBox[{",", "\",\"", 
            InterpretationBox[
             SubscriptBox["S", 
              TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
             $CellContext`S[1, Q3`$]]}, "RowWithSeparators"]], 
         SubscriptBox["1", 
          TemplateBox[{",", "\",\"", 
            InterpretationBox[
             SubscriptBox["S", 
              TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
             $CellContext`S[2, Q3`$]]}, "RowWithSeparators"]], 
         SubscriptBox["0", 
          TemplateBox[{",", "\",\"", 
            InterpretationBox[
             SubscriptBox["S", 
              TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
             $CellContext`S[3, Q3`$]]}, "RowWithSeparators"]]}, 
        "RowWithSeparators"]},
      "Ket"],
     DisplayForm],
    Ket[<|$CellContext`S[1, Q3`$] -> 1, $CellContext`S[2, Q3`$] -> 
      1, $CellContext`S[3, Q3`$] -> 0|>]]}], "+", 
  RowBox[{
   RowBox[{"(", 
    RowBox[{"0.004287792957296352`", "\[VeryThinSpace]", "-", 
     RowBox[{"0.10437407567821816`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
   InterpretationBox[
    TagBox[
     TemplateBox[{
       TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
         SubscriptBox["1", 
          TemplateBox[{",", "\",\"", 
            InterpretationBox[
             SubscriptBox["S", 
              TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
             $CellContext`S[1, Q3`$]]}, "RowWithSeparators"]], 
         SubscriptBox["1", 
          TemplateBox[{",", "\",\"", 
            InterpretationBox[
             SubscriptBox["S", 
              TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
             $CellContext`S[2, Q3`$]]}, "RowWithSeparators"]], 
         SubscriptBox["1", 
          TemplateBox[{",", "\",\"", 
            InterpretationBox[
             SubscriptBox["S", 
              TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
             $CellContext`S[3, Q3`$]]}, "RowWithSeparators"]]}, 
        "RowWithSeparators"]},
      "Ket"],
     DisplayForm],
    Ket[<|$CellContext`S[1, Q3`$] -> 1, $CellContext`S[2, Q3`$] -> 
      1, $CellContext`S[3, Q3`$] -> 1|>]]}]}]], "Output",
 CellLabel->"Out[14]=",
 CellID->1690951312,ExpressionUUID->"e1864fc7-45a4-42cf-973e-e3b1fa85a439"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"Fidelity", "[", 
  RowBox[{"more", ",", "vec"}], "]"}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[15]:=",
 CellID->1104971025,ExpressionUUID->"d3236d47-9194-4b66-a37e-c455ddb77000"],

Cell[BoxData["1.0000000000000002`"], "Output",
 CellLabel->"Out[15]=",
 CellID->20116386,ExpressionUUID->"15f21816-74c6-48a1-b8d8-b9cc60c31074"]
}, Open  ]],

Cell[TextData[{
 "Note that the above quantum circuit may be simplified even further. See the \
examples in ",
 ButtonBox["UniformlyControlledRotation",
  BaseStyle->"Link",
  ButtonData->"paclet:Q3/ref/UniformlyControlledRotation"],
 "."
}], "ExampleText",
 CellID->1054906606,ExpressionUUID->"0d66561d-279d-4a03-bd03-a9b24e0e01db"]
}, Dynamic[CurrentValue[
 EvaluationNotebook[], {TaggingRules, "Openers", "ExampleSection", "0"}, 
  Closed]]]]
}, Dynamic[CurrentValue[
 EvaluationNotebook[], {TaggingRules, "Openers", "PrimaryExamplesSection"}, 
  Closed]]]],

Cell[BoxData[GridBox[{
   {
    DynamicBox[FEPrivate`ImportImage[
      FrontEnd`FileName[{"Documentation", "FooterIcons"}, 
       "RelatedFunction.png"]],
     ImageSizeCache->{50., {27., 33.}}], GridBox[{
      {
       StyleBox[
        RowBox[{"See", " ", "Also"}], "SeeAlsoSection"]},
      {Cell[TextData[{
        Cell[BoxData[
         TemplateBox[{
           Cell[
            TextData["AmplitudeEmbedding"]], 
           "paclet:Q3/ref/AmplitudeEmbedding", "Q3 Package Symbol"},
          "PackageLink",
          BaseStyle->"InlineFormula"]], "InlineFormula",
         FontFamily->"Source Sans Pro",ExpressionUUID->
         "86b29c27-48ac-4d3c-8e0a-271e7d24fa76"],
        "\[NonBreakingSpace]",
        StyleBox[
        "\[MediumSpace]\[FilledVerySmallSquare]\[MediumSpace]", 
         "InlineSeparator"],
        " ",
        Cell[BoxData[
         TemplateBox[{
           Cell[
            TextData["UniformlyControlledRotation"]], 
           "paclet:Q3/ref/UniformlyControlledRotation", "Q3 Package Symbol"},
          "PackageLink",
          BaseStyle->"InlineFormula"]], "InlineFormula",
         FontFamily->"Source Sans Pro",ExpressionUUID->
         "8fd99dc5-1c42-4408-9dcd-66a6f94737b1"],
        "\[NonBreakingSpace]",
        StyleBox[
        "\[MediumSpace]\[FilledVerySmallSquare]\[MediumSpace]", 
         "InlineSeparator"],
        " ",
        Cell[BoxData[
         TemplateBox[{
           Cell[
            TextData["BasisEmbedding"]], "paclet:Q3/ref/BasisEmbedding", 
           "Q3 Package Symbol"},
          "PackageLink",
          BaseStyle->"InlineFormula"]], "InlineFormula",
         FontFamily->"Source Sans Pro",ExpressionUUID->
         "694104b8-9788-4deb-85aa-3eecb0b16f18"],
        "\[NonBreakingSpace]",
        StyleBox[
        "\[MediumSpace]\[FilledVerySmallSquare]\[MediumSpace]", 
         "InlineSeparator"],
        " ",
        Cell[BoxData[
         TemplateBox[{
           Cell[
            TextData["BasisEmbeddingGate"]], 
           "paclet:Q3/ref/BasisEmbeddingGate", "Q3 Package Symbol"},
          "PackageLink",
          BaseStyle->"InlineFormula"]], "InlineFormula",
         FontFamily->"Source Sans Pro",ExpressionUUID->
         "6a42aefe-0ce5-49cf-8099-50e5f8d570f9"]
       }], "SeeAlso",ExpressionUUID->"bf984edf-9f9c-4407-b33e-d0e56d0096a0"]}
     }]}
  }]], "SeeAlsoSection",ExpressionUUID->"9cbb9402-ba5f-48f0-8e67-\
355eead61bf8"],

Cell[BoxData[GridBox[{
   {
    DynamicBox[FEPrivate`ImportImage[
      FrontEnd`FileName[{"Documentation", "FooterIcons"}, 
       "RelatedTechNote.png"]],
     ImageSizeCache->{50., {27., 33.}}], GridBox[{
      {
       StyleBox[
        RowBox[{"Tech", " ", "Notes"}], "TechNotesSection"]},
      {
       RowBox[{"\[FilledVerySmallSquare]", Cell[BoxData[
         TemplateBox[{
           Cell[
            TextData["Multi-Control Unitary Gates"]], 
           "paclet:Q3/tutorial/MultiControlUnitaryGates"},
          "RefLinkPlain",
          BaseStyle->{"Tutorials"}]], "Tutorials",ExpressionUUID->
         "f3f3adb3-28ff-48f4-87b2-aeb9c7a01022"]}]},
      {
       RowBox[{"\[FilledVerySmallSquare]", Cell[BoxData[
         TemplateBox[{
           Cell[
            TextData["Quantum Information Systems with Q3"]], 
           "paclet:Q3/tutorial/QuantumInformationSystems"},
          "RefLinkPlain",
          BaseStyle->{"Tutorials"}]], "Tutorials",ExpressionUUID->
         "bb1ba324-596d-4051-b5c3-60d08d467cf2"]}]},
      {
       RowBox[{"\[FilledVerySmallSquare]", Cell[BoxData[
         TemplateBox[{
           Cell[
            TextData["Quick Quantum Computing with Q3"]], 
           "paclet:Q3/tutorial/QuickQuantumComputingWithQ3"},
          "RefLinkPlain",
          BaseStyle->{"Tutorials"}]], "Tutorials",ExpressionUUID->
         "0a0dff6e-6c66-4e26-ad0f-7a934721ca94"]}]},
      {
       RowBox[{"\[FilledVerySmallSquare]", Cell[BoxData[
         TemplateBox[{
           Cell[
            TextData["Q3: Quick Start"]], "paclet:Q3/tutorial/Q3QuickStart"},
          "RefLinkPlain",
          BaseStyle->{"Tutorials"}]], "Tutorials",ExpressionUUID->
         "d85347f6-8e4d-43f8-a9cb-d87fa5237a60"]}]}
     }]}
  }]], "TechNotesSection",ExpressionUUID->"61a41ef5-a9ae-4ece-a0d8-\
93a3fc77a0a0"],

Cell[BoxData[GridBox[{
   {
    DynamicBox[FEPrivate`ImportImage[
      FrontEnd`FileName[{"Documentation", "FooterIcons"}, "RelatedGuide.png"]],
     ImageSizeCache->{50., {27., 33.}}], GridBox[{
      {
       StyleBox[
        RowBox[{"Related", " ", "Guides"}], "MoreAboutSection"]},
      {
       RowBox[{"\[FilledVerySmallSquare]", Cell[BoxData[
         TemplateBox[{
           Cell[
            TextData["Quantum Information Systems"]], 
           "paclet:Q3/guide/QuantumInformationSystems"},
          "RefLinkPlain",
          BaseStyle->{"MoreAbout"}]], "MoreAbout",ExpressionUUID->
         "36263b3a-4c70-4357-a3bf-903adf19e3a4"]}]},
      {
       RowBox[{"\[FilledVerySmallSquare]", Cell[BoxData[
         TemplateBox[{
           Cell[
            TextData["Q3"]], "paclet:Q3/guide/Q3"},
          "RefLinkPlain",
          BaseStyle->{"MoreAbout"}]], "MoreAbout",ExpressionUUID->
         "875e8115-58c3-467c-8ade-a4957fa481a9"]}]}
     }]}
  }]], "MoreAboutSection",ExpressionUUID->"e14ddfa2-a2e9-4e5f-aafd-\
37ba5214e4f4"],

Cell[BoxData[GridBox[{
   {
    TemplateBox[{29},
     "Spacer1"], GridBox[{
      {
       RowBox[{
        TemplateBox[{17},
         "Spacer1"], 
        StyleBox[
         RowBox[{"Related", " ", "Links"}], "RelatedLinksSection"]}]},
      {Cell[TextData[{
        Cell[BoxData[
         RowBox[{
          TemplateBox[{16},
           "Spacer1"], "\[FilledVerySmallSquare]", Cell[BoxData[
           TemplateBox[{
             Cell[
              TextData[
               Cell[
                TextData[{
                  Cell[
                   BoxData[
                    TemplateBox[{2}, "Spacer1"]]], 
                  "L. Grover and T. Rudolph, quant-ph/0208112"}]]]], 
             "https://arxiv.org/abs/quant-ph/0208112"},
            "WebLink",
            BaseStyle->{"RelatedLinks"}]],ExpressionUUID->
           "0ae99619-e000-46a5-9859-bcea9e662a08"]}]],ExpressionUUID->
         "2e98e5ae-8062-4400-9641-bf7c23de1e56"],
        ", \"Creating superpositions that correspond to efficiently \
integrable probability distributions.\""
       }], "RelatedLinks",ExpressionUUID->
        "db838e22-441e-4c14-8627-764417c3d801"]},
      {Cell[TextData[{
        Cell[BoxData[
         RowBox[{
          TemplateBox[{16},
           "Spacer1"], "\[FilledVerySmallSquare]", Cell[BoxData[
           TemplateBox[{
             Cell[
              TextData[
               Cell[
                TextData[{
                  Cell[
                   BoxData[
                    TemplateBox[{2}, "Spacer1"]]], 
                  "M. M\[ODoubleDot]tt\[ODoubleDot]nen et al., Quantum \
Information and Computation 5, 467 (2005)"}]]]], 
             "https://arxiv.org/abs/quant-ph/0407010"},
            "WebLink",
            BaseStyle->{"RelatedLinks"}]],ExpressionUUID->
           "94d5bc03-0b96-41c1-867f-b4bf7ea16557"]}]],ExpressionUUID->
         "98d24d30-aa0c-41ee-9024-8bd5dc9d1dda"],
        ", \"Transformation of quantum states using uniformly controlled \
rotations.\""
       }], "RelatedLinks",ExpressionUUID->
        "e7bb3527-dbe3-4c24-8900-28fa425b6fbf"]},
      {Cell[TextData[{
        Cell[BoxData[
         RowBox[{
          TemplateBox[{16},
           "Spacer1"], "\[FilledVerySmallSquare]", Cell[BoxData[
           TemplateBox[{
             Cell[
              TextData[
               Cell[
                TextData[{
                  Cell[
                   BoxData[
                    TemplateBox[{2}, "Spacer1"]]], 
                  "Mahn-Soo Choi (2022)"}]]]], 
             "https://doi.org/10.1007/978-3-030-91214-7"},
            "WebLink",
            BaseStyle->{"RelatedLinks"}]],ExpressionUUID->
           "b58ddd06-7116-420e-8c71-46699f251a74"]}]],ExpressionUUID->
         "92603d9b-3581-4994-8b33-9ce343d567b8"],
        ", A Quantum Computation Workbook (Springer)."
       }], "RelatedLinks",ExpressionUUID->
        "beb3c303-d05f-47ba-bef4-dd0a1de9a8f8"]}
     }]}
  }]], "RelatedLinksSection",ExpressionUUID->"8cb84348-88e3-4e39-8577-\
35c49255ab23"],

Cell[" ", "FooterCell",ExpressionUUID->"f9942035-41f3-42f5-acba-92d228d03fc4"]
},
Saveable->False,
ScreenStyleEnvironment->"Working",
WindowSize->{900, 830},
WindowMargins->{{0, Automatic}, {Automatic, 0}},
WindowTitle->"AmplitudeEmbeddingGate",
TaggingRules->{
 "ModificationHighlight" -> False, "ColorType" -> "", "LinkTrails" -> "", 
  "HasOptions" -> True, "ExampleCounter" -> 1, 
  "Openers" -> {
   "PrimaryExamplesSection" -> Open, "ExampleSection" -> {"0" -> Open}, 
    "NotesSection" -> Closed}, "NewStyles" -> True, 
  "CitationPopupData" -> $Failed, "ShowCitation" -> False, "RootCaptions" -> 
  "", "Metadata" -> {
   "built" -> "{2023, 11, 24, 11, 4, 34.286882}", 
    "history" -> {"13.3", "", "", ""}, "context" -> "Q3`", 
    "keywords" -> {
     "quantum machine learning", "variational quantum algorithms"}, 
    "specialkeywords" -> {}, "tutorialcollectionlinks" -> {}, "index" -> True,
     "label" -> "Q3 Symbol", "language" -> "en", "paclet" -> "Q3", "status" -> 
    "None", "summary" -> 
    "AmplitudeEmbeddingGate[{x1, x2, ..., x 2 n}, {s1, s2, ..., sn}] \
represents the gate to encode classical input data {x1, x2, ..., x2^n into \
the amplitudes of a quantum state of qubits s1, s2, ..., sn.", 
    "synonyms" -> {}, "tabletags" -> {}, "title" -> "AmplitudeEmbeddingGate", 
    "titlemodifier" -> "", "metadescription" -> "", "windowtitle" -> 
    "AmplitudeEmbeddingGate", "type" -> "Symbol", "uri" -> 
    "Q3/ref/AmplitudeEmbeddingGate"}},
CellContext->"Global`",
FrontEndVersion->"13.3 for Mac OS X ARM (64-bit) (July 24, 2023)",
StyleDefinitions->Notebook[{
   Cell[
    StyleData[
    StyleDefinitions -> FrontEnd`FileName[{"Wolfram"}, "Reference.nb"]]], 
   Cell[
    StyleData["Input"], CellContext -> "Global`"], 
   Cell[
    StyleData["Output"], CellContext -> "Global`"]}, Visible -> False, 
  FrontEndVersion -> "13.3 for Mac OS X ARM (64-bit) (July 24, 2023)", 
  StyleDefinitions -> "Default.nb"],
ExpressionUUID->"74628f0a-0a2a-449b-9bb1-86ab8810312a"
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{
 "PrimaryExamplesSection"->{
  Cell[15954, 443, 1389, 37, 36, "PrimaryExamplesSection",ExpressionUUID->"292f413f-5038-4937-93cc-6ebb25ddc2e4",
   CellTags->"PrimaryExamplesSection",
   CellID->347524023]}
 }
*)
(*CellTagsIndex
CellTagsIndex->{
 {"PrimaryExamplesSection", 99002, 2554}
 }
*)
(*NotebookFileOutline
Notebook[{
Cell[594, 21, 7487, 183, 57, "AnchorBarGrid",ExpressionUUID->"95a0eaf7-3963-4a45-ba26-0ec594481edb",
 CellID->1],
Cell[8084, 206, 85, 0, 23, "ContextNameCell",ExpressionUUID->"0d8625d3-bd22-400f-a009-8adb01da499f"],
Cell[CellGroupData[{
Cell[8194, 210, 1398, 38, 60, "ObjectNameGrid",ExpressionUUID->"daf6754f-99f6-4a17-8341-78516da4a8d7"],
Cell[9595, 250, 2597, 76, 114, "Usage",ExpressionUUID->"a4c92ae4-d6fe-4a18-b7b8-263f82321dcd",
 CellID->259240717]
}, Open  ]],
Cell[CellGroupData[{
Cell[12229, 331, 1899, 47, 37, "NotesSection",ExpressionUUID->"4b0e4480-8f4f-4325-ba6d-bed375c81fc9",
 CellGroupingRules->{"SectionGrouping", 50},
 CellID->1859503602],
Cell[14131, 380, 1696, 57, 70, "Notes",ExpressionUUID->"ec4889a4-fb06-4785-a6a6-bace11fcf443",
 CellID->1961894503]
}, Dynamic[CurrentValue[EvaluationNotebook[], {TaggingRules, "Openers", "NotesSection"}, Closed]]]],
Cell[CellGroupData[{
Cell[15954, 443, 1389, 37, 36, "PrimaryExamplesSection",ExpressionUUID->"292f413f-5038-4937-93cc-6ebb25ddc2e4",
 CellTags->"PrimaryExamplesSection",
 CellID->347524023],
Cell[17346, 482, 192, 3, 31, "Input",ExpressionUUID->"60474c7a-a2d1-43e2-809e-3ead69563716",
 CellID->1158483089],
Cell[CellGroupData[{
Cell[17563, 489, 1368, 36, 31, "ExampleSection",ExpressionUUID->"6d0ef181-ad38-4aa5-9b44-4a2e59d8a4a9",
 CellID->1828218368],
Cell[18934, 527, 208, 5, 29, "Input",ExpressionUUID->"17751442-7f3d-487c-8344-8ef317bdbe54",
 CellID->426830961],
Cell[19145, 534, 187, 6, 38, "ExampleText",ExpressionUUID->"7717f9df-21d7-49a3-8d4f-836e816dddb5",
 CellID->1642217665],
Cell[CellGroupData[{
Cell[19357, 544, 530, 15, 84, "Input",ExpressionUUID->"ecdf9f03-7e49-43a9-bb4f-c9a37f1ff4e2",
 CellID->711129472],
Cell[19890, 561, 595, 19, 37, "Output",ExpressionUUID->"d0c8b201-4d67-4f37-a336-122e1a0356d5",
 CellID->178793606]
}, Open  ]],
Cell[20500, 583, 150, 1, 38, "ExampleText",ExpressionUUID->"f526ee77-3a08-4f58-9fd6-1328da6a03e8",
 CellID->758659970],
Cell[CellGroupData[{
Cell[20675, 588, 248, 6, 29, "Input",ExpressionUUID->"067e5f0f-4b44-4228-ae6f-b74ac2e70db0",
 CellID->1991275397],
Cell[20926, 596, 1182, 25, 55, "Output",ExpressionUUID->"e64e8eb7-62d5-440f-849a-153455cf0576",
 CellID->2023718447]
}, Open  ]],
Cell[22123, 624, 136, 1, 38, "ExampleText",ExpressionUUID->"8bbd7f94-ff92-405b-b117-d063299d3ba5",
 CellID->288867569],
Cell[CellGroupData[{
Cell[22284, 629, 184, 4, 29, "Input",ExpressionUUID->"d6306c00-a497-44b5-9349-4173afe1ac55",
 CellID->1517686802],
Cell[22471, 635, 145, 2, 37, "Output",ExpressionUUID->"472fb4b3-e753-487d-bdde-fc9147816146",
 CellID->1014365032]
}, Open  ]],
Cell[22631, 640, 175, 3, 38, "ExampleText",ExpressionUUID->"8cfc81c0-8c66-4f9c-8e3c-2bce80f33acb",
 CellID->216100998],
Cell[CellGroupData[{
Cell[22831, 647, 247, 6, 29, "Input",ExpressionUUID->"bffb76ef-47de-4d10-a2ef-ebb19a20f105",
 CellID->805687617],
Cell[23081, 655, 10204, 252, 81, "Output",ExpressionUUID->"1824afca-340f-4dbc-aef1-555a45829862",
 CellID->953354096]
}, Open  ]],
Cell[33300, 910, 505, 15, 70, "ExampleText",ExpressionUUID->"43211c17-d836-4032-b021-5c0d401cb93e",
 CellID->1630842327],
Cell[CellGroupData[{
Cell[33830, 929, 250, 6, 70, "Input",ExpressionUUID->"7ac8aea1-1838-4b3a-bda7-7326cbd34f36",
 CellID->864655653],
Cell[34083, 937, 1800, 44, 72, "Output",ExpressionUUID->"cfce9802-d5f8-40c1-b929-d22beeeeddc0",
 CellID->857848668]
}, Open  ]],
Cell[35898, 984, 315, 7, 70, "ExampleText",ExpressionUUID->"97fb6d95-bf15-4dbe-adc7-bf7e1d75862b",
 CellID->1596819841],
Cell[CellGroupData[{
Cell[36238, 995, 218, 5, 70, "Input",ExpressionUUID->"422ca4f4-3827-4cde-b78e-5463178355ff",
 CellID->1130179844],
Cell[36459, 1002, 1584, 34, 131, "Output",ExpressionUUID->"404e525f-f49d-446b-ad34-0b4b94570da1",
 CellID->1984543712]
}, Open  ]],
Cell[38058, 1039, 151, 1, 70, "ExampleText",ExpressionUUID->"274ef456-9502-4457-83ea-d0441069bb2a",
 CellID->1919296223],
Cell[CellGroupData[{
Cell[38234, 1044, 267, 7, 70, "Input",ExpressionUUID->"0ce4bd5d-537b-49e7-ba81-485c6887ca1a",
 CellID->1910949901],
Cell[38504, 1053, 115, 1, 70, "EchoTiming",ExpressionUUID->"b284a385-a5d2-4c8c-9f5c-9c4c12aa7aff",
 CellID->463532737],
Cell[38622, 1056, 10204, 252, 81, "Output",ExpressionUUID->"ae9aa762-4b2a-4530-89fa-7b553d18fe6b",
 CellID->1671523090]
}, Open  ]],
Cell[48841, 1311, 336, 6, 70, "ExampleText",ExpressionUUID->"c2708694-4eca-4fc6-84b1-2d1f10f64e0e",
 CellID->1425405128],
Cell[CellGroupData[{
Cell[49202, 1321, 213, 5, 70, "Input",ExpressionUUID->"89674021-de22-43d8-a558-d31f7ba8476e",
 CellID->230677517],
Cell[49418, 1328, 145, 2, 37, "Output",ExpressionUUID->"9044b119-b306-45ea-90aa-93d093194d3d",
 CellID->2054987223]
}, Open  ]],
Cell[49578, 1333, 441, 11, 70, "ExampleText",ExpressionUUID->"701962a8-6ce8-47b6-bf3c-5516586be9c9",
 CellID->1073681305],
Cell[CellGroupData[{
Cell[50044, 1348, 211, 5, 70, "Input",ExpressionUUID->"10b5fda9-cf00-4879-8bb2-8706cd0afd2e",
 CellID->345681032],
Cell[50258, 1355, 6605, 151, 131, "Output",ExpressionUUID->"44b6e7a0-f34b-478e-bae4-abcc2f51d9d6",
 CellID->1592555825]
}, Open  ]],
Cell[CellGroupData[{
Cell[56900, 1511, 191, 4, 70, "Input",ExpressionUUID->"15755640-629b-4244-97c9-313f7d05f214",
 CellID->1116136118],
Cell[57094, 1517, 782, 15, 152, "Output",ExpressionUUID->"8f8f043a-0228-4fb9-900d-7bba3a90e11f",
 CellID->35778619]
}, Open  ]],
Cell[57891, 1535, 455, 13, 70, "ExampleText",ExpressionUUID->"3956822a-0091-44ea-956f-7e96bc1a41b7",
 CellID->713445166],
Cell[CellGroupData[{
Cell[58371, 1552, 248, 6, 70, "Input",ExpressionUUID->"4df98d5c-1d93-4d94-b567-470c759755eb",
 CellID->1472359479],
Cell[58622, 1560, 6604, 151, 131, "Output",ExpressionUUID->"5fbc5c47-6f30-4417-b5e0-7a9676ae7d84",
 CellID->628133648]
}, Open  ]],
Cell[65241, 1714, 450, 12, 70, "ExampleText",ExpressionUUID->"4079ed90-7f64-4611-b347-b5a1dce3e031",
 CellID->1576401756],
Cell[CellGroupData[{
Cell[65716, 1730, 250, 6, 70, "Input",ExpressionUUID->"48aec172-b65e-4aca-bd3e-ec504e915005",
 CellID->159446119],
Cell[65969, 1738, 10799, 235, 131, "Output",ExpressionUUID->"739e0b4a-c5ac-4492-a6f6-fae17e06461c",
 CellID->2038572094]
}, Open  ]],
Cell[76783, 1976, 176, 3, 70, "ExampleText",ExpressionUUID->"87100233-ee51-45c5-b40d-d94a60dfd710",
 CellID->729267414],
Cell[CellGroupData[{
Cell[76984, 1983, 275, 7, 70, "Input",ExpressionUUID->"f1806dfe-270c-4fdf-badc-e07b1df91f9e",
 CellID->1406538949],
Cell[77262, 1992, 112, 1, 70, "EchoTiming",ExpressionUUID->"21de0f06-80bc-4afb-9afa-0c32d1479128",
 CellID->65264926],
Cell[77377, 1995, 10204, 252, 81, "Output",ExpressionUUID->"e1864fc7-45a4-42cf-973e-e3b1fa85a439",
 CellID->1690951312]
}, Open  ]],
Cell[CellGroupData[{
Cell[87618, 2252, 216, 5, 70, "Input",ExpressionUUID->"d3236d47-9194-4b66-a37e-c455ddb77000",
 CellID->1104971025],
Cell[87837, 2259, 144, 2, 37, "Output",ExpressionUUID->"15f21816-74c6-48a1-b8d8-b9cc60c31074",
 CellID->20116386]
}, Open  ]],
Cell[87996, 2264, 333, 8, 70, "ExampleText",ExpressionUUID->"0d66561d-279d-4a03-bd03-a9b24e0e01db",
 CellID->1054906606]
}, Dynamic[CurrentValue[EvaluationNotebook[], {TaggingRules, "Openers", "ExampleSection", "0"}, Closed]]]]
}, Dynamic[CurrentValue[EvaluationNotebook[], {TaggingRules, "Openers", "PrimaryExamplesSection"}, Closed]]]],
Cell[88559, 2280, 2419, 64, 70, "SeeAlsoSection",ExpressionUUID->"9cbb9402-ba5f-48f0-8e67-355eead61bf8"],
Cell[90981, 2346, 1826, 46, 70, "TechNotesSection",ExpressionUUID->"61a41ef5-a9ae-4ece-a0d8-93a3fc77a0a0"],
Cell[92810, 2394, 1045, 27, 70, "MoreAboutSection",ExpressionUUID->"e14ddfa2-a2e9-4e5f-aafd-37ba5214e4f4"],
Cell[93858, 2423, 3015, 81, 70, "RelatedLinksSection",ExpressionUUID->"8cb84348-88e3-4e39-8577-35c49255ab23"],
Cell[96876, 2506, 78, 0, 70, "FooterCell",ExpressionUUID->"f9942035-41f3-42f5-acba-92d228d03fc4"]
}
]
*)

(* End of internal cache information *)

