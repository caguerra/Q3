(* Content-type: application/vnd.wolfram.mathematica *)

(*** Wolfram Notebook File ***)
(* http://www.wolfram.com/nb *)

(* CreatedBy='Mathematica 14.0' *)

(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[       158,          7]
NotebookDataLength[    391167,      10246]
NotebookOptionsPosition[    354261,       9479]
NotebookOutlinePosition[    356918,       9546]
CellTagsIndexPosition[    356794,       9540]
WindowTitle->QFT
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{
Cell[BoxData[GridBox[{
   {GridBox[{
      {
       ItemBox[Cell[BoxData[
         RowBox[{
          TemplateBox[{12},
           "Spacer1"], Cell["Q3 SYMBOL", "PacletNameCell",
           TextAlignment->Center,ExpressionUUID->
           "8d5d4cb7-fa5f-491b-9ca6-a512b6b28ea9"], 
          TemplateBox[{8},
           "Spacer1"]}]],
         TextAlignment->Center,ExpressionUUID->
         "fa76267d-3c20-4993-b358-72c0e20f3072"],
        Background->RGBColor[0.490196, 0.576471, 0.690196],
        ItemSize->Full], ""}
     },
     GridBoxAlignment->{"Rows" -> {{Center}}},
     GridBoxItemSize->{"Columns" -> {Full, 
         Scaled[0.02]}, "Rows" -> {{2.5}}}], Cell[TextData[{
     Cell[BoxData[
      TagBox[
       ActionMenuBox[
        FrameBox[Cell[TextData[{
          "See Also",
          " ",
          Cell[BoxData[
           GraphicsBox[
            {GrayLevel[0.66667], Thickness[0.13], 
             LineBox[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]},
            AspectRatio->1,
            AxesStyle->Large,
            FrameStyle->Large,
            ImageSize->20,
            PlotRange->{{-3, 4}, {-1, 1}},
            PlotRangePadding->Scaled[0.025]]],ExpressionUUID->
           "b5c9c1de-6519-414d-bcaf-abd05bc54eb8"]
         }],ExpressionUUID->"5e67a328-a532-4a1b-bee7-7ccb24daeed1"],
         StripOnInput->False],{
        "\"CNOT\"" :> Documentation`HelpLookup["paclet:Q3/ref/CNOT"], 
         "\"CZ\"" :> Documentation`HelpLookup["paclet:Q3/ref/CZ"], "\"Swap\"" :> 
         Documentation`HelpLookup["paclet:Q3/ref/Swap"], "\"ControlledGate\"" :> 
         Documentation`HelpLookup["paclet:Q3/ref/ControlledGate"], 
         "\"ControlledPower\"" :> 
         Documentation`HelpLookup["paclet:Q3/ref/ControlledPower"], 
         "\"Measurement\"" :> 
         Documentation`HelpLookup["paclet:Q3/ref/Measurement"], "\"Toffoli\"" :> 
         Documentation`HelpLookup["paclet:Q3/ref/Toffoli"], "\"Fredkin\"" :> 
         Documentation`HelpLookup["paclet:Q3/ref/Fredkin"], "\"Projector\"" :> 
         Documentation`HelpLookup["paclet:Q3/ref/Projector"], "\"Phase\"" :> 
         Documentation`HelpLookup["paclet:Q3/ref/Phase"], "\"Rotation\"" :> 
         Documentation`HelpLookup["paclet:Q3/ref/Rotation"], 
         "\"EulerRotation\"" :> 
         Documentation`HelpLookup["paclet:Q3/ref/EulerRotation"]},
        Appearance->None,
        MenuAppearance->Automatic,
        MenuStyle->"SeeAlso"],
       MouseAppearanceTag["LinkHand"]]],
      LineSpacing->{1.4, 0},ExpressionUUID->
      "349aea94-a6f3-49cb-9f6b-7449b645c312"],
     "\[ThickSpace]\[ThickSpace]\[ThickSpace]\[ThickSpace]\[ThickSpace]\
\[ThickSpace]",
     Cell[BoxData[
      TagBox[
       ActionMenuBox[
        FrameBox[Cell[TextData[{
          "Related Guides",
          " ",
          Cell[BoxData[
           GraphicsBox[
            {GrayLevel[0.66667], Thickness[0.13], 
             LineBox[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]},
            AspectRatio->1,
            AxesStyle->Large,
            FrameStyle->Large,
            ImageSize->20,
            PlotRange->{{-3, 4}, {-1, 1}},
            PlotRangePadding->Scaled[0.025]]],ExpressionUUID->
           "1821496b-f5e3-42f4-ba6d-a4efef946dbd"]
         }],ExpressionUUID->"86029bc0-fa63-4b4f-9f4a-b5da091c45d8"],
         StripOnInput->False],{
        "\"Quantum Information Systems\"" :> 
         Documentation`HelpLookup[
          "paclet:Q3/guide/QuantumInformationSystems"], "\"Q3\"" :> 
         Documentation`HelpLookup["paclet:Q3/guide/Q3"]},
        Appearance->None,
        MenuAppearance->Automatic,
        MenuStyle->"MoreAbout"],
       MouseAppearanceTag["LinkHand"]]],
      LineSpacing->{1.4, 0},ExpressionUUID->
      "9f87830a-05c2-4e10-906d-5f264b1fbf03"],
     "\[ThickSpace]\[ThickSpace]\[ThickSpace]\[ThickSpace]\[ThickSpace]\
\[ThickSpace]",
     Cell[BoxData[
      TagBox[
       ActionMenuBox[
        FrameBox[Cell[TextData[{
          "Tech Notes",
          " ",
          Cell[BoxData[
           GraphicsBox[
            {GrayLevel[0.66667], Thickness[0.13], 
             LineBox[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]},
            AspectRatio->1,
            AxesStyle->Large,
            FrameStyle->Large,
            ImageSize->20,
            PlotRange->{{-3, 4}, {-1, 1}},
            PlotRangePadding->Scaled[0.025]]],ExpressionUUID->
           "1b9d9ea9-a493-4927-936c-a3052104add4"]
         }],ExpressionUUID->"19fe11ed-f139-4a42-9f26-76f7d7b9335d"],
         StripOnInput->False],{
        "\"Quantum Fourier Transform\"" :> 
         Documentation`HelpLookup[
          "paclet:Q3/tutorial/QuantumFourierTransform"], 
         "\"Quantum Information Systems with Q3\"" :> 
         Documentation`HelpLookup[
          "paclet:Q3/tutorial/QuantumInformationSystems"], 
         "\"Quick Quantum Computing with Q3\"" :> 
         Documentation`HelpLookup[
          "paclet:Q3/tutorial/QuickQuantumComputingWithQ3"], 
         "\"Q3: Quick Start\"" :> 
         Documentation`HelpLookup["paclet:Q3/tutorial/Q3QuickStart"]},
        Appearance->None,
        MenuAppearance->Automatic,
        MenuStyle->"Tutorials"],
       MouseAppearanceTag["LinkHand"]]],
      LineSpacing->{1.4, 0},ExpressionUUID->
      "e8c010cb-894a-46a7-b935-4a05b7d33515"],
     "\[ThickSpace]\[ThickSpace]\[ThickSpace]\[ThickSpace]\[ThickSpace]\
\[ThickSpace]",
     Cell[BoxData[
      TagBox[
       ActionMenuBox[
        FrameBox[Cell[TextData[{
          "URL",
          " ",
          Cell[BoxData[
           GraphicsBox[
            {GrayLevel[0.66667], Thickness[0.13], 
             LineBox[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]},
            AspectRatio->1,
            AxesStyle->Large,
            FrameStyle->Large,
            ImageSize->20,
            PlotRange->{{-3, 4}, {-1, 1}},
            PlotRangePadding->Scaled[0.025]]],ExpressionUUID->
           "1b13803e-01be-4f70-9bca-9f754949d2c5"]
         }],ExpressionUUID->"5ae4013f-c69c-480f-a9d3-883893dce908"],
         StripOnInput->False],{
        "\"Q3/ref/QFT\"" :> None, "\"Copy Wolfram Documentation Center URL\"" :> 
         Module[{DocumentationSearch`Private`nb$}, 
           DocumentationSearch`Private`nb$ = 
            NotebookPut[Notebook[{Cell["Q3/ref/QFT"]}, Visible -> False]]; 
           SelectionMove[DocumentationSearch`Private`nb$, All, Notebook]; 
           FrontEndTokenExecute[DocumentationSearch`Private`nb$, "Copy"]; 
           NotebookClose[DocumentationSearch`Private`nb$]; Null], Delimiter, 
         "\"Copy web URL\"" :> 
         Module[{DocumentationSearch`Private`nb$}, 
           DocumentationSearch`Private`nb$ = 
            NotebookPut[
             Notebook[{
               Cell[BoxData[
                 MakeBoxes[
                  Hyperlink[
                   "http://reference.wolfram.com/language/Q3/ref/QFT.html"], 
                   StandardForm]], "Input", TextClipboardType -> 
                 "PlainText"]}, Visible -> False]]; 
           SelectionMove[DocumentationSearch`Private`nb$, All, Notebook]; 
           FrontEndTokenExecute[DocumentationSearch`Private`nb$, "Copy"]; 
           NotebookClose[DocumentationSearch`Private`nb$]; Null], 
         "\"Go to web URL\"" :> 
         FrontEndExecute[{
           NotebookLocate[{
             URL[If[TrueQ[False], 
                 "http://reference.wolfram.com/system-modeler/", 
                 "http://reference.wolfram.com/language/"] <> "Q3/ref/QFT" <> 
               ".html"], None}]}]},
        Appearance->None,
        MenuAppearance->Automatic,
        MenuStyle->"URLMenu"],
       MouseAppearanceTag["LinkHand"]]],
      LineSpacing->{1.4, 0},ExpressionUUID->
      "a29c74e7-5411-41c4-bf3b-fa1ebc6eb0bf"]
    }], "AnchorBar",
     CacheGraphics->False,ExpressionUUID->
     "e3c2e111-0ded-41f8-bf4b-8c2eef40a751"]}
  }]], "AnchorBarGrid",
 CellID->1,ExpressionUUID->"5d7efcab-ba6b-4cc7-8b1c-80a957f0b910"],

Cell["Q3`", "ContextNameCell",ExpressionUUID->"cc998a54-e7a3-40a6-89bc-e236ba676112"],

Cell[CellGroupData[{

Cell[BoxData[GridBox[{
   {Cell[TextData[{
     Cell[
     "QFT", "ObjectName",ExpressionUUID->
      "6762785d-c1c2-4fb4-83b7-8b06eb56644c"],
     Cell[BoxData[
      TemplateBox[{8},
       "Spacer1"]],ExpressionUUID->"11836be3-365f-4321-a534-c54ff6893b97"],
     Cell[BoxData[
     ""], "ObjectNameTranslation",ExpressionUUID->
      "fcbf1cb9-e58a-427a-9bc7-d6d0f7c827a5"]
    }],ExpressionUUID->"5bd212e2-afa8-40db-af51-88e0086d2ee6"], Cell[BoxData[
     StyleBox[
      GraphicsBox[InsetBox[
        StyleBox["\<\"UPDATED IN 14.0\"\>",
         StripOnInput->False,
         FontFamily->"Source Sans Pro",
         FontSize->17,
         FontWeight->"Bold",
         FontSlant->"Italic",
         FontColor->RGBColor[0.968627, 0.466667, 0]], {Right, Center}, {
        Right, Center}],
       AxesStyle->Large,
       FrameStyle->Large,
       ImageSize->{125, 24},
       PlotRangePadding->Scaled[0.025]], "NewInGraphic",
      StripOnInput->False]],
     Deployed->True,
     Magnification->1,ExpressionUUID->
     "0e368d73-11d3-4973-8e12-d91b0169d5f3"]}
  }]], "ObjectNameGrid",
 CacheGraphics->False,ExpressionUUID->"bafec4d4-c736-426b-bc2e-7886d18a02cf"],

Cell[BoxData[GridBox[{
   {"", Cell[TextData[{
     Cell[BoxData[
      RowBox[{
       TemplateBox[{
         Cell[
          TextData["QFT"]], "paclet:Q3/ref/QFT", "Q3 Package Symbol"},
        "PackageLink",
        BaseStyle->"InlineFormula"], "[", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{
          SubscriptBox[
           StyleBox["s", "TI"], 
           StyleBox["1", "TR"]], ",", 
          SubscriptBox[
           StyleBox["s", "TI"], 
           StyleBox["2", "TR"]], ",", 
          StyleBox["\[Ellipsis]", "TR"]}], "}"}], ",", 
        StyleBox["opts", "TI"]}], "]"}]], "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "2495ca8e-04ca-4f8d-ad28-4179cc5b0fe3"],
     "\[LineSeparator]represents the quantum Fourier transform on qubits ",
     Cell[BoxData[
      RowBox[{"{", 
       RowBox[{
        SubscriptBox[
         StyleBox["s", "TI"], 
         StyleBox["1", "TR"]], ",", 
        SubscriptBox[
         StyleBox["s", "TI"], 
         StyleBox["2", "TR"]], ",", 
        StyleBox["\[Ellipsis]", "TR"]}], "}"}]], "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "70de29cd-24d3-4aa8-8298-a04900f9b33f"],
     "."
    }],ExpressionUUID->"d53a200a-d602-4190-8e1a-58e6663bac39"]},
   {"", Cell[TextData[{
     Cell[BoxData[
      RowBox[{
       TemplateBox[{
         Cell[
          TextData["Dagger"]], "paclet:Q3/ref/Dagger", "Q3 Package Symbol"},
        "PackageLink",
        BaseStyle->"InlineFormula"], "[", 
       RowBox[{
        TemplateBox[{
          Cell[
           TextData["QFT"]], "paclet:Q3/ref/QFT", "Q3 Package Symbol"},
         "PackageLink",
         BaseStyle->"InlineFormula"], "[", 
        StyleBox["\[Ellipsis]", "TR"], "]"}], "]"}]], "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "74ca3a50-9e15-4072-8818-15be142a6226"],
     "\[LineSeparator]represents the inverse quantum Fourier transform."
    }],ExpressionUUID->"5cd1a11d-f34d-45d9-9550-e568ec9fbb65"]}
  }]], "Usage",ExpressionUUID->"0787f5a8-39cb-473c-be64-1c0c5e751f41"]
}, Open  ]],

Cell[CellGroupData[{

Cell[TextData[Cell[BoxData[
 ButtonBox[Cell[TextData[{
   Cell[BoxData[
    DynamicBox[ToBoxes[
      If[
       MatchQ[
        CurrentValue[
         EvaluationNotebook[], {TaggingRules, "Openers", "NotesSection"}, 
         Closed], 
        Alternatives[Open, True]], 
       Style[
        Graphics[{
          Thickness[0.18], 
          RGBColor[0.8509803921568627, 0.396078431372549, 0], 
          Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
         PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
        0.68 Inherited], 
       Rotate[
        Style[
         Graphics[{
           Thickness[0.18], 
           RGBColor[0.8509803921568627, 0.396078431372549, 0], 
           Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
          PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
         0.68 Inherited], Rational[1, 2] Pi, {-1.65, -1}]]],
     ImageSizeCache->{14., {0.45000000000000107`, 13.549999999999999`}}]],
    ExpressionUUID->"72b5ed69-3867-4fa4-9445-53b8b5b89993"],
   Cell[BoxData[
    TemplateBox[{1},
     "Spacer1"]],ExpressionUUID->"538dbb5a-36b0-484a-bae7-839d143f595c"],
   "Details and Options"
  }], "NotesFrameText",ExpressionUUID->"0ae818ca-cfe6-44cc-a863-1eec6f9c8afc"],
  Appearance->{Automatic, None, "Normal", Automatic},
  BaseStyle->None,
  ButtonFunction:>(FrontEndExecute[{
     FrontEnd`SelectionMove[
      FrontEnd`SelectedNotebook[], All, ButtonCell], 
     FrontEndToken["OpenCloseGroup"], 
     FrontEnd`SelectionMove[
      FrontEnd`SelectedNotebook[], After, CellContents]}]& ),
  Evaluator->None,
  Method->
   "Preemptive"]],ExpressionUUID->"feaf3a03-a93d-4795-9538-3ee8a3d8a8f1"]], \
"NotesSection",
 WholeCellGroupOpener->True,
 CellGroupingRules->{"SectionGrouping", 50},
 CacheGraphics->False,
 CellID->1614446090,ExpressionUUID->"6d29d022-5f52-4862-80fd-892da2d27cf7"],

Cell[TextData[{
 "For a set of orthonormal states ",
 Cell[BoxData[
  FormBox[
   RowBox[{"\[ScriptCapitalB]", "=", 
    RowBox[{"{", 
     RowBox[{
      TemplateBox[{"0"},
       "Ket"], ",", 
      TemplateBox[{"1"},
       "Ket"], ",", 
      TemplateBox[{"2"},
       "Ket"], ",", "\[Ellipsis]", ",", 
      TemplateBox[{
        RowBox[{"N", "-", "1"}]},
       "Ket"]}], "}"}]}], TraditionalForm]],ExpressionUUID->
  "63885d04-0c41-44e9-a1d2-3b3d97fdf152"],
 ", the quantum Fourier transform on ",
 Cell[BoxData[
  FormBox["\[ScriptCapitalB]", TraditionalForm]],ExpressionUUID->
  "59835cb9-d95f-4d5c-96c3-a8cb513d4c90"],
 " is given by\[LineSeparator]\t",
 Cell[BoxData[
  FormBox[
   RowBox[{
    TemplateBox[{"y"},
     "Ket"], "\[RightTeeArrow]", 
    RowBox[{
     FractionBox["1", 
      SqrtBox["N"]], 
     UnderoverscriptBox["\[CapitalSigma]", 
      RowBox[{"x", "=", "0"}], 
      RowBox[{"N", "-", "1"}]], 
     TemplateBox[{"x"},
      "Ket"], 
     SuperscriptBox["e", 
      RowBox[{
      "2", "\[VeryThinSpace]", "\[Pi]", "\[VeryThinSpace]", "\[ImaginaryI]", 
       "\[VeryThinSpace]", "x", "\[VeryThinSpace]", 
       RowBox[{"y", "\[VeryThinSpace]", "/", "\[VeryThinSpace]", "N"}]}]]}]}],
    TraditionalForm]],ExpressionUUID->
  "c2607fdb-f362-4c1a-95c0-36000fb06429"],
 " .\[LineSeparator]Typically, the basis \[ScriptCapitalB] is given by the \
computational basis ",
 Cell[BoxData[
  FormBox[
   RowBox[{"\[ScriptCapitalB]", "=", 
    RowBox[{"{", 
     RowBox[{
      TemplateBox[{"0"},
       "Ket"], ",", 
      TemplateBox[{"1"},
       "Ket"], ",", 
      TemplateBox[{"2"},
       "Ket"], ",", "\[Ellipsis]", ",", 
      TemplateBox[{
        RowBox[{
          SuperscriptBox["2", "n"], "-", "1"}]},
       "Ket"]}], "}"}]}], TraditionalForm]],ExpressionUUID->
  "256c8443-23a3-4ccf-811c-2871a297bd6b"],
 " for ",
 Cell[BoxData[
  FormBox["n", TraditionalForm]],ExpressionUUID->
  "fbeaa93b-83d8-48ce-b1c7-475847a11e6c"],
 " qubits. However, in may applications ",
 Cell[BoxData[
  FormBox[
   RowBox[{"N", "<", 
    SuperscriptBox["2", "n"]}], TraditionalForm]],ExpressionUUID->
  "e2ed64de-bbef-4712-9a51-f899707da9fb"],
 ". ",
 Cell[BoxData[
  TemplateBox[{
    Cell[
     TextData["QFT"]], "paclet:Q3/ref/QFT", "Q3 Package Symbol"},
   "PackageLink",
   BaseStyle->"InlineFormula"]], "InlineFormula",
  FontFamily->"Source Sans Pro",ExpressionUUID->
  "51d57336-a621-4dda-bc42-e42d755eec73"],
 " assumes ",
 Cell[BoxData[
  FormBox[
   RowBox[{"\[ScriptCapitalB]", "=", 
    RowBox[{"{", 
     RowBox[{
      TemplateBox[{"0"},
       "Ket"], ",", 
      TemplateBox[{"1"},
       "Ket"], ",", 
      TemplateBox[{"2"},
       "Ket"], ",", "\[Ellipsis]", ",", 
      TemplateBox[{
        RowBox[{
          SuperscriptBox["2", "n"], "-", "1"}]},
       "Ket"]}], "}"}]}], TraditionalForm]],ExpressionUUID->
  "cc8c7314-0bf2-4f5e-b6df-79aeb285769d"],
 "."
}], "Notes",
 CellID->59811791,ExpressionUUID->"97106119-fda6-4984-80ab-9bd080684440"],

Cell[TextData[{
 Cell[BoxData[
  RowBox[{
   TemplateBox[{
     Cell[
      TextData["Elaborate"]], "paclet:Q3/ref/Elaborate", "Q3 Package Symbol"},
    
    "PackageLink",
    BaseStyle->"InlineFormula"], "[", 
   RowBox[{
    TemplateBox[{
      Cell[
       TextData["QFT"]], "paclet:Q3/ref/QFT", "Q3 Package Symbol"},
     "PackageLink",
     BaseStyle->"InlineFormula"], "[", 
    StyleBox["\[Ellipsis]", "TR"], "]"}], "]"}]], "InlineFormula",
  FontFamily->"Source Sans Pro",ExpressionUUID->
  "302e2401-b0e7-4161-9ea9-41f154450360"],
 " returns the explicit expression of the unitary operator in terms of the \
Pauli operators."
}], "Notes",
 CellID->1585121827,ExpressionUUID->"89dc1c88-41b3-4017-bcc2-0806936b2b8e"],

Cell[TextData[{
 Cell[BoxData[
  RowBox[{
   TemplateBox[{
     Cell[
      TextData["Expand"]], "paclet:ref/Expand"},
    "RefLink",
    BaseStyle->{"InlineFormula"}], "[", 
   RowBox[{
    TemplateBox[{
      Cell[
       TextData["QFT"]], "paclet:Q3/ref/QFT", "Q3 Package Symbol"},
     "PackageLink",
     BaseStyle->"InlineFormula"], "[", "\[Ellipsis]", "]"}], "]"}]], 
  "InlineFormula",
  FontFamily->"Source Sans Pro",ExpressionUUID->
  "b79de4a8-89c9-4abf-b8ac-c4c501e99c41"],
 " decomposes QFT into a sequence of Hadamard and phase gates ",
 Cell[BoxData[
  FormBox[
   RowBox[{
    SubscriptBox["T", "k"], "\[DotEqual]", 
    RowBox[{"(", GridBox[{
       {"1", "0"},
       {"0", 
        FractionBox["\[Pi]", 
         SuperscriptBox["2", "k"]]}
      }], ")"}]}], TraditionalForm]],ExpressionUUID->
  "ead6030f-d15f-492f-8655-395d387e2831"],
 "."
}], "Notes",
 CellID->1475780666,ExpressionUUID->"d73c5f52-4a40-4422-906a-7183b2f47882"],

Cell[TextData[{
 Cell[BoxData[
  RowBox[{
   TemplateBox[{
     Cell[
      TextData["QFT"]], "paclet:Q3/ref/QFT", "Q3 Package Symbol"},
    "PackageLink",
    BaseStyle->"InlineFormula"], "[", 
   StyleBox["s", "TI"], "]"}]], "InlineFormula",
  FontFamily->"Source Sans Pro",ExpressionUUID->
  "f7900bb1-80dc-4b01-9000-1f0e6db59e1a"],
 " or ",
 Cell[BoxData[
  RowBox[{
   TemplateBox[{
     Cell[
      TextData["QFT"]], "paclet:Q3/ref/QFT", "Q3 Package Symbol"},
    "PackageLink",
    BaseStyle->"InlineFormula"], "[", 
   RowBox[{"{", 
    StyleBox["s", "TI"], "}"}], "]"}]], "InlineFormula",
  FontFamily->"Source Sans Pro",ExpressionUUID->
  "b1e5de41-077f-48b7-82fc-77e2f42d1dc0"],
 " returns the Hadamard operator ",
 Cell[BoxData[
  RowBox[{
   StyleBox["s", "TI"], "[", 
   RowBox[{
    StyleBox["\[Ellipsis]", "TR"], ",", "6"}], "]"}]], "InlineFormula",
  FontFamily->"Source Sans Pro",ExpressionUUID->
  "623378ff-e3aa-42e4-9567-e2453e16538a"],
 "."
}], "Notes",
 CellID->715252122,ExpressionUUID->"9b607e85-858c-4a8e-bf34-4da5b66dfd56"],

Cell[TextData[{
 Cell[BoxData[
  TemplateBox[{
    Cell[
     TextData["QFT"]], "paclet:Q3/ref/QFT", "Q3 Package Symbol"},
   "PackageLink",
   BaseStyle->"InlineFormula"]], "InlineFormula",
  FontFamily->"Source Sans Pro",ExpressionUUID->
  "b38181d3-a522-41a2-b87f-4bcdbe612631"],
 " accepts most options for ",
 Cell[BoxData[
  TemplateBox[{
    Cell[
     TextData["QuantumCircuit"]], "paclet:Q3/ref/QuantumCircuit", 
    "Q3 Package Symbol"},
   "PackageLink",
   BaseStyle->"InlineFormula"]], "InlineFormula",
  FontFamily->"Source Sans Pro",ExpressionUUID->
  "597e0172-f8a7-43f1-8ddc-095fe42370ee"],
 ". In addition, it has option ",
 StyleBox["N", "Input"],
 "."
}], "Notes",
 CellID->1190401891,ExpressionUUID->"f1168e39-452e-4c63-a878-1e7ccfb91bad"],

Cell[BoxData[GridBox[{
   {Cell["      ", "TableRowIcon",ExpressionUUID->
     "e6395b78-9f8a-4f52-a034-2c9c6f3a6104"], 
    TemplateBox[{
      Cell[
       TextData["N"]], "paclet:ref/N"},
     "RefLink",
     BaseStyle->{"3ColumnTableMod"}], 
    TemplateBox[{
      Cell[
       TextData["False"]], "paclet:ref/False"},
     "RefLink",
     BaseStyle->{"3ColumnTableMod"}], Cell[TextData[{
     Cell[BoxData[
      TemplateBox[{
        Cell[
         TextData["True"]], "paclet:ref/True"},
       "RefLink",
       BaseStyle->{"3ColumnTableMod"}]], "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "bf146722-bd68-403c-aced-575044645856"],
     " indicates that the quantum Fourier transform is evaluated in a \
numerically approximate way. "
    }], "TableText",ExpressionUUID->"5c2584be-c13d-405d-8a29-6432f2bddd08"]},
   {Cell["      ", "TableRowIcon",ExpressionUUID->
     "0c0b7ac8-cd3b-41ca-9ea9-fdec87094a8b"], "\"\<Parameter\>\"", "1", 
    Cell["\<\
1 for the quantum Fourier transform, and -1 for the inverse quantum Fourier \
transform.\
\>", "TableText",ExpressionUUID->"77bbddc2-a1da-4bbe-98ab-c1ffe33d33f5"]}
  }]], "3ColumnTableMod",
 GridBoxOptions->{
 GridBoxBackground->{"Columns" -> {{None}}, "Rows" -> {None, {None}}},
 GridBoxDividers->{"Rows" -> {{True, True, True}}}},
 CellID->1462322296,ExpressionUUID->"5dee12f5-f3c4-406f-b68a-1ea0eadd4c34"]
}, Dynamic[CurrentValue[
 EvaluationNotebook[], {TaggingRules, "Openers", "NotesSection"}, Closed]]]],

Cell[CellGroupData[{

Cell[TextData[{
 Cell[BoxData[
  DynamicBox[ToBoxes[
    If[
     MatchQ[
      CurrentValue[
       EvaluationNotebook[], {
       TaggingRules, "Openers", "PrimaryExamplesSection"}, Open], 
      Alternatives[True, Open]], 
     Style[
      Graphics[{
        Thickness[0.18], 
        RGBColor[0.8509803921568627, 0.396078431372549, 0], 
        Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
       PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
      0.68 Inherited], 
     Rotate[
      Style[
       Graphics[{
         Thickness[0.18], 
         RGBColor[0.8509803921568627, 0.396078431372549, 0], 
         Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
        PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
       0.68 Inherited], Rational[1, 2] Pi, {-1.65, -1}]]],
   ImageSizeCache->{14., {5., 9.}}]],ExpressionUUID->
  "bf82236a-1aea-433b-aa45-3be8710b9143"],
 Cell[BoxData[
  TemplateBox[{1},
   "Spacer1"]],ExpressionUUID->"673d0208-63d7-4d38-8bbe-1e5d4cca9fc7"],
 "Examples",
 "\[NonBreakingSpace]\[NonBreakingSpace]",
 Cell["(18)", "ExampleCount",ExpressionUUID->
  "e3b67e46-2a63-4d04-bfd1-3f710607dc50"]
}], "PrimaryExamplesSection",
 WholeCellGroupOpener->True,
 CacheGraphics->False,
 CellTags->"PrimaryExamplesSection",
 CellID->539554785,ExpressionUUID->"f76ea6a0-d54f-4e4e-8f25-45b6de9e0ea7"],

Cell[BoxData[
 RowBox[{"Needs", "[", "\"\<Q3`\>\"", "]"}]], "Input", "ExampleInitialization",
 CellLabel->"In[1]:=",
 CellID->1927565408,ExpressionUUID->"d3a0a51f-4a66-486a-b71f-661645120e9b"],

Cell[CellGroupData[{

Cell[TextData[{
 Cell[BoxData[
  DynamicBox[ToBoxes[
    If[
     MatchQ[
      CurrentValue[
       EvaluationNotebook[], {TaggingRules, "Openers", "ExampleSection", "0"},
        Closed], 
      Alternatives[Open, True]], 
     Style[
      Graphics[{
        Thickness[0.18], 
        RGBColor[0.8509803921568627, 0.396078431372549, 0], 
        Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
       PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
      0.68 Inherited], 
     Rotate[
      Style[
       Graphics[{
         Thickness[0.18], 
         RGBColor[0.8509803921568627, 0.396078431372549, 0], 
         Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
        PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
       0.68 Inherited], Rational[1, 2] Pi, {-1.65, -1}]]],
   ImageSizeCache->{14., {5., 9.}}]],ExpressionUUID->
  "0aa399f8-4459-4aba-92da-24faabc841f9"],
 Cell[BoxData[
  TemplateBox[{1},
   "Spacer1"]],ExpressionUUID->"6056ab3e-ec41-4829-95f4-a4fa829922a9"],
 "Basic Examples",
 "\[NonBreakingSpace]\[NonBreakingSpace]",
 Cell["(5)", "ExampleCount",ExpressionUUID->
  "491350ac-48a6-49d4-ab21-52677d8dcab6"]
}], "ExampleSection", "ExampleSection",
 WholeCellGroupOpener->True,
 CacheGraphics->False,
 CellID->1621313861,ExpressionUUID->"d97afb08-293f-4926-9839-eb286e2a25e1"],

Cell[TextData[{
 Cell[BoxData["QFT"], "InlineFormula",
  FontFamily->"Source Sans Pro",ExpressionUUID->
  "68f59466-cef8-442d-857b-989ca6e41743"],
 " works for ",
 StyleBox["labeled",
  FontSlant->"Italic"],
 " qubits."
}], "ExampleText",
 CellID->332252718,ExpressionUUID->"1fcd6478-65c8-4941-b945-6fba321c9081"],

Cell[BoxData[
 RowBox[{"Let", "[", 
  RowBox[{"Qubit", ",", "S"}], "]"}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[1]:=",
 CellID->1218779485,ExpressionUUID->"cbda06a3-fecf-4280-876e-2c600a788080"],

Cell["\<\
Consider the quantum Fourier transformation on a three-qubit register.\
\>", "ExampleText",
 CellID->1975652896,ExpressionUUID->"4c947d5c-e8fe-4f74-9520-d9a376e15d0e"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"op", "=", 
  RowBox[{"QFT", "[", 
   RowBox[{"S", "@", 
    RowBox[{"{", 
     RowBox[{"1", ",", "2"}], "}"}]}], "]"}]}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[2]:=",
 CellID->907845956,ExpressionUUID->"68f1163b-f9b2-40ca-ab7f-4c64aea1e059"],

Cell[BoxData[
 RowBox[{"QFT", "[", 
  RowBox[{"{", 
   RowBox[{
    InterpretationBox[
     SubscriptBox["S", 
      TemplateBox[{",", "\",\"", "1"},
       "RowWithSeparators"]],
     $CellContext`S[1, Q3`$]], ",", 
    InterpretationBox[
     SubscriptBox["S", 
      TemplateBox[{",", "\",\"", "2"},
       "RowWithSeparators"]],
     $CellContext`S[2, Q3`$]]}], "}"}], "]"}]], "Output",
 CellLabel->"Out[2]=",
 CellID->350931326,ExpressionUUID->"c14ee992-1c8e-4db5-ba5a-78de122ed511"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"Elaborate", "[", "op", "]"}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[3]:=",
 CellID->1463562962,ExpressionUUID->"1a8825ce-e4a2-4a61-82b1-dc8d6c3cef7b"],

Cell[BoxData[
 RowBox[{
  RowBox[{"(", 
   RowBox[{
    FractionBox["1", "4"], "+", 
    FractionBox["\[ImaginaryI]", "4"]}], ")"}], "+", 
  RowBox[{
   RowBox[{"(", 
    RowBox[{
     FractionBox["1", "4"], "+", 
     FractionBox["\[ImaginaryI]", "4"]}], ")"}], " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"X\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[1, 1]], 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[2, 3]]}, "RowWithSeparators"]},
     "RowDefault"],
    Q3`Multiply[
     $CellContext`S[1, 1], 
     $CellContext`S[2, 3]]]}], "-", 
  RowBox[{
   FractionBox["1", "2"], " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"Y\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[1, 2]], 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"Y\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[2, 2]]}, "RowWithSeparators"]},
     "RowDefault"],
    Q3`Multiply[
     $CellContext`S[1, 2], 
     $CellContext`S[2, 2]]]}], "+", 
  RowBox[{
   FractionBox["1", "2"], " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[1, 3]], 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"X\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[2, 1]]}, "RowWithSeparators"]},
     "RowDefault"],
    Q3`Multiply[
     $CellContext`S[1, 3], 
     $CellContext`S[2, 1]]]}], "+", 
  RowBox[{
   RowBox[{"(", 
    RowBox[{
     FractionBox["1", "4"], "-", 
     FractionBox["\[ImaginaryI]", "4"]}], ")"}], " ", 
   InterpretationBox[
    TemplateBox[{"S", 
      TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"], 
      TemplateBox[{",", "\",\"", "\"X\""}, "RowWithSeparators"]},
     "Subsuperscript"],
    $CellContext`S[1, 1]]}], "+", 
  RowBox[{
   RowBox[{"(", 
    RowBox[{
     FractionBox["1", "4"], "-", 
     FractionBox["\[ImaginaryI]", "4"]}], ")"}], " ", 
   InterpretationBox[
    TemplateBox[{"S", 
      TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"], 
      TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]},
     "Subsuperscript"],
    $CellContext`S[2, 3]]}]}]], "Output",
 CellLabel->"Out[3]=",
 CellID->159792869,ExpressionUUID->"da43f48d-86dc-405b-ab87-66a1ab04e8db"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{"Matrix", "[", "op", "]"}], "//", "MatrixForm"}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[4]:=",
 CellID->1065133665,ExpressionUUID->"a24aaf1b-18e9-4896-a05a-f514360412d9"],

Cell[BoxData[
 TagBox[
  RowBox[{"(", "\[NoBreak]", GridBox[{
     {
      FractionBox["1", "2"], 
      FractionBox["1", "2"], 
      FractionBox["1", "2"], 
      FractionBox["1", "2"]},
     {
      FractionBox["1", "2"], 
      FractionBox["\[ImaginaryI]", "2"], 
      RowBox[{"-", 
       FractionBox["1", "2"]}], 
      RowBox[{"-", 
       FractionBox["\[ImaginaryI]", "2"]}]},
     {
      FractionBox["1", "2"], 
      RowBox[{"-", 
       FractionBox["1", "2"]}], 
      FractionBox["1", "2"], 
      RowBox[{"-", 
       FractionBox["1", "2"]}]},
     {
      FractionBox["1", "2"], 
      RowBox[{"-", 
       FractionBox["\[ImaginaryI]", "2"]}], 
      RowBox[{"-", 
       FractionBox["1", "2"]}], 
      FractionBox["\[ImaginaryI]", "2"]}
    },
    GridBoxAlignment->{"Columns" -> {{Center}}, "Rows" -> {{Baseline}}},
    GridBoxSpacings->{"Columns" -> {
        Offset[0.27999999999999997`], {
         Offset[0.7]}, 
        Offset[0.27999999999999997`]}, "Rows" -> {
        Offset[0.2], {
         Offset[0.4]}, 
        Offset[0.2]}}], "\[NoBreak]", ")"}],
  Function[BoxForm`e$, 
   MatrixForm[
   SparseArray[
    Automatic, {4, 4}, 0, {
     1, {{0, 4, 8, 12, 16}, {{1}, {2}, {3}, {4}, {1}, {2}, {3}, {4}, {1}, {
       2}, {3}, {4}, {1}, {2}, {3}, {4}}}, {
      Rational[1, 2], Rational[1, 2], Rational[1, 2], Rational[1, 2], 
       Rational[1, 2], Complex[0, Rational[1, 2]], Rational[-1, 2], Complex[
       0, Rational[-1, 2]], Rational[1, 2], Rational[-1, 2], Rational[1, 2], 
       Rational[-1, 2], Rational[1, 2], Complex[0, Rational[-1, 2]], 
       Rational[-1, 2], Complex[0, Rational[1, 2]]}}]]]]], "Output",
 CellLabel->"Out[4]//MatrixForm=",
 CellID->805939135,ExpressionUUID->"77e9bf65-6b86-44f1-9712-2b7a918e2d20"]
}, Open  ]],

Cell[TextData[{
 "The above matrix representation is equivalent to the result from the \
built-in function ",
 Cell[BoxData[
  TemplateBox[{
    Cell[
     TextData["FourierMatrix"]], "paclet:ref/FourierMatrix"},
   "RefLink",
   BaseStyle->{"InlineFormula"}]], "InlineFormula",
  FontFamily->"Source Sans Pro",ExpressionUUID->
  "6d5be8a1-2d73-4b41-9aa6-013132bf1321"],
 "."
}], "ExampleText",
 CellID->21662866,ExpressionUUID->"32fbfaaa-9ebf-4413-9be0-e76119f93c70"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"mat", "=", 
   RowBox[{"FourierMatrix", "[", "4", "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"mat", "//", "MatrixForm"}]}], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[5]:=",
 CellID->1935243801,ExpressionUUID->"f8875100-50ac-4830-af68-044e26b0678e"],

Cell[BoxData[
 TagBox[
  RowBox[{"(", "\[NoBreak]", GridBox[{
     {
      FractionBox["1", "2"], 
      FractionBox["1", "2"], 
      FractionBox["1", "2"], 
      FractionBox["1", "2"]},
     {
      FractionBox["1", "2"], 
      FractionBox["\[ImaginaryI]", "2"], 
      RowBox[{"-", 
       FractionBox["1", "2"]}], 
      RowBox[{"-", 
       FractionBox["\[ImaginaryI]", "2"]}]},
     {
      FractionBox["1", "2"], 
      RowBox[{"-", 
       FractionBox["1", "2"]}], 
      FractionBox["1", "2"], 
      RowBox[{"-", 
       FractionBox["1", "2"]}]},
     {
      FractionBox["1", "2"], 
      RowBox[{"-", 
       FractionBox["\[ImaginaryI]", "2"]}], 
      RowBox[{"-", 
       FractionBox["1", "2"]}], 
      FractionBox["\[ImaginaryI]", "2"]}
    },
    GridBoxAlignment->{"Columns" -> {{Center}}, "Rows" -> {{Baseline}}},
    GridBoxSpacings->{"Columns" -> {
        Offset[0.27999999999999997`], {
         Offset[0.7]}, 
        Offset[0.27999999999999997`]}, "Rows" -> {
        Offset[0.2], {
         Offset[0.4]}, 
        Offset[0.2]}}], "\[NoBreak]", ")"}],
  Function[BoxForm`e$, 
   MatrixForm[BoxForm`e$]]]], "Output",
 CellLabel->"Out[5]//MatrixForm=",
 CellID->1564588226,ExpressionUUID->"f0c61014-3ef1-40b4-9e50-313d992e2324"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 InterpretationBox[Cell[
  "\t", "ExampleDelimiter",ExpressionUUID->
   "300df84b-70e2-4094-9d17-533c50c9c84d"],
  $Line = 0; Null]], "ExampleDelimiter",
 CellID->633346104,ExpressionUUID->"683c6bbd-ba22-4e0a-ac50-305e29b28d05"],

Cell[TextData[{
 "For a large number qubits, the evaluation of QFT takes long. In this case, \
option ",
 Cell[BoxData[
  RowBox[{
   TemplateBox[{
     Cell[
      TextData["N"]], "paclet:ref/N"},
    "RefLink",
    BaseStyle->{"InlineFormula"}], "\[Rule]", 
   TemplateBox[{
     Cell[
      TextData["True"]], "paclet:ref/True"},
    "RefLink",
    BaseStyle->{"InlineFormula"}]}]], "InlineFormula",
  FontFamily->"Source Sans Pro",ExpressionUUID->
  "75d05cda-d3df-4e51-8972-d5bed78078a4"],
 " helps make it faster."
}], "ExampleText",
 CellID->377537796,ExpressionUUID->"27d2fdce-e84f-4014-b9f5-57f28360fb84"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"Elaborate", "[", 
  RowBox[{"QFT", "[", 
   RowBox[{
    RowBox[{"S", "@", 
     RowBox[{"{", 
      RowBox[{"1", ",", "2"}], "}"}]}], ",", 
    RowBox[{"N", "->", "True"}]}], "]"}], "]"}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[1]:=",
 CellID->1394257481,ExpressionUUID->"e985ae1a-fbc9-4a91-9413-ccb265eab4b6"],

Cell[BoxData[
 RowBox[{
  RowBox[{"(", 
   RowBox[{"0.25`", "\[VeryThinSpace]", "+", 
    RowBox[{"0.25`", " ", "\[ImaginaryI]"}]}], ")"}], "+", 
  RowBox[{
   RowBox[{"(", 
    RowBox[{"0.25`", "\[VeryThinSpace]", "+", 
     RowBox[{"0.25`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"X\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[1, 1]], 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[2, 3]]}, "RowWithSeparators"]},
     "RowDefault"],
    Q3`Multiply[
     $CellContext`S[1, 1], 
     $CellContext`S[2, 3]]]}], "-", 
  RowBox[{
   RowBox[{"(", 
    RowBox[{"0.5`", "\[VeryThinSpace]", "+", 
     RowBox[{"0.`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"Y\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[1, 2]], 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"Y\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[2, 2]]}, "RowWithSeparators"]},
     "RowDefault"],
    Q3`Multiply[
     $CellContext`S[1, 2], 
     $CellContext`S[2, 2]]]}], "+", 
  RowBox[{
   RowBox[{"(", 
    RowBox[{"0.5`", "\[VeryThinSpace]", "+", 
     RowBox[{"0.`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[1, 3]], 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"X\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[2, 1]]}, "RowWithSeparators"]},
     "RowDefault"],
    Q3`Multiply[
     $CellContext`S[1, 3], 
     $CellContext`S[2, 1]]]}], "+", 
  RowBox[{
   RowBox[{"(", 
    RowBox[{"0.25`", "\[VeryThinSpace]", "-", 
     RowBox[{"0.25`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
   InterpretationBox[
    TemplateBox[{"S", 
      TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"], 
      TemplateBox[{",", "\",\"", "\"X\""}, "RowWithSeparators"]},
     "Subsuperscript"],
    $CellContext`S[1, 1]]}], "+", 
  RowBox[{
   RowBox[{"(", 
    RowBox[{"0.25`", "\[VeryThinSpace]", "-", 
     RowBox[{"0.25`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
   InterpretationBox[
    TemplateBox[{"S", 
      TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"], 
      TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]},
     "Subsuperscript"],
    $CellContext`S[2, 3]]}]}]], "Output",
 CellLabel->"Out[1]=",
 CellID->1140825125,ExpressionUUID->"b84edc21-3c65-452a-8dc2-168d9c59171d"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 InterpretationBox[Cell[
  "\t", "ExampleDelimiter",ExpressionUUID->
   "07ea4511-50ed-4c2d-aae4-e5ee860dd0e9"],
  $Line = 0; Null]], "ExampleDelimiter",
 CellID->1755184417,ExpressionUUID->"62230d7e-3204-4353-8bbf-0becbfd553c4"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"new", "=", 
  RowBox[{"Matrix", "[", 
   RowBox[{"Dagger", "[", "op", "]"}], "]"}]}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[1]:=",
 CellID->1456139501,ExpressionUUID->"59bb3cf8-7190-4f5a-8575-da2e3622c84e"],

Cell[BoxData[
 InterpretationBox[
  RowBox[{
   TagBox["SparseArray",
    "SummaryHead"], "[", 
   DynamicModuleBox[{Typeset`open$$ = False, Typeset`embedState$$ = "Ready"}, 
    
    TemplateBox[{
      PaneSelectorBox[{False -> GridBox[{{
            PaneBox[
             ButtonBox[
              DynamicBox[
               FEPrivate`FrontEndResource["FEBitmaps", "SummaryBoxOpener"]], 
              ButtonFunction :> (Typeset`open$$ = True), Appearance -> None, 
              BaseStyle -> {}, Evaluator -> Automatic, Method -> 
              "Preemptive"], Alignment -> {Center, Center}, ImageSize -> 
             Dynamic[{
               Automatic, 
                3.5 (CurrentValue["FontCapHeight"]/AbsoluteCurrentValue[
                 Magnification])}]], 
            GraphicsBox[
             RasterBox[CompressedData["
1:eJxTTMoPSmVmYGBggWIQe2e3gevOLS/sb7gvX1cz7a39yYjcf/Ff39tble+O
m6V0zn6O8aIt5j+u2L9YpPg4cNUre4X3odrCdUftGaBAZMvJh5P9LuNUj8t8
XOZQSz2t3U8tcQAgIcL0
              "], {{0, 0}, {4, 4}}, {0, 1}], AspectRatio -> 1, Axes -> False, 
             AxesStyle -> {}, Frame -> False, FrameLabel -> {None, None}, 
             FrameStyle -> Directive[
               Opacity[0.5], 
               Thickness[Tiny], 
               RGBColor[0.368417, 0.506779, 0.709798]], 
             FrameTicks -> {{None, None}, {None, None}}, GridLinesStyle -> 
             Directive[
               GrayLevel[0.5, 0.4]], ImageSize -> 
             Dynamic[{
               Automatic, 
                3.5 (CurrentValue["FontCapHeight"]/AbsoluteCurrentValue[
                 Magnification])}], 
             Method -> {
              "GridLinesInFront" -> True, "AxisPadding" -> Scaled[0.02], 
               "DefaultBoundaryStyle" -> Automatic, 
               "DefaultGraphicsInteraction" -> {
                "Version" -> 1.2, "TrackMousePosition" -> {True, False}, 
                 "Effects" -> {
                  "Highlight" -> {"ratio" -> 2}, 
                   "HighlightPoint" -> {"ratio" -> 2}, 
                   "Droplines" -> {
                    "freeformCursorMode" -> True, 
                    "placement" -> {"x" -> "All", "y" -> "None"}}}}, 
               "DefaultPlotStyle" -> Automatic, "DomainPadding" -> 
               Scaled[0.02], "RangePadding" -> Scaled[0.05]}, 
             PlotRangePadding -> Automatic, AxesStyle -> Large, FrameStyle -> 
             Large, ImageSize -> Large, PlotRangePadding -> Scaled[0.025]], 
            GridBox[{{
               RowBox[{
                 TagBox["\"Specified elements: \"", "SummaryItemAnnotation"], 
                 "\[InvisibleSpace]", 
                 TagBox["16", "SummaryItem"]}]}, {
               RowBox[{
                 TagBox["\"Dimensions: \"", "SummaryItemAnnotation"], 
                 "\[InvisibleSpace]", 
                 TagBox[
                  RowBox[{"{", 
                    RowBox[{"4", ",", "4"}], "}"}], "SummaryItem"]}]}}, 
             GridBoxAlignment -> {
              "Columns" -> {{Left}}, "Rows" -> {{Automatic}}}, AutoDelete -> 
             False, GridBoxItemSize -> {
              "Columns" -> {{Automatic}}, "Rows" -> {{Automatic}}}, 
             GridBoxSpacings -> {"Columns" -> {{2}}, "Rows" -> {{Automatic}}},
              BaseStyle -> {
              ShowStringCharacters -> False, NumberMarks -> False, 
               PrintPrecision -> 3, ShowSyntaxStyles -> False}]}}, 
          GridBoxAlignment -> {"Columns" -> {{Left}}, "Rows" -> {{Top}}}, 
          AutoDelete -> False, 
          GridBoxItemSize -> {
           "Columns" -> {{Automatic}}, "Rows" -> {{Automatic}}}, 
          BaselinePosition -> {1, 1}], True -> GridBox[{{
            PaneBox[
             ButtonBox[
              DynamicBox[
               FEPrivate`FrontEndResource["FEBitmaps", "SummaryBoxCloser"]], 
              ButtonFunction :> (Typeset`open$$ = False), Appearance -> None, 
              BaseStyle -> {}, Evaluator -> Automatic, Method -> 
              "Preemptive"], Alignment -> {Center, Center}, ImageSize -> 
             Dynamic[{
               Automatic, 
                3.5 (CurrentValue["FontCapHeight"]/AbsoluteCurrentValue[
                 Magnification])}]], 
            GraphicsBox[
             RasterBox[CompressedData["
1:eJxTTMoPSmVmYGBggWIQe2e3gevOLS/sb7gvX1cz7a39yYjcf/Ff39tble+O
m6V0zn6O8aIt5j+u2L9YpPg4cNUre4X3odrCdUftGaBAZMvJh5P9LuNUj8t8
XOZQSz2t3U8tcQAgIcL0
              "], {{0, 0}, {4, 4}}, {0, 1}], AspectRatio -> 1, Axes -> False, 
             AxesStyle -> {}, Frame -> False, FrameLabel -> {None, None}, 
             FrameStyle -> Directive[
               Opacity[0.5], 
               Thickness[Tiny], 
               RGBColor[0.368417, 0.506779, 0.709798]], 
             FrameTicks -> {{None, None}, {None, None}}, GridLinesStyle -> 
             Directive[
               GrayLevel[0.5, 0.4]], ImageSize -> 
             Dynamic[{
               Automatic, 
                3.5 (CurrentValue["FontCapHeight"]/AbsoluteCurrentValue[
                 Magnification])}], 
             Method -> {
              "GridLinesInFront" -> True, "AxisPadding" -> Scaled[0.02], 
               "DefaultBoundaryStyle" -> Automatic, 
               "DefaultGraphicsInteraction" -> {
                "Version" -> 1.2, "TrackMousePosition" -> {True, False}, 
                 "Effects" -> {
                  "Highlight" -> {"ratio" -> 2}, 
                   "HighlightPoint" -> {"ratio" -> 2}, 
                   "Droplines" -> {
                    "freeformCursorMode" -> True, 
                    "placement" -> {"x" -> "All", "y" -> "None"}}}}, 
               "DefaultPlotStyle" -> Automatic, "DomainPadding" -> 
               Scaled[0.02], "RangePadding" -> Scaled[0.05]}, 
             PlotRangePadding -> Automatic, AxesStyle -> Large, FrameStyle -> 
             Large, ImageSize -> Large, PlotRangePadding -> Scaled[0.025]], 
            GridBox[{{
               RowBox[{
                 TagBox["\"Specified elements: \"", "SummaryItemAnnotation"], 
                 "\[InvisibleSpace]", 
                 TagBox["16", "SummaryItem"]}]}, {
               RowBox[{
                 TagBox["\"Dimensions: \"", "SummaryItemAnnotation"], 
                 "\[InvisibleSpace]", 
                 TagBox[
                  RowBox[{"{", 
                    RowBox[{"4", ",", "4"}], "}"}], "SummaryItem"]}]}, {
               RowBox[{
                 TagBox["\"Default: \"", "SummaryItemAnnotation"], 
                 "\[InvisibleSpace]", 
                 TagBox["0", "SummaryItem"]}]}, {
               RowBox[{
                 TagBox["\"Density: \"", "SummaryItemAnnotation"], 
                 "\[InvisibleSpace]", 
                 TagBox["1.`", "SummaryItem"]}]}, {
               RowBox[{
                 TagBox["\"Elements:\"", "SummaryItemAnnotation"], 
                 "\[InvisibleSpace]", 
                 TagBox["\"\"", "SummaryItem"]}]}, {
               TagBox[
                TagBox[
                 GridBox[{{
                    RowBox[{
                    RowBox[{"{", 
                    RowBox[{"1", ",", "1"}], "}"}], "\[Rule]", 
                    StyleBox[
                    PaneBox[
                    FractionBox["1", "2"], ContentPadding -> False, 
                    FrameMargins -> 0, StripOnInput -> True, BaselinePosition -> 
                    Baseline, ImageSize -> {{1, 300}, Automatic}], 
                    LineBreakWithin -> False]}]}, {
                    RowBox[{
                    RowBox[{"{", 
                    RowBox[{"1", ",", "2"}], "}"}], "\[Rule]", 
                    StyleBox[
                    PaneBox[
                    FractionBox["1", "2"], ContentPadding -> False, 
                    FrameMargins -> 0, StripOnInput -> True, BaselinePosition -> 
                    Baseline, ImageSize -> {{1, 300}, Automatic}], 
                    LineBreakWithin -> False]}]}, {
                    RowBox[{
                    RowBox[{"{", 
                    RowBox[{"1", ",", "3"}], "}"}], "\[Rule]", 
                    StyleBox[
                    PaneBox[
                    FractionBox["1", "2"], ContentPadding -> False, 
                    FrameMargins -> 0, StripOnInput -> True, BaselinePosition -> 
                    Baseline, ImageSize -> {{1, 300}, Automatic}], 
                    LineBreakWithin -> False]}]}, {
                    RowBox[{
                    RowBox[{"{", 
                    RowBox[{"1", ",", "4"}], "}"}], "\[Rule]", 
                    StyleBox[
                    PaneBox[
                    FractionBox["1", "2"], ContentPadding -> False, 
                    FrameMargins -> 0, StripOnInput -> True, BaselinePosition -> 
                    Baseline, ImageSize -> {{1, 300}, Automatic}], 
                    LineBreakWithin -> False]}]}, {
                    ItemBox[
                    "\"\[VerticalEllipsis]\"", Alignment -> Center, 
                    StripOnInput -> False]}}, 
                  GridBoxAlignment -> {"Columns" -> {{Left}}}, 
                  DefaultBaseStyle -> "Column", 
                  GridBoxItemSize -> {
                   "Columns" -> {{Automatic}}, "Rows" -> {{Automatic}}}], 
                 "Column"], "SummaryItem"]}}, 
             GridBoxAlignment -> {
              "Columns" -> {{Left}}, "Rows" -> {{Automatic}}}, AutoDelete -> 
             False, GridBoxItemSize -> {
              "Columns" -> {{Automatic}}, "Rows" -> {{Automatic}}}, 
             GridBoxSpacings -> {"Columns" -> {{2}}, "Rows" -> {{Automatic}}},
              BaseStyle -> {
              ShowStringCharacters -> False, NumberMarks -> False, 
               PrintPrecision -> 3, ShowSyntaxStyles -> False}]}}, 
          GridBoxAlignment -> {"Columns" -> {{Left}}, "Rows" -> {{Top}}}, 
          AutoDelete -> False, 
          GridBoxItemSize -> {
           "Columns" -> {{Automatic}}, "Rows" -> {{Automatic}}}, 
          BaselinePosition -> {1, 1}]}, 
       Dynamic[Typeset`open$$], ImageSize -> Automatic]},
     "SummaryPanel"],
    DynamicModuleValues:>{}], "]"}],
  SparseArray[
  Automatic, {4, 4}, 0, {
   1, {{0, 4, 8, 12, 16}, {{1}, {2}, {3}, {4}, {1}, {2}, {3}, {4}, {1}, {2}, {
     3}, {4}, {1}, {2}, {3}, {4}}}, {
    Rational[1, 2], Rational[1, 2], Rational[1, 2], Rational[1, 2], Rational[
     1, 2], Complex[0, Rational[-1, 2]], Rational[-1, 2], Complex[
     0, Rational[1, 2]], Rational[1, 2], Rational[-1, 2], Rational[1, 2], 
     Rational[-1, 2], Rational[1, 2], Complex[0, Rational[1, 2]], 
     Rational[-1, 2], Complex[0, Rational[-1, 2]]}}],
  Editable->False,
  SelectWithContents->True,
  Selectable->False]], "Output",
 CellLabel->"Out[1]=",
 CellID->216045046,ExpressionUUID->"b1bb2aea-ad8e-40da-8fc8-f0875fbdc57f"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{"new", ".", "mat"}], "//", "MatrixForm"}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[2]:=",
 CellID->1935546351,ExpressionUUID->"0fdf941a-0b6c-4bef-932e-6ac26e2df597"],

Cell[BoxData[
 TagBox[
  RowBox[{"(", "\[NoBreak]", GridBox[{
     {"1", "0", "0", "0"},
     {"0", "1", "0", "0"},
     {"0", "0", "1", "0"},
     {"0", "0", "0", "1"}
    },
    GridBoxAlignment->{"Columns" -> {{Center}}, "Rows" -> {{Baseline}}},
    GridBoxSpacings->{"Columns" -> {
        Offset[0.27999999999999997`], {
         Offset[0.7]}, 
        Offset[0.27999999999999997`]}, "Rows" -> {
        Offset[0.2], {
         Offset[0.4]}, 
        Offset[0.2]}}], "\[NoBreak]", ")"}],
  Function[BoxForm`e$, 
   MatrixForm[BoxForm`e$]]]], "Output",
 CellLabel->"Out[2]//MatrixForm=",
 CellID->1193656189,ExpressionUUID->"b7e6af12-e7db-40f5-a1da-22b241510299"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"new", "=", 
  RowBox[{
   RowBox[{"Dagger", "[", "op", "]"}], "//", "Elaborate"}]}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[3]:=",
 CellID->605417927,ExpressionUUID->"06120170-a297-416b-947f-e4cd89281c13"],

Cell[BoxData[
 RowBox[{
  RowBox[{"(", 
   RowBox[{
    FractionBox["1", "4"], "-", 
    FractionBox["\[ImaginaryI]", "4"]}], ")"}], "+", 
  RowBox[{
   RowBox[{"(", 
    RowBox[{
     FractionBox["1", "4"], "-", 
     FractionBox["\[ImaginaryI]", "4"]}], ")"}], " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"X\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[1, 1]], 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[2, 3]]}, "RowWithSeparators"]},
     "RowDefault"],
    Q3`Multiply[
     $CellContext`S[1, 1], 
     $CellContext`S[2, 3]]]}], "-", 
  RowBox[{
   FractionBox["1", "2"], " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"Y\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[1, 2]], 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"Y\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[2, 2]]}, "RowWithSeparators"]},
     "RowDefault"],
    Q3`Multiply[
     $CellContext`S[1, 2], 
     $CellContext`S[2, 2]]]}], "+", 
  RowBox[{
   FractionBox["1", "2"], " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[1, 3]], 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"X\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[2, 1]]}, "RowWithSeparators"]},
     "RowDefault"],
    Q3`Multiply[
     $CellContext`S[1, 3], 
     $CellContext`S[2, 1]]]}], "+", 
  RowBox[{
   RowBox[{"(", 
    RowBox[{
     FractionBox["1", "4"], "+", 
     FractionBox["\[ImaginaryI]", "4"]}], ")"}], " ", 
   InterpretationBox[
    TemplateBox[{"S", 
      TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"], 
      TemplateBox[{",", "\",\"", "\"X\""}, "RowWithSeparators"]},
     "Subsuperscript"],
    $CellContext`S[1, 1]]}], "+", 
  RowBox[{
   RowBox[{"(", 
    RowBox[{
     FractionBox["1", "4"], "+", 
     FractionBox["\[ImaginaryI]", "4"]}], ")"}], " ", 
   InterpretationBox[
    TemplateBox[{"S", 
      TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"], 
      TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]},
     "Subsuperscript"],
    $CellContext`S[2, 3]]}]}]], "Output",
 CellLabel->"Out[3]=",
 CellID->501369000,ExpressionUUID->"8a207630-dd5c-42c3-a2cc-937c9be3ffcf"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{"new", "**", "op"}], "//", "Elaborate"}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[4]:=",
 CellID->351390116,ExpressionUUID->"c768de60-653f-4c34-8374-3ae8c4802f33"],

Cell[BoxData["1"], "Output",
 CellLabel->"Out[4]=",
 CellID->116182881,ExpressionUUID->"56766625-64e3-4018-b01f-8591857c7841"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 InterpretationBox[Cell[
  "\t", "ExampleDelimiter",ExpressionUUID->
   "6a596470-1243-460d-8275-11d2c6ffb0ec"],
  $Line = 0; Null]], "ExampleDelimiter",
 CellID->1140153602,ExpressionUUID->"81293c7f-1034-4de8-b051-14baee4dc76a"],

Cell["Display the gate in a quantum circuit.", "ExampleText",
 CellID->661684588,ExpressionUUID->"3e16715c-9f28-405b-8593-25c951ac51b1"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"qc", "=", 
  RowBox[{"QuantumCircuit", "[", "op", "]"}]}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[1]:=",
 CellID->801017643,ExpressionUUID->"4fcd8500-4b2f-48ac-a9c1-c8e67d5cb331"],

Cell[BoxData[
 InterpretationBox[
  GraphicsBox[{
    {Dashing[{Small, Small}], LineBox[{}]}, 
    LineBox[{{{0, -1}, {2, -1}}, {{0, -2}, {2, -2}}}], {
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{0.6, -2.4}, {1.4, -0.6}]}, InsetBox[
      StyleBox[
       RotationBox["\<\"QFT\"\>",
        BoxRotation->1.5707963267948966`],
       StripOnInput->False,
       FontSize->Scaled[0.2],
       FontWeight->"Light",
       FontSlant->Italic], NCache[{1, Rational[-3, 2]}, {1, -1.5}], NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
       ImageScaled[{0.5, 0.5}]]]}},
   AxesStyle->Large,
   FrameStyle->Large,
   ImagePadding->{{23.400000000000002`, 23.400000000000002`}, {1, 1}},
   ImageSize->118.8,
   PlotRange->NCache[{Full, {
       Rational[-5, 2], 
       Rational[-1, 2]}}, {Full, {-2.5, -0.5}}],
   PlotRangePadding->Scaled[0.025]],
  Q3`QuantumCircuit[
   Q3`QFT[{
     $CellContext`S[1, Q3`$], 
     $CellContext`S[2, Q3`$]}]]]], "Output",
 CellLabel->"Out[1]=",
 CellID->1680284625,ExpressionUUID->"c6250834-170b-4a40-95af-d2f89746b00e"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"Matrix", "[", "qc", "]"}], "-", "mat"}], "//", 
  "Simplify"}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[2]:=",
 CellID->1972853389,ExpressionUUID->"f5a32788-6369-4be8-a673-2b3da94bf46e"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}]}], "}"}]], "Output",
 CellLabel->"Out[2]=",
 CellID->1562063991,ExpressionUUID->"9e630851-fb57-403d-b580-affb85df0a59"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"Elaborate", "[", "qc", "]"}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[3]:=",
 CellID->1329021571,ExpressionUUID->"925aba2d-dd9c-4193-b70f-32bc9f74f8bb"],

Cell[BoxData[
 RowBox[{
  RowBox[{"(", 
   RowBox[{
    FractionBox["1", "4"], "+", 
    FractionBox["\[ImaginaryI]", "4"]}], ")"}], "+", 
  RowBox[{
   RowBox[{"(", 
    RowBox[{
     FractionBox["1", "4"], "+", 
     FractionBox["\[ImaginaryI]", "4"]}], ")"}], " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"X\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[1, 1]], 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[2, 3]]}, "RowWithSeparators"]},
     "RowDefault"],
    Q3`Multiply[
     $CellContext`S[1, 1], 
     $CellContext`S[2, 3]]]}], "-", 
  RowBox[{
   FractionBox["1", "2"], " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"Y\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[1, 2]], 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"Y\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[2, 2]]}, "RowWithSeparators"]},
     "RowDefault"],
    Q3`Multiply[
     $CellContext`S[1, 2], 
     $CellContext`S[2, 2]]]}], "+", 
  RowBox[{
   FractionBox["1", "2"], " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[1, 3]], 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"X\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[2, 1]]}, "RowWithSeparators"]},
     "RowDefault"],
    Q3`Multiply[
     $CellContext`S[1, 3], 
     $CellContext`S[2, 1]]]}], "+", 
  RowBox[{
   RowBox[{"(", 
    RowBox[{
     FractionBox["1", "4"], "-", 
     FractionBox["\[ImaginaryI]", "4"]}], ")"}], " ", 
   InterpretationBox[
    TemplateBox[{"S", 
      TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"], 
      TemplateBox[{",", "\",\"", "\"X\""}, "RowWithSeparators"]},
     "Subsuperscript"],
    $CellContext`S[1, 1]]}], "+", 
  RowBox[{
   RowBox[{"(", 
    RowBox[{
     FractionBox["1", "4"], "-", 
     FractionBox["\[ImaginaryI]", "4"]}], ")"}], " ", 
   InterpretationBox[
    TemplateBox[{"S", 
      TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"], 
      TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]},
     "Subsuperscript"],
    $CellContext`S[2, 3]]}]}]], "Output",
 CellLabel->"Out[3]=",
 CellID->313742131,ExpressionUUID->"a4b94a97-19bc-4d3b-955c-c2a5aba1fdbb"]
}, Open  ]],

Cell[TextData[{
 "The inverse quantum Fourier transform is represented by ",
 Cell[BoxData[
  RowBox[{
   TemplateBox[{
     Cell[
      TextData["Dagger"]], "paclet:Q3/ref/Dagger", "Q3 Package Symbol"},
    "PackageLink",
    BaseStyle->"InlineFormula"], "[", 
   RowBox[{"QFT", "[", 
    StyleBox["\[Ellipsis]", "TR"], "]"}], "]"}]], "InlineFormula",
  FontFamily->"Source Sans Pro",ExpressionUUID->
  "3e8f2916-b08b-47d8-ae4d-c100ad57feae"],
 "."
}], "ExampleText",
 CellID->297503565,ExpressionUUID->"74b60a74-0200-49e8-90b6-4221d1ac8fa3"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"qc", "=", 
  RowBox[{"QuantumCircuit", "[", 
   RowBox[{"Dagger", "@", "op"}], "]"}]}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[4]:=",
 CellID->262345946,ExpressionUUID->"b38aa8e1-81f4-4096-b7c7-5edf672ff470"],

Cell[BoxData[
 InterpretationBox[
  GraphicsBox[{
    {Dashing[{Small, Small}], LineBox[{}]}, 
    LineBox[{{{0, -1}, {2, -1}}, {{0, -2}, {2, -2}}}], {
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{0.6, -2.4}, {1.4, -0.6}]}, InsetBox[
      StyleBox[
       RotationBox[
        SuperscriptBox["\<\"QFT\"\>", "\[Dagger]"],
        BoxRotation->1.5707963267948966`],
       StripOnInput->False,
       FontSize->Scaled[0.2],
       FontWeight->"Light",
       FontSlant->Italic], NCache[{1, Rational[-3, 2]}, {1, -1.5}], NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
       ImageScaled[{0.5, 0.5}]]]}},
   AxesStyle->Large,
   FrameStyle->Large,
   ImagePadding->{{23.400000000000002`, 23.400000000000002`}, {1, 1}},
   ImageSize->118.8,
   PlotRange->NCache[{Full, {
       Rational[-5, 2], 
       Rational[-1, 2]}}, {Full, {-2.5, -0.5}}],
   PlotRangePadding->Scaled[0.025]],
  Q3`QuantumCircuit[
   Q3`QFT[{
     $CellContext`S[1, Q3`$], 
     $CellContext`S[2, Q3`$]}, "Parameter" -> -1]]]], "Output",
 CellLabel->"Out[4]=",
 CellID->2035426966,ExpressionUUID->"2ffab817-8f6d-4ed2-ab83-f2070f8d0e13"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{"Matrix", "[", "qc", "]"}], "-", 
    RowBox[{"Topple", "[", "mat", "]"}]}], "//", "Simplify"}], "//", 
  "MatrixForm"}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[5]:=",
 CellID->1243515870,ExpressionUUID->"5b568f3b-3a55-487b-a602-5a70d8e63e6a"],

Cell[BoxData[
 TagBox[
  RowBox[{"(", "\[NoBreak]", GridBox[{
     {"0", "0", "0", "0"},
     {"0", "0", "0", "0"},
     {"0", "0", "0", "0"},
     {"0", "0", "0", "0"}
    },
    GridBoxAlignment->{"Columns" -> {{Center}}, "Rows" -> {{Baseline}}},
    GridBoxSpacings->{"Columns" -> {
        Offset[0.27999999999999997`], {
         Offset[0.7]}, 
        Offset[0.27999999999999997`]}, "Rows" -> {
        Offset[0.2], {
         Offset[0.4]}, 
        Offset[0.2]}}], "\[NoBreak]", ")"}],
  Function[BoxForm`e$, 
   MatrixForm[BoxForm`e$]]]], "Output",
 CellLabel->"Out[5]//MatrixForm=",
 CellID->274207047,ExpressionUUID->"0f2e34b0-3473-4d76-b049-c3427bacb2c6"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 InterpretationBox[Cell[
  "\t", "ExampleDelimiter",ExpressionUUID->
   "d6a2bc73-8ea2-4739-9310-b0e938486d96"],
  $Line = 0; Null]], "ExampleDelimiter",
 CellID->990347448,ExpressionUUID->"77feb1a6-bb6f-49ee-9cd5-c7dc856bdbe3"],

Cell[BoxData[
 RowBox[{"Let", "[", 
  RowBox[{"Qubit", ",", "S", ",", "T"}], "]"}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[1]:=",
 CellID->1765419446,ExpressionUUID->"31f6b430-2a77-4992-a5d3-8d7c1657ec4f"],

Cell[TextData[{
 "Consider a quantum register of ",
 Cell[BoxData[
  FormBox["n", TraditionalForm]],ExpressionUUID->
  "25f3efe9-1cb9-476a-896c-89dae345854e"],
 " qubits."
}], "ExampleText",
 CellID->1770561970,ExpressionUUID->"ced049d2-f071-47cb-bcf8-b8df22776263"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"$n", "=", "4"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"SS", "=", 
  RowBox[{"S", "[", 
   RowBox[{
    RowBox[{"Range", "@", "$n"}], ",", "$"}], "]"}]}]}], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[2]:=",
 CellID->154133311,ExpressionUUID->"9a8af734-c6d8-418d-ac5c-1fe5c96f017e"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   InterpretationBox[
    SubscriptBox["S", 
     TemplateBox[{",", "\",\"", "1"},
      "RowWithSeparators"]],
    $CellContext`S[1, Q3`$]], ",", 
   InterpretationBox[
    SubscriptBox["S", 
     TemplateBox[{",", "\",\"", "2"},
      "RowWithSeparators"]],
    $CellContext`S[2, Q3`$]], ",", 
   InterpretationBox[
    SubscriptBox["S", 
     TemplateBox[{",", "\",\"", "3"},
      "RowWithSeparators"]],
    $CellContext`S[3, Q3`$]], ",", 
   InterpretationBox[
    SubscriptBox["S", 
     TemplateBox[{",", "\",\"", "4"},
      "RowWithSeparators"]],
    $CellContext`S[4, Q3`$]]}], "}"}]], "Output",
 CellLabel->"Out[2]=",
 CellID->1950376551,ExpressionUUID->"365cb6f4-d2ce-4cc6-b9f7-c3bd598377c2"]
}, Open  ]],

Cell[TextData[{
 "Examine the ",
 StyleBox["QFT", "Input"],
 " operator."
}], "ExampleText",
 CellID->1735430401,ExpressionUUID->"7e58cedf-dc49-40c6-9689-8f487ae3087f"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"op", "=", 
  RowBox[{"QFT", "[", "SS", "]"}]}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[3]:=",
 CellID->255856053,ExpressionUUID->"fba9d2d7-26a7-489c-9720-5fe1bed839ec"],

Cell[BoxData[
 RowBox[{"QFT", "[", 
  RowBox[{"{", 
   RowBox[{
    InterpretationBox[
     SubscriptBox["S", 
      TemplateBox[{",", "\",\"", "1"},
       "RowWithSeparators"]],
     $CellContext`S[1, Q3`$]], ",", 
    InterpretationBox[
     SubscriptBox["S", 
      TemplateBox[{",", "\",\"", "2"},
       "RowWithSeparators"]],
     $CellContext`S[2, Q3`$]], ",", 
    InterpretationBox[
     SubscriptBox["S", 
      TemplateBox[{",", "\",\"", "3"},
       "RowWithSeparators"]],
     $CellContext`S[3, Q3`$]], ",", 
    InterpretationBox[
     SubscriptBox["S", 
      TemplateBox[{",", "\",\"", "4"},
       "RowWithSeparators"]],
     $CellContext`S[4, Q3`$]]}], "}"}], "]"}]], "Output",
 CellLabel->"Out[3]=",
 CellID->1980723237,ExpressionUUID->"817e2f13-865f-4492-9e3e-75f919c295c3"]
}, Open  ]],

Cell[TextData[{
 "Expand the ",
 StyleBox["QFT", "Input"],
 " operator in terms of controlled power."
}], "ExampleText",
 CellID->632779064,ExpressionUUID->"f9d50d81-1915-4830-84a8-eeae8bd7fa13"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"new", "=", 
  RowBox[{"Expand", "[", "op", "]"}]}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[4]:=",
 CellID->778708704,ExpressionUUID->"6ba1b426-1cad-4e03-84b3-ffa5a1dc666d"],

Cell[BoxData[
 InterpretationBox[
  GraphicsBox[{
    {Dashing[{Small, Small}], LineBox[{}]}, 
    LineBox[{{{0, -1}, {10, -1}}, {{0, -2}, {10, -2}}, {{0, -3}, {10, -3}}, {{
     0, -4}, {10, -4}}}], {
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{0.6, -1.4}, {1.4, -0.6}]}, InsetBox[
      StyleBox["\<\"H\"\>",
       StripOnInput->False,
       FontSize->Scaled[0.04000000000000001],
       FontWeight->"Light",
       FontSlant->Italic], {1, -1}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
       ImageScaled[{0.5, 0.5}]]]}, {LineBox[{{2, -1}, {2, -2}}], 
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{1.6, -1.4}, {2.4, -0.6},
       RoundingRadius->0.4]}, InsetBox[
      StyleBox["\<\"\\!\\(\\*OverscriptBox[\\(x\\), \\(~\\)]\\)\"\>",
       StripOnInput->False,
       FontSize->Scaled[0.04000000000000001],
       FontWeight->"Light",
       FontSlant->Italic], {2, -1}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
       ImageScaled[{0.5, 0.5}]]], 
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{1.6, -2.4}, {2.4, -1.6}]}, InsetBox[
      StyleBox[
       TemplateBox[{
        "\"Z\"", "2", "\"\\!\\(\\*OverscriptBox[\\(x\\), \\(~\\)]\\)\""},
        "Subsuperscript"],
       StripOnInput->False,
       FontSize->Scaled[0.04000000000000001],
       FontWeight->"Light",
       FontSlant->Italic], {2, -2}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
       ImageScaled[{0.5, 0.5}]]]}, {
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{2.6, -2.4}, {3.4, -1.6}]}, InsetBox[
      StyleBox["\<\"H\"\>",
       StripOnInput->False,
       FontSize->Scaled[0.04000000000000001],
       FontWeight->"Light",
       FontSlant->Italic], {3, -2}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
       ImageScaled[{0.5, 0.5}]]]}, {LineBox[{{4, -2}, {4, -1}, {4, -3}}], 
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{3.6, -2.4}, {4.4, -0.6},
       RoundingRadius->0.4]}, InsetBox[
      StyleBox["\<\"\\!\\(\\*OverscriptBox[\\(x\\), \\(~\\)]\\)\"\>",
       StripOnInput->False,
       FontSize->Scaled[0.04000000000000001],
       FontWeight->"Light",
       FontSlant->Italic], NCache[{4, Rational[-3, 2]}, {4, -1.5}], NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
       ImageScaled[{0.5, 0.5}]]], 
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{3.6, -3.4}, {4.4, -2.6}]}, InsetBox[
      StyleBox[
       TemplateBox[{
        "\"Z\"", "3", "\"\\!\\(\\*OverscriptBox[\\(x\\), \\(~\\)]\\)\""},
        "Subsuperscript"],
       StripOnInput->False,
       FontSize->Scaled[0.04000000000000001],
       FontWeight->"Light",
       FontSlant->Italic], {4, -3}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
       ImageScaled[{0.5, 0.5}]]]}, {
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{4.6, -3.4}, {5.4, -2.6}]}, InsetBox[
      StyleBox["\<\"H\"\>",
       StripOnInput->False,
       FontSize->Scaled[0.04000000000000001],
       FontWeight->"Light",
       FontSlant->Italic], {5, -3}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
       ImageScaled[{0.5, 0.5}]]]}, {
     LineBox[{{6, -3}, {6, -2}, {6, -1}, {6, -4}}], 
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{5.6, -3.4}, {6.4, -0.6},
       RoundingRadius->0.4]}, InsetBox[
      StyleBox["\<\"\\!\\(\\*OverscriptBox[\\(x\\), \\(~\\)]\\)\"\>",
       StripOnInput->False,
       FontSize->Scaled[0.04000000000000001],
       FontWeight->"Light",
       FontSlant->Italic], {6, -2}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
       ImageScaled[{0.5, 0.5}]]], 
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{5.6, -4.4}, {6.4, -3.6}]}, InsetBox[
      StyleBox[
       TemplateBox[{
        "\"Z\"", "4", "\"\\!\\(\\*OverscriptBox[\\(x\\), \\(~\\)]\\)\""},
        "Subsuperscript"],
       StripOnInput->False,
       FontSize->Scaled[0.04000000000000001],
       FontWeight->"Light",
       FontSlant->Italic], {6, -4}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
       ImageScaled[{0.5, 0.5}]]]}, {
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{6.6, -4.4}, {7.4, -3.6}]}, InsetBox[
      StyleBox["\<\"H\"\>",
       StripOnInput->False,
       FontSize->Scaled[0.04000000000000001],
       FontWeight->"Light",
       FontSlant->Italic], {7, -4}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
       ImageScaled[{0.5, 0.5}]]]}, {LineBox[{{8, -1}, {8, -4}}], 
     LineBox[{{{7.82, -1.18}, {8.18, -0.8200000000000001}}, {{
      7.82, -0.8200000000000001}, {8.18, -1.18}}}], 
     LineBox[{{{7.82, -4.18}, {8.18, -3.82}}, {{7.82, -3.82}, {
      8.18, -4.18}}}]}, {LineBox[{{9, -2}, {9, -3}}], 
     LineBox[{{{8.82, -2.18}, {9.18, -1.82}}, {{8.82, -1.82}, {
      9.18, -2.18}}}], 
     LineBox[{{{8.82, -3.18}, {9.18, -2.82}}, {{8.82, -2.82}, {
      9.18, -3.18}}}]}},
   AxesStyle->Large,
   FrameStyle->Large,
   ImagePadding->{{23.400000000000002`, 23.400000000000002`}, {1, 1}},
   ImageSize->406.8,
   PlotRange->NCache[{Full, {
       Rational[-9, 2], 
       Rational[-1, 2]}}, {Full, {-4.5, -0.5}}],
   PlotRangePadding->Scaled[0.025]],
  Q3`QuantumCircuit[
   $CellContext`S[1, 6], 
   Q3`ControlledPower[{
     $CellContext`S[1, Q3`$]}, 
    $CellContext`S[2, 7], "Label" -> {"\!\(\*OverscriptBox[\(x\), \(~\)]\)", 
      Subscript["Z", 2]}], 
   $CellContext`S[2, 6], 
   Q3`ControlledPower[{
     $CellContext`S[2, Q3`$], 
     $CellContext`S[1, Q3`$]}, 
    $CellContext`S[3, 8], "Label" -> {"\!\(\*OverscriptBox[\(x\), \(~\)]\)", 
      Subscript["Z", 3]}], 
   $CellContext`S[3, 6], 
   Q3`ControlledPower[{
     $CellContext`S[3, Q3`$], 
     $CellContext`S[2, Q3`$], 
     $CellContext`S[1, Q3`$]}, 
    $CellContext`S[4, 9], "Label" -> {"\!\(\*OverscriptBox[\(x\), \(~\)]\)", 
      Subscript["Z", 4]}], 
   $CellContext`S[4, 6], 
   Q3`Swap[
    $CellContext`S[1, Q3`$], 
    $CellContext`S[4, Q3`$]], 
   Q3`Swap[
    $CellContext`S[2, Q3`$], 
    $CellContext`S[3, Q3`$]]]]], "Output",
 CellLabel->"Out[4]=",
 CellID->1827852526,ExpressionUUID->"edbde898-34df-4ce7-94a6-dc18136428fc"]
}, Open  ]],

Cell[TextData[{
 "Here, the tilde accent  in each controlled-power gate is to indicate that \
the qubits in the control register is arranged in the reversed order (for \
example, ",
 Cell[BoxData[
  RowBox[{
   ButtonBox["ControlledPower",
    BaseStyle->"Link",
    ButtonData->"paclet:Q3/ref/ControlledPower"], "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{
      SubscriptBox[
       StyleBox["S", "TI"], 
       StyleBox["3", "TR"]], ",", 
      SubscriptBox[
       StyleBox["S", "TI"], 
       StyleBox["2", "TR"]], ",", 
      SubscriptBox[
       StyleBox["S", "TI"], 
       StyleBox["1", "TR"]]}], "}"}], ",", 
    SubscriptBox[
     StyleBox["Z", "TI"], 
     StyleBox["4", "TR"]]}], "]"}]],ExpressionUUID->
  "f8019bde-4c0d-4b73-9c5c-e14f3b69d968"],
 "), and  ",
 Cell[BoxData[
  FormBox[
   SubscriptBox["Z", "k"], TraditionalForm]],ExpressionUUID->
  "a5de2b18-1bd4-4ee8-8cfa-1231658a6084"],
 " is a phase gate defined by"
}], "ExampleText",
 CellID->2102151572,ExpressionUUID->"d4c4d98e-d526-4d57-9b9b-df002b24e920"],

Cell[TextData[{
 "\t",
 Cell[BoxData[
  FormBox[
   RowBox[{
    SubscriptBox["Z", "k"], ":=", 
    RowBox[{"(", GridBox[{
       {"1", "0"},
       {"0", 
        SuperscriptBox["\[ExponentialE]", 
         RowBox[{"\[ImaginaryI]", "\[VeryThinSpace]", "2", 
          RowBox[{"\[Pi]", "/", 
           SuperscriptBox["2", "k"]}]}]]}
      }], ")"}]}], TraditionalForm]],ExpressionUUID->
  "e056111c-6aa8-4061-a2aa-f8482314563e"],
 " ."
}], "ExampleText",
 CellID->460510160,ExpressionUUID->"ba0844ad-adb6-43ba-9c8a-a1cb607e9e49"],

Cell[TextData[{
 "Note that ",
 Cell[BoxData[
  FormBox[
   RowBox[{
    SubscriptBox["Z", "0"], "=", "I"}], TraditionalForm]],ExpressionUUID->
  "ac570c67-f4ad-4858-9c4c-7055cfadcef1"],
 ", ",
 Cell[BoxData[
  FormBox[
   RowBox[{
    SubscriptBox["Z", "1"], "=", "Z"}], TraditionalForm]],ExpressionUUID->
  "f061dac5-9c7d-4323-b8f5-2c2fcf314064"],
 ", ",
 Cell[BoxData[
  FormBox[
   RowBox[{
    SubscriptBox["Z", "2"], "=", "S"}], TraditionalForm]],ExpressionUUID->
  "373c278d-de8b-41f6-b513-b58deed2aa0a"],
 ", ",
 Cell[BoxData[
  FormBox[
   RowBox[{
    SubscriptBox["Z", "3"], "=", "T"}], TraditionalForm]],ExpressionUUID->
  "d5e0fbea-5ebc-4186-9de4-32133fd99328"],
 ", and ",
 Cell[BoxData[
  FormBox[
   RowBox[{
    SubscriptBox["Z", "4"], "=", "F"}], TraditionalForm]],ExpressionUUID->
  "b394d354-e138-4100-9a05-f888b9880c82"],
 "."
}], "ExampleText",
 CellID->1448207431,ExpressionUUID->"26251890-65e0-4ead-b066-3ddc991ab980"],

Cell["\<\
Now, further expand the controlled-power gates in terms of controlled gates.\
\>", "ExampleText",
 CellID->1142443156,ExpressionUUID->"3934d353-cce4-4100-8bbc-9b98042d78f5"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"mint", "=", 
  RowBox[{"Expand", "[", "new", "]"}]}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[5]:=",
 CellID->390835065,ExpressionUUID->"c5ad79cd-55e7-401e-a2b3-5c593678a94c"],

Cell[BoxData[
 InterpretationBox[
  GraphicsBox[{
    {Dashing[{Small, Small}], LineBox[{}]}, 
    LineBox[{{{0, -1}, {17, -1}}, {{0, -2}, {17, -2}}, {{0, -3}, {17, -3}}, {{
     0, -4}, {17, -4}}}], {
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{0.6, -1.4}, {1.4, -0.6}]}, InsetBox[
      StyleBox["\<\"H\"\>",
       StripOnInput->False,
       FontSize->Scaled[0.023529411764705882`],
       FontWeight->"Light",
       FontSlant->Italic], {1, -1}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
       ImageScaled[{0.5, 0.5}]]]}, {LineBox[{{2, -1}, {2, -2}}], 
     DiskBox[{2, -1}, 0.09], 
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{1.6, -2.4}, {2.4, -1.6}]}, InsetBox[
      StyleBox[
       TemplateBox[{"\"Z\"", "2", 
         TemplateBox[{"2", "0"}, "Superscript", SyntaxForm -> SuperscriptBox]},
        "Subsuperscript"],
       StripOnInput->False,
       FontSize->Scaled[0.015294117647058824`],
       FontWeight->"Light",
       FontSlant->Italic], {2, -2}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
       ImageScaled[{0.5, 0.5}]]]}, {
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{2.6, -2.4}, {3.4, -1.6}]}, InsetBox[
      StyleBox["\<\"H\"\>",
       StripOnInput->False,
       FontSize->Scaled[0.023529411764705882`],
       FontWeight->"Light",
       FontSlant->Italic], {3, -2}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
       ImageScaled[{0.5, 0.5}]]]}, {LineBox[{{4, -2}, {4, -3}}], 
     DiskBox[{4, -2}, 0.09], 
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{3.6, -3.4}, {4.4, -2.6}]}, InsetBox[
      StyleBox[
       TemplateBox[{"\"Z\"", "3", 
         TemplateBox[{"2", "1"}, "Superscript", SyntaxForm -> SuperscriptBox]},
        "Subsuperscript"],
       StripOnInput->False,
       FontSize->Scaled[0.015294117647058824`],
       FontWeight->"Light",
       FontSlant->Italic], {4, -3}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
       ImageScaled[{0.5, 0.5}]]]}, {LineBox[{{5, -1}, {5, -3}}], 
     DiskBox[{5, -1}, 0.09], 
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{4.6, -3.4}, {5.4, -2.6}]}, InsetBox[
      StyleBox[
       TemplateBox[{"\"Z\"", "3", 
         TemplateBox[{"2", "0"}, "Superscript", SyntaxForm -> SuperscriptBox]},
        "Subsuperscript"],
       StripOnInput->False,
       FontSize->Scaled[0.015294117647058824`],
       FontWeight->"Light",
       FontSlant->Italic], {5, -3}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
       ImageScaled[{0.5, 0.5}]]]}, {
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{5.6, -3.4}, {6.4, -2.6}]}, InsetBox[
      StyleBox["\<\"H\"\>",
       StripOnInput->False,
       FontSize->Scaled[0.023529411764705882`],
       FontWeight->"Light",
       FontSlant->Italic], {6, -3}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
       ImageScaled[{0.5, 0.5}]]]}, {LineBox[{{7, -3}, {7, -4}}], 
     DiskBox[{7, -3}, 0.09], 
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{6.6, -4.4}, {7.4, -3.6}]}, InsetBox[
      StyleBox[
       TemplateBox[{"\"Z\"", "4", 
         TemplateBox[{"2", "2"}, "Superscript", SyntaxForm -> SuperscriptBox]},
        "Subsuperscript"],
       StripOnInput->False,
       FontSize->Scaled[0.015294117647058824`],
       FontWeight->"Light",
       FontSlant->Italic], {7, -4}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
       ImageScaled[{0.5, 0.5}]]]}, {LineBox[{{8, -2}, {8, -4}}], 
     DiskBox[{8, -2}, 0.09], 
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{7.6, -4.4}, {8.4, -3.6}]}, InsetBox[
      StyleBox[
       TemplateBox[{"\"Z\"", "4", 
         TemplateBox[{"2", "1"}, "Superscript", SyntaxForm -> SuperscriptBox]},
        "Subsuperscript"],
       StripOnInput->False,
       FontSize->Scaled[0.015294117647058824`],
       FontWeight->"Light",
       FontSlant->Italic], {8, -4}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
       ImageScaled[{0.5, 0.5}]]]}, {LineBox[{{9, -1}, {9, -4}}], 
     DiskBox[{9, -1}, 0.09], 
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{8.6, -4.4}, {9.4, -3.6}]}, InsetBox[
      StyleBox[
       TemplateBox[{"\"Z\"", "4", 
         TemplateBox[{"2", "0"}, "Superscript", SyntaxForm -> SuperscriptBox]},
        "Subsuperscript"],
       StripOnInput->False,
       FontSize->Scaled[0.015294117647058824`],
       FontWeight->"Light",
       FontSlant->Italic], {9, -4}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
       ImageScaled[{0.5, 0.5}]]]}, {
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{9.6, -4.4}, {10.4, -3.6}]}, InsetBox[
      StyleBox["\<\"H\"\>",
       StripOnInput->False,
       FontSize->Scaled[0.023529411764705882`],
       FontWeight->"Light",
       FontSlant->Italic], {10, -4}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
       ImageScaled[{0.5, 0.5}]]]}, {LineBox[{{11, -1}, {11, -4}}], 
     DiskBox[{11, -1}, 0.09], {CircleBox[{11, -4}, 0.26666666666666666], 
      LineBox[{{{10.733333333333333`, -4}, {11.266666666666667`, -4}}, {{
         11, -4.266666666666667}, {11, -3.7333333333333334`}}}]}}, {
     LineBox[{{12, -4}, {12, -1}}], 
     DiskBox[{12, -4}, 0.09], {CircleBox[{12, -1}, 0.26666666666666666], 
      LineBox[{{{11.733333333333333`, -1}, {12.266666666666667`, -1}}, {{
         12, -1.2666666666666666`}, {12, -0.7333333333333334}}}]}}, {
     LineBox[{{13, -1}, {13, -4}}], 
     DiskBox[{13, -1}, 0.09], {CircleBox[{13, -4}, 0.26666666666666666], 
      LineBox[{{{12.733333333333333`, -4}, {13.266666666666667`, -4}}, {{
         13, -4.266666666666667}, {13, -3.7333333333333334`}}}]}}, {
     LineBox[{{14, -2}, {14, -3}}], 
     DiskBox[{14, -2}, 0.09], {CircleBox[{14, -3}, 0.26666666666666666], 
      LineBox[{{{13.733333333333333`, -3}, {14.266666666666667`, -3}}, {{
         14, -3.2666666666666666`}, {14, -2.7333333333333334`}}}]}}, {
     LineBox[{{15, -3}, {15, -2}}], 
     DiskBox[{15, -3}, 0.09], {CircleBox[{15, -2}, 0.26666666666666666], 
      LineBox[{{{14.733333333333333`, -2}, {15.266666666666667`, -2}}, {{
         15, -2.2666666666666666`}, {15, -1.7333333333333334`}}}]}}, {
     LineBox[{{16, -2}, {16, -3}}], 
     DiskBox[{16, -2}, 0.09], {CircleBox[{16, -3}, 0.26666666666666666], 
      LineBox[{{{15.733333333333333`, -3}, {16.266666666666666`, -3}}, {{
         16, -3.2666666666666666`}, {16, -2.7333333333333334`}}}]}}},
   AxesStyle->Large,
   FrameStyle->Large,
   ImagePadding->{{23.400000000000002`, 23.400000000000002`}, {1, 1}},
   ImageSize->658.8000000000001,
   PlotRange->NCache[{Full, {
       Rational[-9, 2], 
       Rational[-1, 2]}}, {Full, {-4.5, -0.5}}],
   PlotRangePadding->Scaled[0.025]],
  Q3`QuantumCircuit[
   $CellContext`S[1, 6], 
   Q3`ControlledGate[{$CellContext`S[1, Q3`$] -> 1}, 
    Q3`ActOn[
     $CellContext`S[2, 7], {
      $CellContext`S[2, Q3`$]}], "Label" -> Subsuperscript["Z", 2, 
      Superscript[2, 0]], "LabelSize" -> 0.65, 
    "Label" -> {"\!\(\*OverscriptBox[\(x\), \(~\)]\)", 
      Subscript["Z", 2]}], 
   $CellContext`S[2, 6], 
   Q3`ControlledGate[{$CellContext`S[2, Q3`$] -> 1}, 
    Q3`ActOn[
     $CellContext`S[3, 7], {
      $CellContext`S[3, Q3`$]}], "Label" -> Subsuperscript["Z", 3, 
      Superscript[2, 1]], "LabelSize" -> 0.65, 
    "Label" -> {"\!\(\*OverscriptBox[\(x\), \(~\)]\)", 
      Subscript["Z", 3]}], 
   Q3`ControlledGate[{$CellContext`S[1, Q3`$] -> 1}, 
    Q3`ActOn[
     $CellContext`S[3, 8], {
      $CellContext`S[3, Q3`$]}], "Label" -> Subsuperscript["Z", 3, 
      Superscript[2, 0]], "LabelSize" -> 0.65, 
    "Label" -> {"\!\(\*OverscriptBox[\(x\), \(~\)]\)", 
      Subscript["Z", 3]}], 
   $CellContext`S[3, 6], 
   Q3`ControlledGate[{$CellContext`S[3, Q3`$] -> 1}, 
    Q3`ActOn[Complex[
        Rational[1, 8], 
        Rational[1, 8]] (3 + 2^Rational[1, 2]) + (Complex[
         Rational[3, 8], 
         Rational[-3, 8]] + Rational[1, 4] (-1)^Rational[1, 8] + 
       Rational[-1, 4] (-1)^Rational[3, 8]) $CellContext`S[4, 3] + 
     Rational[1, 4] (-1 + (-1)^Rational[1, 8])^2 (
       1 + (-1)^Rational[1, 8]) $CellContext`S[4, 9], {
      $CellContext`S[4, Q3`$]}], "Label" -> Subsuperscript["Z", 4, 
      Superscript[2, 2]], "LabelSize" -> 0.65, 
    "Label" -> {"\!\(\*OverscriptBox[\(x\), \(~\)]\)", 
      Subscript["Z", 4]}], 
   Q3`ControlledGate[{$CellContext`S[2, Q3`$] -> 1}, 
    Q3`ActOn[
    Rational[1, 2] (1 + (-1)^Rational[1, 4]) + 
     Rational[1, 2] (1 - (-1)^Rational[1, 4]) $CellContext`S[4, 3], {
      $CellContext`S[4, Q3`$]}], "Label" -> Subsuperscript["Z", 4, 
      Superscript[2, 1]], "LabelSize" -> 0.65, 
    "Label" -> {"\!\(\*OverscriptBox[\(x\), \(~\)]\)", 
      Subscript["Z", 4]}], 
   Q3`ControlledGate[{$CellContext`S[1, Q3`$] -> 1}, 
    Q3`ActOn[
     $CellContext`S[4, 9], {
      $CellContext`S[4, Q3`$]}], "Label" -> Subsuperscript["Z", 4, 
      Superscript[2, 0]], "LabelSize" -> 0.65, 
    "Label" -> {"\!\(\*OverscriptBox[\(x\), \(~\)]\)", 
      Subscript["Z", 4]}], 
   $CellContext`S[4, 6], 
   Q3`CNOT[{$CellContext`S[1, Q3`$] -> 1}, {
     $CellContext`S[4, Q3`$]}], 
   Q3`CNOT[{$CellContext`S[4, Q3`$] -> 1}, {
     $CellContext`S[1, Q3`$]}], 
   Q3`CNOT[{$CellContext`S[1, Q3`$] -> 1}, {
     $CellContext`S[4, Q3`$]}], 
   Q3`CNOT[{$CellContext`S[2, Q3`$] -> 1}, {
     $CellContext`S[3, Q3`$]}], 
   Q3`CNOT[{$CellContext`S[3, Q3`$] -> 1}, {
     $CellContext`S[2, Q3`$]}], 
   Q3`CNOT[{$CellContext`S[2, Q3`$] -> 1}, {
     $CellContext`S[3, Q3`$]}]]]], "Output",
 CellLabel->"Out[5]=",
 CellID->501782224,ExpressionUUID->"1fa225ee-0909-4d6a-ab3d-8ce1b765d23a"]
}, Open  ]],

Cell[TextData[{
 "One can also directly expand the ",
 StyleBox["QFT", "Input"],
 " operator in terms of controlled gates."
}], "ExampleText",
 CellID->263195332,ExpressionUUID->"e8078a21-8c71-4791-9553-c6e8dd86214c"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"more", "=", 
  RowBox[{"ExpandAll", "[", "op", "]"}]}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[6]:=",
 CellID->1855115751,ExpressionUUID->"7d7e2be4-03e5-4898-bb91-df749f14997a"],

Cell[BoxData[
 InterpretationBox[
  GraphicsBox[{
    {Dashing[{Small, Small}], LineBox[{}]}, 
    LineBox[{{{0, -1}, {13, -1}}, {{0, -2}, {13, -2}}, {{0, -3}, {13, -3}}, {{
     0, -4}, {13, -4}}}], {
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{0.6, -1.4}, {1.4, -0.6}]}, InsetBox[
      StyleBox["\<\"H\"\>",
       StripOnInput->False,
       FontSize->Scaled[0.03076923076923077],
       FontWeight->"Light",
       FontSlant->Italic], {1, -1}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
       ImageScaled[{0.5, 0.5}]]]}, {LineBox[{{2, -1}, {2, -2}}], 
     DiskBox[{2, -1}, 0.09], 
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{1.6, -2.4}, {2.4, -1.6}]}, InsetBox[
      StyleBox[
       SubscriptBox["\<\"Z\"\>", "2"],
       StripOnInput->False,
       FontSize->Scaled[0.03076923076923077],
       FontWeight->"Light",
       FontSlant->Italic], {2, -2}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
       ImageScaled[{0.5, 0.5}]]]}, {
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{2.6, -2.4}, {3.4, -1.6}]}, InsetBox[
      StyleBox["\<\"H\"\>",
       StripOnInput->False,
       FontSize->Scaled[0.03076923076923077],
       FontWeight->"Light",
       FontSlant->Italic], {3, -2}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
       ImageScaled[{0.5, 0.5}]]]}, {LineBox[{{4, -1}, {4, -3}}], 
     DiskBox[{4, -1}, 0.09], 
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{3.6, -3.4}, {4.4, -2.6}]}, InsetBox[
      StyleBox[
       SubscriptBox["\<\"Z\"\>", "3"],
       StripOnInput->False,
       FontSize->Scaled[0.03076923076923077],
       FontWeight->"Light",
       FontSlant->Italic], {4, -3}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
       ImageScaled[{0.5, 0.5}]]]}, {LineBox[{{5, -2}, {5, -3}}], 
     DiskBox[{5, -2}, 0.09], 
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{4.6, -3.4}, {5.4, -2.6}]}, InsetBox[
      StyleBox[
       SubscriptBox["\<\"Z\"\>", "2"],
       StripOnInput->False,
       FontSize->Scaled[0.03076923076923077],
       FontWeight->"Light",
       FontSlant->Italic], {5, -3}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
       ImageScaled[{0.5, 0.5}]]]}, {
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{5.6, -3.4}, {6.4, -2.6}]}, InsetBox[
      StyleBox["\<\"H\"\>",
       StripOnInput->False,
       FontSize->Scaled[0.03076923076923077],
       FontWeight->"Light",
       FontSlant->Italic], {6, -3}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
       ImageScaled[{0.5, 0.5}]]]}, {LineBox[{{7, -1}, {7, -4}}], 
     DiskBox[{7, -1}, 0.09], 
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{6.6, -4.4}, {7.4, -3.6}]}, InsetBox[
      StyleBox[
       SubscriptBox["\<\"Z\"\>", "4"],
       StripOnInput->False,
       FontSize->Scaled[0.03076923076923077],
       FontWeight->"Light",
       FontSlant->Italic], {7, -4}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
       ImageScaled[{0.5, 0.5}]]]}, {LineBox[{{8, -2}, {8, -4}}], 
     DiskBox[{8, -2}, 0.09], 
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{7.6, -4.4}, {8.4, -3.6}]}, InsetBox[
      StyleBox[
       SubscriptBox["\<\"Z\"\>", "3"],
       StripOnInput->False,
       FontSize->Scaled[0.03076923076923077],
       FontWeight->"Light",
       FontSlant->Italic], {8, -4}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
       ImageScaled[{0.5, 0.5}]]]}, {LineBox[{{9, -3}, {9, -4}}], 
     DiskBox[{9, -3}, 0.09], 
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{8.6, -4.4}, {9.4, -3.6}]}, InsetBox[
      StyleBox[
       SubscriptBox["\<\"Z\"\>", "2"],
       StripOnInput->False,
       FontSize->Scaled[0.03076923076923077],
       FontWeight->"Light",
       FontSlant->Italic], {9, -4}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
       ImageScaled[{0.5, 0.5}]]]}, {
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{9.6, -4.4}, {10.4, -3.6}]}, InsetBox[
      StyleBox["\<\"H\"\>",
       StripOnInput->False,
       FontSize->Scaled[0.03076923076923077],
       FontWeight->"Light",
       FontSlant->Italic], {10, -4}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
       ImageScaled[{0.5, 0.5}]]]}, {LineBox[{{11, -1}, {11, -4}}], 
     LineBox[{{{10.82, -1.18}, {11.18, -0.8200000000000001}}, {{
      10.82, -0.8200000000000001}, {11.18, -1.18}}}], 
     LineBox[{{{10.82, -4.18}, {11.18, -3.82}}, {{10.82, -3.82}, {
      11.18, -4.18}}}]}, {LineBox[{{12, -2}, {12, -3}}], 
     LineBox[{{{11.82, -2.18}, {12.18, -1.82}}, {{11.82, -1.82}, {
      12.18, -2.18}}}], 
     LineBox[{{{11.82, -3.18}, {12.18, -2.82}}, {{11.82, -2.82}, {
      12.18, -3.18}}}]}},
   AxesStyle->Large,
   FrameStyle->Large,
   ImagePadding->{{23.400000000000002`, 23.400000000000002`}, {1, 1}},
   ImageSize->514.8000000000001,
   PlotRange->NCache[{Full, {
       Rational[-9, 2], 
       Rational[-1, 2]}}, {Full, {-4.5, -0.5}}],
   PlotRangePadding->Scaled[0.025]],
  Q3`QuantumCircuit[
   $CellContext`S[1, 6], 
   Q3`ControlledGate[{$CellContext`S[1, Q3`$] -> 1}, 
    $CellContext`S[2, 7], "Label" -> Subscript["Z", 2]], 
   $CellContext`S[2, 6], 
   Q3`ControlledGate[{$CellContext`S[1, Q3`$] -> 1}, 
    $CellContext`S[3, 8], "Label" -> Subscript["Z", 3]], 
   Q3`ControlledGate[{$CellContext`S[2, Q3`$] -> 1}, 
    $CellContext`S[3, 7], "Label" -> Subscript["Z", 2]], 
   $CellContext`S[3, 6], 
   Q3`ControlledGate[{$CellContext`S[1, Q3`$] -> 1}, 
    $CellContext`S[4, 9], "Label" -> Subscript["Z", 4]], 
   Q3`ControlledGate[{$CellContext`S[2, Q3`$] -> 1}, 
    $CellContext`S[4, 8], "Label" -> Subscript["Z", 3]], 
   Q3`ControlledGate[{$CellContext`S[3, Q3`$] -> 1}, 
    $CellContext`S[4, 7], "Label" -> Subscript["Z", 2]], 
   $CellContext`S[4, 6], 
   Q3`Swap[
    $CellContext`S[1, Q3`$], 
    $CellContext`S[4, Q3`$]], 
   Q3`Swap[
    $CellContext`S[2, Q3`$], 
    $CellContext`S[3, Q3`$]]]]], "Output",
 CellLabel->"Out[6]=",
 CellID->592494685,ExpressionUUID->"7492cded-b04f-4f4d-b77e-2580e55f98a2"]
}, Open  ]],

Cell["Check that they are all equivalent.", "ExampleText",
 CellID->823311427,ExpressionUUID->"25895b09-8f15-4283-aad5-73c48a648faf"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{
     RowBox[{"Matrix", "[", "op", "]"}], "-", 
     RowBox[{"Matrix", "[", "new", "]"}]}], "//", "N"}], "//", "Chop"}], "//",
   "MatrixForm"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{
     RowBox[{"Matrix", "[", "op", "]"}], "-", 
     RowBox[{"Matrix", "[", "more", "]"}]}], "//", "N"}], "//", "Chop"}], "//",
   "MatrixForm"}]}], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[7]:=",
 CellID->1158015968,ExpressionUUID->"1fc27ea6-98b7-4789-93ea-913316245c64"],

Cell[BoxData[
 TagBox[
  RowBox[{"(", "\[NoBreak]", GridBox[{
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"}
    },
    GridBoxAlignment->{"Columns" -> {{Center}}, "Rows" -> {{Baseline}}},
    GridBoxSpacings->{"Columns" -> {
        Offset[0.27999999999999997`], {
         Offset[0.7]}, 
        Offset[0.27999999999999997`]}, "Rows" -> {
        Offset[0.2], {
         Offset[0.4]}, 
        Offset[0.2]}}], "\[NoBreak]", ")"}],
  Function[BoxForm`e$, 
   MatrixForm[
   SparseArray[
    Automatic, {16, 16}, 0, {
     1, {{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
       0}, {}}, {}}]]]]], "Output",
 CellLabel->"Out[7]//MatrixForm=",
 CellID->1546735301,ExpressionUUID->"a7f77a06-2be4-4f0c-bd75-4a1ae3fad992"],

Cell[BoxData[
 TagBox[
  RowBox[{"(", "\[NoBreak]", GridBox[{
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"}
    },
    GridBoxAlignment->{"Columns" -> {{Center}}, "Rows" -> {{Baseline}}},
    GridBoxSpacings->{"Columns" -> {
        Offset[0.27999999999999997`], {
         Offset[0.7]}, 
        Offset[0.27999999999999997`]}, "Rows" -> {
        Offset[0.2], {
         Offset[0.4]}, 
        Offset[0.2]}}], "\[NoBreak]", ")"}],
  Function[BoxForm`e$, 
   MatrixForm[
   SparseArray[
    Automatic, {16, 16}, 0, {
     1, {{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
       0}, {}}, {}}]]]]], "Output",
 CellLabel->"Out[7]//MatrixForm=",
 CellID->690656972,ExpressionUUID->"db7d9491-9abd-48b1-8881-9b9ddd8afdf7"]
}, Open  ]]
}, Open  ]]
}, Dynamic[CurrentValue[
 EvaluationNotebook[], {TaggingRules, "Openers", "ExampleSection", "0"}, 
  Closed]]]],

Cell[CellGroupData[{

Cell[TextData[{
 Cell[BoxData[
  DynamicBox[ToBoxes[
    If[
     MatchQ[
      CurrentValue[
       EvaluationNotebook[], {TaggingRules, "Openers", "ExampleSection", "1"},
        Closed], 
      Alternatives[Open, True]], 
     Style[
      Graphics[{
        Thickness[0.18], 
        RGBColor[0.8509803921568627, 0.396078431372549, 0], 
        Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
       PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
      0.68 Inherited], 
     Rotate[
      Style[
       Graphics[{
         Thickness[0.18], 
         RGBColor[0.8509803921568627, 0.396078431372549, 0], 
         Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
        PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
       0.68 Inherited], Rational[1, 2] Pi, {-1.65, -1}]]],
   ImageSizeCache->{14., {0.45000000000000107`, 13.549999999999999`}}]],
  ExpressionUUID->"775b9f05-5fbc-473e-96b1-36b21c4fc359"],
 Cell[BoxData[
  TemplateBox[{1},
   "Spacer1"]],ExpressionUUID->"745a2414-6a09-447b-863c-58dc9dd7541b"],
 "Scope",
 "\[NonBreakingSpace]\[NonBreakingSpace]",
 Cell["(2)", "ExampleCount",ExpressionUUID->
  "f155f76a-dd55-491c-8272-8c4dfc3c3aca"]
}], "ExampleSection", "ExampleSection",
 WholeCellGroupOpener->True,
 CacheGraphics->False,
 CellID->1293636265,ExpressionUUID->"e59bd87c-88ad-4f31-af08-782bc1e11aee"],

Cell[CellGroupData[{

Cell[TextData[{
 Cell[BoxData[
  DynamicBox[ToBoxes[
    If[
     MatchQ[
      CurrentValue[
       EvaluationNotebook[], {
       TaggingRules, "Openers", "ExampleSubsection", "0"}, Closed], 
      Alternatives[Open, True]], 
     Style[
      Graphics[{
        Thickness[0.18], 
        RGBColor[0.8509803921568627, 0.396078431372549, 0], 
        Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
       PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
      0.68 Inherited], 
     Rotate[
      Style[
       Graphics[{
         Thickness[0.18], 
         RGBColor[0.8509803921568627, 0.396078431372549, 0], 
         Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
        PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
       0.68 Inherited], Rational[1, 2] Pi, {-1.65, -1}]]],
   ImageSizeCache->{14., {0.45000000000000107`, 13.549999999999999`}}]],
  ExpressionUUID->"c49fd9b7-71a7-4c59-8a3e-95e16013b867"],
 Cell[BoxData[
  TemplateBox[{1},
   "Spacer1"]],ExpressionUUID->"69b7946e-3edf-463c-b8f9-6eb1e2a09ac1"],
 "ExpandAll",
 "\[NonBreakingSpace]\[NonBreakingSpace]",
 Cell["(2)", "ExampleCount",ExpressionUUID->
  "d425c3b4-6882-4170-9771-d2ed026b2196"]
}], "ExampleSubsection", "ExampleSubsection",
 WholeCellGroupOpener->True,
 CacheGraphics->False,
 CellID->413764730,ExpressionUUID->"79efc4e8-b8c0-485f-8723-42d4a731c2f0"],

Cell[BoxData[
 RowBox[{"Let", "[", 
  RowBox[{"Qubit", ",", "S"}], "]"}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[1]:=",
 CellID->1686585030,ExpressionUUID->"92e05823-88a1-42d6-9674-5680fb3fefd1"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"$n", "=", "3"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"SS", "=", 
   RowBox[{"S", "[", 
    RowBox[{
     RowBox[{"Range", "@", "$n"}], ",", "$"}], "]"}]}], ";"}]}], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[2]:=",
 CellID->1797942457,ExpressionUUID->"2ca61d5f-d447-4374-88a5-8d515830f648"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"op", "=", 
  RowBox[{"QFT", "[", "SS", "]"}]}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[3]:=",
 CellID->32807560,ExpressionUUID->"23e2eaa0-1892-423a-99cd-86bbb4af1dd4"],

Cell[BoxData[
 RowBox[{"QFT", "[", 
  RowBox[{"{", 
   RowBox[{
    InterpretationBox[
     SubscriptBox["S", 
      TemplateBox[{",", "\",\"", "1"},
       "RowWithSeparators"]],
     $CellContext`S[1, Q3`$]], ",", 
    InterpretationBox[
     SubscriptBox["S", 
      TemplateBox[{",", "\",\"", "2"},
       "RowWithSeparators"]],
     $CellContext`S[2, Q3`$]], ",", 
    InterpretationBox[
     SubscriptBox["S", 
      TemplateBox[{",", "\",\"", "3"},
       "RowWithSeparators"]],
     $CellContext`S[3, Q3`$]]}], "}"}], "]"}]], "Output",
 CellLabel->"Out[3]=",
 CellID->1277442879,ExpressionUUID->"9893638d-dd8b-475c-b09f-04908f199339"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"qc", "=", 
  RowBox[{"QuantumCircuit", "[", "op", "]"}]}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[4]:=",
 CellID->776477862,ExpressionUUID->"a287fe9c-30f3-4333-ac63-76ff5c7307a6"],

Cell[BoxData[
 InterpretationBox[
  GraphicsBox[{
    {Dashing[{Small, Small}], LineBox[{}]}, 
    LineBox[{{{0, -1}, {2, -1}}, {{0, -2}, {2, -2}}, {{0, -3}, {2, -3}}}], {
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{0.6, -3.4}, {1.4, -0.6}]}, InsetBox[
      StyleBox[
       RotationBox["\<\"QFT\"\>",
        BoxRotation->1.5707963267948966`],
       StripOnInput->False,
       FontSize->Scaled[0.2],
       FontWeight->"Light",
       FontSlant->Italic], {1, -2}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
       ImageScaled[{0.5, 0.5}]]]}},
   AxesStyle->Large,
   FrameStyle->Large,
   ImagePadding->{{23.400000000000002`, 23.400000000000002`}, {1, 1}},
   ImageSize->118.8,
   PlotRange->NCache[{Full, {
       Rational[-7, 2], 
       Rational[-1, 2]}}, {Full, {-3.5, -0.5}}],
   PlotRangePadding->Scaled[0.025]],
  Q3`QuantumCircuit[
   Q3`QFT[{
     $CellContext`S[1, Q3`$], 
     $CellContext`S[2, Q3`$], 
     $CellContext`S[3, Q3`$]}]]]], "Output",
 CellLabel->"Out[4]=",
 CellID->1281356159,ExpressionUUID->"93a14edc-49ad-443b-852d-5f83b586b824"]
}, Open  ]],

Cell[TextData[{
 "Decompose the QFT into a sequence of elementary gates. Here, ",
 Cell[BoxData[
  FormBox[
   SubscriptBox["T", "k"], TraditionalForm]],ExpressionUUID->
  "b7a4896c-e39a-4e00-900c-8e1e4a26ab57"],
 " denotes the phase gate ",
 Cell[BoxData[
  FormBox[
   RowBox[{
    SubscriptBox["T", "k"], "\[DotEqual]", 
    RowBox[{"(", GridBox[{
       {"1", "0"},
       {"0", 
        FractionBox["\[Pi]", 
         SuperscriptBox["2", "k"]]}
      }], ")"}]}], TraditionalForm]],ExpressionUUID->
  "c0ed9462-1224-4bce-8500-6b236c037aa9"],
 "."
}], "ExampleText",
 CellID->1382320030,ExpressionUUID->"3f840bf9-5620-4626-9a23-3832393900af"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"new", "=", 
  RowBox[{"ExpandAll", "@", "op"}]}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[5]:=",
 CellID->1879716809,ExpressionUUID->"d5145597-9d84-4b68-b328-1d228976e2e5"],

Cell[BoxData[
 InterpretationBox[
  GraphicsBox[{
    {Dashing[{Small, Small}], LineBox[{}]}, 
    LineBox[{{{0, -1}, {8, -1}}, {{0, -2}, {8, -2}}, {{0, -3}, {8, -3}}}], {
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{0.6, -1.4}, {1.4, -0.6}]}, InsetBox[
      StyleBox["\<\"H\"\>",
       StripOnInput->False,
       FontSize->Scaled[0.05],
       FontWeight->"Light",
       FontSlant->Italic], {1, -1}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
       ImageScaled[{0.5, 0.5}]]]}, {LineBox[{{2, -1}, {2, -2}}], 
     DiskBox[{2, -1}, 0.09], 
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{1.6, -2.4}, {2.4, -1.6}]}, InsetBox[
      StyleBox[
       SubscriptBox["\<\"Z\"\>", "2"],
       StripOnInput->False,
       FontSize->Scaled[0.05],
       FontWeight->"Light",
       FontSlant->Italic], {2, -2}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
       ImageScaled[{0.5, 0.5}]]]}, {
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{2.6, -2.4}, {3.4, -1.6}]}, InsetBox[
      StyleBox["\<\"H\"\>",
       StripOnInput->False,
       FontSize->Scaled[0.05],
       FontWeight->"Light",
       FontSlant->Italic], {3, -2}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
       ImageScaled[{0.5, 0.5}]]]}, {LineBox[{{4, -1}, {4, -3}}], 
     DiskBox[{4, -1}, 0.09], 
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{3.6, -3.4}, {4.4, -2.6}]}, InsetBox[
      StyleBox[
       SubscriptBox["\<\"Z\"\>", "3"],
       StripOnInput->False,
       FontSize->Scaled[0.05],
       FontWeight->"Light",
       FontSlant->Italic], {4, -3}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
       ImageScaled[{0.5, 0.5}]]]}, {LineBox[{{5, -2}, {5, -3}}], 
     DiskBox[{5, -2}, 0.09], 
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{4.6, -3.4}, {5.4, -2.6}]}, InsetBox[
      StyleBox[
       SubscriptBox["\<\"Z\"\>", "2"],
       StripOnInput->False,
       FontSize->Scaled[0.05],
       FontWeight->"Light",
       FontSlant->Italic], {5, -3}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
       ImageScaled[{0.5, 0.5}]]]}, {
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{5.6, -3.4}, {6.4, -2.6}]}, InsetBox[
      StyleBox["\<\"H\"\>",
       StripOnInput->False,
       FontSize->Scaled[0.05],
       FontWeight->"Light",
       FontSlant->Italic], {6, -3}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
       ImageScaled[{0.5, 0.5}]]]}, {LineBox[{{7, -1}, {7, -3}}], 
     LineBox[{{{6.82, -1.18}, {7.18, -0.8200000000000001}}, {{
      6.82, -0.8200000000000001}, {7.18, -1.18}}}], 
     LineBox[{{{6.82, -3.18}, {7.18, -2.82}}, {{6.82, -2.82}, {
      7.18, -3.18}}}]}},
   AxesStyle->Large,
   FrameStyle->Large,
   ImagePadding->{{23.400000000000002`, 23.400000000000002`}, {1, 1}},
   ImageSize->334.8,
   PlotRange->NCache[{Full, {
       Rational[-7, 2], 
       Rational[-1, 2]}}, {Full, {-3.5, -0.5}}],
   PlotRangePadding->Scaled[0.025]],
  Q3`QuantumCircuit[
   $CellContext`S[1, 6], 
   Q3`ControlledGate[{$CellContext`S[1, Q3`$] -> 1}, 
    $CellContext`S[2, 7], "Label" -> Subscript["Z", 2]], 
   $CellContext`S[2, 6], 
   Q3`ControlledGate[{$CellContext`S[1, Q3`$] -> 1}, 
    $CellContext`S[3, 8], "Label" -> Subscript["Z", 3]], 
   Q3`ControlledGate[{$CellContext`S[2, Q3`$] -> 1}, 
    $CellContext`S[3, 7], "Label" -> Subscript["Z", 2]], 
   $CellContext`S[3, 6], 
   Q3`Swap[
    $CellContext`S[1, Q3`$], 
    $CellContext`S[3, Q3`$]]]]], "Output",
 CellLabel->"Out[5]=",
 CellID->870389206,ExpressionUUID->"7c60b9fc-56ca-438f-a08d-15072e20679e"]
}, Open  ]],

Cell[TextData[{
 "Of course, you can expand it inside ",
 Cell[BoxData[
  TemplateBox[{
    Cell[
     TextData["QuantumCircuit"]], "paclet:Q3/ref/QuantumCircuit", 
    "Q3 Package Symbol"},
   "PackageLink",
   BaseStyle->"InlineFormula"]], "InlineFormula",
  FontFamily->"Source Sans Pro",ExpressionUUID->
  "43f540d2-6e4d-40c1-b176-e8b9fa2ce355"],
 " as well."
}], "ExampleText",
 CellID->1927916963,ExpressionUUID->"345ada25-7c3e-4528-b4d4-d7718f108596"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"more", "=", 
  RowBox[{"QuantumCircuit", "[", 
   RowBox[{"ExpandAll", "@", "op"}], "]"}]}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[6]:=",
 CellID->1094389178,ExpressionUUID->"1c1cb22e-aec0-4fdd-9d4e-8bce8ffb8bdd"],

Cell[BoxData[
 InterpretationBox[
  GraphicsBox[{
    {Dashing[{Small, Small}], LineBox[{}]}, 
    LineBox[{{{0, -1}, {8, -1}}, {{0, -2}, {8, -2}}, {{0, -3}, {8, -3}}}], {
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{0.6, -1.4}, {1.4, -0.6}]}, InsetBox[
      StyleBox["\<\"H\"\>",
       StripOnInput->False,
       FontSize->Scaled[0.05],
       FontWeight->"Light",
       FontSlant->Italic], {1, -1}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
       ImageScaled[{0.5, 0.5}]]]}, {LineBox[{{2, -1}, {2, -2}}], 
     DiskBox[{2, -1}, 0.09], 
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{1.6, -2.4}, {2.4, -1.6}]}, InsetBox[
      StyleBox[
       SubscriptBox["\<\"Z\"\>", "2"],
       StripOnInput->False,
       FontSize->Scaled[0.05],
       FontWeight->"Light",
       FontSlant->Italic], {2, -2}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
       ImageScaled[{0.5, 0.5}]]]}, {
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{2.6, -2.4}, {3.4, -1.6}]}, InsetBox[
      StyleBox["\<\"H\"\>",
       StripOnInput->False,
       FontSize->Scaled[0.05],
       FontWeight->"Light",
       FontSlant->Italic], {3, -2}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
       ImageScaled[{0.5, 0.5}]]]}, {LineBox[{{4, -1}, {4, -3}}], 
     DiskBox[{4, -1}, 0.09], 
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{3.6, -3.4}, {4.4, -2.6}]}, InsetBox[
      StyleBox[
       SubscriptBox["\<\"Z\"\>", "3"],
       StripOnInput->False,
       FontSize->Scaled[0.05],
       FontWeight->"Light",
       FontSlant->Italic], {4, -3}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
       ImageScaled[{0.5, 0.5}]]]}, {LineBox[{{5, -2}, {5, -3}}], 
     DiskBox[{5, -2}, 0.09], 
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{4.6, -3.4}, {5.4, -2.6}]}, InsetBox[
      StyleBox[
       SubscriptBox["\<\"Z\"\>", "2"],
       StripOnInput->False,
       FontSize->Scaled[0.05],
       FontWeight->"Light",
       FontSlant->Italic], {5, -3}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
       ImageScaled[{0.5, 0.5}]]]}, {
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{5.6, -3.4}, {6.4, -2.6}]}, InsetBox[
      StyleBox["\<\"H\"\>",
       StripOnInput->False,
       FontSize->Scaled[0.05],
       FontWeight->"Light",
       FontSlant->Italic], {6, -3}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
       ImageScaled[{0.5, 0.5}]]]}, {LineBox[{{7, -1}, {7, -3}}], 
     LineBox[{{{6.82, -1.18}, {7.18, -0.8200000000000001}}, {{
      6.82, -0.8200000000000001}, {7.18, -1.18}}}], 
     LineBox[{{{6.82, -3.18}, {7.18, -2.82}}, {{6.82, -2.82}, {
      7.18, -3.18}}}]}},
   AxesStyle->Large,
   FrameStyle->Large,
   ImagePadding->{{23.400000000000002`, 23.400000000000002`}, {1, 1}},
   ImageSize->334.8,
   PlotRange->NCache[{Full, {
       Rational[-7, 2], 
       Rational[-1, 2]}}, {Full, {-3.5, -0.5}}],
   PlotRangePadding->Scaled[0.025]],
  Q3`QuantumCircuit[
   $CellContext`S[1, 6], 
   Q3`ControlledGate[{$CellContext`S[1, Q3`$] -> 1}, 
    $CellContext`S[2, 7], "Label" -> Subscript["Z", 2]], 
   $CellContext`S[2, 6], 
   Q3`ControlledGate[{$CellContext`S[1, Q3`$] -> 1}, 
    $CellContext`S[3, 8], "Label" -> Subscript["Z", 3]], 
   Q3`ControlledGate[{$CellContext`S[2, Q3`$] -> 1}, 
    $CellContext`S[3, 7], "Label" -> Subscript["Z", 2]], 
   $CellContext`S[3, 6], 
   Q3`Swap[
    $CellContext`S[1, Q3`$], 
    $CellContext`S[3, Q3`$]]]]], "Output",
 CellLabel->"Out[6]=",
 CellID->675990565,ExpressionUUID->"7a6c8cef-8d7b-4b7a-a388-79d7553ee6a6"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{"Matrix", "[", "qc", "]"}], "-", 
    RowBox[{"Matrix", "[", "new", "]"}]}], "//", "SimplifyThrough"}], "//", 
  "MatrixForm"}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[7]:=",
 CellID->1808047765,ExpressionUUID->"c504b7bd-21d4-4834-9665-d455f019ce19"],

Cell[BoxData[
 TagBox[
  RowBox[{"(", "\[NoBreak]", GridBox[{
     {"0", "0", "0", "0", "0", "0", "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0"}
    },
    GridBoxAlignment->{"Columns" -> {{Center}}, "Rows" -> {{Baseline}}},
    GridBoxSpacings->{"Columns" -> {
        Offset[0.27999999999999997`], {
         Offset[0.7]}, 
        Offset[0.27999999999999997`]}, "Rows" -> {
        Offset[0.2], {
         Offset[0.4]}, 
        Offset[0.2]}}], "\[NoBreak]", ")"}],
  Function[BoxForm`e$, 
   MatrixForm[
   SparseArray[
    Automatic, {8, 8}, 0, {
     1, {{0, 0, 0, 0, 0, 0, 0, 0, 0}, {}}, {}}]]]]], "Output",
 CellLabel->"Out[7]//MatrixForm=",
 CellID->101193027,ExpressionUUID->"ae7f9c58-5155-47a5-b7a4-a1d13f936499"]
}, Open  ]],

Cell["Now, consider the inverse quantum Fourier transform.", "ExampleText",
 CellID->183340444,ExpressionUUID->"5136e8e6-17b8-4189-8089-582fd8f509bf"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"inv", "=", 
  RowBox[{"QuantumCircuit", "[", 
   RowBox[{"Dagger", "@", 
    RowBox[{"QFT", "[", "SS", "]"}]}], "]"}]}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[8]:=",
 CellID->899472820,ExpressionUUID->"16b97f74-f6cd-4ab8-a94e-a01a91176bbd"],

Cell[BoxData[
 InterpretationBox[
  GraphicsBox[{
    {Dashing[{Small, Small}], LineBox[{}]}, 
    LineBox[{{{0, -1}, {2, -1}}, {{0, -2}, {2, -2}}, {{0, -3}, {2, -3}}}], {
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{0.6, -3.4}, {1.4, -0.6}]}, InsetBox[
      StyleBox[
       RotationBox[
        SuperscriptBox["\<\"QFT\"\>", "\[Dagger]"],
        BoxRotation->1.5707963267948966`],
       StripOnInput->False,
       FontSize->Scaled[0.2],
       FontWeight->"Light",
       FontSlant->Italic], {1, -2}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
       ImageScaled[{0.5, 0.5}]]]}},
   AxesStyle->Large,
   FrameStyle->Large,
   ImagePadding->{{23.400000000000002`, 23.400000000000002`}, {1, 1}},
   ImageSize->118.8,
   PlotRange->NCache[{Full, {
       Rational[-7, 2], 
       Rational[-1, 2]}}, {Full, {-3.5, -0.5}}],
   PlotRangePadding->Scaled[0.025]],
  Q3`QuantumCircuit[
   Q3`QFT[{
     $CellContext`S[1, Q3`$], 
     $CellContext`S[2, Q3`$], 
     $CellContext`S[3, Q3`$]}, "Parameter" -> -1]]]], "Output",
 CellLabel->"Out[8]=",
 CellID->176066688,ExpressionUUID->"2141a90e-0bee-4f02-9098-0aba8c2083aa"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"more", "=", 
  RowBox[{"QuantumCircuit", "[", 
   RowBox[{"ExpandAll", "@", 
    RowBox[{"Dagger", "@", 
     RowBox[{"QFT", "[", "SS", "]"}]}]}], "]"}]}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[9]:=",
 CellID->367327380,ExpressionUUID->"9caf5e28-2a24-4eeb-980b-c2f471637a5b"],

Cell[BoxData[
 InterpretationBox[
  GraphicsBox[{
    {Dashing[{Small, Small}], LineBox[{}]}, 
    LineBox[{{{0, -1}, {8, -1}}, {{0, -2}, {8, -2}}, {{0, -3}, {8, -3}}}], {
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{0.6, -1.4}, {1.4, -0.6}]}, InsetBox[
      StyleBox["\<\"H\"\>",
       StripOnInput->False,
       FontSize->Scaled[0.05],
       FontWeight->"Light",
       FontSlant->Italic], {1, -1}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
       ImageScaled[{0.5, 0.5}]]]}, {LineBox[{{2, -1}, {2, -2}}], 
     DiskBox[{2, -1}, 0.09], 
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{1.6, -2.4}, {2.4, -1.6}]}, InsetBox[
      StyleBox[
       TemplateBox[{"\"Z\"", "2", "\"\[Dagger]\""},
        "Subsuperscript"],
       StripOnInput->False,
       FontSize->Scaled[0.05],
       FontWeight->"Light",
       FontSlant->Italic], {2, -2}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
       ImageScaled[{0.5, 0.5}]]]}, {
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{2.6, -2.4}, {3.4, -1.6}]}, InsetBox[
      StyleBox["\<\"H\"\>",
       StripOnInput->False,
       FontSize->Scaled[0.05],
       FontWeight->"Light",
       FontSlant->Italic], {3, -2}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
       ImageScaled[{0.5, 0.5}]]]}, {LineBox[{{4, -1}, {4, -3}}], 
     DiskBox[{4, -1}, 0.09], 
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{3.6, -3.4}, {4.4, -2.6}]}, InsetBox[
      StyleBox[
       TemplateBox[{"\"Z\"", "3", "\"\[Dagger]\""},
        "Subsuperscript"],
       StripOnInput->False,
       FontSize->Scaled[0.05],
       FontWeight->"Light",
       FontSlant->Italic], {4, -3}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
       ImageScaled[{0.5, 0.5}]]]}, {LineBox[{{5, -2}, {5, -3}}], 
     DiskBox[{5, -2}, 0.09], 
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{4.6, -3.4}, {5.4, -2.6}]}, InsetBox[
      StyleBox[
       TemplateBox[{"\"Z\"", "2", "\"\[Dagger]\""},
        "Subsuperscript"],
       StripOnInput->False,
       FontSize->Scaled[0.05],
       FontWeight->"Light",
       FontSlant->Italic], {5, -3}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
       ImageScaled[{0.5, 0.5}]]]}, {
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{5.6, -3.4}, {6.4, -2.6}]}, InsetBox[
      StyleBox["\<\"H\"\>",
       StripOnInput->False,
       FontSize->Scaled[0.05],
       FontWeight->"Light",
       FontSlant->Italic], {6, -3}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
       ImageScaled[{0.5, 0.5}]]]}, {LineBox[{{7, -1}, {7, -3}}], 
     LineBox[{{{6.82, -1.18}, {7.18, -0.8200000000000001}}, {{
      6.82, -0.8200000000000001}, {7.18, -1.18}}}], 
     LineBox[{{{6.82, -3.18}, {7.18, -2.82}}, {{6.82, -2.82}, {
      7.18, -3.18}}}]}},
   AxesStyle->Large,
   FrameStyle->Large,
   ImagePadding->{{23.400000000000002`, 23.400000000000002`}, {1, 1}},
   ImageSize->334.8,
   PlotRange->NCache[{Full, {
       Rational[-7, 2], 
       Rational[-1, 2]}}, {Full, {-3.5, -0.5}}],
   PlotRangePadding->Scaled[0.025]],
  Q3`QuantumCircuit[
   $CellContext`S[1, 6], 
   Q3`ControlledGate[{$CellContext`S[1, Q3`$] -> 1}, 
    $CellContext`S[2, -7], "Label" -> Subsuperscript["Z", 2, "\[Dagger]"]], 
   $CellContext`S[2, 6], 
   Q3`ControlledGate[{$CellContext`S[1, Q3`$] -> 1}, 
    $CellContext`S[3, -8], "Label" -> Subsuperscript["Z", 3, "\[Dagger]"]], 
   Q3`ControlledGate[{$CellContext`S[2, Q3`$] -> 1}, 
    $CellContext`S[3, -7], "Label" -> Subsuperscript["Z", 2, "\[Dagger]"]], 
   $CellContext`S[3, 6], 
   Q3`Swap[
    $CellContext`S[1, Q3`$], 
    $CellContext`S[3, Q3`$]]]]], "Output",
 CellLabel->"Out[9]=",
 CellID->742935228,ExpressionUUID->"e7f867d6-8c75-44b5-8332-e759efe91a7b"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"Matrix", "[", "more", "]"}], ".", 
   RowBox[{"Matrix", "[", "new", "]"}]}], "//", "MatrixForm"}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[10]:=",
 CellID->1194269668,ExpressionUUID->"da083bc9-cb8f-4a6e-8fc9-8eba86b3cb1c"],

Cell[BoxData[
 TagBox[
  RowBox[{"(", "\[NoBreak]", GridBox[{
     {"1", "0", "0", "0", "0", "0", "0", "0"},
     {"0", "1", "0", "0", "0", "0", "0", "0"},
     {"0", "0", "1", "0", "0", "0", "0", "0"},
     {"0", "0", "0", "1", "0", "0", "0", "0"},
     {"0", "0", "0", "0", "1", "0", "0", "0"},
     {"0", "0", "0", "0", "0", "1", "0", "0"},
     {"0", "0", "0", "0", "0", "0", "1", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "1"}
    },
    GridBoxAlignment->{"Columns" -> {{Center}}, "Rows" -> {{Baseline}}},
    GridBoxSpacings->{"Columns" -> {
        Offset[0.27999999999999997`], {
         Offset[0.7]}, 
        Offset[0.27999999999999997`]}, "Rows" -> {
        Offset[0.2], {
         Offset[0.4]}, 
        Offset[0.2]}}], "\[NoBreak]", ")"}],
  Function[BoxForm`e$, 
   MatrixForm[
   SparseArray[
    Automatic, {8, 8}, 0, {
     1, {{0, 8, 16, 24, 32, 40, 48, 56, 64}, {{1}, {5}, {3}, {7}, {2}, {6}, {
       4}, {8}, {1}, {5}, {3}, {7}, {2}, {6}, {4}, {8}, {1}, {5}, {3}, {7}, {
       2}, {6}, {4}, {8}, {1}, {5}, {3}, {7}, {2}, {6}, {4}, {8}, {1}, {5}, {
       3}, {7}, {2}, {6}, {4}, {8}, {1}, {5}, {3}, {7}, {2}, {6}, {4}, {8}, {
       1}, {5}, {3}, {7}, {2}, {6}, {4}, {8}, {1}, {5}, {3}, {7}, {2}, {6}, {
       4}, {8}}}, {1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0,
       0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
       0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
      1}}]]]]], "Output",
 CellLabel->"Out[10]//MatrixForm=",
 CellID->2142630484,ExpressionUUID->"eef770dc-d6d5-4f92-abc5-d0dc68e46714"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 InterpretationBox[Cell[
  "\t", "ExampleDelimiter",ExpressionUUID->
   "5491e118-295c-4220-bcf7-48e3d8921070"],
  $Line = 0; Null]], "ExampleDelimiter",
 CellID->1380513404,ExpressionUUID->"b8945c9f-72b3-46e5-bd42-e437392b172e"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"$n", "=", "4"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"SS", "=", 
   RowBox[{"S", "[", 
    RowBox[{
     RowBox[{"Range", "@", "$n"}], ",", "$"}], "]"}]}], ";"}]}], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[1]:=",
 CellID->36152287,ExpressionUUID->"75e96388-c791-4a84-be5b-caad3b067735"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"qc", "=", 
  RowBox[{"QuantumCircuit", "[", 
   RowBox[{"QFT", "[", "SS", "]"}], "]"}]}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[2]:=",
 CellID->2021099155,ExpressionUUID->"5158cd7c-bebb-482f-aa42-9c2344a7ae20"],

Cell[BoxData[
 InterpretationBox[
  GraphicsBox[{
    {Dashing[{Small, Small}], LineBox[{}]}, 
    LineBox[{{{0, -1}, {2, -1}}, {{0, -2}, {2, -2}}, {{0, -3}, {2, -3}}, {{
     0, -4}, {2, -4}}}], {
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{0.6, -4.4}, {1.4, -0.6}]}, InsetBox[
      StyleBox[
       RotationBox["\<\"QFT\"\>",
        BoxRotation->1.5707963267948966`],
       StripOnInput->False,
       FontSize->Scaled[0.2],
       FontWeight->"Light",
       FontSlant->Italic], NCache[{1, Rational[-5, 2]}, {1, -2.5}], NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
       ImageScaled[{0.5, 0.5}]]]}},
   AxesStyle->Large,
   FrameStyle->Large,
   ImagePadding->{{23.400000000000002`, 23.400000000000002`}, {1, 1}},
   ImageSize->118.8,
   PlotRange->NCache[{Full, {
       Rational[-9, 2], 
       Rational[-1, 2]}}, {Full, {-4.5, -0.5}}],
   PlotRangePadding->Scaled[0.025]],
  Q3`QuantumCircuit[
   Q3`QFT[{
     $CellContext`S[1, Q3`$], 
     $CellContext`S[2, Q3`$], 
     $CellContext`S[3, Q3`$], 
     $CellContext`S[4, Q3`$]}]]]], "Output",
 CellLabel->"Out[2]=",
 CellID->1563293521,ExpressionUUID->"f064ade2-3e07-4207-8b18-3178d22f1cbb"]
}, Open  ]],

Cell[TextData[{
 "Decompose the QFT into a sequence of elementary gates. Recall that ",
 Cell[BoxData[
  FormBox[
   RowBox[{
    SubscriptBox["Z", "k"], "\[DotEqual]", 
    RowBox[{"(", GridBox[{
       {"1", "0"},
       {"0", 
        FractionBox[
         RowBox[{"2", "\[Pi]"}], 
         SuperscriptBox["2", "2"]]}
      }], ")"}]}], TraditionalForm]],ExpressionUUID->
  "e9bf4d16-577a-4d4c-9651-c1469b74a3ac"],
 "."
}], "ExampleText",
 CellID->2114845985,ExpressionUUID->"c53d999f-04e8-4779-ab7c-350bd2a6c86a"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"new", "=", 
  RowBox[{"QuantumCircuit", "[", 
   RowBox[{"ExpandAll", "@", 
    RowBox[{"QFT", "[", "SS", "]"}]}], "]"}]}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[3]:=",
 CellID->1002278531,ExpressionUUID->"da14b4a4-6e8b-4de8-b2cf-5caf4b2f481f"],

Cell[BoxData[
 InterpretationBox[
  GraphicsBox[{
    {Dashing[{Small, Small}], LineBox[{}]}, 
    LineBox[{{{0, -1}, {13, -1}}, {{0, -2}, {13, -2}}, {{0, -3}, {13, -3}}, {{
     0, -4}, {13, -4}}}], {
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{0.6, -1.4}, {1.4, -0.6}]}, InsetBox[
      StyleBox["\<\"H\"\>",
       StripOnInput->False,
       FontSize->Scaled[0.03076923076923077],
       FontWeight->"Light",
       FontSlant->Italic], {1, -1}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
       ImageScaled[{0.5, 0.5}]]]}, {LineBox[{{2, -1}, {2, -2}}], 
     DiskBox[{2, -1}, 0.09], 
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{1.6, -2.4}, {2.4, -1.6}]}, InsetBox[
      StyleBox[
       SubscriptBox["\<\"Z\"\>", "2"],
       StripOnInput->False,
       FontSize->Scaled[0.03076923076923077],
       FontWeight->"Light",
       FontSlant->Italic], {2, -2}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
       ImageScaled[{0.5, 0.5}]]]}, {
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{2.6, -2.4}, {3.4, -1.6}]}, InsetBox[
      StyleBox["\<\"H\"\>",
       StripOnInput->False,
       FontSize->Scaled[0.03076923076923077],
       FontWeight->"Light",
       FontSlant->Italic], {3, -2}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
       ImageScaled[{0.5, 0.5}]]]}, {LineBox[{{4, -1}, {4, -3}}], 
     DiskBox[{4, -1}, 0.09], 
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{3.6, -3.4}, {4.4, -2.6}]}, InsetBox[
      StyleBox[
       SubscriptBox["\<\"Z\"\>", "3"],
       StripOnInput->False,
       FontSize->Scaled[0.03076923076923077],
       FontWeight->"Light",
       FontSlant->Italic], {4, -3}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
       ImageScaled[{0.5, 0.5}]]]}, {LineBox[{{5, -2}, {5, -3}}], 
     DiskBox[{5, -2}, 0.09], 
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{4.6, -3.4}, {5.4, -2.6}]}, InsetBox[
      StyleBox[
       SubscriptBox["\<\"Z\"\>", "2"],
       StripOnInput->False,
       FontSize->Scaled[0.03076923076923077],
       FontWeight->"Light",
       FontSlant->Italic], {5, -3}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
       ImageScaled[{0.5, 0.5}]]]}, {
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{5.6, -3.4}, {6.4, -2.6}]}, InsetBox[
      StyleBox["\<\"H\"\>",
       StripOnInput->False,
       FontSize->Scaled[0.03076923076923077],
       FontWeight->"Light",
       FontSlant->Italic], {6, -3}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
       ImageScaled[{0.5, 0.5}]]]}, {LineBox[{{7, -1}, {7, -4}}], 
     DiskBox[{7, -1}, 0.09], 
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{6.6, -4.4}, {7.4, -3.6}]}, InsetBox[
      StyleBox[
       SubscriptBox["\<\"Z\"\>", "4"],
       StripOnInput->False,
       FontSize->Scaled[0.03076923076923077],
       FontWeight->"Light",
       FontSlant->Italic], {7, -4}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
       ImageScaled[{0.5, 0.5}]]]}, {LineBox[{{8, -2}, {8, -4}}], 
     DiskBox[{8, -2}, 0.09], 
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{7.6, -4.4}, {8.4, -3.6}]}, InsetBox[
      StyleBox[
       SubscriptBox["\<\"Z\"\>", "3"],
       StripOnInput->False,
       FontSize->Scaled[0.03076923076923077],
       FontWeight->"Light",
       FontSlant->Italic], {8, -4}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
       ImageScaled[{0.5, 0.5}]]]}, {LineBox[{{9, -3}, {9, -4}}], 
     DiskBox[{9, -3}, 0.09], 
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{8.6, -4.4}, {9.4, -3.6}]}, InsetBox[
      StyleBox[
       SubscriptBox["\<\"Z\"\>", "2"],
       StripOnInput->False,
       FontSize->Scaled[0.03076923076923077],
       FontWeight->"Light",
       FontSlant->Italic], {9, -4}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
       ImageScaled[{0.5, 0.5}]]]}, {
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{9.6, -4.4}, {10.4, -3.6}]}, InsetBox[
      StyleBox["\<\"H\"\>",
       StripOnInput->False,
       FontSize->Scaled[0.03076923076923077],
       FontWeight->"Light",
       FontSlant->Italic], {10, -4}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
       ImageScaled[{0.5, 0.5}]]]}, {LineBox[{{11, -1}, {11, -4}}], 
     LineBox[{{{10.82, -1.18}, {11.18, -0.8200000000000001}}, {{
      10.82, -0.8200000000000001}, {11.18, -1.18}}}], 
     LineBox[{{{10.82, -4.18}, {11.18, -3.82}}, {{10.82, -3.82}, {
      11.18, -4.18}}}]}, {LineBox[{{12, -2}, {12, -3}}], 
     LineBox[{{{11.82, -2.18}, {12.18, -1.82}}, {{11.82, -1.82}, {
      12.18, -2.18}}}], 
     LineBox[{{{11.82, -3.18}, {12.18, -2.82}}, {{11.82, -2.82}, {
      12.18, -3.18}}}]}},
   AxesStyle->Large,
   FrameStyle->Large,
   ImagePadding->{{23.400000000000002`, 23.400000000000002`}, {1, 1}},
   ImageSize->514.8000000000001,
   PlotRange->NCache[{Full, {
       Rational[-9, 2], 
       Rational[-1, 2]}}, {Full, {-4.5, -0.5}}],
   PlotRangePadding->Scaled[0.025]],
  Q3`QuantumCircuit[
   $CellContext`S[1, 6], 
   Q3`ControlledGate[{$CellContext`S[1, Q3`$] -> 1}, 
    $CellContext`S[2, 7], "Label" -> Subscript["Z", 2]], 
   $CellContext`S[2, 6], 
   Q3`ControlledGate[{$CellContext`S[1, Q3`$] -> 1}, 
    $CellContext`S[3, 8], "Label" -> Subscript["Z", 3]], 
   Q3`ControlledGate[{$CellContext`S[2, Q3`$] -> 1}, 
    $CellContext`S[3, 7], "Label" -> Subscript["Z", 2]], 
   $CellContext`S[3, 6], 
   Q3`ControlledGate[{$CellContext`S[1, Q3`$] -> 1}, 
    $CellContext`S[4, 9], "Label" -> Subscript["Z", 4]], 
   Q3`ControlledGate[{$CellContext`S[2, Q3`$] -> 1}, 
    $CellContext`S[4, 8], "Label" -> Subscript["Z", 3]], 
   Q3`ControlledGate[{$CellContext`S[3, Q3`$] -> 1}, 
    $CellContext`S[4, 7], "Label" -> Subscript["Z", 2]], 
   $CellContext`S[4, 6], 
   Q3`Swap[
    $CellContext`S[1, Q3`$], 
    $CellContext`S[4, Q3`$]], 
   Q3`Swap[
    $CellContext`S[2, Q3`$], 
    $CellContext`S[3, Q3`$]]]]], "Output",
 CellLabel->"Out[3]=",
 CellID->178160393,ExpressionUUID->"3e1a7d85-d245-414e-bfed-1e679892cb3d"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{"Matrix", "[", "qc", "]"}], "-", 
    RowBox[{"Matrix", "[", "new", "]"}]}], "//", "SimplifyThrough"}], "//", 
  "MatrixForm"}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[4]:=",
 CellID->152733072,ExpressionUUID->"625f02f5-d567-4f92-a2d7-69a6c090d1f9"],

Cell[BoxData[
 TagBox[
  RowBox[{"(", "\[NoBreak]", GridBox[{
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"}
    },
    GridBoxAlignment->{"Columns" -> {{Center}}, "Rows" -> {{Baseline}}},
    GridBoxSpacings->{"Columns" -> {
        Offset[0.27999999999999997`], {
         Offset[0.7]}, 
        Offset[0.27999999999999997`]}, "Rows" -> {
        Offset[0.2], {
         Offset[0.4]}, 
        Offset[0.2]}}], "\[NoBreak]", ")"}],
  Function[BoxForm`e$, 
   MatrixForm[
   SparseArray[
    Automatic, {16, 16}, 0, {
     1, {{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
       0}, {}}, {}}]]]]], "Output",
 CellLabel->"Out[4]//MatrixForm=",
 CellID->1207425344,ExpressionUUID->"dd6a1601-461a-4b9a-802f-d367b5af2ff7"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"more", "=", 
  RowBox[{"QuantumCircuit", "[", 
   RowBox[{"ExpandAll", "@", 
    RowBox[{"Dagger", "@", 
     RowBox[{"QFT", "[", "SS", "]"}]}]}], "]"}]}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[5]:=",
 CellID->1933626297,ExpressionUUID->"7e819729-2028-4a6d-a209-45bced299ab2"],

Cell[BoxData[
 InterpretationBox[
  GraphicsBox[{
    {Dashing[{Small, Small}], LineBox[{}]}, 
    LineBox[{{{0, -1}, {13, -1}}, {{0, -2}, {13, -2}}, {{0, -3}, {13, -3}}, {{
     0, -4}, {13, -4}}}], {
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{0.6, -1.4}, {1.4, -0.6}]}, InsetBox[
      StyleBox["\<\"H\"\>",
       StripOnInput->False,
       FontSize->Scaled[0.03076923076923077],
       FontWeight->"Light",
       FontSlant->Italic], {1, -1}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
       ImageScaled[{0.5, 0.5}]]]}, {LineBox[{{2, -1}, {2, -2}}], 
     DiskBox[{2, -1}, 0.09], 
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{1.6, -2.4}, {2.4, -1.6}]}, InsetBox[
      StyleBox[
       TemplateBox[{"\"Z\"", "2", "\"\[Dagger]\""},
        "Subsuperscript"],
       StripOnInput->False,
       FontSize->Scaled[0.03076923076923077],
       FontWeight->"Light",
       FontSlant->Italic], {2, -2}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
       ImageScaled[{0.5, 0.5}]]]}, {
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{2.6, -2.4}, {3.4, -1.6}]}, InsetBox[
      StyleBox["\<\"H\"\>",
       StripOnInput->False,
       FontSize->Scaled[0.03076923076923077],
       FontWeight->"Light",
       FontSlant->Italic], {3, -2}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
       ImageScaled[{0.5, 0.5}]]]}, {LineBox[{{4, -1}, {4, -3}}], 
     DiskBox[{4, -1}, 0.09], 
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{3.6, -3.4}, {4.4, -2.6}]}, InsetBox[
      StyleBox[
       TemplateBox[{"\"Z\"", "3", "\"\[Dagger]\""},
        "Subsuperscript"],
       StripOnInput->False,
       FontSize->Scaled[0.03076923076923077],
       FontWeight->"Light",
       FontSlant->Italic], {4, -3}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
       ImageScaled[{0.5, 0.5}]]]}, {LineBox[{{5, -2}, {5, -3}}], 
     DiskBox[{5, -2}, 0.09], 
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{4.6, -3.4}, {5.4, -2.6}]}, InsetBox[
      StyleBox[
       TemplateBox[{"\"Z\"", "2", "\"\[Dagger]\""},
        "Subsuperscript"],
       StripOnInput->False,
       FontSize->Scaled[0.03076923076923077],
       FontWeight->"Light",
       FontSlant->Italic], {5, -3}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
       ImageScaled[{0.5, 0.5}]]]}, {
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{5.6, -3.4}, {6.4, -2.6}]}, InsetBox[
      StyleBox["\<\"H\"\>",
       StripOnInput->False,
       FontSize->Scaled[0.03076923076923077],
       FontWeight->"Light",
       FontSlant->Italic], {6, -3}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
       ImageScaled[{0.5, 0.5}]]]}, {LineBox[{{7, -1}, {7, -4}}], 
     DiskBox[{7, -1}, 0.09], 
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{6.6, -4.4}, {7.4, -3.6}]}, InsetBox[
      StyleBox[
       TemplateBox[{"\"Z\"", "4", "\"\[Dagger]\""},
        "Subsuperscript"],
       StripOnInput->False,
       FontSize->Scaled[0.03076923076923077],
       FontWeight->"Light",
       FontSlant->Italic], {7, -4}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
       ImageScaled[{0.5, 0.5}]]]}, {LineBox[{{8, -2}, {8, -4}}], 
     DiskBox[{8, -2}, 0.09], 
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{7.6, -4.4}, {8.4, -3.6}]}, InsetBox[
      StyleBox[
       TemplateBox[{"\"Z\"", "3", "\"\[Dagger]\""},
        "Subsuperscript"],
       StripOnInput->False,
       FontSize->Scaled[0.03076923076923077],
       FontWeight->"Light",
       FontSlant->Italic], {8, -4}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
       ImageScaled[{0.5, 0.5}]]]}, {LineBox[{{9, -3}, {9, -4}}], 
     DiskBox[{9, -3}, 0.09], 
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{8.6, -4.4}, {9.4, -3.6}]}, InsetBox[
      StyleBox[
       TemplateBox[{"\"Z\"", "2", "\"\[Dagger]\""},
        "Subsuperscript"],
       StripOnInput->False,
       FontSize->Scaled[0.03076923076923077],
       FontWeight->"Light",
       FontSlant->Italic], {9, -4}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
       ImageScaled[{0.5, 0.5}]]]}, {
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{9.6, -4.4}, {10.4, -3.6}]}, InsetBox[
      StyleBox["\<\"H\"\>",
       StripOnInput->False,
       FontSize->Scaled[0.03076923076923077],
       FontWeight->"Light",
       FontSlant->Italic], {10, -4}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
       ImageScaled[{0.5, 0.5}]]]}, {LineBox[{{11, -1}, {11, -4}}], 
     LineBox[{{{10.82, -1.18}, {11.18, -0.8200000000000001}}, {{
      10.82, -0.8200000000000001}, {11.18, -1.18}}}], 
     LineBox[{{{10.82, -4.18}, {11.18, -3.82}}, {{10.82, -3.82}, {
      11.18, -4.18}}}]}, {LineBox[{{12, -2}, {12, -3}}], 
     LineBox[{{{11.82, -2.18}, {12.18, -1.82}}, {{11.82, -1.82}, {
      12.18, -2.18}}}], 
     LineBox[{{{11.82, -3.18}, {12.18, -2.82}}, {{11.82, -2.82}, {
      12.18, -3.18}}}]}},
   AxesStyle->Large,
   FrameStyle->Large,
   ImagePadding->{{23.400000000000002`, 23.400000000000002`}, {1, 1}},
   ImageSize->514.8000000000001,
   PlotRange->NCache[{Full, {
       Rational[-9, 2], 
       Rational[-1, 2]}}, {Full, {-4.5, -0.5}}],
   PlotRangePadding->Scaled[0.025]],
  Q3`QuantumCircuit[
   $CellContext`S[1, 6], 
   Q3`ControlledGate[{$CellContext`S[1, Q3`$] -> 1}, 
    $CellContext`S[2, -7], "Label" -> Subsuperscript["Z", 2, "\[Dagger]"]], 
   $CellContext`S[2, 6], 
   Q3`ControlledGate[{$CellContext`S[1, Q3`$] -> 1}, 
    $CellContext`S[3, -8], "Label" -> Subsuperscript["Z", 3, "\[Dagger]"]], 
   Q3`ControlledGate[{$CellContext`S[2, Q3`$] -> 1}, 
    $CellContext`S[3, -7], "Label" -> Subsuperscript["Z", 2, "\[Dagger]"]], 
   $CellContext`S[3, 6], 
   Q3`ControlledGate[{$CellContext`S[1, Q3`$] -> 1}, 
    $CellContext`S[4, -9], "Label" -> Subsuperscript["Z", 4, "\[Dagger]"]], 
   Q3`ControlledGate[{$CellContext`S[2, Q3`$] -> 1}, 
    $CellContext`S[4, -8], "Label" -> Subsuperscript["Z", 3, "\[Dagger]"]], 
   Q3`ControlledGate[{$CellContext`S[3, Q3`$] -> 1}, 
    $CellContext`S[4, -7], "Label" -> Subsuperscript["Z", 2, "\[Dagger]"]], 
   $CellContext`S[4, 6], 
   Q3`Swap[
    $CellContext`S[1, Q3`$], 
    $CellContext`S[4, Q3`$]], 
   Q3`Swap[
    $CellContext`S[2, Q3`$], 
    $CellContext`S[3, Q3`$]]]]], "Output",
 CellLabel->"Out[5]=",
 CellID->1942008312,ExpressionUUID->"0659effe-ce5b-48b2-8f39-c87219734364"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"Matrix", "[", "more", "]"}], ".", 
   RowBox[{"Matrix", "[", "new", "]"}]}], "//", "MatrixForm"}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[6]:=",
 CellID->364103446,ExpressionUUID->"ff14499c-a01a-4e12-99d2-62a929ec347b"],

Cell[BoxData[
 TagBox[
  RowBox[{"(", "\[NoBreak]", GridBox[{
     {"1", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "1", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "1", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "1", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "1", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "1", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "1", "0", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "1", "0", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "1", "0", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "1", "0", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "1", "0", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "1", "0", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "1", "0", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "1", 
      "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "1", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", 
      "0", "1"}
    },
    GridBoxAlignment->{"Columns" -> {{Center}}, "Rows" -> {{Baseline}}},
    GridBoxSpacings->{"Columns" -> {
        Offset[0.27999999999999997`], {
         Offset[0.7]}, 
        Offset[0.27999999999999997`]}, "Rows" -> {
        Offset[0.2], {
         Offset[0.4]}, 
        Offset[0.2]}}], "\[NoBreak]", ")"}],
  Function[BoxForm`e$, 
   MatrixForm[
   SparseArray[
    Automatic, {16, 16}, 0, {
     1, {{0, 16, 32, 48, 64, 80, 96, 112, 128, 144, 160, 176, 192, 208, 224, 
       240, 256}, {{1}, {9}, {5}, {13}, {3}, {11}, {7}, {15}, {2}, {10}, {
       6}, {14}, {4}, {12}, {8}, {16}, {1}, {9}, {5}, {13}, {3}, {11}, {7}, {
       15}, {2}, {10}, {6}, {14}, {4}, {12}, {8}, {16}, {1}, {9}, {5}, {13}, {
       3}, {11}, {7}, {15}, {2}, {10}, {6}, {14}, {4}, {12}, {8}, {16}, {1}, {
       9}, {5}, {13}, {3}, {11}, {7}, {15}, {2}, {10}, {6}, {14}, {4}, {12}, {
       8}, {16}, {1}, {9}, {5}, {13}, {3}, {11}, {7}, {15}, {2}, {10}, {6}, {
       14}, {4}, {12}, {8}, {16}, {1}, {9}, {5}, {13}, {3}, {11}, {7}, {15}, {
       2}, {10}, {6}, {14}, {4}, {12}, {8}, {16}, {1}, {9}, {5}, {13}, {3}, {
       11}, {7}, {15}, {2}, {10}, {6}, {14}, {4}, {12}, {8}, {16}, {1}, {9}, {
       5}, {13}, {3}, {11}, {7}, {15}, {2}, {10}, {6}, {14}, {4}, {12}, {8}, {
       16}, {1}, {9}, {5}, {13}, {3}, {11}, {7}, {15}, {2}, {10}, {6}, {14}, {
       4}, {12}, {8}, {16}, {1}, {9}, {5}, {13}, {3}, {11}, {7}, {15}, {2}, {
       10}, {6}, {14}, {4}, {12}, {8}, {16}, {1}, {9}, {5}, {13}, {3}, {11}, {
       7}, {15}, {2}, {10}, {6}, {14}, {4}, {12}, {8}, {16}, {1}, {9}, {5}, {
       13}, {3}, {11}, {7}, {15}, {2}, {10}, {6}, {14}, {4}, {12}, {8}, {
       16}, {1}, {9}, {5}, {13}, {3}, {11}, {7}, {15}, {2}, {10}, {6}, {14}, {
       4}, {12}, {8}, {16}, {1}, {9}, {5}, {13}, {3}, {11}, {7}, {15}, {2}, {
       10}, {6}, {14}, {4}, {12}, {8}, {16}, {1}, {9}, {5}, {13}, {3}, {11}, {
       7}, {15}, {2}, {10}, {6}, {14}, {4}, {12}, {8}, {16}, {1}, {9}, {5}, {
       13}, {3}, {11}, {7}, {15}, {2}, {10}, {6}, {14}, {4}, {12}, {8}, {
       16}}}, {1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
      0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 
      0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 
      0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 
      0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
      0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
      0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
      1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
      1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
      0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 
      0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1}}]]]]], "Output",\

 CellLabel->"Out[6]//MatrixForm=",
 CellID->892730419,ExpressionUUID->"eb4dc825-231a-4b57-8ee0-8fb2daeb7175"]
}, Open  ]]
}, Open  ]]
}, Dynamic[CurrentValue[
 EvaluationNotebook[], {TaggingRules, "Openers", "ExampleSubsection", "0"}, 
  Closed]]]]
}, Dynamic[CurrentValue[
 EvaluationNotebook[], {TaggingRules, "Openers", "ExampleSection", "1"}, 
  Closed]]]],

Cell[CellGroupData[{

Cell[TextData[{
 Cell[BoxData[
  DynamicBox[ToBoxes[
    If[
     MatchQ[
      CurrentValue[
       EvaluationNotebook[], {TaggingRules, "Openers", "ExampleSection", "2"},
        Closed], 
      Alternatives[Open, True]], 
     Style[
      Graphics[{
        Thickness[0.18], 
        RGBColor[0.8509803921568627, 0.396078431372549, 0], 
        Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
       PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
      0.68 Inherited], 
     Rotate[
      Style[
       Graphics[{
         Thickness[0.18], 
         RGBColor[0.8509803921568627, 0.396078431372549, 0], 
         Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
        PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
       0.68 Inherited], Rational[1, 2] Pi, {-1.65, -1}]]],
   ImageSizeCache->{14., {0.45000000000000107`, 13.549999999999999`}}]],
  ExpressionUUID->"455c8ae3-a83c-435c-83a1-d9453a50c3a1"],
 Cell[BoxData[
  TemplateBox[{1},
   "Spacer1"]],ExpressionUUID->"ba376342-beb1-46e7-a3e3-0683ac429b65"],
 "Options",
 "\[NonBreakingSpace]\[NonBreakingSpace]",
 Cell["(3)", "ExampleCount",ExpressionUUID->
  "67e1cc31-6cb4-4810-9464-84fafe7e08d4"]
}], "ExampleSection", "ExampleSection",
 WholeCellGroupOpener->True,
 CacheGraphics->False,
 CellID->2061341341,ExpressionUUID->"4fa0465f-2336-404e-afe3-b74d987b362c"],

Cell[CellGroupData[{

Cell[TextData[{
 Cell[BoxData[
  DynamicBox[ToBoxes[
    If[
     MatchQ[
      CurrentValue[
       EvaluationNotebook[], {
       TaggingRules, "Openers", "ExampleSubsection", "1"}, Closed], 
      Alternatives[Open, True]], 
     Style[
      Graphics[{
        Thickness[0.18], 
        RGBColor[0.8509803921568627, 0.396078431372549, 0], 
        Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
       PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
      0.68 Inherited], 
     Rotate[
      Style[
       Graphics[{
         Thickness[0.18], 
         RGBColor[0.8509803921568627, 0.396078431372549, 0], 
         Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
        PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
       0.68 Inherited], Rational[1, 2] Pi, {-1.65, -1}]]],
   ImageSizeCache->{14., {0.45000000000000107`, 13.549999999999999`}}]],
  ExpressionUUID->"47e68cbe-7777-45f8-a70b-1f222a771505"],
 Cell[BoxData[
  TemplateBox[{1},
   "Spacer1"]],ExpressionUUID->"e8340f96-f6a1-4236-8bc7-6d4553cb30d6"],
 "N",
 "\[NonBreakingSpace]\[NonBreakingSpace]",
 Cell["(1)", "ExampleCount",ExpressionUUID->
  "821f10f9-c8e8-4ae0-87c8-ca42ca0990e7"]
}], "ExampleSubsection", "ExampleSubsection",
 WholeCellGroupOpener->True,
 CacheGraphics->False,
 CellID->1431794078,ExpressionUUID->"b117ec2a-03b6-444e-a4d2-3a3c9ae5cc2a"],

Cell[BoxData[
 RowBox[{"Let", "[", 
  RowBox[{"Qubit", ",", "S"}], "]"}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[1]:=",
 CellID->693055259,ExpressionUUID->"65dabfc3-f1c2-43b5-b415-d1c7d7d93cd3"],

Cell["\<\
The explicit expression for the quantum Fourier transform gets quickly \
complicated as the system size increases. By default, Mathematica tries to \
keep exact numbers, and it slows down many evaluations.\
\>", "ExampleText",
 CellID->1341532187,ExpressionUUID->"86e1a7f4-adaa-4a2d-b1ac-bf310e78d2d7"],

Cell[BoxData[
 RowBox[{
  RowBox[{"op", "=", 
   RowBox[{"QFT", "[", 
    RowBox[{"ss", "=", 
     RowBox[{"S", "@", 
      RowBox[{"{", 
       RowBox[{"1", ",", "2", ",", "3"}], "}"}]}]}], "]"}]}], ";"}]], "Input",\

 CellProlog:>Needs["Q3`"],
 CellLabel->"In[2]:=",
 CellID->33901077,ExpressionUUID->"bcb1861c-1379-4d91-a108-ccb90f60bde4"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"expr", "=", 
  RowBox[{
   RowBox[{"Elaborate", "[", "op", "]"}], "//", "Elaborate"}]}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[3]:=",
 CellID->906967599,ExpressionUUID->"f1e5ea39-94fe-4fe6-b35a-8d61341ee979"],

Cell[BoxData[
 RowBox[{
  RowBox[{"(", 
   RowBox[{
    FractionBox["1", "8"], "+", 
    FractionBox["\[ImaginaryI]", "8"]}], ")"}], "+", 
  RowBox[{
   FractionBox["1", "8"], " ", 
   RowBox[{"(", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"1", "-", "\[ImaginaryI]"}], ")"}], "+", 
     SqrtBox["2"]}], ")"}], " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"X\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[1, 1]], 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"X\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[2, 1]]}, "RowWithSeparators"]},
     "RowDefault"],
    Q3`Multiply[
     $CellContext`S[1, 1], 
     $CellContext`S[2, 1]]]}], "+", 
  FractionBox[
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"X\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[1, 1]], 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[2, 3]]}, "RowWithSeparators"]},
     "RowDefault"],
    Q3`Multiply[
     $CellContext`S[1, 1], 
     $CellContext`S[2, 3]]], 
   RowBox[{"4", " ", 
    SqrtBox["2"]}]], "+", 
  RowBox[{
   RowBox[{"(", 
    RowBox[{
     FractionBox["1", "8"], "+", 
     FractionBox["\[ImaginaryI]", "8"]}], ")"}], " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"X\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[1, 1]], 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[3, 3]]}, "RowWithSeparators"]},
     "RowDefault"],
    Q3`Multiply[
     $CellContext`S[1, 1], 
     $CellContext`S[3, 3]]]}], "-", 
  FractionBox[
   RowBox[{
    RowBox[{"(", 
     RowBox[{
      FractionBox["1", "4"], "-", 
      FractionBox["\[ImaginaryI]", "4"]}], ")"}], " ", 
    InterpretationBox[
     TemplateBox[{
       TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
         InterpretationBox[
          TemplateBox[{"S", 
            TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"], 
            TemplateBox[{",", "\",\"", "\"Y\""}, "RowWithSeparators"]}, 
           "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
          $CellContext`S[1, 2]], 
         InterpretationBox[
          TemplateBox[{"S", 
            TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"], 
            TemplateBox[{",", "\",\"", "\"Y\""}, "RowWithSeparators"]}, 
           "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
          $CellContext`S[3, 2]]}, "RowWithSeparators"]},
      "RowDefault"],
     Q3`Multiply[
      $CellContext`S[1, 2], 
      $CellContext`S[3, 2]]]}], 
   SqrtBox["2"]], "+", 
  FractionBox[
   RowBox[{
    RowBox[{"(", 
     RowBox[{
      FractionBox["1", "4"], "-", 
      FractionBox["\[ImaginaryI]", "4"]}], ")"}], " ", 
    InterpretationBox[
     TemplateBox[{
       TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
         InterpretationBox[
          TemplateBox[{"S", 
            TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"], 
            TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]}, 
           "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
          $CellContext`S[1, 3]], 
         InterpretationBox[
          TemplateBox[{"S", 
            TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"], 
            TemplateBox[{",", "\",\"", "\"X\""}, "RowWithSeparators"]}, 
           "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
          $CellContext`S[3, 1]]}, "RowWithSeparators"]},
      "RowDefault"],
     Q3`Multiply[
      $CellContext`S[1, 3], 
      $CellContext`S[3, 1]]]}], 
   SqrtBox["2"]], "+", 
  RowBox[{
   FractionBox["1", "8"], " ", 
   RowBox[{"(", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"1", "-", "\[ImaginaryI]"}], ")"}], "+", 
     SqrtBox["2"]}], ")"}], " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"X\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[2, 1]], 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[3, 3]]}, "RowWithSeparators"]},
     "RowDefault"],
    Q3`Multiply[
     $CellContext`S[2, 1], 
     $CellContext`S[3, 3]]]}], "+", 
  FractionBox[
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[2, 3]], 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[3, 3]]}, "RowWithSeparators"]},
     "RowDefault"],
    Q3`Multiply[
     $CellContext`S[2, 3], 
     $CellContext`S[3, 3]]], 
   RowBox[{"4", " ", 
    SqrtBox["2"]}]], "+", 
  RowBox[{
   FractionBox["1", "8"], " ", 
   RowBox[{"(", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{
       RowBox[{"-", "1"}], "+", "\[ImaginaryI]"}], ")"}], "+", 
     SqrtBox["2"]}], ")"}], " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"X\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[1, 1]], 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"X\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[2, 1]], 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[3, 3]]}, "RowWithSeparators"]},
     "RowDefault"],
    Q3`Multiply[
     $CellContext`S[1, 1], 
     $CellContext`S[2, 1], 
     $CellContext`S[3, 3]]]}], "+", 
  FractionBox[
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"X\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[1, 1]], 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[2, 3]], 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[3, 3]]}, "RowWithSeparators"]},
     "RowDefault"],
    Q3`Multiply[
     $CellContext`S[1, 1], 
     $CellContext`S[2, 3], 
     $CellContext`S[3, 3]]], 
   RowBox[{"4", " ", 
    SqrtBox["2"]}]], "-", 
  FractionBox[
   RowBox[{
    RowBox[{"(", 
     RowBox[{
      FractionBox["1", "4"], "+", 
      FractionBox["\[ImaginaryI]", "4"]}], ")"}], " ", 
    InterpretationBox[
     TemplateBox[{
       TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
         InterpretationBox[
          TemplateBox[{"S", 
            TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"], 
            TemplateBox[{",", "\",\"", "\"Y\""}, "RowWithSeparators"]}, 
           "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
          $CellContext`S[1, 2]], 
         InterpretationBox[
          TemplateBox[{"S", 
            TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"], 
            TemplateBox[{",", "\",\"", "\"X\""}, "RowWithSeparators"]}, 
           "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
          $CellContext`S[2, 1]], 
         InterpretationBox[
          TemplateBox[{"S", 
            TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"], 
            TemplateBox[{",", "\",\"", "\"Y\""}, "RowWithSeparators"]}, 
           "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
          $CellContext`S[3, 2]]}, "RowWithSeparators"]},
      "RowDefault"],
     Q3`Multiply[
      $CellContext`S[1, 2], 
      $CellContext`S[2, 1], 
      $CellContext`S[3, 2]]]}], 
   SqrtBox["2"]], "-", 
  FractionBox[
   RowBox[{
    RowBox[{"(", 
     RowBox[{
      FractionBox["1", "4"], "-", 
      FractionBox["\[ImaginaryI]", "4"]}], ")"}], " ", 
    InterpretationBox[
     TemplateBox[{
       TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
         InterpretationBox[
          TemplateBox[{"S", 
            TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"], 
            TemplateBox[{",", "\",\"", "\"Y\""}, "RowWithSeparators"]}, 
           "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
          $CellContext`S[1, 2]], 
         InterpretationBox[
          TemplateBox[{"S", 
            TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"], 
            TemplateBox[{",", "\",\"", "\"Y\""}, "RowWithSeparators"]}, 
           "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
          $CellContext`S[2, 2]], 
         InterpretationBox[
          TemplateBox[{"S", 
            TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"], 
            TemplateBox[{",", "\",\"", "\"X\""}, "RowWithSeparators"]}, 
           "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
          $CellContext`S[3, 1]]}, "RowWithSeparators"]},
      "RowDefault"],
     Q3`Multiply[
      $CellContext`S[1, 2], 
      $CellContext`S[2, 2], 
      $CellContext`S[3, 1]]]}], 
   SqrtBox["2"]], "-", 
  FractionBox[
   RowBox[{
    RowBox[{"(", 
     RowBox[{
      FractionBox["1", "4"], "+", 
      FractionBox["\[ImaginaryI]", "4"]}], ")"}], " ", 
    InterpretationBox[
     TemplateBox[{
       TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
         InterpretationBox[
          TemplateBox[{"S", 
            TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"], 
            TemplateBox[{",", "\",\"", "\"Y\""}, "RowWithSeparators"]}, 
           "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
          $CellContext`S[1, 2]], 
         InterpretationBox[
          TemplateBox[{"S", 
            TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"], 
            TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]}, 
           "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
          $CellContext`S[2, 3]], 
         InterpretationBox[
          TemplateBox[{"S", 
            TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"], 
            TemplateBox[{",", "\",\"", "\"Y\""}, "RowWithSeparators"]}, 
           "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
          $CellContext`S[3, 2]]}, "RowWithSeparators"]},
      "RowDefault"],
     Q3`Multiply[
      $CellContext`S[1, 2], 
      $CellContext`S[2, 3], 
      $CellContext`S[3, 2]]]}], 
   SqrtBox["2"]], "+", 
  FractionBox[
   RowBox[{
    RowBox[{"(", 
     RowBox[{
      FractionBox["1", "4"], "+", 
      FractionBox["\[ImaginaryI]", "4"]}], ")"}], " ", 
    InterpretationBox[
     TemplateBox[{
       TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
         InterpretationBox[
          TemplateBox[{"S", 
            TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"], 
            TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]}, 
           "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
          $CellContext`S[1, 3]], 
         InterpretationBox[
          TemplateBox[{"S", 
            TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"], 
            TemplateBox[{",", "\",\"", "\"X\""}, "RowWithSeparators"]}, 
           "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
          $CellContext`S[2, 1]], 
         InterpretationBox[
          TemplateBox[{"S", 
            TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"], 
            TemplateBox[{",", "\",\"", "\"X\""}, "RowWithSeparators"]}, 
           "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
          $CellContext`S[3, 1]]}, "RowWithSeparators"]},
      "RowDefault"],
     Q3`Multiply[
      $CellContext`S[1, 3], 
      $CellContext`S[2, 1], 
      $CellContext`S[3, 1]]]}], 
   SqrtBox["2"]], "-", 
  FractionBox[
   RowBox[{
    RowBox[{"(", 
     RowBox[{
      FractionBox["1", "4"], "-", 
      FractionBox["\[ImaginaryI]", "4"]}], ")"}], " ", 
    InterpretationBox[
     TemplateBox[{
       TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
         InterpretationBox[
          TemplateBox[{"S", 
            TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"], 
            TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]}, 
           "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
          $CellContext`S[1, 3]], 
         InterpretationBox[
          TemplateBox[{"S", 
            TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"], 
            TemplateBox[{",", "\",\"", "\"Y\""}, "RowWithSeparators"]}, 
           "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
          $CellContext`S[2, 2]], 
         InterpretationBox[
          TemplateBox[{"S", 
            TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"], 
            TemplateBox[{",", "\",\"", "\"Y\""}, "RowWithSeparators"]}, 
           "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
          $CellContext`S[3, 2]]}, "RowWithSeparators"]},
      "RowDefault"],
     Q3`Multiply[
      $CellContext`S[1, 3], 
      $CellContext`S[2, 2], 
      $CellContext`S[3, 2]]]}], 
   SqrtBox["2"]], "+", 
  FractionBox[
   RowBox[{
    RowBox[{"(", 
     RowBox[{
      FractionBox["1", "4"], "+", 
      FractionBox["\[ImaginaryI]", "4"]}], ")"}], " ", 
    InterpretationBox[
     TemplateBox[{
       TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
         InterpretationBox[
          TemplateBox[{"S", 
            TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"], 
            TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]}, 
           "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
          $CellContext`S[1, 3]], 
         InterpretationBox[
          TemplateBox[{"S", 
            TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"], 
            TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]}, 
           "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
          $CellContext`S[2, 3]], 
         InterpretationBox[
          TemplateBox[{"S", 
            TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"], 
            TemplateBox[{",", "\",\"", "\"X\""}, "RowWithSeparators"]}, 
           "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
          $CellContext`S[3, 1]]}, "RowWithSeparators"]},
      "RowDefault"],
     Q3`Multiply[
      $CellContext`S[1, 3], 
      $CellContext`S[2, 3], 
      $CellContext`S[3, 1]]]}], 
   SqrtBox["2"]], "-", 
  RowBox[{
   RowBox[{"(", 
    RowBox[{
     FractionBox["1", "8"], "+", 
     FractionBox["\[ImaginaryI]", "8"]}], ")"}], " ", 
   InterpretationBox[
    TemplateBox[{"S", 
      TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"], 
      TemplateBox[{",", "\",\"", "\"X\""}, "RowWithSeparators"]},
     "Subsuperscript"],
    $CellContext`S[1, 1]]}], "+", 
  RowBox[{
   FractionBox["1", "8"], " ", 
   RowBox[{"(", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{
       RowBox[{"-", "1"}], "+", "\[ImaginaryI]"}], ")"}], "+", 
     SqrtBox["2"]}], ")"}], " ", 
   InterpretationBox[
    TemplateBox[{"S", 
      TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"], 
      TemplateBox[{",", "\",\"", "\"X\""}, "RowWithSeparators"]},
     "Subsuperscript"],
    $CellContext`S[2, 1]]}], "+", 
  FractionBox[
   InterpretationBox[
    TemplateBox[{"S", 
      TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"], 
      TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]},
     "Subsuperscript"],
    $CellContext`S[2, 3]], 
   RowBox[{"4", " ", 
    SqrtBox["2"]}]], "-", 
  RowBox[{
   RowBox[{"(", 
    RowBox[{
     FractionBox["1", "8"], "+", 
     FractionBox["\[ImaginaryI]", "8"]}], ")"}], " ", 
   InterpretationBox[
    TemplateBox[{"S", 
      TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"], 
      TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]},
     "Subsuperscript"],
    $CellContext`S[3, 3]]}]}]], "Output",
 CellLabel->"Out[3]=",
 CellID->917964531,ExpressionUUID->"af148a0e-2c7b-46a0-b48d-7ea4cd3964a2"]
}, Open  ]],

Cell["\<\
In many cases, numerical approximation may be sufficient. Then, approximating \
it numerically improves the performance significantly.\
\>", "ExampleText",
 CellID->2026986986,ExpressionUUID->"066d5fd1-cd8f-4db5-9bb0-edcc2290b5fb"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"new", "=", 
  RowBox[{"QFT", "[", 
   RowBox[{"ss", ",", 
    RowBox[{"N", "->", "True"}]}], "]"}]}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[4]:=",
 CellID->128347872,ExpressionUUID->"e398b88e-8c07-4b53-a777-e6db23969fd8"],

Cell[BoxData[
 RowBox[{"QFT", "[", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{
     InterpretationBox[
      SubscriptBox["S", 
       TemplateBox[{",", "\",\"", "1"},
        "RowWithSeparators"]],
      $CellContext`S[1, Q3`$]], ",", 
     InterpretationBox[
      SubscriptBox["S", 
       TemplateBox[{",", "\",\"", "2"},
        "RowWithSeparators"]],
      $CellContext`S[2, Q3`$]], ",", 
     InterpretationBox[
      SubscriptBox["S", 
       TemplateBox[{",", "\",\"", "3"},
        "RowWithSeparators"]],
      $CellContext`S[3, Q3`$]]}], "}"}], ",", 
   RowBox[{"N", "\[Rule]", "True"}]}], "]"}]], "Output",
 CellLabel->"Out[4]=",
 CellID->1504321952,ExpressionUUID->"8e7acb4f-f1f2-4e7b-a8a3-fba27a4a1814"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"exprN", "=", 
  RowBox[{
   RowBox[{"Elaborate", "[", "new", "]"}], "//", "Chop"}]}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[5]:=",
 CellID->1370290686,ExpressionUUID->"09940018-52a2-44c8-887a-6080de8aa9a4"],

Cell[BoxData[
 RowBox[{
  RowBox[{"(", 
   RowBox[{"0.125`", "\[VeryThinSpace]", "+", 
    RowBox[{"0.12499999999999997`", " ", "\[ImaginaryI]"}]}], ")"}], "+", 
  RowBox[{
   RowBox[{"(", 
    RowBox[{"0.30177669529663687`", "\[VeryThinSpace]", "-", 
     RowBox[{"0.12499999999999997`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"X\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[1, 1]], 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"X\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[2, 1]]}, "RowWithSeparators"]},
     "RowDefault"],
    Q3`Multiply[
     $CellContext`S[1, 1], 
     $CellContext`S[2, 1]]]}], "+", 
  RowBox[{"0.17677669529663687`", " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"X\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[1, 1]], 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[2, 3]]}, "RowWithSeparators"]},
     "RowDefault"],
    Q3`Multiply[
     $CellContext`S[1, 1], 
     $CellContext`S[2, 3]]]}], "+", 
  RowBox[{
   RowBox[{"(", 
    RowBox[{"0.12499999999999999`", "\[VeryThinSpace]", "+", 
     RowBox[{"0.125`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"X\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[1, 1]], 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[3, 3]]}, "RowWithSeparators"]},
     "RowDefault"],
    Q3`Multiply[
     $CellContext`S[1, 1], 
     $CellContext`S[3, 3]]]}], "-", 
  RowBox[{
   RowBox[{"(", 
    RowBox[{"0.17677669529663687`", "\[VeryThinSpace]", "-", 
     RowBox[{"0.17677669529663687`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"Y\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[1, 2]], 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"Y\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[3, 2]]}, "RowWithSeparators"]},
     "RowDefault"],
    Q3`Multiply[
     $CellContext`S[1, 2], 
     $CellContext`S[3, 2]]]}], "+", 
  RowBox[{
   RowBox[{"(", 
    RowBox[{"0.17677669529663687`", "\[VeryThinSpace]", "-", 
     RowBox[{"0.17677669529663687`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[1, 3]], 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"X\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[3, 1]]}, "RowWithSeparators"]},
     "RowDefault"],
    Q3`Multiply[
     $CellContext`S[1, 3], 
     $CellContext`S[3, 1]]]}], "+", 
  RowBox[{
   RowBox[{"(", 
    RowBox[{"0.30177669529663687`", "\[VeryThinSpace]", "-", 
     RowBox[{"0.125`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"X\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[2, 1]], 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[3, 3]]}, "RowWithSeparators"]},
     "RowDefault"],
    Q3`Multiply[
     $CellContext`S[2, 1], 
     $CellContext`S[3, 3]]]}], "+", 
  RowBox[{"0.17677669529663687`", " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[2, 3]], 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[3, 3]]}, "RowWithSeparators"]},
     "RowDefault"],
    Q3`Multiply[
     $CellContext`S[2, 3], 
     $CellContext`S[3, 3]]]}], "+", 
  RowBox[{
   RowBox[{"(", 
    RowBox[{"0.051776695296636865`", "\[VeryThinSpace]", "+", 
     RowBox[{"0.12499999999999997`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"X\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[1, 1]], 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"X\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[2, 1]], 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[3, 3]]}, "RowWithSeparators"]},
     "RowDefault"],
    Q3`Multiply[
     $CellContext`S[1, 1], 
     $CellContext`S[2, 1], 
     $CellContext`S[3, 3]]]}], "+", 
  RowBox[{"0.17677669529663687`", " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"X\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[1, 1]], 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[2, 3]], 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[3, 3]]}, "RowWithSeparators"]},
     "RowDefault"],
    Q3`Multiply[
     $CellContext`S[1, 1], 
     $CellContext`S[2, 3], 
     $CellContext`S[3, 3]]]}], "-", 
  RowBox[{
   RowBox[{"(", 
    RowBox[{"0.17677669529663687`", "\[VeryThinSpace]", "+", 
     RowBox[{"0.17677669529663687`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"Y\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[1, 2]], 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"X\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[2, 1]], 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"Y\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[3, 2]]}, "RowWithSeparators"]},
     "RowDefault"],
    Q3`Multiply[
     $CellContext`S[1, 2], 
     $CellContext`S[2, 1], 
     $CellContext`S[3, 2]]]}], "-", 
  RowBox[{
   RowBox[{"(", 
    RowBox[{"0.17677669529663687`", "\[VeryThinSpace]", "-", 
     RowBox[{"0.17677669529663687`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"Y\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[1, 2]], 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"Y\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[2, 2]], 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"X\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[3, 1]]}, "RowWithSeparators"]},
     "RowDefault"],
    Q3`Multiply[
     $CellContext`S[1, 2], 
     $CellContext`S[2, 2], 
     $CellContext`S[3, 1]]]}], "-", 
  RowBox[{
   RowBox[{"(", 
    RowBox[{"0.17677669529663687`", "\[VeryThinSpace]", "+", 
     RowBox[{"0.17677669529663687`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"Y\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[1, 2]], 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[2, 3]], 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"Y\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[3, 2]]}, "RowWithSeparators"]},
     "RowDefault"],
    Q3`Multiply[
     $CellContext`S[1, 2], 
     $CellContext`S[2, 3], 
     $CellContext`S[3, 2]]]}], "+", 
  RowBox[{
   RowBox[{"(", 
    RowBox[{"0.17677669529663687`", "\[VeryThinSpace]", "+", 
     RowBox[{"0.17677669529663687`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[1, 3]], 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"X\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[2, 1]], 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"X\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[3, 1]]}, "RowWithSeparators"]},
     "RowDefault"],
    Q3`Multiply[
     $CellContext`S[1, 3], 
     $CellContext`S[2, 1], 
     $CellContext`S[3, 1]]]}], "-", 
  RowBox[{
   RowBox[{"(", 
    RowBox[{"0.17677669529663687`", "\[VeryThinSpace]", "-", 
     RowBox[{"0.17677669529663687`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[1, 3]], 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"Y\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[2, 2]], 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"Y\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[3, 2]]}, "RowWithSeparators"]},
     "RowDefault"],
    Q3`Multiply[
     $CellContext`S[1, 3], 
     $CellContext`S[2, 2], 
     $CellContext`S[3, 2]]]}], "+", 
  RowBox[{
   RowBox[{"(", 
    RowBox[{"0.17677669529663687`", "\[VeryThinSpace]", "+", 
     RowBox[{"0.17677669529663687`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[1, 3]], 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[2, 3]], 
        InterpretationBox[
         TemplateBox[{"S", 
           TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"], 
           TemplateBox[{",", "\",\"", "\"X\""}, "RowWithSeparators"]}, 
          "Subsuperscript", SyntaxForm -> SubsuperscriptBox], 
         $CellContext`S[3, 1]]}, "RowWithSeparators"]},
     "RowDefault"],
    Q3`Multiply[
     $CellContext`S[1, 3], 
     $CellContext`S[2, 3], 
     $CellContext`S[3, 1]]]}], "-", 
  RowBox[{
   RowBox[{"(", 
    RowBox[{"0.12499999999999999`", "\[VeryThinSpace]", "+", 
     RowBox[{"0.125`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
   InterpretationBox[
    TemplateBox[{"S", 
      TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"], 
      TemplateBox[{",", "\",\"", "\"X\""}, "RowWithSeparators"]},
     "Subsuperscript"],
    $CellContext`S[1, 1]]}], "+", 
  RowBox[{
   RowBox[{"(", 
    RowBox[{"0.05177669529663689`", "\[VeryThinSpace]", "+", 
     RowBox[{"0.125`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
   InterpretationBox[
    TemplateBox[{"S", 
      TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"], 
      TemplateBox[{",", "\",\"", "\"X\""}, "RowWithSeparators"]},
     "Subsuperscript"],
    $CellContext`S[2, 1]]}], "+", 
  RowBox[{"0.17677669529663687`", " ", 
   InterpretationBox[
    TemplateBox[{"S", 
      TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"], 
      TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]},
     "Subsuperscript"],
    $CellContext`S[2, 3]]}], "-", 
  RowBox[{
   RowBox[{"(", 
    RowBox[{"0.125`", "\[VeryThinSpace]", "+", 
     RowBox[{"0.12499999999999997`", " ", "\[ImaginaryI]"}]}], ")"}], " ", 
   InterpretationBox[
    TemplateBox[{"S", 
      TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"], 
      TemplateBox[{",", "\",\"", "\"Z\""}, "RowWithSeparators"]},
     "Subsuperscript"],
    $CellContext`S[3, 3]]}]}]], "Output",
 CellLabel->"Out[5]=",
 CellID->1171499210,ExpressionUUID->"336c8649-43bd-41b5-94bb-7021a3435e73"]
}, Open  ]]
}, Dynamic[CurrentValue[
 EvaluationNotebook[], {TaggingRules, "Openers", "ExampleSubsection", "1"}, 
  Closed]]]],

Cell[CellGroupData[{

Cell[TextData[{
 Cell[BoxData[
  DynamicBox[ToBoxes[
    If[
     MatchQ[
      CurrentValue[
       EvaluationNotebook[], {
       TaggingRules, "Openers", "ExampleSubsection", "2"}, Closed], 
      Alternatives[Open, True]], 
     Style[
      Graphics[{
        Thickness[0.18], 
        RGBColor[0.8509803921568627, 0.396078431372549, 0], 
        Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
       PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
      0.68 Inherited], 
     Rotate[
      Style[
       Graphics[{
         Thickness[0.18], 
         RGBColor[0.8509803921568627, 0.396078431372549, 0], 
         Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
        PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
       0.68 Inherited], Rational[1, 2] Pi, {-1.65, -1}]]],
   ImageSizeCache->{14., {0.45000000000000107`, 13.549999999999999`}}]],
  ExpressionUUID->"d18e4546-059a-4a1e-8524-b9234a306a6a"],
 Cell[BoxData[
  TemplateBox[{1},
   "Spacer1"]],ExpressionUUID->"d4fef336-0704-4d9a-bca2-8815a50540d8"],
 "\"Label\"",
 "\[NonBreakingSpace]\[NonBreakingSpace]",
 Cell["(1)", "ExampleCount",ExpressionUUID->
  "3abaf819-ad6f-4d1c-a255-77f4bd7855aa"]
}], "ExampleSubsection", "ExampleSubsection",
 WholeCellGroupOpener->True,
 CacheGraphics->False,
 CellID->1757724783,ExpressionUUID->"4e9779b7-7246-4119-b680-0de6092fa095"],

Cell[BoxData[
 RowBox[{"Let", "[", 
  RowBox[{"Qubit", ",", "S"}], "]"}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[1]:=",
 CellID->2062892999,ExpressionUUID->"f947207e-fc5f-4615-b3d4-a3cef4b62cc1"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"QuantumCircuit", "[", 
  RowBox[{"QFT", "[", 
   RowBox[{"S", "@", 
    RowBox[{"{", 
     RowBox[{"1", ",", "2", ",", "3"}], "}"}]}], "]"}], "]"}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[2]:=",
 CellID->1575895929,ExpressionUUID->"f945374e-5719-4444-8429-255fd80fb251"],

Cell[BoxData[
 InterpretationBox[
  GraphicsBox[{
    {Dashing[{Small, Small}], LineBox[{}]}, 
    LineBox[{{{0, -1}, {2, -1}}, {{0, -2}, {2, -2}}, {{0, -3}, {2, -3}}}], {
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{0.6, -3.4}, {1.4, -0.6}]}, InsetBox[
      StyleBox[
       RotationBox["\<\"QFT\"\>",
        BoxRotation->1.5707963267948966`],
       StripOnInput->False,
       FontSize->Scaled[0.2],
       FontWeight->"Light",
       FontSlant->Italic], {1, -2}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
       ImageScaled[{0.5, 0.5}]]]}},
   AxesStyle->Large,
   FrameStyle->Large,
   ImagePadding->{{23.400000000000002`, 23.400000000000002`}, {1, 1}},
   ImageSize->118.8,
   PlotRange->NCache[{Full, {
       Rational[-7, 2], 
       Rational[-1, 2]}}, {Full, {-3.5, -0.5}}],
   PlotRangePadding->Scaled[0.025]],
  Q3`QuantumCircuit[
   Q3`QFT[{
     $CellContext`S[1, Q3`$], 
     $CellContext`S[2, Q3`$], 
     $CellContext`S[3, Q3`$]}]]]], "Output",
 CellLabel->"Out[2]=",
 CellID->457330713,ExpressionUUID->"71243c61-7f19-4f30-847c-a8c8d38169d3"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"QuantumCircuit", "[", 
  RowBox[{"QFT", "[", 
   RowBox[{
    RowBox[{"S", "@", 
     RowBox[{"{", 
      RowBox[{"1", ",", "2", ",", "3"}], "}"}]}], ",", 
    RowBox[{"\"\<Label\>\"", "->", "\"\<DFT\>\""}]}], "]"}], "]"}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[3]:=",
 CellID->424855823,ExpressionUUID->"55d71311-77ff-4d36-87aa-37ffc284c5b3"],

Cell[BoxData[
 InterpretationBox[
  GraphicsBox[{
    {Dashing[{Small, Small}], LineBox[{}]}, 
    LineBox[{{{0, -1}, {2, -1}}, {{0, -2}, {2, -2}}, {{0, -3}, {2, -3}}}], {
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{0.6, -3.4}, {1.4, -0.6}]}, InsetBox[
      StyleBox[
       RotationBox["\<\"QFT\"\>",
        BoxRotation->1.5707963267948966`],
       StripOnInput->False,
       FontSize->Scaled[0.2],
       FontWeight->"Light",
       FontSlant->Italic], {1, -2}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
       ImageScaled[{0.5, 0.5}]]]}},
   AxesStyle->Large,
   FrameStyle->Large,
   ImagePadding->{{23.400000000000002`, 23.400000000000002`}, {1, 1}},
   ImageSize->118.8,
   PlotRange->NCache[{Full, {
       Rational[-7, 2], 
       Rational[-1, 2]}}, {Full, {-3.5, -0.5}}],
   PlotRangePadding->Scaled[0.025]],
  Q3`QuantumCircuit[
   Q3`QFT[{
     $CellContext`S[1, Q3`$], 
     $CellContext`S[2, Q3`$], 
     $CellContext`S[3, Q3`$]}, "Label" -> "DFT"]]]], "Output",
 CellLabel->"Out[3]=",
 CellID->1178426550,ExpressionUUID->"6c1786d5-cc3e-47eb-adc9-f34afcafb7a4"]
}, Open  ]]
}, Dynamic[CurrentValue[
 EvaluationNotebook[], {TaggingRules, "Openers", "ExampleSubsection", "2"}, 
  Closed]]]],

Cell[CellGroupData[{

Cell[TextData[{
 Cell[BoxData[
  DynamicBox[ToBoxes[
    If[
     MatchQ[
      CurrentValue[
       EvaluationNotebook[], {
       TaggingRules, "Openers", "ExampleSubsection", "3"}, Closed], 
      Alternatives[Open, True]], 
     Style[
      Graphics[{
        Thickness[0.18], 
        RGBColor[0.8509803921568627, 0.396078431372549, 0], 
        Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
       PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
      0.68 Inherited], 
     Rotate[
      Style[
       Graphics[{
         Thickness[0.18], 
         RGBColor[0.8509803921568627, 0.396078431372549, 0], 
         Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
        PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
       0.68 Inherited], Rational[1, 2] Pi, {-1.65, -1}]]],
   ImageSizeCache->{14., {0.45000000000000107`, 13.549999999999999`}}]],
  ExpressionUUID->"32d86682-90b2-4366-9c99-6c55b8b01ea1"],
 Cell[BoxData[
  TemplateBox[{1},
   "Spacer1"]],ExpressionUUID->"90ac6d3d-c363-4418-995d-6c9523e73412"],
 "\"LabelAngle\"",
 "\[NonBreakingSpace]\[NonBreakingSpace]",
 Cell["(1)", "ExampleCount",ExpressionUUID->
  "9155dccb-ce60-4b63-a882-12325a3f290d"]
}], "ExampleSubsection", "ExampleSubsection",
 WholeCellGroupOpener->True,
 CacheGraphics->False,
 CellID->1295379749,ExpressionUUID->"2a3d10d6-88c8-4863-a92e-2fd01125d0ae"],

Cell[BoxData[
 RowBox[{"Let", "[", 
  RowBox[{"Qubit", ",", "S"}], "]"}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[1]:=",
 CellID->753183923,ExpressionUUID->"f7d5c074-af48-4869-8a08-16ebcc7e85c9"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"QuantumCircuit", "[", 
  RowBox[{"QFT", "[", 
   RowBox[{"S", "@", 
    RowBox[{"{", 
     RowBox[{"1", ",", "2", ",", "3"}], "}"}]}], "]"}], "]"}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[2]:=",
 CellID->1177126702,ExpressionUUID->"e010bb09-bffc-4284-84bf-c6470e09bbda"],

Cell[BoxData[
 InterpretationBox[
  GraphicsBox[{
    {Dashing[{Small, Small}], LineBox[{}]}, 
    LineBox[{{{0, -1}, {2, -1}}, {{0, -2}, {2, -2}}, {{0, -3}, {2, -3}}}], {
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{0.6, -3.4}, {1.4, -0.6}]}, InsetBox[
      StyleBox[
       RotationBox["\<\"QFT\"\>",
        BoxRotation->1.5707963267948966`],
       StripOnInput->False,
       FontSize->Scaled[0.2],
       FontWeight->"Light",
       FontSlant->Italic], {1, -2}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
       ImageScaled[{0.5, 0.5}]]]}},
   AxesStyle->Large,
   FrameStyle->Large,
   ImagePadding->{{23.400000000000002`, 23.400000000000002`}, {1, 1}},
   ImageSize->118.8,
   PlotRange->NCache[{Full, {
       Rational[-7, 2], 
       Rational[-1, 2]}}, {Full, {-3.5, -0.5}}],
   PlotRangePadding->Scaled[0.025]],
  Q3`QuantumCircuit[
   Q3`QFT[{
     $CellContext`S[1, Q3`$], 
     $CellContext`S[2, Q3`$], 
     $CellContext`S[3, Q3`$]}]]]], "Output",
 CellLabel->"Out[2]=",
 CellID->2123326225,ExpressionUUID->"e2b20eb3-2b9a-48b9-842b-876326d16ca3"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"QuantumCircuit", "[", 
  RowBox[{"QFT", "[", 
   RowBox[{
    RowBox[{"S", "@", 
     RowBox[{"{", 
      RowBox[{"1", ",", "2", ",", "3"}], "}"}]}], ",", 
    RowBox[{"\"\<LabelAngle\>\"", "->", "0"}]}], "]"}], "]"}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[3]:=",
 CellID->1697291578,ExpressionUUID->"d84786fc-8310-43e3-8bc2-44566627b4be"],

Cell[BoxData[
 InterpretationBox[
  GraphicsBox[{
    {Dashing[{Small, Small}], LineBox[{}]}, 
    LineBox[{{{0, -1}, {2, -1}}, {{0, -2}, {2, -2}}, {{0, -3}, {2, -3}}}], {
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{0.6, -3.4}, {1.4, -0.6}]}, InsetBox[
      StyleBox["\<\"QFT\"\>",
       StripOnInput->False,
       FontSize->Scaled[0.2],
       FontWeight->"Light",
       FontSlant->Italic], {1, -2}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
       ImageScaled[{0.5, 0.5}]]]}},
   AxesStyle->Large,
   FrameStyle->Large,
   ImagePadding->{{23.400000000000002`, 23.400000000000002`}, {1, 1}},
   ImageSize->118.8,
   PlotRange->NCache[{Full, {
       Rational[-7, 2], 
       Rational[-1, 2]}}, {Full, {-3.5, -0.5}}],
   PlotRangePadding->Scaled[0.025]],
  Q3`QuantumCircuit[
   Q3`QFT[{
     $CellContext`S[1, Q3`$], 
     $CellContext`S[2, Q3`$], 
     $CellContext`S[3, Q3`$]}, "LabelAngle" -> 0]]]], "Output",
 CellLabel->"Out[3]=",
 CellID->38783641,ExpressionUUID->"659710d5-653f-4622-84f5-0f9a1c1024b1"]
}, Open  ]]
}, Dynamic[CurrentValue[
 EvaluationNotebook[], {TaggingRules, "Openers", "ExampleSubsection", "3"}, 
  Closed]]]]
}, Dynamic[CurrentValue[
 EvaluationNotebook[], {TaggingRules, "Openers", "ExampleSection", "2"}, 
  Closed]]]],

Cell[CellGroupData[{

Cell[TextData[{
 Cell[BoxData[
  DynamicBox[ToBoxes[
    If[
     MatchQ[
      CurrentValue[
       EvaluationNotebook[], {TaggingRules, "Openers", "ExampleSection", "3"},
        Closed], 
      Alternatives[Open, True]], 
     Style[
      Graphics[{
        Thickness[0.18], 
        RGBColor[0.8509803921568627, 0.396078431372549, 0], 
        Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
       PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
      0.68 Inherited], 
     Rotate[
      Style[
       Graphics[{
         Thickness[0.18], 
         RGBColor[0.8509803921568627, 0.396078431372549, 0], 
         Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
        PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
       0.68 Inherited], Rational[1, 2] Pi, {-1.65, -1}]]],
   ImageSizeCache->{14., {5., 9.}}]],ExpressionUUID->
  "48ec9850-a905-47d3-98dc-f4022756b18a"],
 Cell[BoxData[
  TemplateBox[{1},
   "Spacer1"]],ExpressionUUID->"6709f2b2-8aa1-4d42-b9a4-0b72e84c59c3"],
 "Properties & Relations",
 "\[NonBreakingSpace]\[NonBreakingSpace]",
 Cell["(8)", "ExampleCount",ExpressionUUID->
  "e63185cf-58d4-4daf-b982-55c2bfb92407"]
}], "ExampleSection", "ExampleSection",
 WholeCellGroupOpener->True,
 CacheGraphics->False,
 CellID->2123667759,ExpressionUUID->"a1b7b0b6-41b4-49fe-bf1c-9f9e25ad2a7c"],

Cell["\<\
The evaluation performance of a quantum circuit may vary significantly \
depending on how you evaluate it (that is, either using \
Evaluate/ExpressionFor or Matrix), whether there is an input or not, or \
either directly working with high-level gates or elementary gates.\
\>", "ExampleText",
 CellID->1326551885,ExpressionUUID->"19e6d81e-f69d-4681-b1b3-386e2b609e3f"],

Cell[TextData[{
 "For example, consider the ",
 Cell[BoxData[
  TemplateBox[{
    Cell[
     TextData["QFT"]], "paclet:Q3/ref/QFT", "Q3 Package Symbol"},
   "PackageLink",
   BaseStyle->"InlineFormula"]], "InlineFormula",
  FontFamily->"Source Sans Pro",ExpressionUUID->
  "97e56223-0b66-4e89-bc43-7501ffc0bc6c"],
 " gate, which is a high-level gate representing the quantum Fourier \
transform."
}], "ExampleText",
 CellID->1844377872,ExpressionUUID->"c1d581ca-5a22-4ecf-8e31-4c290f85c3a7"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"$n", "=", "4"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"Let", "[", 
  RowBox[{"Qubit", ",", "S"}], "]"}], "\[IndentingNewLine]", 
 RowBox[{"SS", "=", 
  RowBox[{"S", "[", 
   RowBox[{
    RowBox[{"Range", "@", "$n"}], ",", "$"}], "]"}]}]}], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[1]:=",
 CellID->750101519,ExpressionUUID->"fc2b530d-8d72-443b-9538-5fb5a36c3a3a"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   InterpretationBox[
    SubscriptBox["S", 
     TemplateBox[{",", "\",\"", "1"},
      "RowWithSeparators"]],
    $CellContext`S[1, Q3`$]], ",", 
   InterpretationBox[
    SubscriptBox["S", 
     TemplateBox[{",", "\",\"", "2"},
      "RowWithSeparators"]],
    $CellContext`S[2, Q3`$]], ",", 
   InterpretationBox[
    SubscriptBox["S", 
     TemplateBox[{",", "\",\"", "3"},
      "RowWithSeparators"]],
    $CellContext`S[3, Q3`$]], ",", 
   InterpretationBox[
    SubscriptBox["S", 
     TemplateBox[{",", "\",\"", "4"},
      "RowWithSeparators"]],
    $CellContext`S[4, Q3`$]]}], "}"}]], "Output",
 CellLabel->"Out[1]=",
 CellID->1614273162,ExpressionUUID->"1b2c320d-3b79-4a07-b84e-20dac1c24963"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"op", "=", 
  RowBox[{"QFT", "[", "SS", "]"}]}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[2]:=",
 CellID->1656672336,ExpressionUUID->"3d4ddc8f-5b0d-4032-b038-087f012002bd"],

Cell[BoxData[
 RowBox[{"QFT", "[", 
  RowBox[{"{", 
   RowBox[{
    InterpretationBox[
     SubscriptBox["S", 
      TemplateBox[{",", "\",\"", "1"},
       "RowWithSeparators"]],
     $CellContext`S[1, Q3`$]], ",", 
    InterpretationBox[
     SubscriptBox["S", 
      TemplateBox[{",", "\",\"", "2"},
       "RowWithSeparators"]],
     $CellContext`S[2, Q3`$]], ",", 
    InterpretationBox[
     SubscriptBox["S", 
      TemplateBox[{",", "\",\"", "3"},
       "RowWithSeparators"]],
     $CellContext`S[3, Q3`$]], ",", 
    InterpretationBox[
     SubscriptBox["S", 
      TemplateBox[{",", "\",\"", "4"},
       "RowWithSeparators"]],
     $CellContext`S[4, Q3`$]]}], "}"}], "]"}]], "Output",
 CellLabel->"Out[2]=",
 CellID->1343038270,ExpressionUUID->"f8f2b31e-ffd0-4a9c-9a95-b9e013cce528"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"qc", "=", 
  RowBox[{"QuantumCircuit", "[", "op", "]"}]}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[3]:=",
 CellID->1092106273,ExpressionUUID->"bcceb716-ed3f-4395-b08e-7caf509910fd"],

Cell[BoxData[
 InterpretationBox[
  GraphicsBox[{
    {Dashing[{Small, Small}], LineBox[{}]}, 
    LineBox[{{{0, -1}, {2, -1}}, {{0, -2}, {2, -2}}, {{0, -3}, {2, -3}}, {{
     0, -4}, {2, -4}}}], {
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{0.6, -4.4}, {1.4, -0.6}]}, InsetBox[
      StyleBox["\<\"QFT\"\>",
       StripOnInput->False,
       FontSize->Scaled[0.2],
       FontWeight->"Light",
       FontSlant->Italic], {1., -2.5}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {0, 1}]}},
   AxesStyle->Large,
   FrameStyle->Large,
   ImagePadding->{{23.400000000000002`, 23.400000000000002`}, {7.2, 7.2}},
   ImageSize->118.8,
   PlotRange->{{0, 2}, {-4.5, -0.5}},
   PlotRangePadding->Scaled[0.025]],
  Q3`QuantumCircuit[
   Q3`QFT[{
     $CellContext`S[1, Q3`$], 
     $CellContext`S[2, Q3`$], 
     $CellContext`S[3, Q3`$], 
     $CellContext`S[4, Q3`$]}]]]], "Output",
 CellLabel->"Out[3]=",
 CellID->1818315264,ExpressionUUID->"f6902201-6cd9-4ef9-a80c-68a3608eadce"]
}, Open  ]],

Cell["Evaluating the circuit is reasonably fast.", "ExampleText",
 CellID->1188118867,ExpressionUUID->"4aa51914-d87d-4c4c-a10b-ab23e839422d"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"EchoTiming", "[", 
  RowBox[{
   RowBox[{"exp", "=", 
    RowBox[{"Elaborate", "[", "qc", "]"}]}], ";"}], "]"}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[4]:=",
 CellID->1516752790,ExpressionUUID->"669a4c68-e146-4331-8077-23e202cfe097"],

Cell[BoxData["0.815395`"], "EchoTiming",
 CellID->591679553,ExpressionUUID->"71bf096b-9413-4318-9e4e-b2ba96b3be99"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"EchoTiming", "[", 
  RowBox[{
   RowBox[{"mat", "=", 
    RowBox[{"Matrix", "[", "qc", "]"}]}], ";"}], "]"}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[5]:=",
 CellID->2006007153,ExpressionUUID->"9e77f999-2f41-4bba-a5b5-8a2b51296782"],

Cell[BoxData["0.004273`"], "EchoTiming",
 CellID->602966676,ExpressionUUID->"b69e8add-2231-488e-ac54-5f035d58f703"]
}, Open  ]],

Cell["Operating it on a Ket expression is also fast.", "ExampleText",
 CellID->122037108,ExpressionUUID->"97e6fd3e-52f5-477b-9762-cafac06d5cb4"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"EchoTiming", "[", "\[IndentingNewLine]", 
  RowBox[{
   RowBox[{"in", "=", 
    RowBox[{"Ket", "[", 
     RowBox[{"SS", "->", "1"}], "]"}]}], ";", "\[IndentingNewLine]", 
   RowBox[{"out", "=", 
    RowBox[{"qc", "**", "in"}]}]}], "\[IndentingNewLine]", "]"}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[6]:=",
 CellID->1043266157,ExpressionUUID->"3e76469e-ca2c-4191-a940-3a24c6a5ff57"],

Cell[BoxData["0.025119`"], "EchoTiming",
 CellID->1816876483,ExpressionUUID->"96583eb8-d91e-46e6-9a6d-9fc4787c82a5"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   FractionBox["1", "4"], " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        SubscriptBox["0", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["S", 
             TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
            $CellContext`S[1, Q3`$]]}, "RowWithSeparators"]], 
        SubscriptBox["0", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["S", 
             TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
            $CellContext`S[2, Q3`$]]}, "RowWithSeparators"]], 
        SubscriptBox["0", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["S", 
             TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
            $CellContext`S[3, Q3`$]]}, "RowWithSeparators"]], 
        SubscriptBox["0", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["S", 
             TemplateBox[{",", "\",\"", "4"}, "RowWithSeparators"]], 
            $CellContext`S[4, Q3`$]]}, "RowWithSeparators"]]}, 
       "RowWithSeparators"]},
     "Ket"],
    Ket[<|$CellContext`S[1, Q3`$] -> 0, $CellContext`S[2, Q3`$] -> 
      0, $CellContext`S[3, Q3`$] -> 0, $CellContext`S[4, Q3`$] -> 0|>]]}], 
  "-", 
  RowBox[{
   FractionBox["1", "4"], " ", 
   SuperscriptBox[
    RowBox[{"(", 
     RowBox[{"-", "1"}], ")"}], 
    RowBox[{"7", "/", "8"}]], " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        SubscriptBox["0", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["S", 
             TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
            $CellContext`S[1, Q3`$]]}, "RowWithSeparators"]], 
        SubscriptBox["0", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["S", 
             TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
            $CellContext`S[2, Q3`$]]}, "RowWithSeparators"]], 
        SubscriptBox["0", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["S", 
             TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
            $CellContext`S[3, Q3`$]]}, "RowWithSeparators"]], 
        SubscriptBox["1", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["S", 
             TemplateBox[{",", "\",\"", "4"}, "RowWithSeparators"]], 
            $CellContext`S[4, Q3`$]]}, "RowWithSeparators"]]}, 
       "RowWithSeparators"]},
     "Ket"],
    Ket[<|$CellContext`S[1, Q3`$] -> 0, $CellContext`S[2, Q3`$] -> 
      0, $CellContext`S[3, Q3`$] -> 0, $CellContext`S[4, Q3`$] -> 1|>]]}], 
  "-", 
  RowBox[{
   FractionBox["1", "4"], " ", 
   SuperscriptBox[
    RowBox[{"(", 
     RowBox[{"-", "1"}], ")"}], 
    RowBox[{"3", "/", "4"}]], " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        SubscriptBox["0", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["S", 
             TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
            $CellContext`S[1, Q3`$]]}, "RowWithSeparators"]], 
        SubscriptBox["0", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["S", 
             TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
            $CellContext`S[2, Q3`$]]}, "RowWithSeparators"]], 
        SubscriptBox["1", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["S", 
             TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
            $CellContext`S[3, Q3`$]]}, "RowWithSeparators"]], 
        SubscriptBox["0", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["S", 
             TemplateBox[{",", "\",\"", "4"}, "RowWithSeparators"]], 
            $CellContext`S[4, Q3`$]]}, "RowWithSeparators"]]}, 
       "RowWithSeparators"]},
     "Ket"],
    Ket[<|$CellContext`S[1, Q3`$] -> 0, $CellContext`S[2, Q3`$] -> 
      0, $CellContext`S[3, Q3`$] -> 1, $CellContext`S[4, Q3`$] -> 0|>]]}], 
  "-", 
  RowBox[{
   FractionBox["1", "4"], " ", 
   SuperscriptBox[
    RowBox[{"(", 
     RowBox[{"-", "1"}], ")"}], 
    RowBox[{"5", "/", "8"}]], " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        SubscriptBox["0", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["S", 
             TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
            $CellContext`S[1, Q3`$]]}, "RowWithSeparators"]], 
        SubscriptBox["0", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["S", 
             TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
            $CellContext`S[2, Q3`$]]}, "RowWithSeparators"]], 
        SubscriptBox["1", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["S", 
             TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
            $CellContext`S[3, Q3`$]]}, "RowWithSeparators"]], 
        SubscriptBox["1", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["S", 
             TemplateBox[{",", "\",\"", "4"}, "RowWithSeparators"]], 
            $CellContext`S[4, Q3`$]]}, "RowWithSeparators"]]}, 
       "RowWithSeparators"]},
     "Ket"],
    Ket[<|$CellContext`S[1, Q3`$] -> 0, $CellContext`S[2, Q3`$] -> 
      0, $CellContext`S[3, Q3`$] -> 1, $CellContext`S[4, Q3`$] -> 1|>]]}], 
  "-", 
  RowBox[{
   FractionBox["1", "4"], " ", "\[ImaginaryI]", " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        SubscriptBox["0", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["S", 
             TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
            $CellContext`S[1, Q3`$]]}, "RowWithSeparators"]], 
        SubscriptBox["1", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["S", 
             TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
            $CellContext`S[2, Q3`$]]}, "RowWithSeparators"]], 
        SubscriptBox["0", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["S", 
             TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
            $CellContext`S[3, Q3`$]]}, "RowWithSeparators"]], 
        SubscriptBox["0", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["S", 
             TemplateBox[{",", "\",\"", "4"}, "RowWithSeparators"]], 
            $CellContext`S[4, Q3`$]]}, "RowWithSeparators"]]}, 
       "RowWithSeparators"]},
     "Ket"],
    Ket[<|$CellContext`S[1, Q3`$] -> 0, $CellContext`S[2, Q3`$] -> 
      1, $CellContext`S[3, Q3`$] -> 0, $CellContext`S[4, Q3`$] -> 0|>]]}], 
  "-", 
  RowBox[{
   FractionBox["1", "4"], " ", 
   SuperscriptBox[
    RowBox[{"(", 
     RowBox[{"-", "1"}], ")"}], 
    RowBox[{"3", "/", "8"}]], " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        SubscriptBox["0", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["S", 
             TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
            $CellContext`S[1, Q3`$]]}, "RowWithSeparators"]], 
        SubscriptBox["1", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["S", 
             TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
            $CellContext`S[2, Q3`$]]}, "RowWithSeparators"]], 
        SubscriptBox["0", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["S", 
             TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
            $CellContext`S[3, Q3`$]]}, "RowWithSeparators"]], 
        SubscriptBox["1", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["S", 
             TemplateBox[{",", "\",\"", "4"}, "RowWithSeparators"]], 
            $CellContext`S[4, Q3`$]]}, "RowWithSeparators"]]}, 
       "RowWithSeparators"]},
     "Ket"],
    Ket[<|$CellContext`S[1, Q3`$] -> 0, $CellContext`S[2, Q3`$] -> 
      1, $CellContext`S[3, Q3`$] -> 0, $CellContext`S[4, Q3`$] -> 1|>]]}], 
  "-", 
  RowBox[{
   FractionBox["1", "4"], " ", 
   SuperscriptBox[
    RowBox[{"(", 
     RowBox[{"-", "1"}], ")"}], 
    RowBox[{"1", "/", "4"}]], " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        SubscriptBox["0", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["S", 
             TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
            $CellContext`S[1, Q3`$]]}, "RowWithSeparators"]], 
        SubscriptBox["1", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["S", 
             TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
            $CellContext`S[2, Q3`$]]}, "RowWithSeparators"]], 
        SubscriptBox["1", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["S", 
             TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
            $CellContext`S[3, Q3`$]]}, "RowWithSeparators"]], 
        SubscriptBox["0", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["S", 
             TemplateBox[{",", "\",\"", "4"}, "RowWithSeparators"]], 
            $CellContext`S[4, Q3`$]]}, "RowWithSeparators"]]}, 
       "RowWithSeparators"]},
     "Ket"],
    Ket[<|$CellContext`S[1, Q3`$] -> 0, $CellContext`S[2, Q3`$] -> 
      1, $CellContext`S[3, Q3`$] -> 1, $CellContext`S[4, Q3`$] -> 0|>]]}], 
  "-", 
  RowBox[{
   FractionBox["1", "4"], " ", 
   SuperscriptBox[
    RowBox[{"(", 
     RowBox[{"-", "1"}], ")"}], 
    RowBox[{"1", "/", "8"}]], " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        SubscriptBox["0", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["S", 
             TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
            $CellContext`S[1, Q3`$]]}, "RowWithSeparators"]], 
        SubscriptBox["1", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["S", 
             TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
            $CellContext`S[2, Q3`$]]}, "RowWithSeparators"]], 
        SubscriptBox["1", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["S", 
             TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
            $CellContext`S[3, Q3`$]]}, "RowWithSeparators"]], 
        SubscriptBox["1", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["S", 
             TemplateBox[{",", "\",\"", "4"}, "RowWithSeparators"]], 
            $CellContext`S[4, Q3`$]]}, "RowWithSeparators"]]}, 
       "RowWithSeparators"]},
     "Ket"],
    Ket[<|$CellContext`S[1, Q3`$] -> 0, $CellContext`S[2, Q3`$] -> 
      1, $CellContext`S[3, Q3`$] -> 1, $CellContext`S[4, Q3`$] -> 1|>]]}], 
  "-", 
  RowBox[{
   FractionBox["1", "4"], " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        SubscriptBox["1", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["S", 
             TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
            $CellContext`S[1, Q3`$]]}, "RowWithSeparators"]], 
        SubscriptBox["0", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["S", 
             TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
            $CellContext`S[2, Q3`$]]}, "RowWithSeparators"]], 
        SubscriptBox["0", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["S", 
             TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
            $CellContext`S[3, Q3`$]]}, "RowWithSeparators"]], 
        SubscriptBox["0", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["S", 
             TemplateBox[{",", "\",\"", "4"}, "RowWithSeparators"]], 
            $CellContext`S[4, Q3`$]]}, "RowWithSeparators"]]}, 
       "RowWithSeparators"]},
     "Ket"],
    Ket[<|$CellContext`S[1, Q3`$] -> 1, $CellContext`S[2, Q3`$] -> 
      0, $CellContext`S[3, Q3`$] -> 0, $CellContext`S[4, Q3`$] -> 0|>]]}], 
  "+", 
  RowBox[{
   FractionBox["1", "4"], " ", 
   SuperscriptBox[
    RowBox[{"(", 
     RowBox[{"-", "1"}], ")"}], 
    RowBox[{"7", "/", "8"}]], " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        SubscriptBox["1", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["S", 
             TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
            $CellContext`S[1, Q3`$]]}, "RowWithSeparators"]], 
        SubscriptBox["0", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["S", 
             TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
            $CellContext`S[2, Q3`$]]}, "RowWithSeparators"]], 
        SubscriptBox["0", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["S", 
             TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
            $CellContext`S[3, Q3`$]]}, "RowWithSeparators"]], 
        SubscriptBox["1", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["S", 
             TemplateBox[{",", "\",\"", "4"}, "RowWithSeparators"]], 
            $CellContext`S[4, Q3`$]]}, "RowWithSeparators"]]}, 
       "RowWithSeparators"]},
     "Ket"],
    Ket[<|$CellContext`S[1, Q3`$] -> 1, $CellContext`S[2, Q3`$] -> 
      0, $CellContext`S[3, Q3`$] -> 0, $CellContext`S[4, Q3`$] -> 1|>]]}], 
  "+", 
  RowBox[{
   FractionBox["1", "4"], " ", 
   SuperscriptBox[
    RowBox[{"(", 
     RowBox[{"-", "1"}], ")"}], 
    RowBox[{"3", "/", "4"}]], " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        SubscriptBox["1", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["S", 
             TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
            $CellContext`S[1, Q3`$]]}, "RowWithSeparators"]], 
        SubscriptBox["0", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["S", 
             TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
            $CellContext`S[2, Q3`$]]}, "RowWithSeparators"]], 
        SubscriptBox["1", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["S", 
             TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
            $CellContext`S[3, Q3`$]]}, "RowWithSeparators"]], 
        SubscriptBox["0", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["S", 
             TemplateBox[{",", "\",\"", "4"}, "RowWithSeparators"]], 
            $CellContext`S[4, Q3`$]]}, "RowWithSeparators"]]}, 
       "RowWithSeparators"]},
     "Ket"],
    Ket[<|$CellContext`S[1, Q3`$] -> 1, $CellContext`S[2, Q3`$] -> 
      0, $CellContext`S[3, Q3`$] -> 1, $CellContext`S[4, Q3`$] -> 0|>]]}], 
  "+", 
  RowBox[{
   FractionBox["1", "4"], " ", 
   SuperscriptBox[
    RowBox[{"(", 
     RowBox[{"-", "1"}], ")"}], 
    RowBox[{"5", "/", "8"}]], " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        SubscriptBox["1", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["S", 
             TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
            $CellContext`S[1, Q3`$]]}, "RowWithSeparators"]], 
        SubscriptBox["0", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["S", 
             TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
            $CellContext`S[2, Q3`$]]}, "RowWithSeparators"]], 
        SubscriptBox["1", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["S", 
             TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
            $CellContext`S[3, Q3`$]]}, "RowWithSeparators"]], 
        SubscriptBox["1", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["S", 
             TemplateBox[{",", "\",\"", "4"}, "RowWithSeparators"]], 
            $CellContext`S[4, Q3`$]]}, "RowWithSeparators"]]}, 
       "RowWithSeparators"]},
     "Ket"],
    Ket[<|$CellContext`S[1, Q3`$] -> 1, $CellContext`S[2, Q3`$] -> 
      0, $CellContext`S[3, Q3`$] -> 1, $CellContext`S[4, Q3`$] -> 1|>]]}], 
  "+", 
  RowBox[{
   FractionBox["1", "4"], " ", "\[ImaginaryI]", " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        SubscriptBox["1", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["S", 
             TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
            $CellContext`S[1, Q3`$]]}, "RowWithSeparators"]], 
        SubscriptBox["1", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["S", 
             TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
            $CellContext`S[2, Q3`$]]}, "RowWithSeparators"]], 
        SubscriptBox["0", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["S", 
             TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
            $CellContext`S[3, Q3`$]]}, "RowWithSeparators"]], 
        SubscriptBox["0", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["S", 
             TemplateBox[{",", "\",\"", "4"}, "RowWithSeparators"]], 
            $CellContext`S[4, Q3`$]]}, "RowWithSeparators"]]}, 
       "RowWithSeparators"]},
     "Ket"],
    Ket[<|$CellContext`S[1, Q3`$] -> 1, $CellContext`S[2, Q3`$] -> 
      1, $CellContext`S[3, Q3`$] -> 0, $CellContext`S[4, Q3`$] -> 0|>]]}], 
  "+", 
  RowBox[{
   FractionBox["1", "4"], " ", 
   SuperscriptBox[
    RowBox[{"(", 
     RowBox[{"-", "1"}], ")"}], 
    RowBox[{"3", "/", "8"}]], " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        SubscriptBox["1", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["S", 
             TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
            $CellContext`S[1, Q3`$]]}, "RowWithSeparators"]], 
        SubscriptBox["1", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["S", 
             TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
            $CellContext`S[2, Q3`$]]}, "RowWithSeparators"]], 
        SubscriptBox["0", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["S", 
             TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
            $CellContext`S[3, Q3`$]]}, "RowWithSeparators"]], 
        SubscriptBox["1", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["S", 
             TemplateBox[{",", "\",\"", "4"}, "RowWithSeparators"]], 
            $CellContext`S[4, Q3`$]]}, "RowWithSeparators"]]}, 
       "RowWithSeparators"]},
     "Ket"],
    Ket[<|$CellContext`S[1, Q3`$] -> 1, $CellContext`S[2, Q3`$] -> 
      1, $CellContext`S[3, Q3`$] -> 0, $CellContext`S[4, Q3`$] -> 1|>]]}], 
  "+", 
  RowBox[{
   FractionBox["1", "4"], " ", 
   SuperscriptBox[
    RowBox[{"(", 
     RowBox[{"-", "1"}], ")"}], 
    RowBox[{"1", "/", "4"}]], " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        SubscriptBox["1", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["S", 
             TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
            $CellContext`S[1, Q3`$]]}, "RowWithSeparators"]], 
        SubscriptBox["1", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["S", 
             TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
            $CellContext`S[2, Q3`$]]}, "RowWithSeparators"]], 
        SubscriptBox["1", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["S", 
             TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
            $CellContext`S[3, Q3`$]]}, "RowWithSeparators"]], 
        SubscriptBox["0", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["S", 
             TemplateBox[{",", "\",\"", "4"}, "RowWithSeparators"]], 
            $CellContext`S[4, Q3`$]]}, "RowWithSeparators"]]}, 
       "RowWithSeparators"]},
     "Ket"],
    Ket[<|$CellContext`S[1, Q3`$] -> 1, $CellContext`S[2, Q3`$] -> 
      1, $CellContext`S[3, Q3`$] -> 1, $CellContext`S[4, Q3`$] -> 0|>]]}], 
  "+", 
  RowBox[{
   FractionBox["1", "4"], " ", 
   SuperscriptBox[
    RowBox[{"(", 
     RowBox[{"-", "1"}], ")"}], 
    RowBox[{"1", "/", "8"}]], " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        SubscriptBox["1", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["S", 
             TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
            $CellContext`S[1, Q3`$]]}, "RowWithSeparators"]], 
        SubscriptBox["1", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["S", 
             TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
            $CellContext`S[2, Q3`$]]}, "RowWithSeparators"]], 
        SubscriptBox["1", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["S", 
             TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
            $CellContext`S[3, Q3`$]]}, "RowWithSeparators"]], 
        SubscriptBox["1", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["S", 
             TemplateBox[{",", "\",\"", "4"}, "RowWithSeparators"]], 
            $CellContext`S[4, Q3`$]]}, "RowWithSeparators"]]}, 
       "RowWithSeparators"]},
     "Ket"],
    Ket[<|$CellContext`S[1, Q3`$] -> 1, $CellContext`S[2, Q3`$] -> 
      1, $CellContext`S[3, Q3`$] -> 1, $CellContext`S[4, Q3`$] -> 
      1|>]]}]}]], "Output",
 CellLabel->"Out[6]=",
 CellID->1173073088,ExpressionUUID->"edb91177-7310-4276-ac96-17697a13c894"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 InterpretationBox[Cell[
  "\t", "ExampleDelimiter",ExpressionUUID->
   "4b67c24d-728c-4690-b524-6001693db86f"],
  $Line = 0; Null]], "ExampleDelimiter",
 CellID->1166242150,ExpressionUUID->"04961e52-1056-4896-8035-d81c1a7b9022"],

Cell["\<\
Now, consider the decomposition of the high-level QFT gate into a set of more \
elementary gates.\
\>", "ExampleText",
 CellID->643625537,ExpressionUUID->"f52a7324-1cfe-47fb-bcc6-f9b05d758463"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"qc2", "=", 
  RowBox[{"QuantumCircuit", "[", 
   RowBox[{"Expand", "@", "op"}], "]"}]}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[1]:=",
 CellID->1791312436,ExpressionUUID->"c08d6504-3f14-45e5-9ca4-8172397f0ad2"],

Cell[BoxData[
 InterpretationBox[
  GraphicsBox[{
    {Dashing[{Small, Small}], LineBox[{}]}, 
    LineBox[{{{0, -1}, {9, -1}}, {{0, -2}, {9, -2}}, {{0, -3}, {9, -3}}, {{
     0, -4}, {9, -4}}}], {
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{0.6, -1.4}, {1.4, -0.6}]}, InsetBox[
      StyleBox["\<\"H\"\>",
       StripOnInput->False,
       FontSize->Scaled[0.044444444444444446`],
       FontWeight->"Light",
       FontSlant->Italic], {1., -1.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {LineBox[{{2, -1}, {2, -2}}], 
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{1.6, -1.4}, {2.4, -0.6},
       RoundingRadius->0.4]}, InsetBox[
      StyleBox["\<\"\\!\\(\\*OverscriptBox[\\(x\\), \\(~\\)]\\)\"\>",
       StripOnInput->False,
       FontSize->Scaled[0.044444444444444446`],
       FontWeight->"Light",
       FontSlant->Italic], {2., -1.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}], 
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{1.6, -2.4}, {2.4, -1.6}]}, InsetBox[
      StyleBox[
       TemplateBox[{
        "\"Z\"", "2", "\"\\!\\(\\*OverscriptBox[\\(x\\), \\(~\\)]\\)\""},
        "Subsuperscript"],
       StripOnInput->False,
       FontSize->Scaled[0.044444444444444446`],
       FontWeight->"Light",
       FontSlant->Italic], {2., -2.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{2.6, -2.4}, {3.4, -1.6}]}, InsetBox[
      StyleBox["\<\"H\"\>",
       StripOnInput->False,
       FontSize->Scaled[0.044444444444444446`],
       FontWeight->"Light",
       FontSlant->Italic], {3., -2.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {LineBox[{{4, -2}, {4, -1}, {4, -3}}], 
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{3.6, -2.4}, {4.4, -0.6},
       RoundingRadius->0.4]}, InsetBox[
      StyleBox["\<\"\\!\\(\\*OverscriptBox[\\(x\\), \\(~\\)]\\)\"\>",
       StripOnInput->False,
       FontSize->Scaled[0.044444444444444446`],
       FontWeight->"Light",
       FontSlant->Italic], {4., -1.5}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}], 
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{3.6, -3.4}, {4.4, -2.6}]}, InsetBox[
      StyleBox[
       TemplateBox[{
        "\"Z\"", "3", "\"\\!\\(\\*OverscriptBox[\\(x\\), \\(~\\)]\\)\""},
        "Subsuperscript"],
       StripOnInput->False,
       FontSize->Scaled[0.044444444444444446`],
       FontWeight->"Light",
       FontSlant->Italic], {4., -3.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{4.6, -3.4}, {5.4, -2.6}]}, InsetBox[
      StyleBox["\<\"H\"\>",
       StripOnInput->False,
       FontSize->Scaled[0.044444444444444446`],
       FontWeight->"Light",
       FontSlant->Italic], {5., -3.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {LineBox[{{6, -3}, {6, -2}, {6, -1}, {6, -4}}], 
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{5.6, -3.4}, {6.4, -0.6},
       RoundingRadius->0.4]}, InsetBox[
      StyleBox["\<\"\\!\\(\\*OverscriptBox[\\(x\\), \\(~\\)]\\)\"\>",
       StripOnInput->False,
       FontSize->Scaled[0.044444444444444446`],
       FontWeight->"Light",
       FontSlant->Italic], {6., -2.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}], 
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{5.6, -4.4}, {6.4, -3.6}]}, InsetBox[
      StyleBox[
       TemplateBox[{
        "\"Z\"", "4", "\"\\!\\(\\*OverscriptBox[\\(x\\), \\(~\\)]\\)\""},
        "Subsuperscript"],
       StripOnInput->False,
       FontSize->Scaled[0.044444444444444446`],
       FontWeight->"Light",
       FontSlant->Italic], {6., -4.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{6.6, -4.4}, {7.4, -3.6}]}, InsetBox[
      StyleBox["\<\"H\"\>",
       StripOnInput->False,
       FontSize->Scaled[0.044444444444444446`],
       FontWeight->"Light",
       FontSlant->Italic], {7., -4.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{7.6, -4.4}, {8.4, -0.6}]}, InsetBox[
      StyleBox["\<\"QBR\"\>",
       StripOnInput->False,
       FontSize->Scaled[0.044444444444444446`],
       FontWeight->"Light",
       FontSlant->Italic], {8., -2.5}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {0, 1}]}},
   AxesStyle->Large,
   FrameStyle->Large,
   ImagePadding->{{23.400000000000002`, 23.400000000000002`}, {7.2, 7.2}},
   ImageSize->370.8,
   PlotRange->{{0, 9}, {-4.5, -0.5}},
   PlotRangePadding->Scaled[0.025]],
  Q3`QuantumCircuit[
   $CellContext`S[1, 6], 
   Q3`ControlledPower[{
     $CellContext`S[1, Q3`$]}, 
    $CellContext`S[2, 7], "Label" -> {"\!\(\*OverscriptBox[\(x\), \(~\)]\)", 
      Subscript["Z", 2]}], 
   $CellContext`S[2, 6], 
   Q3`ControlledPower[{
     $CellContext`S[2, Q3`$], 
     $CellContext`S[1, Q3`$]}, 
    $CellContext`S[3, 8], "Label" -> {"\!\(\*OverscriptBox[\(x\), \(~\)]\)", 
      Subscript["Z", 3]}], 
   $CellContext`S[3, 6], 
   Q3`ControlledPower[{
     $CellContext`S[3, Q3`$], 
     $CellContext`S[2, Q3`$], 
     $CellContext`S[1, Q3`$]}, 
    $CellContext`S[4, 9], "Label" -> {"\!\(\*OverscriptBox[\(x\), \(~\)]\)", 
      Subscript["Z", 4]}], 
   $CellContext`S[4, 6], 
   Q3`QBR[{
     $CellContext`S[1, Q3`$], 
     $CellContext`S[2, Q3`$], 
     $CellContext`S[3, Q3`$], 
     $CellContext`S[4, Q3`$]}]]]], "Output",
 CellLabel->"Out[1]=",
 CellID->365712631,ExpressionUUID->"b6dba75a-7dc1-4536-960a-a94bd669c974"]
}, Open  ]],

Cell["\<\
Since we have to simulate it classically, it is much slower than the above \
quantum circuit that directly uses the high-level feature..\
\>", "ExampleText",
 CellID->562437636,ExpressionUUID->"3ed5c717-74d6-40b2-a548-40cfeb98e5ca"],

Cell[BoxData[
 RowBox[{"EchoTiming", "[", 
  RowBox[{
   RowBox[{"exp2", "=", 
    RowBox[{"Elaborate", "[", "qc2", "]"}]}], ";"}], "]"}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[2]:=",
 CellID->1949985825,ExpressionUUID->"6303015e-981b-425c-8ed2-d5a392fc9292"],

Cell["This may be overcome by using matrix representations.", "ExampleText",
 CellID->1896345337,ExpressionUUID->"5a6920f9-404c-4686-a374-9e3f71d0f04a"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{"EchoTiming", "[", 
  RowBox[{
   RowBox[{"mat2", "=", 
    RowBox[{"Matrix", "[", "qc2", "]"}]}], ";"}], 
  "]"}], "\[IndentingNewLine]", 
 RowBox[{"EchoTiming", "[", 
  RowBox[{
   RowBox[{"new", "=", 
    RowBox[{"ExpressionFor", "[", 
     RowBox[{"mat2", ",", 
      RowBox[{"Qubits", "@", "qc2"}]}], "]"}]}], ";"}], "]"}]}], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[3]:=",
 CellID->803044201,ExpressionUUID->"bca1a9b8-b628-456d-a96f-75752cc6b298"],

Cell[CellGroupData[{

Cell[BoxData["0.010645`"], "EchoTiming",
 CellID->1403564203,ExpressionUUID->"111937a6-cdcf-4c67-b863-bf9d151a1048"],

Cell[BoxData["0.369159`"], "EchoTiming",
 CellID->1743181173,ExpressionUUID->"ffd3db22-aa88-4d45-9310-7c70815382a1"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"exp", "-", "new"}], "//", "Elaborate"}], "//", 
  "Simplify"}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[4]:=",
 CellID->1367139557,ExpressionUUID->"39a0d434-181a-4b76-a1f0-6c8e041bb51f"],

Cell[BoxData["0"], "Output",
 CellLabel->"Out[4]=",
 CellID->592926129,ExpressionUUID->"4b6164c9-5cb1-4cbe-b4e8-206bedbf9f02"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 InterpretationBox[Cell[
  "\t", "ExampleDelimiter",ExpressionUUID->
   "7e4db7ae-0060-49f0-9a8a-193c5c6574e3"],
  $Line = 0; Null]], "ExampleDelimiter",
 CellID->948568881,ExpressionUUID->"452a47ff-bab6-4860-9b30-8e5b6b69a0ce"],

Cell["Try with another version of the original quantum circuit.", \
"ExampleText",
 CellID->1538911483,ExpressionUUID->"5553970f-db30-4884-b282-86d85afe8d4f"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"qc3", "=", 
  RowBox[{"QuantumCircuit", "[", 
   RowBox[{"ExpandAll", "@", "op"}], "]"}]}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[1]:=",
 CellID->192250313,ExpressionUUID->"3f9f16ea-630a-4aba-ab71-0a301fd0dcf6"],

Cell[BoxData[
 InterpretationBox[
  GraphicsBox[{
    {Dashing[{Small, Small}], LineBox[{}]}, 
    LineBox[{{{0, -1}, {12, -1}}, {{0, -2}, {12, -2}}, {{0, -3}, {12, -3}}, {{
     0, -4}, {12, -4}}}], {
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{0.6, -1.4}, {1.4, -0.6}]}, InsetBox[
      StyleBox["\<\"H\"\>",
       StripOnInput->False,
       FontSize->Scaled[0.03333333333333333],
       FontWeight->"Light",
       FontSlant->Italic], {1., -1.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {LineBox[{{2, -1}, {2, -2}}], 
     DiskBox[{2, -1}, 0.09], 
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{1.6, -2.4}, {2.4, -1.6}]}, InsetBox[
      StyleBox[
       SubscriptBox["\<\"Z\"\>", "2"],
       StripOnInput->False,
       FontSize->Scaled[0.03333333333333333],
       FontWeight->"Light",
       FontSlant->Italic], {2., -2.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{2.6, -2.4}, {3.4, -1.6}]}, InsetBox[
      StyleBox["\<\"H\"\>",
       StripOnInput->False,
       FontSize->Scaled[0.03333333333333333],
       FontWeight->"Light",
       FontSlant->Italic], {3., -2.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {LineBox[{{4, -1}, {4, -3}}], 
     DiskBox[{4, -1}, 0.09], 
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{3.6, -3.4}, {4.4, -2.6}]}, InsetBox[
      StyleBox[
       SubscriptBox["\<\"Z\"\>", "3"],
       StripOnInput->False,
       FontSize->Scaled[0.03333333333333333],
       FontWeight->"Light",
       FontSlant->Italic], {4., -3.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {LineBox[{{5, -2}, {5, -3}}], 
     DiskBox[{5, -2}, 0.09], 
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{4.6, -3.4}, {5.4, -2.6}]}, InsetBox[
      StyleBox[
       SubscriptBox["\<\"Z\"\>", "2"],
       StripOnInput->False,
       FontSize->Scaled[0.03333333333333333],
       FontWeight->"Light",
       FontSlant->Italic], {5., -3.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{5.6, -3.4}, {6.4, -2.6}]}, InsetBox[
      StyleBox["\<\"H\"\>",
       StripOnInput->False,
       FontSize->Scaled[0.03333333333333333],
       FontWeight->"Light",
       FontSlant->Italic], {6., -3.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {LineBox[{{7, -1}, {7, -4}}], 
     DiskBox[{7, -1}, 0.09], 
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{6.6, -4.4}, {7.4, -3.6}]}, InsetBox[
      StyleBox[
       SubscriptBox["\<\"Z\"\>", "4"],
       StripOnInput->False,
       FontSize->Scaled[0.03333333333333333],
       FontWeight->"Light",
       FontSlant->Italic], {7., -4.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {LineBox[{{8, -2}, {8, -4}}], 
     DiskBox[{8, -2}, 0.09], 
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{7.6, -4.4}, {8.4, -3.6}]}, InsetBox[
      StyleBox[
       SubscriptBox["\<\"Z\"\>", "3"],
       StripOnInput->False,
       FontSize->Scaled[0.03333333333333333],
       FontWeight->"Light",
       FontSlant->Italic], {8., -4.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {LineBox[{{9, -3}, {9, -4}}], 
     DiskBox[{9, -3}, 0.09], 
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{8.6, -4.4}, {9.4, -3.6}]}, InsetBox[
      StyleBox[
       SubscriptBox["\<\"Z\"\>", "2"],
       StripOnInput->False,
       FontSize->Scaled[0.03333333333333333],
       FontWeight->"Light",
       FontSlant->Italic], {9., -4.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{9.6, -4.4}, {10.4, -3.6}]}, InsetBox[
      StyleBox["\<\"H\"\>",
       StripOnInput->False,
       FontSize->Scaled[0.03333333333333333],
       FontWeight->"Light",
       FontSlant->Italic], {10., -4.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{10.6, -4.4}, {11.4, -0.6}]}, InsetBox[
      StyleBox["\<\"QBR\"\>",
       StripOnInput->False,
       FontSize->Scaled[0.03333333333333333],
       FontWeight->"Light",
       FontSlant->Italic], {11., -2.5}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {0, 1}]}},
   AxesStyle->Large,
   FrameStyle->Large,
   ImagePadding->{{23.400000000000002`, 23.400000000000002`}, {7.2, 7.2}},
   ImageSize->478.8,
   PlotRange->{{0, 12}, {-4.5, -0.5}},
   PlotRangePadding->Scaled[0.025]],
  Q3`QuantumCircuit[
   $CellContext`S[1, 6], 
   Q3`ControlledGate[{$CellContext`S[1, Q3`$] -> 1}, 
    Q3`Phase[1.5707963267948966`, 
     $CellContext`S[2, 3]], "Label" -> Subscript["Z", 2]], 
   $CellContext`S[2, 6], 
   Q3`ControlledGate[{$CellContext`S[1, Q3`$] -> 1}, 
    Q3`Phase[0.7853981633974483, 
     $CellContext`S[3, 3]], "Label" -> Subscript["Z", 3]], 
   Q3`ControlledGate[{$CellContext`S[2, Q3`$] -> 1}, 
    Q3`Phase[1.5707963267948966`, 
     $CellContext`S[3, 3]], "Label" -> Subscript["Z", 2]], 
   $CellContext`S[3, 6], 
   Q3`ControlledGate[{$CellContext`S[1, Q3`$] -> 1}, 
    Q3`Phase[0.39269908169872414`, 
     $CellContext`S[4, 3]], "Label" -> Subscript["Z", 4]], 
   Q3`ControlledGate[{$CellContext`S[2, Q3`$] -> 1}, 
    Q3`Phase[0.7853981633974483, 
     $CellContext`S[4, 3]], "Label" -> Subscript["Z", 3]], 
   Q3`ControlledGate[{$CellContext`S[3, Q3`$] -> 1}, 
    Q3`Phase[1.5707963267948966`, 
     $CellContext`S[4, 3]], "Label" -> Subscript["Z", 2]], 
   $CellContext`S[4, 6], 
   Q3`QBR[{
     $CellContext`S[1, Q3`$], 
     $CellContext`S[2, Q3`$], 
     $CellContext`S[3, Q3`$], 
     $CellContext`S[4, Q3`$]}]]]], "Output",
 CellLabel->"Out[1]=",
 CellID->1021521576,ExpressionUUID->"26519448-e9c6-492e-a6e3-c9f77d916487"]
}, Open  ]],

Cell[TextData[{
 "This version is slightly better than the second version since some internal \
calculations (",
 Cell[BoxData[
  TemplateBox[{
    Cell[
     TextData["MultiplyPower"]], "paclet:Q3/ref/MultiplyPower", 
    "Q3 Package Symbol"},
   "PackageLink",
   BaseStyle->"InlineFormula"]], "InlineFormula",
  FontFamily->"Source Sans Pro",ExpressionUUID->
  "74fe792f-1921-4877-934a-15887afd0055"],
 " in this case) have already been incorporated at the time of the \
decomposition."
}], "ExampleText",
 CellID->261653958,ExpressionUUID->"7774eb5e-c860-4c9a-ae2a-72c960d51fc3"],

Cell[BoxData[
 RowBox[{"EchoTiming", "[", 
  RowBox[{
   RowBox[{"exp3", "=", 
    RowBox[{"Elaborate", "[", "qc3", "]"}]}], ";"}], "]"}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[2]:=",
 CellID->1580018662,ExpressionUUID->"95a96e23-c7b2-405f-9472-762de21c0da6"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{"EchoTiming", "[", 
  RowBox[{
   RowBox[{"mat3", "=", 
    RowBox[{"Matrix", "[", "qc3", "]"}]}], ";"}], 
  "]"}], "\[IndentingNewLine]", 
 RowBox[{"EchoTiming", "[", 
  RowBox[{
   RowBox[{"new", "=", 
    RowBox[{"ExpressionFor", "[", 
     RowBox[{"mat3", ",", 
      RowBox[{"Qubits", "@", "qc3"}]}], "]"}]}], ";"}], "]"}]}], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[3]:=",
 CellID->1611158688,ExpressionUUID->"d9651214-5948-4fc3-8c0e-6068825bfc33"],

Cell[CellGroupData[{

Cell[BoxData["0.008366`"], "EchoTiming",
 CellID->976234001,ExpressionUUID->"80f453cd-a1f7-4173-aee0-576fc51f8c0e"],

Cell[BoxData["0.353246`"], "EchoTiming",
 CellID->789791727,ExpressionUUID->"d8489a3c-7bde-4a12-991e-96983cc61626"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"op", "-", "new"}], "//", "Elaborate"}], "//", 
  "Simplify"}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[4]:=",
 CellID->862610285,ExpressionUUID->"5dc64689-ee2b-4b65-a085-13f5111d0e34"],

Cell[BoxData["0"], "Output",
 CellLabel->"Out[4]=",
 CellID->1126948178,ExpressionUUID->"882e54ca-cd43-43d0-b766-3026f1285fdc"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 InterpretationBox[Cell[
  "\t", "ExampleDelimiter",ExpressionUUID->
   "91ec8ba7-8b46-4014-b4f4-067f0ecf6f3d"],
  $Line = 0; Null]], "ExampleDelimiter",
 CellID->482954205,ExpressionUUID->"c7787d67-d061-4980-867d-fd971bb654a9"],

Cell["\<\
Fortunately, the simulation gets faster when there is an input.\
\>", "ExampleText",
 CellID->1516158721,ExpressionUUID->"6d1109b9-f8fb-4129-a02b-d2d2bc672cae"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"in", "=", 
   RowBox[{"Ket", "[", 
    RowBox[{
     RowBox[{"SS", "->", 
      RowBox[{"RandomChoice", "[", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{"0", ",", "1"}], "}"}], ",", "$n"}], "]"}]}], ",", "SS"}], 
    "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"qc", "=", 
  RowBox[{"QuantumCircuit", "[", 
   RowBox[{"in", ",", "op"}], "]"}]}]}], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[1]:=",
 CellID->1172182133,ExpressionUUID->"152cc4ad-c30b-40d2-af99-a5c6960cb989"],

Cell[BoxData[
 InterpretationBox[
  GraphicsBox[{
    {Dashing[{Small, Small}], LineBox[{}]}, 
    LineBox[{{{0, -1}, {2, -1}}, {{0, -2}, {2, -2}}, {{0, -3}, {2, -3}}, {{
     0, -4}, {2, -4}}}], {InsetBox[
      TemplateBox[{"1"},
       "Ket"], {-0.2, -1.}, NCache[
      ImageScaled[{1, Rational[1, 2]}], ImageScaled[{1, 0.5}]], Automatic, {1,
       0}], InsetBox[
      TemplateBox[{"0"},
       "Ket"], {-0.2, -2.}, NCache[
      ImageScaled[{1, Rational[1, 2]}], ImageScaled[{1, 0.5}]], Automatic, {1,
       0}], InsetBox[
      TemplateBox[{"1"},
       "Ket"], {-0.2, -3.}, NCache[
      ImageScaled[{1, Rational[1, 2]}], ImageScaled[{1, 0.5}]], Automatic, {1,
       0}], InsetBox[
      TemplateBox[{"1"},
       "Ket"], {-0.2, -4.}, NCache[
      ImageScaled[{1, Rational[1, 2]}], ImageScaled[{1, 0.5}]], Automatic, {1,
       0}]}, {
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{0.6, -4.4}, {1.4, -0.6}]}, InsetBox[
      StyleBox["\<\"QFT\"\>",
       StripOnInput->False,
       FontSize->Scaled[0.2],
       FontWeight->"Light",
       FontSlant->Italic], {1., -2.5}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {0, 1}]}},
   AxesStyle->Large,
   FrameStyle->Large,
   ImagePadding->{{23.400000000000002`, 23.400000000000002`}, {7.2, 7.2}},
   ImageSize->118.8,
   PlotRange->{{0, 2}, {-4.5, -0.5}},
   PlotRangePadding->Scaled[0.025]],
  Q3`QuantumCircuit[
   Q3`QuantumCircuitIn[
    Ket[<|$CellContext`S[1, Q3`$] -> 1, $CellContext`S[2, Q3`$] -> 
      0, $CellContext`S[3, Q3`$] -> 1, $CellContext`S[4, Q3`$] -> 1|>]], 
   Q3`QFT[{
     $CellContext`S[1, Q3`$], 
     $CellContext`S[2, Q3`$], 
     $CellContext`S[3, Q3`$], 
     $CellContext`S[4, Q3`$]}]]]], "Output",
 CellLabel->"Out[1]=",
 CellID->1509120574,ExpressionUUID->"749e1a5d-6517-49c8-a5da-27ba23352c2b"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"EchoTiming", "[", 
  RowBox[{"out", "=", 
   RowBox[{"Elaborate", "[", "qc", "]"}]}], "]"}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[2]:=",
 CellID->1201405585,ExpressionUUID->"fe23cb44-e5c9-4695-bb18-b28857cbafac"],

Cell[BoxData["0.022323`"], "EchoTiming",
 CellID->2035407598,ExpressionUUID->"50282829-f088-49a0-aad2-3ab0b21570a7"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   FractionBox["1", "4"], " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        SubscriptBox["0", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["S", 
             TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
            $CellContext`S[1, Q3`$]]}, "RowWithSeparators"]], 
        SubscriptBox["0", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["S", 
             TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
            $CellContext`S[2, Q3`$]]}, "RowWithSeparators"]], 
        SubscriptBox["0", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["S", 
             TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
            $CellContext`S[3, Q3`$]]}, "RowWithSeparators"]], 
        SubscriptBox["0", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["S", 
             TemplateBox[{",", "\",\"", "4"}, "RowWithSeparators"]], 
            $CellContext`S[4, Q3`$]]}, "RowWithSeparators"]]}, 
       "RowWithSeparators"]},
     "Ket"],
    Ket[<|$CellContext`S[1, Q3`$] -> 0, $CellContext`S[2, Q3`$] -> 
      0, $CellContext`S[3, Q3`$] -> 0, $CellContext`S[4, Q3`$] -> 0|>]]}], 
  "-", 
  RowBox[{
   FractionBox["1", "4"], " ", 
   SuperscriptBox[
    RowBox[{"(", 
     RowBox[{"-", "1"}], ")"}], 
    RowBox[{"3", "/", "8"}]], " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        SubscriptBox["0", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["S", 
             TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
            $CellContext`S[1, Q3`$]]}, "RowWithSeparators"]], 
        SubscriptBox["0", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["S", 
             TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
            $CellContext`S[2, Q3`$]]}, "RowWithSeparators"]], 
        SubscriptBox["0", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["S", 
             TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
            $CellContext`S[3, Q3`$]]}, "RowWithSeparators"]], 
        SubscriptBox["1", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["S", 
             TemplateBox[{",", "\",\"", "4"}, "RowWithSeparators"]], 
            $CellContext`S[4, Q3`$]]}, "RowWithSeparators"]]}, 
       "RowWithSeparators"]},
     "Ket"],
    Ket[<|$CellContext`S[1, Q3`$] -> 0, $CellContext`S[2, Q3`$] -> 
      0, $CellContext`S[3, Q3`$] -> 0, $CellContext`S[4, Q3`$] -> 1|>]]}], 
  "+", 
  RowBox[{
   FractionBox["1", "4"], " ", 
   SuperscriptBox[
    RowBox[{"(", 
     RowBox[{"-", "1"}], ")"}], 
    RowBox[{"3", "/", "4"}]], " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        SubscriptBox["0", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["S", 
             TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
            $CellContext`S[1, Q3`$]]}, "RowWithSeparators"]], 
        SubscriptBox["0", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["S", 
             TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
            $CellContext`S[2, Q3`$]]}, "RowWithSeparators"]], 
        SubscriptBox["1", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["S", 
             TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
            $CellContext`S[3, Q3`$]]}, "RowWithSeparators"]], 
        SubscriptBox["0", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["S", 
             TemplateBox[{",", "\",\"", "4"}, "RowWithSeparators"]], 
            $CellContext`S[4, Q3`$]]}, "RowWithSeparators"]]}, 
       "RowWithSeparators"]},
     "Ket"],
    Ket[<|$CellContext`S[1, Q3`$] -> 0, $CellContext`S[2, Q3`$] -> 
      0, $CellContext`S[3, Q3`$] -> 1, $CellContext`S[4, Q3`$] -> 0|>]]}], 
  "+", 
  RowBox[{
   FractionBox["1", "4"], " ", 
   SuperscriptBox[
    RowBox[{"(", 
     RowBox[{"-", "1"}], ")"}], 
    RowBox[{"1", "/", "8"}]], " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        SubscriptBox["0", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["S", 
             TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
            $CellContext`S[1, Q3`$]]}, "RowWithSeparators"]], 
        SubscriptBox["0", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["S", 
             TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
            $CellContext`S[2, Q3`$]]}, "RowWithSeparators"]], 
        SubscriptBox["1", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["S", 
             TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
            $CellContext`S[3, Q3`$]]}, "RowWithSeparators"]], 
        SubscriptBox["1", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["S", 
             TemplateBox[{",", "\",\"", "4"}, "RowWithSeparators"]], 
            $CellContext`S[4, Q3`$]]}, "RowWithSeparators"]]}, 
       "RowWithSeparators"]},
     "Ket"],
    Ket[<|$CellContext`S[1, Q3`$] -> 0, $CellContext`S[2, Q3`$] -> 
      0, $CellContext`S[3, Q3`$] -> 1, $CellContext`S[4, Q3`$] -> 1|>]]}], 
  "-", 
  RowBox[{
   FractionBox["1", "4"], " ", "\[ImaginaryI]", " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        SubscriptBox["0", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["S", 
             TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
            $CellContext`S[1, Q3`$]]}, "RowWithSeparators"]], 
        SubscriptBox["1", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["S", 
             TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
            $CellContext`S[2, Q3`$]]}, "RowWithSeparators"]], 
        SubscriptBox["0", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["S", 
             TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
            $CellContext`S[3, Q3`$]]}, "RowWithSeparators"]], 
        SubscriptBox["0", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["S", 
             TemplateBox[{",", "\",\"", "4"}, "RowWithSeparators"]], 
            $CellContext`S[4, Q3`$]]}, "RowWithSeparators"]]}, 
       "RowWithSeparators"]},
     "Ket"],
    Ket[<|$CellContext`S[1, Q3`$] -> 0, $CellContext`S[2, Q3`$] -> 
      1, $CellContext`S[3, Q3`$] -> 0, $CellContext`S[4, Q3`$] -> 0|>]]}], 
  "+", 
  RowBox[{
   FractionBox["1", "4"], " ", 
   SuperscriptBox[
    RowBox[{"(", 
     RowBox[{"-", "1"}], ")"}], 
    RowBox[{"7", "/", "8"}]], " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        SubscriptBox["0", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["S", 
             TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
            $CellContext`S[1, Q3`$]]}, "RowWithSeparators"]], 
        SubscriptBox["1", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["S", 
             TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
            $CellContext`S[2, Q3`$]]}, "RowWithSeparators"]], 
        SubscriptBox["0", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["S", 
             TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
            $CellContext`S[3, Q3`$]]}, "RowWithSeparators"]], 
        SubscriptBox["1", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["S", 
             TemplateBox[{",", "\",\"", "4"}, "RowWithSeparators"]], 
            $CellContext`S[4, Q3`$]]}, "RowWithSeparators"]]}, 
       "RowWithSeparators"]},
     "Ket"],
    Ket[<|$CellContext`S[1, Q3`$] -> 0, $CellContext`S[2, Q3`$] -> 
      1, $CellContext`S[3, Q3`$] -> 0, $CellContext`S[4, Q3`$] -> 1|>]]}], 
  "+", 
  RowBox[{
   FractionBox["1", "4"], " ", 
   SuperscriptBox[
    RowBox[{"(", 
     RowBox[{"-", "1"}], ")"}], 
    RowBox[{"1", "/", "4"}]], " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        SubscriptBox["0", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["S", 
             TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
            $CellContext`S[1, Q3`$]]}, "RowWithSeparators"]], 
        SubscriptBox["1", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["S", 
             TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
            $CellContext`S[2, Q3`$]]}, "RowWithSeparators"]], 
        SubscriptBox["1", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["S", 
             TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
            $CellContext`S[3, Q3`$]]}, "RowWithSeparators"]], 
        SubscriptBox["0", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["S", 
             TemplateBox[{",", "\",\"", "4"}, "RowWithSeparators"]], 
            $CellContext`S[4, Q3`$]]}, "RowWithSeparators"]]}, 
       "RowWithSeparators"]},
     "Ket"],
    Ket[<|$CellContext`S[1, Q3`$] -> 0, $CellContext`S[2, Q3`$] -> 
      1, $CellContext`S[3, Q3`$] -> 1, $CellContext`S[4, Q3`$] -> 0|>]]}], 
  "-", 
  RowBox[{
   FractionBox["1", "4"], " ", 
   SuperscriptBox[
    RowBox[{"(", 
     RowBox[{"-", "1"}], ")"}], 
    RowBox[{"5", "/", "8"}]], " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        SubscriptBox["0", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["S", 
             TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
            $CellContext`S[1, Q3`$]]}, "RowWithSeparators"]], 
        SubscriptBox["1", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["S", 
             TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
            $CellContext`S[2, Q3`$]]}, "RowWithSeparators"]], 
        SubscriptBox["1", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["S", 
             TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
            $CellContext`S[3, Q3`$]]}, "RowWithSeparators"]], 
        SubscriptBox["1", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["S", 
             TemplateBox[{",", "\",\"", "4"}, "RowWithSeparators"]], 
            $CellContext`S[4, Q3`$]]}, "RowWithSeparators"]]}, 
       "RowWithSeparators"]},
     "Ket"],
    Ket[<|$CellContext`S[1, Q3`$] -> 0, $CellContext`S[2, Q3`$] -> 
      1, $CellContext`S[3, Q3`$] -> 1, $CellContext`S[4, Q3`$] -> 1|>]]}], 
  "-", 
  RowBox[{
   FractionBox["1", "4"], " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        SubscriptBox["1", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["S", 
             TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
            $CellContext`S[1, Q3`$]]}, "RowWithSeparators"]], 
        SubscriptBox["0", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["S", 
             TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
            $CellContext`S[2, Q3`$]]}, "RowWithSeparators"]], 
        SubscriptBox["0", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["S", 
             TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
            $CellContext`S[3, Q3`$]]}, "RowWithSeparators"]], 
        SubscriptBox["0", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["S", 
             TemplateBox[{",", "\",\"", "4"}, "RowWithSeparators"]], 
            $CellContext`S[4, Q3`$]]}, "RowWithSeparators"]]}, 
       "RowWithSeparators"]},
     "Ket"],
    Ket[<|$CellContext`S[1, Q3`$] -> 1, $CellContext`S[2, Q3`$] -> 
      0, $CellContext`S[3, Q3`$] -> 0, $CellContext`S[4, Q3`$] -> 0|>]]}], 
  "+", 
  RowBox[{
   FractionBox["1", "4"], " ", 
   SuperscriptBox[
    RowBox[{"(", 
     RowBox[{"-", "1"}], ")"}], 
    RowBox[{"3", "/", "8"}]], " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        SubscriptBox["1", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["S", 
             TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
            $CellContext`S[1, Q3`$]]}, "RowWithSeparators"]], 
        SubscriptBox["0", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["S", 
             TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
            $CellContext`S[2, Q3`$]]}, "RowWithSeparators"]], 
        SubscriptBox["0", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["S", 
             TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
            $CellContext`S[3, Q3`$]]}, "RowWithSeparators"]], 
        SubscriptBox["1", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["S", 
             TemplateBox[{",", "\",\"", "4"}, "RowWithSeparators"]], 
            $CellContext`S[4, Q3`$]]}, "RowWithSeparators"]]}, 
       "RowWithSeparators"]},
     "Ket"],
    Ket[<|$CellContext`S[1, Q3`$] -> 1, $CellContext`S[2, Q3`$] -> 
      0, $CellContext`S[3, Q3`$] -> 0, $CellContext`S[4, Q3`$] -> 1|>]]}], 
  "-", 
  RowBox[{
   FractionBox["1", "4"], " ", 
   SuperscriptBox[
    RowBox[{"(", 
     RowBox[{"-", "1"}], ")"}], 
    RowBox[{"3", "/", "4"}]], " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        SubscriptBox["1", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["S", 
             TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
            $CellContext`S[1, Q3`$]]}, "RowWithSeparators"]], 
        SubscriptBox["0", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["S", 
             TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
            $CellContext`S[2, Q3`$]]}, "RowWithSeparators"]], 
        SubscriptBox["1", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["S", 
             TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
            $CellContext`S[3, Q3`$]]}, "RowWithSeparators"]], 
        SubscriptBox["0", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["S", 
             TemplateBox[{",", "\",\"", "4"}, "RowWithSeparators"]], 
            $CellContext`S[4, Q3`$]]}, "RowWithSeparators"]]}, 
       "RowWithSeparators"]},
     "Ket"],
    Ket[<|$CellContext`S[1, Q3`$] -> 1, $CellContext`S[2, Q3`$] -> 
      0, $CellContext`S[3, Q3`$] -> 1, $CellContext`S[4, Q3`$] -> 0|>]]}], 
  "-", 
  RowBox[{
   FractionBox["1", "4"], " ", 
   SuperscriptBox[
    RowBox[{"(", 
     RowBox[{"-", "1"}], ")"}], 
    RowBox[{"1", "/", "8"}]], " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        SubscriptBox["1", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["S", 
             TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
            $CellContext`S[1, Q3`$]]}, "RowWithSeparators"]], 
        SubscriptBox["0", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["S", 
             TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
            $CellContext`S[2, Q3`$]]}, "RowWithSeparators"]], 
        SubscriptBox["1", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["S", 
             TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
            $CellContext`S[3, Q3`$]]}, "RowWithSeparators"]], 
        SubscriptBox["1", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["S", 
             TemplateBox[{",", "\",\"", "4"}, "RowWithSeparators"]], 
            $CellContext`S[4, Q3`$]]}, "RowWithSeparators"]]}, 
       "RowWithSeparators"]},
     "Ket"],
    Ket[<|$CellContext`S[1, Q3`$] -> 1, $CellContext`S[2, Q3`$] -> 
      0, $CellContext`S[3, Q3`$] -> 1, $CellContext`S[4, Q3`$] -> 1|>]]}], 
  "+", 
  RowBox[{
   FractionBox["1", "4"], " ", "\[ImaginaryI]", " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        SubscriptBox["1", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["S", 
             TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
            $CellContext`S[1, Q3`$]]}, "RowWithSeparators"]], 
        SubscriptBox["1", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["S", 
             TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
            $CellContext`S[2, Q3`$]]}, "RowWithSeparators"]], 
        SubscriptBox["0", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["S", 
             TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
            $CellContext`S[3, Q3`$]]}, "RowWithSeparators"]], 
        SubscriptBox["0", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["S", 
             TemplateBox[{",", "\",\"", "4"}, "RowWithSeparators"]], 
            $CellContext`S[4, Q3`$]]}, "RowWithSeparators"]]}, 
       "RowWithSeparators"]},
     "Ket"],
    Ket[<|$CellContext`S[1, Q3`$] -> 1, $CellContext`S[2, Q3`$] -> 
      1, $CellContext`S[3, Q3`$] -> 0, $CellContext`S[4, Q3`$] -> 0|>]]}], 
  "-", 
  RowBox[{
   FractionBox["1", "4"], " ", 
   SuperscriptBox[
    RowBox[{"(", 
     RowBox[{"-", "1"}], ")"}], 
    RowBox[{"7", "/", "8"}]], " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        SubscriptBox["1", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["S", 
             TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
            $CellContext`S[1, Q3`$]]}, "RowWithSeparators"]], 
        SubscriptBox["1", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["S", 
             TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
            $CellContext`S[2, Q3`$]]}, "RowWithSeparators"]], 
        SubscriptBox["0", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["S", 
             TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
            $CellContext`S[3, Q3`$]]}, "RowWithSeparators"]], 
        SubscriptBox["1", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["S", 
             TemplateBox[{",", "\",\"", "4"}, "RowWithSeparators"]], 
            $CellContext`S[4, Q3`$]]}, "RowWithSeparators"]]}, 
       "RowWithSeparators"]},
     "Ket"],
    Ket[<|$CellContext`S[1, Q3`$] -> 1, $CellContext`S[2, Q3`$] -> 
      1, $CellContext`S[3, Q3`$] -> 0, $CellContext`S[4, Q3`$] -> 1|>]]}], 
  "-", 
  RowBox[{
   FractionBox["1", "4"], " ", 
   SuperscriptBox[
    RowBox[{"(", 
     RowBox[{"-", "1"}], ")"}], 
    RowBox[{"1", "/", "4"}]], " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        SubscriptBox["1", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["S", 
             TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
            $CellContext`S[1, Q3`$]]}, "RowWithSeparators"]], 
        SubscriptBox["1", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["S", 
             TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
            $CellContext`S[2, Q3`$]]}, "RowWithSeparators"]], 
        SubscriptBox["1", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["S", 
             TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
            $CellContext`S[3, Q3`$]]}, "RowWithSeparators"]], 
        SubscriptBox["0", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["S", 
             TemplateBox[{",", "\",\"", "4"}, "RowWithSeparators"]], 
            $CellContext`S[4, Q3`$]]}, "RowWithSeparators"]]}, 
       "RowWithSeparators"]},
     "Ket"],
    Ket[<|$CellContext`S[1, Q3`$] -> 1, $CellContext`S[2, Q3`$] -> 
      1, $CellContext`S[3, Q3`$] -> 1, $CellContext`S[4, Q3`$] -> 0|>]]}], 
  "+", 
  RowBox[{
   FractionBox["1", "4"], " ", 
   SuperscriptBox[
    RowBox[{"(", 
     RowBox[{"-", "1"}], ")"}], 
    RowBox[{"5", "/", "8"}]], " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        SubscriptBox["1", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["S", 
             TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
            $CellContext`S[1, Q3`$]]}, "RowWithSeparators"]], 
        SubscriptBox["1", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["S", 
             TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
            $CellContext`S[2, Q3`$]]}, "RowWithSeparators"]], 
        SubscriptBox["1", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["S", 
             TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
            $CellContext`S[3, Q3`$]]}, "RowWithSeparators"]], 
        SubscriptBox["1", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["S", 
             TemplateBox[{",", "\",\"", "4"}, "RowWithSeparators"]], 
            $CellContext`S[4, Q3`$]]}, "RowWithSeparators"]]}, 
       "RowWithSeparators"]},
     "Ket"],
    Ket[<|$CellContext`S[1, Q3`$] -> 1, $CellContext`S[2, Q3`$] -> 
      1, $CellContext`S[3, Q3`$] -> 1, $CellContext`S[4, Q3`$] -> 
      1|>]]}]}]], "Output",
 CellLabel->"Out[2]=",
 CellID->1828486523,ExpressionUUID->"03db50be-eb73-45e5-9182-b6ffd9ab9765"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"vec", "=", 
   RowBox[{"Matrix", "[", "qc", "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"vec", "//", "Normal"}]}], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[3]:=",
 CellID->846449171,ExpressionUUID->"81cd7bf2-19da-43e9-a212-bce7053b85b4"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   FractionBox["1", "4"], ",", 
   RowBox[{
    FractionBox["1", "4"], " ", 
    SuperscriptBox["\[ExponentialE]", 
     RowBox[{"-", 
      FractionBox[
       RowBox[{"5", " ", "\[ImaginaryI]", " ", "\[Pi]"}], "8"]}]]}], ",", 
   RowBox[{
    FractionBox["1", "4"], " ", 
    SuperscriptBox["\[ExponentialE]", 
     FractionBox[
      RowBox[{"3", " ", "\[ImaginaryI]", " ", "\[Pi]"}], "4"]]}], ",", 
   RowBox[{
    FractionBox["1", "4"], " ", 
    SuperscriptBox["\[ExponentialE]", 
     FractionBox[
      RowBox[{"\[ImaginaryI]", " ", "\[Pi]"}], "8"]]}], ",", 
   RowBox[{"-", 
    FractionBox["\[ImaginaryI]", "4"]}], ",", 
   RowBox[{
    FractionBox["1", "4"], " ", 
    SuperscriptBox["\[ExponentialE]", 
     FractionBox[
      RowBox[{"7", " ", "\[ImaginaryI]", " ", "\[Pi]"}], "8"]]}], ",", 
   RowBox[{
    FractionBox["1", "4"], " ", 
    SuperscriptBox["\[ExponentialE]", 
     FractionBox[
      RowBox[{"\[ImaginaryI]", " ", "\[Pi]"}], "4"]]}], ",", 
   RowBox[{
    FractionBox["1", "4"], " ", 
    SuperscriptBox["\[ExponentialE]", 
     RowBox[{"-", 
      FractionBox[
       RowBox[{"3", " ", "\[ImaginaryI]", " ", "\[Pi]"}], "8"]}]]}], ",", 
   RowBox[{"-", 
    FractionBox["1", "4"]}], ",", 
   RowBox[{
    FractionBox["1", "4"], " ", 
    SuperscriptBox["\[ExponentialE]", 
     FractionBox[
      RowBox[{"3", " ", "\[ImaginaryI]", " ", "\[Pi]"}], "8"]]}], ",", 
   RowBox[{
    FractionBox["1", "4"], " ", 
    SuperscriptBox["\[ExponentialE]", 
     RowBox[{"-", 
      FractionBox[
       RowBox[{"\[ImaginaryI]", " ", "\[Pi]"}], "4"]}]]}], ",", 
   RowBox[{
    FractionBox["1", "4"], " ", 
    SuperscriptBox["\[ExponentialE]", 
     RowBox[{"-", 
      FractionBox[
       RowBox[{"7", " ", "\[ImaginaryI]", " ", "\[Pi]"}], "8"]}]]}], ",", 
   FractionBox["\[ImaginaryI]", "4"], ",", 
   RowBox[{
    FractionBox["1", "4"], " ", 
    SuperscriptBox["\[ExponentialE]", 
     RowBox[{"-", 
      FractionBox[
       RowBox[{"\[ImaginaryI]", " ", "\[Pi]"}], "8"]}]]}], ",", 
   RowBox[{
    FractionBox["1", "4"], " ", 
    SuperscriptBox["\[ExponentialE]", 
     RowBox[{"-", 
      FractionBox[
       RowBox[{"3", " ", "\[ImaginaryI]", " ", "\[Pi]"}], "4"]}]]}], ",", 
   RowBox[{
    FractionBox["1", "4"], " ", 
    SuperscriptBox["\[ExponentialE]", 
     FractionBox[
      RowBox[{"5", " ", "\[ImaginaryI]", " ", "\[Pi]"}], "8"]]}]}], 
  "}"}]], "Output",
 CellLabel->"Out[3]=",
 CellID->1967287256,ExpressionUUID->"526924c4-3ecb-4bbd-b9ad-b40ab7ce867d"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 InterpretationBox[Cell[
  "\t", "ExampleDelimiter",ExpressionUUID->
   "f737ad67-37aa-4361-b8e7-988f7e10da37"],
  $Line = 0; Null]], "ExampleDelimiter",
 CellID->1614855469,ExpressionUUID->"d0567419-5805-4384-96d2-936fa788a425"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"qc2", "=", 
  RowBox[{"QuantumCircuit", "[", 
   RowBox[{"in", ",", 
    RowBox[{"Expand", "@", "op"}]}], "]"}]}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[1]:=",
 CellID->521039949,ExpressionUUID->"b7f28150-7f3f-4a43-b6a9-1b72909c8bdd"],

Cell[BoxData[
 InterpretationBox[
  GraphicsBox[{
    {Dashing[{Small, Small}], LineBox[{}]}, 
    LineBox[{{{0, -1}, {9, -1}}, {{0, -2}, {9, -2}}, {{0, -3}, {9, -3}}, {{
     0, -4}, {9, -4}}}], {InsetBox[
      TemplateBox[{"1"},
       "Ket"], {-0.2, -1.}, NCache[
      ImageScaled[{1, Rational[1, 2]}], ImageScaled[{1, 0.5}]], Automatic, {1,
       0}], InsetBox[
      TemplateBox[{"0"},
       "Ket"], {-0.2, -2.}, NCache[
      ImageScaled[{1, Rational[1, 2]}], ImageScaled[{1, 0.5}]], Automatic, {1,
       0}], InsetBox[
      TemplateBox[{"1"},
       "Ket"], {-0.2, -3.}, NCache[
      ImageScaled[{1, Rational[1, 2]}], ImageScaled[{1, 0.5}]], Automatic, {1,
       0}], InsetBox[
      TemplateBox[{"1"},
       "Ket"], {-0.2, -4.}, NCache[
      ImageScaled[{1, Rational[1, 2]}], ImageScaled[{1, 0.5}]], Automatic, {1,
       0}]}, {
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{0.6, -1.4}, {1.4, -0.6}]}, InsetBox[
      StyleBox["\<\"H\"\>",
       StripOnInput->False,
       FontSize->Scaled[0.044444444444444446`],
       FontWeight->"Light",
       FontSlant->Italic], {1., -1.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {LineBox[{{2, -1}, {2, -2}}], 
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{1.6, -1.4}, {2.4, -0.6},
       RoundingRadius->0.4]}, InsetBox[
      StyleBox["\<\"\\!\\(\\*OverscriptBox[\\(x\\), \\(~\\)]\\)\"\>",
       StripOnInput->False,
       FontSize->Scaled[0.044444444444444446`],
       FontWeight->"Light",
       FontSlant->Italic], {2., -1.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}], 
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{1.6, -2.4}, {2.4, -1.6}]}, InsetBox[
      StyleBox[
       TemplateBox[{
        "\"Z\"", "2", "\"\\!\\(\\*OverscriptBox[\\(x\\), \\(~\\)]\\)\""},
        "Subsuperscript"],
       StripOnInput->False,
       FontSize->Scaled[0.044444444444444446`],
       FontWeight->"Light",
       FontSlant->Italic], {2., -2.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{2.6, -2.4}, {3.4, -1.6}]}, InsetBox[
      StyleBox["\<\"H\"\>",
       StripOnInput->False,
       FontSize->Scaled[0.044444444444444446`],
       FontWeight->"Light",
       FontSlant->Italic], {3., -2.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {LineBox[{{4, -2}, {4, -1}, {4, -3}}], 
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{3.6, -2.4}, {4.4, -0.6},
       RoundingRadius->0.4]}, InsetBox[
      StyleBox["\<\"\\!\\(\\*OverscriptBox[\\(x\\), \\(~\\)]\\)\"\>",
       StripOnInput->False,
       FontSize->Scaled[0.044444444444444446`],
       FontWeight->"Light",
       FontSlant->Italic], {4., -1.5}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}], 
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{3.6, -3.4}, {4.4, -2.6}]}, InsetBox[
      StyleBox[
       TemplateBox[{
        "\"Z\"", "3", "\"\\!\\(\\*OverscriptBox[\\(x\\), \\(~\\)]\\)\""},
        "Subsuperscript"],
       StripOnInput->False,
       FontSize->Scaled[0.044444444444444446`],
       FontWeight->"Light",
       FontSlant->Italic], {4., -3.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{4.6, -3.4}, {5.4, -2.6}]}, InsetBox[
      StyleBox["\<\"H\"\>",
       StripOnInput->False,
       FontSize->Scaled[0.044444444444444446`],
       FontWeight->"Light",
       FontSlant->Italic], {5., -3.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {LineBox[{{6, -3}, {6, -2}, {6, -1}, {6, -4}}], 
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{5.6, -3.4}, {6.4, -0.6},
       RoundingRadius->0.4]}, InsetBox[
      StyleBox["\<\"\\!\\(\\*OverscriptBox[\\(x\\), \\(~\\)]\\)\"\>",
       StripOnInput->False,
       FontSize->Scaled[0.044444444444444446`],
       FontWeight->"Light",
       FontSlant->Italic], {6., -2.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}], 
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{5.6, -4.4}, {6.4, -3.6}]}, InsetBox[
      StyleBox[
       TemplateBox[{
        "\"Z\"", "4", "\"\\!\\(\\*OverscriptBox[\\(x\\), \\(~\\)]\\)\""},
        "Subsuperscript"],
       StripOnInput->False,
       FontSize->Scaled[0.044444444444444446`],
       FontWeight->"Light",
       FontSlant->Italic], {6., -4.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{6.6, -4.4}, {7.4, -3.6}]}, InsetBox[
      StyleBox["\<\"H\"\>",
       StripOnInput->False,
       FontSize->Scaled[0.044444444444444446`],
       FontWeight->"Light",
       FontSlant->Italic], {7., -4.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{7.6, -4.4}, {8.4, -0.6}]}, InsetBox[
      StyleBox["\<\"QBR\"\>",
       StripOnInput->False,
       FontSize->Scaled[0.044444444444444446`],
       FontWeight->"Light",
       FontSlant->Italic], {8., -2.5}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {0, 1}]}},
   AxesStyle->Large,
   FrameStyle->Large,
   ImagePadding->{{23.400000000000002`, 23.400000000000002`}, {7.2, 7.2}},
   ImageSize->370.8,
   PlotRange->{{0, 9}, {-4.5, -0.5}},
   PlotRangePadding->Scaled[0.025]],
  Q3`QuantumCircuit[
   Q3`QuantumCircuitIn[
    Ket[<|$CellContext`S[1, Q3`$] -> 1, $CellContext`S[2, Q3`$] -> 
      0, $CellContext`S[3, Q3`$] -> 1, $CellContext`S[4, Q3`$] -> 1|>]], 
   $CellContext`S[1, 6], 
   Q3`ControlledPower[{
     $CellContext`S[1, Q3`$]}, 
    $CellContext`S[2, 7], "Label" -> {"\!\(\*OverscriptBox[\(x\), \(~\)]\)", 
      Subscript["Z", 2]}], 
   $CellContext`S[2, 6], 
   Q3`ControlledPower[{
     $CellContext`S[2, Q3`$], 
     $CellContext`S[1, Q3`$]}, 
    $CellContext`S[3, 8], "Label" -> {"\!\(\*OverscriptBox[\(x\), \(~\)]\)", 
      Subscript["Z", 3]}], 
   $CellContext`S[3, 6], 
   Q3`ControlledPower[{
     $CellContext`S[3, Q3`$], 
     $CellContext`S[2, Q3`$], 
     $CellContext`S[1, Q3`$]}, 
    $CellContext`S[4, 9], "Label" -> {"\!\(\*OverscriptBox[\(x\), \(~\)]\)", 
      Subscript["Z", 4]}], 
   $CellContext`S[4, 6], 
   Q3`QBR[{
     $CellContext`S[1, Q3`$], 
     $CellContext`S[2, Q3`$], 
     $CellContext`S[3, Q3`$], 
     $CellContext`S[4, Q3`$]}]]]], "Output",
 CellLabel->"Out[1]=",
 CellID->974309768,ExpressionUUID->"66772dc1-ba56-4293-a656-0e5aef75b86c"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"EchoTiming", "[", 
  RowBox[{
   RowBox[{"out2", "=", 
    RowBox[{"Elaborate", "[", "qc2", "]"}]}], ";"}], "]"}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[2]:=",
 CellID->914158327,ExpressionUUID->"c89af717-c437-4eba-a0a5-a6231c9a31d4"],

Cell[BoxData["0.160181`"], "EchoTiming",
 CellID->556748200,ExpressionUUID->"35f3df2d-d954-438d-ab16-dc68a2b476d6"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{"EchoTiming", "[", 
  RowBox[{
   RowBox[{"vec2", "=", 
    RowBox[{"Matrix", "[", "qc2", "]"}]}], ";"}], 
  "]"}], "\[IndentingNewLine]", 
 RowBox[{"EchoTiming", "[", 
  RowBox[{
   RowBox[{"new", "=", 
    RowBox[{"ExpressionFor", "[", 
     RowBox[{"vec2", ",", 
      RowBox[{"Qubits", "@", "qc2"}]}], "]"}]}], ";"}], "]"}]}], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[3]:=",
 CellID->743538915,ExpressionUUID->"6a7b03a2-ccc3-49b4-8b47-62cd5b8f951f"],

Cell[CellGroupData[{

Cell[BoxData["0.010473`"], "EchoTiming",
 CellID->1105049928,ExpressionUUID->"77142b14-cc53-4d0e-b604-641094d4cc83"],

Cell[BoxData["0.007227`"], "EchoTiming",
 CellID->1135560640,ExpressionUUID->"e0e05d6f-8c56-4041-9dfa-1fa9d4987da5"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"out", "-", "new"}], "//", "Elaborate"}], "//", 
  "Simplify"}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[4]:=",
 CellID->930119028,ExpressionUUID->"88690fe0-222a-438d-bed6-22771f6f0825"],

Cell[BoxData["0"], "Output",
 CellLabel->"Out[4]=",
 CellID->1633387929,ExpressionUUID->"9580c762-9443-45a4-a342-8bd9a445c2a5"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 InterpretationBox[Cell[
  "\t", "ExampleDelimiter",ExpressionUUID->
   "2a891ddc-ef92-49a6-985b-725276e14e4e"],
  $Line = 0; Null]], "ExampleDelimiter",
 CellID->1176843909,ExpressionUUID->"2b654faf-a8a3-406c-b5a5-d17b117232c6"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"qc3", "=", 
  RowBox[{"QuantumCircuit", "[", 
   RowBox[{"in", ",", 
    RowBox[{"ExpandAll", "@", "op"}]}], "]"}]}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[1]:=",
 CellID->474550426,ExpressionUUID->"849a122a-1f67-4d43-816f-1c8bbb6f1d2d"],

Cell[BoxData[
 InterpretationBox[
  GraphicsBox[{
    {Dashing[{Small, Small}], LineBox[{}]}, 
    LineBox[{{{0, -1}, {12, -1}}, {{0, -2}, {12, -2}}, {{0, -3}, {12, -3}}, {{
     0, -4}, {12, -4}}}], {InsetBox[
      TemplateBox[{"1"},
       "Ket"], {-0.2, -1.}, NCache[
      ImageScaled[{1, Rational[1, 2]}], ImageScaled[{1, 0.5}]], Automatic, {1,
       0}], InsetBox[
      TemplateBox[{"0"},
       "Ket"], {-0.2, -2.}, NCache[
      ImageScaled[{1, Rational[1, 2]}], ImageScaled[{1, 0.5}]], Automatic, {1,
       0}], InsetBox[
      TemplateBox[{"1"},
       "Ket"], {-0.2, -3.}, NCache[
      ImageScaled[{1, Rational[1, 2]}], ImageScaled[{1, 0.5}]], Automatic, {1,
       0}], InsetBox[
      TemplateBox[{"1"},
       "Ket"], {-0.2, -4.}, NCache[
      ImageScaled[{1, Rational[1, 2]}], ImageScaled[{1, 0.5}]], Automatic, {1,
       0}]}, {
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{0.6, -1.4}, {1.4, -0.6}]}, InsetBox[
      StyleBox["\<\"H\"\>",
       StripOnInput->False,
       FontSize->Scaled[0.03333333333333333],
       FontWeight->"Light",
       FontSlant->Italic], {1., -1.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {LineBox[{{2, -1}, {2, -2}}], 
     DiskBox[{2, -1}, 0.09], 
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{1.6, -2.4}, {2.4, -1.6}]}, InsetBox[
      StyleBox[
       SubscriptBox["\<\"Z\"\>", "2"],
       StripOnInput->False,
       FontSize->Scaled[0.03333333333333333],
       FontWeight->"Light",
       FontSlant->Italic], {2., -2.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{2.6, -2.4}, {3.4, -1.6}]}, InsetBox[
      StyleBox["\<\"H\"\>",
       StripOnInput->False,
       FontSize->Scaled[0.03333333333333333],
       FontWeight->"Light",
       FontSlant->Italic], {3., -2.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {LineBox[{{4, -1}, {4, -3}}], 
     DiskBox[{4, -1}, 0.09], 
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{3.6, -3.4}, {4.4, -2.6}]}, InsetBox[
      StyleBox[
       SubscriptBox["\<\"Z\"\>", "3"],
       StripOnInput->False,
       FontSize->Scaled[0.03333333333333333],
       FontWeight->"Light",
       FontSlant->Italic], {4., -3.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {LineBox[{{5, -2}, {5, -3}}], 
     DiskBox[{5, -2}, 0.09], 
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{4.6, -3.4}, {5.4, -2.6}]}, InsetBox[
      StyleBox[
       SubscriptBox["\<\"Z\"\>", "2"],
       StripOnInput->False,
       FontSize->Scaled[0.03333333333333333],
       FontWeight->"Light",
       FontSlant->Italic], {5., -3.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{5.6, -3.4}, {6.4, -2.6}]}, InsetBox[
      StyleBox["\<\"H\"\>",
       StripOnInput->False,
       FontSize->Scaled[0.03333333333333333],
       FontWeight->"Light",
       FontSlant->Italic], {6., -3.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {LineBox[{{7, -1}, {7, -4}}], 
     DiskBox[{7, -1}, 0.09], 
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{6.6, -4.4}, {7.4, -3.6}]}, InsetBox[
      StyleBox[
       SubscriptBox["\<\"Z\"\>", "4"],
       StripOnInput->False,
       FontSize->Scaled[0.03333333333333333],
       FontWeight->"Light",
       FontSlant->Italic], {7., -4.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {LineBox[{{8, -2}, {8, -4}}], 
     DiskBox[{8, -2}, 0.09], 
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{7.6, -4.4}, {8.4, -3.6}]}, InsetBox[
      StyleBox[
       SubscriptBox["\<\"Z\"\>", "3"],
       StripOnInput->False,
       FontSize->Scaled[0.03333333333333333],
       FontWeight->"Light",
       FontSlant->Italic], {8., -4.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {LineBox[{{9, -3}, {9, -4}}], 
     DiskBox[{9, -3}, 0.09], 
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{8.6, -4.4}, {9.4, -3.6}]}, InsetBox[
      StyleBox[
       SubscriptBox["\<\"Z\"\>", "2"],
       StripOnInput->False,
       FontSize->Scaled[0.03333333333333333],
       FontWeight->"Light",
       FontSlant->Italic], {9., -4.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{9.6, -4.4}, {10.4, -3.6}]}, InsetBox[
      StyleBox["\<\"H\"\>",
       StripOnInput->False,
       FontSize->Scaled[0.03333333333333333],
       FontWeight->"Light",
       FontSlant->Italic], {10., -4.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{10.6, -4.4}, {11.4, -0.6}]}, InsetBox[
      StyleBox["\<\"QBR\"\>",
       StripOnInput->False,
       FontSize->Scaled[0.03333333333333333],
       FontWeight->"Light",
       FontSlant->Italic], {11., -2.5}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {0, 1}]}},
   AxesStyle->Large,
   FrameStyle->Large,
   ImagePadding->{{23.400000000000002`, 23.400000000000002`}, {7.2, 7.2}},
   ImageSize->478.8,
   PlotRange->{{0, 12}, {-4.5, -0.5}},
   PlotRangePadding->Scaled[0.025]],
  Q3`QuantumCircuit[
   Q3`QuantumCircuitIn[
    Ket[<|$CellContext`S[1, Q3`$] -> 1, $CellContext`S[2, Q3`$] -> 
      0, $CellContext`S[3, Q3`$] -> 1, $CellContext`S[4, Q3`$] -> 1|>]], 
   $CellContext`S[1, 6], 
   Q3`ControlledGate[{$CellContext`S[1, Q3`$] -> 1}, 
    $CellContext`S[2, 7], "Label" -> Subscript["Z", 2]], 
   $CellContext`S[2, 6], 
   Q3`ControlledGate[{$CellContext`S[1, Q3`$] -> 1}, 
    $CellContext`S[3, 8], "Label" -> Subscript["Z", 3]], 
   Q3`ControlledGate[{$CellContext`S[2, Q3`$] -> 1}, 
    $CellContext`S[3, 7], "Label" -> Subscript["Z", 2]], 
   $CellContext`S[3, 6], 
   Q3`ControlledGate[{$CellContext`S[1, Q3`$] -> 1}, 
    $CellContext`S[4, 9], "Label" -> Subscript["Z", 4]], 
   Q3`ControlledGate[{$CellContext`S[2, Q3`$] -> 1}, 
    $CellContext`S[4, 8], "Label" -> Subscript["Z", 3]], 
   Q3`ControlledGate[{$CellContext`S[3, Q3`$] -> 1}, 
    $CellContext`S[4, 7], "Label" -> Subscript["Z", 2]], 
   $CellContext`S[4, 6], 
   Q3`QBR[{
     $CellContext`S[1, Q3`$], 
     $CellContext`S[2, Q3`$], 
     $CellContext`S[3, Q3`$], 
     $CellContext`S[4, Q3`$]}]]]], "Output",
 CellLabel->"Out[1]=",
 CellID->1775604673,ExpressionUUID->"9d2915eb-1824-4fce-baca-4e892f504100"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"EchoTiming", "[", 
  RowBox[{
   RowBox[{"out3", "=", 
    RowBox[{"Elaborate", "[", "qc3", "]"}]}], ";"}], "]"}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[2]:=",
 CellID->855637563,ExpressionUUID->"63b42e77-ab52-413c-9ca5-992427c5fcb0"],

Cell[BoxData["0.101575`"], "EchoTiming",
 CellID->795316478,ExpressionUUID->"3132803e-651e-473c-9bea-edd60eafafea"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{"EchoTiming", "[", 
  RowBox[{
   RowBox[{"vec3", "=", 
    RowBox[{"Matrix", "[", "qc3", "]"}]}], ";"}], 
  "]"}], "\[IndentingNewLine]", 
 RowBox[{"EchoTiming", "[", 
  RowBox[{
   RowBox[{"new", "=", 
    RowBox[{"ExpressionFor", "[", 
     RowBox[{"vec3", ",", 
      RowBox[{"Qubits", "@", "qc3"}]}], "]"}]}], ";"}], "]"}]}], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[3]:=",
 CellID->1050611403,ExpressionUUID->"a2711440-95a5-44aa-883f-5add16d9e872"],

Cell[CellGroupData[{

Cell[BoxData["0.008101`"], "EchoTiming",
 CellID->912184114,ExpressionUUID->"7ecdd09b-8643-4bcc-a1b4-793839b531df"],

Cell[BoxData["0.005693`"], "EchoTiming",
 CellID->192648065,ExpressionUUID->"b2599eb3-dcee-495d-afb5-43ef1046e8ad"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"out", "-", "new"}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[4]:=",
 CellID->801372723,ExpressionUUID->"fa7c17c4-83da-46e9-86da-469a963a47e7"],

Cell[BoxData["0"], "Output",
 CellLabel->"Out[4]=",
 CellID->822164131,ExpressionUUID->"8dcd1212-34d8-44e3-bbe6-56492a73c6d3"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 InterpretationBox[Cell[
  "\t", "ExampleDelimiter",ExpressionUUID->
   "adb00fed-2109-4d07-942e-5b4e791dff86"],
  $Line = 0; Null]], "ExampleDelimiter",
 CellID->98462808,ExpressionUUID->"e0951005-f68f-4863-833c-6bc49977d5e3"],

Cell["\<\
Measurements also affect the performance. Let us consider the case where \
there is no input specified in the quantum circuit itself.\
\>", "ExampleText",
 CellID->2095504517,ExpressionUUID->"3cf8fa36-5a1c-496c-992e-1ed5fc7cfeba"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{"gates", "=", 
   RowBox[{
    RowBox[{"ExpandAll", "[", "op", "]"}], "/.", 
    RowBox[{
     RowBox[{"S", "[", 
      RowBox[{"k_", ",", "6"}], "]"}], "->", 
     RowBox[{"Sequence", "[", 
      RowBox[{
       RowBox[{"S", "[", 
        RowBox[{"k", ",", "6"}], "]"}], ",", 
       RowBox[{"Measurement", "[", 
        RowBox[{"S", "[", 
         RowBox[{"k", ",", "3"}], "]"}], "]"}]}], "]"}]}]}]}], ";", 
  RowBox[{"qc4", "=", 
   RowBox[{"QuantumCircuit", "@@", "gates"}]}]}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[1]:=",
 CellID->1583354475,ExpressionUUID->"bd5ff9e0-0618-420d-a5d0-a1ccd65689c2"],

Cell[BoxData[
 InterpretationBox[
  GraphicsBox[{
    {Dashing[{Small, Small}], 
     LineBox[{{{2, -1}, {16, -1}}, {{5, -2}, {16, -2}}, {{9, -3}, {
      16, -3}}, {{14, -4}, {16, -4}}}]}, 
    LineBox[{{{0, -1}, {2, -1}}, {{0, -2}, {5, -2}}, {{0, -3}, {9, -3}}, {{
     0, -4}, {14, -4}}}], {
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{0.6, -1.4}, {1.4, -0.6}]}, InsetBox[
      StyleBox["\<\"H\"\>",
       StripOnInput->False,
       FontSize->Scaled[0.025],
       FontWeight->"Light",
       FontSlant->Italic], {1., -1.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{1.6, -1.4}, {2.4, -0.6}]}, 
     CircleBox[{2, -1.2}, 0.4, 
      NCache[{Rational[1, 6] Pi, Rational[5, 6] Pi}, {0.5235987755982988, 
       2.6179938779914944`}]], LineBox[{{2, -1.2}, {2.24, -0.76}}]}, {
     LineBox[{{3, -1}, {3, -2}}], DiskBox[{3, -1}, 0.09], 
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{2.6, -2.4}, {3.4, -1.6}]}, InsetBox[
      StyleBox[
       SubscriptBox["\<\"Z\"\>", "2"],
       StripOnInput->False,
       FontSize->Scaled[0.025],
       FontWeight->"Light",
       FontSlant->Italic], {3., -2.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{3.6, -2.4}, {4.4, -1.6}]}, InsetBox[
      StyleBox["\<\"H\"\>",
       StripOnInput->False,
       FontSize->Scaled[0.025],
       FontWeight->"Light",
       FontSlant->Italic], {4., -2.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{4.6, -2.4}, {5.4, -1.6}]}, 
     CircleBox[{5, -2.2}, 0.4, 
      NCache[{Rational[1, 6] Pi, Rational[5, 6] Pi}, {0.5235987755982988, 
       2.6179938779914944`}]], LineBox[{{5, -2.2}, {5.24, -1.76}}]}, {
     LineBox[{{6, -1}, {6, -3}}], DiskBox[{6, -1}, 0.09], 
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{5.6, -3.4}, {6.4, -2.6}]}, InsetBox[
      StyleBox[
       SubscriptBox["\<\"Z\"\>", "3"],
       StripOnInput->False,
       FontSize->Scaled[0.025],
       FontWeight->"Light",
       FontSlant->Italic], {6., -3.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {LineBox[{{7, -2}, {7, -3}}], 
     DiskBox[{7, -2}, 0.09], 
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{6.6, -3.4}, {7.4, -2.6}]}, InsetBox[
      StyleBox[
       SubscriptBox["\<\"Z\"\>", "2"],
       StripOnInput->False,
       FontSize->Scaled[0.025],
       FontWeight->"Light",
       FontSlant->Italic], {7., -3.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{7.6, -3.4}, {8.4, -2.6}]}, InsetBox[
      StyleBox["\<\"H\"\>",
       StripOnInput->False,
       FontSize->Scaled[0.025],
       FontWeight->"Light",
       FontSlant->Italic], {8., -3.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{8.6, -3.4}, {9.4, -2.6}]}, 
     CircleBox[{9, -3.2}, 0.4, 
      NCache[{Rational[1, 6] Pi, Rational[5, 6] Pi}, {0.5235987755982988, 
       2.6179938779914944`}]], LineBox[{{9, -3.2}, {9.24, -2.76}}]}, {
     LineBox[{{10, -1}, {10, -4}}], DiskBox[{10, -1}, 0.09], 
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{9.6, -4.4}, {10.4, -3.6}]}, InsetBox[
      StyleBox[
       SubscriptBox["\<\"Z\"\>", "4"],
       StripOnInput->False,
       FontSize->Scaled[0.025],
       FontWeight->"Light",
       FontSlant->Italic], {10., -4.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {LineBox[{{11, -2}, {11, -4}}], 
     DiskBox[{11, -2}, 0.09], 
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{10.6, -4.4}, {11.4, -3.6}]}, InsetBox[
      StyleBox[
       SubscriptBox["\<\"Z\"\>", "3"],
       StripOnInput->False,
       FontSize->Scaled[0.025],
       FontWeight->"Light",
       FontSlant->Italic], {11., -4.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {LineBox[{{12, -3}, {12, -4}}], 
     DiskBox[{12, -3}, 0.09], 
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{11.6, -4.4}, {12.4, -3.6}]}, InsetBox[
      StyleBox[
       SubscriptBox["\<\"Z\"\>", "2"],
       StripOnInput->False,
       FontSize->Scaled[0.025],
       FontWeight->"Light",
       FontSlant->Italic], {12., -4.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{12.6, -4.4}, {13.4, -3.6}]}, InsetBox[
      StyleBox["\<\"H\"\>",
       StripOnInput->False,
       FontSize->Scaled[0.025],
       FontWeight->"Light",
       FontSlant->Italic], {13., -4.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{13.6, -4.4}, {14.4, -3.6}]}, 
     CircleBox[{14, -4.2}, 0.4, 
      NCache[{Rational[1, 6] Pi, Rational[5, 6] Pi}, {0.5235987755982988, 
       2.6179938779914944`}]], LineBox[{{14, -4.2}, {14.24, -3.76}}]}, {
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{14.6, -4.4}, {15.4, -0.6}]}, InsetBox[
      StyleBox["\<\"QBR\"\>",
       StripOnInput->False,
       FontSize->Scaled[0.025],
       FontWeight->"Light",
       FontSlant->Italic], {15., -2.5}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {0, 1}]}},
   AxesStyle->Large,
   FrameStyle->Large,
   ImagePadding->{{23.400000000000002`, 23.400000000000002`}, {7.2, 7.2}},
   ImageSize->622.8000000000001,
   PlotRange->{{0, 16}, {-4.5, -0.5}},
   PlotRangePadding->Scaled[0.025]],
  Q3`QuantumCircuit[
   $CellContext`S[1, 6], 
   Q3`Measurement[
    $CellContext`S[1, 3]], 
   Q3`ControlledGate[{$CellContext`S[1, Q3`$] -> 1}, 
    $CellContext`S[2, 7], "Label" -> Subscript["Z", 2]], 
   $CellContext`S[2, 6], 
   Q3`Measurement[
    $CellContext`S[2, 3]], 
   Q3`ControlledGate[{$CellContext`S[1, Q3`$] -> 1}, 
    $CellContext`S[3, 8], "Label" -> Subscript["Z", 3]], 
   Q3`ControlledGate[{$CellContext`S[2, Q3`$] -> 1}, 
    $CellContext`S[3, 7], "Label" -> Subscript["Z", 2]], 
   $CellContext`S[3, 6], 
   Q3`Measurement[
    $CellContext`S[3, 3]], 
   Q3`ControlledGate[{$CellContext`S[1, Q3`$] -> 1}, 
    $CellContext`S[4, 9], "Label" -> Subscript["Z", 4]], 
   Q3`ControlledGate[{$CellContext`S[2, Q3`$] -> 1}, 
    $CellContext`S[4, 8], "Label" -> Subscript["Z", 3]], 
   Q3`ControlledGate[{$CellContext`S[3, Q3`$] -> 1}, 
    $CellContext`S[4, 7], "Label" -> Subscript["Z", 2]], 
   $CellContext`S[4, 6], 
   Q3`Measurement[
    $CellContext`S[4, 3]], 
   Q3`QBR[{
     $CellContext`S[1, Q3`$], 
     $CellContext`S[2, Q3`$], 
     $CellContext`S[3, Q3`$], 
     $CellContext`S[4, Q3`$]}]]]], "Output",
 CellLabel->"Out[1]=",
 CellID->2035613670,ExpressionUUID->"dc8b7066-8eaf-480e-ae06-500be717514a"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"EchoTiming", "[", 
  RowBox[{"fun4", "=", 
   RowBox[{"Elaborate", "[", "qc4", "]"}]}], "]"}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[2]:=",
 CellID->1048152860,ExpressionUUID->"18be41e6-6fd6-41b4-a4d6-70abbd155162"],

Cell[BoxData["0.034179`"], "EchoTiming",
 CellID->1364099093,ExpressionUUID->"4f588611-2713-4518-8f7f-f947d4c3c794"],

Cell[BoxData[
 InterpretationBox[
  InterpretationBox["\<\"MeasurementFunction[\\!\\(\\*RowBox[{\\\"{\\\", \
RowBox[{InterpretationBox[SubscriptBox[\\\"S\\\", TemplateBox[List[\\\",\\\", \
\\\"\\\\\\\",\\\\\\\"\\\", \\\"1\\\"], \\\"RowWithSeparators\\\"]], S[1, $]], \
\\\",\\\", InterpretationBox[SubscriptBox[\\\"S\\\", TemplateBox[List[\\\",\\\
\", \\\"\\\\\\\",\\\\\\\"\\\", \\\"2\\\"], \\\"RowWithSeparators\\\"]], S[2, \
$]], \\\",\\\", InterpretationBox[SubscriptBox[\\\"S\\\", TemplateBox[List[\\\
\",\\\", \\\"\\\\\\\",\\\\\\\"\\\", \\\"3\\\"], \\\"RowWithSeparators\\\"]], \
S[3, $]], \\\",\\\", InterpretationBox[SubscriptBox[\\\"S\\\", \
TemplateBox[List[\\\",\\\", \\\"\\\\\\\",\\\\\\\"\\\", \\\"4\\\"], \
\\\"RowWithSeparators\\\"]], S[4, $]]}], \\\"}\\\"}]\\)]\"\>",
   StringForm["MeasurementFunction[``]", {
     $CellContext`S[1, Q3`$], 
     $CellContext`S[2, Q3`$], 
     $CellContext`S[3, Q3`$], 
     $CellContext`S[4, Q3`$]}],
   Editable->False],
  Q3`MeasurementFunction[{
    $CellContext`S[1, 6], 
    Q3`Measurement[
     $CellContext`S[1, 3]], 
    Q3`ControlledGate[{$CellContext`S[1, Q3`$] -> 1}, 
     $CellContext`S[2, 7]], 
    $CellContext`S[2, 6], 
    Q3`Measurement[
     $CellContext`S[2, 3]], 
    Q3`ControlledGate[{$CellContext`S[1, Q3`$] -> 1}, 
     $CellContext`S[3, 8]], 
    Q3`ControlledGate[{$CellContext`S[2, Q3`$] -> 1}, 
     $CellContext`S[3, 7]], 
    $CellContext`S[3, 6], 
    Q3`Measurement[
     $CellContext`S[3, 3]], 
    Q3`ControlledGate[{$CellContext`S[1, Q3`$] -> 1}, 
     $CellContext`S[4, 9]], 
    Q3`ControlledGate[{$CellContext`S[2, Q3`$] -> 1}, 
     $CellContext`S[4, 8]], 
    Q3`ControlledGate[{$CellContext`S[3, Q3`$] -> 1}, 
     $CellContext`S[4, 7]], 
    $CellContext`S[4, 6], 
    Q3`Measurement[
     $CellContext`S[4, 3]], 
    Q3`QBR[{
      $CellContext`S[1, Q3`$], 
      $CellContext`S[2, Q3`$], 
      $CellContext`S[3, Q3`$], 
      $CellContext`S[4, Q3`$]}]}]]], "Output",
 CellLabel->"Out[2]=",
 CellID->2025524326,ExpressionUUID->"5435b628-5e82-4a5d-bb99-a05ad62cb1c9"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"fun4", "[", "in", "]"}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[3]:=",
 CellID->780905546,ExpressionUUID->"bc38948f-cb1e-4380-9160-b9a1ff9253b3"],

Cell[BoxData[
 RowBox[{"-", 
  FractionBox[
   RowBox[{
    RowBox[{"(", 
     RowBox[{"1", "-", "\[ImaginaryI]"}], ")"}], " ", 
    InterpretationBox[
     TemplateBox[{
       TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
         SubscriptBox["0", 
          TemplateBox[{",", "\",\"", 
            InterpretationBox[
             SubscriptBox["S", 
              TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
             $CellContext`S[1, Q3`$]]}, "RowWithSeparators"]], 
         SubscriptBox["0", 
          TemplateBox[{",", "\",\"", 
            InterpretationBox[
             SubscriptBox["S", 
              TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
             $CellContext`S[2, Q3`$]]}, "RowWithSeparators"]], 
         SubscriptBox["1", 
          TemplateBox[{",", "\",\"", 
            InterpretationBox[
             SubscriptBox["S", 
              TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
             $CellContext`S[3, Q3`$]]}, "RowWithSeparators"]], 
         SubscriptBox["0", 
          TemplateBox[{",", "\",\"", 
            InterpretationBox[
             SubscriptBox["S", 
              TemplateBox[{",", "\",\"", "4"}, "RowWithSeparators"]], 
             $CellContext`S[4, Q3`$]]}, "RowWithSeparators"]]}, 
        "RowWithSeparators"]},
      "Ket"],
     Ket[<|$CellContext`S[1, Q3`$] -> 0, $CellContext`S[2, Q3`$] -> 
       0, $CellContext`S[3, Q3`$] -> 1, $CellContext`S[4, Q3`$] -> 0|>]]}], 
   SqrtBox["2"]]}]], "Output",
 CellLabel->"Out[3]=",
 CellID->293387073,ExpressionUUID->"00730728-4df8-4ec5-85c6-e9a285a46d1d"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"vin", "=", 
   RowBox[{"Matrix", "[", 
    RowBox[{"in", ",", "SS"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"Normal", "[", "vin", "]"}]}], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[4]:=",
 CellID->1649932810,ExpressionUUID->"416dce5c-7187-41b2-938c-a69075545775"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
  "0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0", 
   ",", "0", ",", "0", ",", "0", ",", "1", ",", "0", ",", "0", ",", "0", ",", 
   "0"}], "}"}]], "Output",
 CellLabel->"Out[4]=",
 CellID->540256258,ExpressionUUID->"02d5bb4e-800f-4a92-95f7-b584a37c3a95"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"EchoTiming", "[", 
  RowBox[{"mat4", "=", 
   RowBox[{"Matrix", "[", "qc4", "]"}]}], "]"}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[5]:=",
 CellID->1804603064,ExpressionUUID->"65a89a44-123b-456f-b68c-8b6f092fe245"],

Cell[BoxData["0.008356`"], "EchoTiming",
 CellID->758928167,ExpressionUUID->"a3d2ee6e-a990-4ce6-a85b-d96beafb9ca3"],

Cell[BoxData[
 GraphicsBox[
  TagBox[RasterBox[CompressedData["
1:eJztXQlwFEUXHkQJYMAzXElhAij3jRhADKkySiIqJqjhLo4AATWlcgslKIdY
qCGlhYKoEEsRhBLKyE04wpEA4QwECAjhkF8IiIGo4dj/c17R1fTMzvaMs9lo
9VdFarfnbXe/193fe6+7d4kYmBI/5A5N096sjD/xA8ZEv/HGgHEJ9+LNi6+9
mTz0taTBsa+NTBqa9EbkwIooDMe/hRU07e/XHgUFBQUFBQUFBQUFBQUFBQUF
BQUFBQUFBQUFBQUFBQUF/+D48eOLFi36/fffA90RhX8Nbt68WaoDL4RHVH79
+vWAdEzBFZRaItC9cwHHjh27446/73G1atUq0H1R+Ndg165dmo733nuPLz9/
/vydd96J8qFDhwaqbwrW2Ldv344dO27cuGEhU7t2bc07yqyrtiCjF8Py5ctJ
F0zXK1eu+Ltvpjh79mzOLRw5csSn/OXLl3Nzc0+fPu1N4I8//liwYEFycnJq
aqp1VRs2bEhJSencuXOjRo169Ogxbdo0rFzbCpSn1r0B82H37t0yYdhvv/3G
hmPv3r2mMoz32rZty5fPnTuXyhXvlVuEhIRggKzzO+K9qlWr3mtAnTp1yqyr
tiCjF8Nff/2VkJBQv379GTNm+Ltj3vDWW28FBQWF6UhMTLQWHj9+PIQRo86e
Pdv49IsvvoiJialevTqtvjZt2nirB+H66NGjK1SoIPiyBx98cNmyZc4UCWzr
1sB8CA4Ovueee7p37/7rr79aSP744480Fvfffz/6YyrDeA9AysDKn3rqKcV7
5Rlwf5TfyfDeV199VWYd+4eQ1KtcAbzXs2dPGcnVq1dDtY8++ggxialAXFwc
TyMWzPPqq6+STFJSUmZmZkFBAQjniSeeuOuuu9asWeNMkcC27hMg282bN4eH
h7/88ssy8ghHrXkPxMinukVFRcgaQK0WvIdYHcnIuXPnfLZ+6dIlZC6IUX2m
ISUlJfn5+Tt37vTTnL958yaSi+zs7EOHDnkLmCX1gi779+/n3yJz+fPPP73J
y5uL8PPPP6N+BDPeBJBQ0MQLOO9BawyZjGpIoJB3HD161LiZzCCplwNgjDDb
LbJLAfJ6yfPe1KlTGzdubKE++PB/OiZMmGDBPAhRwDAQ+Pzzz/ly1CyTaJfP
1iUxa9YsUJ+MpE/e69q1a+XKlVmqi3AXhc8//7wp7y1evLhhw4YsxEVWMn36
dCONFBcXp6WloU4miReRkZE8XTDAZXTu3Jk5GkhCtVGjRmEIeLHo6GgE4TNn
zhQ+/v7776McWgjlI0aMQPlPP/2E1+np6Y888ghrAlmesIPkU68DBw7AF/Tv
3x+pCswFGaRXFy5cwLRHIom3IJm8vDwH5lqwYAH6ickGokP6gGpJGN7n9ddf
59nvs88+a9CgQWhoKBJVkqlWrVp1DjARX7Mk79kybJMmTVB49erVrKwspEVV
qlShnsC827dvN1aO5YAONGrUiAI5AJ1HtgJud6ZXrVq1qhtgwTzr1q1r0aIF
ax1rAUNmdFJ29WKQ5z15yQ8//NCCefr164enHTp0kKnKAQLbujUs2ExekngP
We2zzz7LUt3Y2NiKFSumpqYaea93795sMsTHx0N3mk7C0vjll1/Yjvrdd98N
umvevDnq1PS9psLCQl44JyeH5hg6mZCQkJiY2Lp1a3IoDzzwAB8lPvrooyiE
0xS0ePfdd1EO5hTK+/bti3IwHjILxqh169YFa3Xq1MmuXvD+KCHGo2AYwIKi
hUxve/To4cBcs2fPRiGyjMcff5zs0LJlS9iNPgvtmOQnn3xCy7xSpUou8p4t
w9asWROFb7/9NvoAdZo2bQonRZ257777ENnywhi+jh070lMMfbt27WAxmgnB
wcHMCdrSS+A9koebNlVt8uTJbB7C/hh9eotuC8mmLb14lD3vRURE4OkPP/xg
XQmC1aioKNMYDE5/8ODBX375pf9a9xNc5D0k5t988w1ezJgxA2kpOAf+jqI+
nvc+/fRTCkJ4c23duhWzguiFr7lLly6YqwjkWGyDBJMS6oEDB/KSQ4YMIQJB
nssKT548iXERFqwz3gOH4C+Crjlz5pw9e9ajpzB8sCGpF/EeAHIuLS0l+wAI
yTCLEATidVhYmANzEe8BQUFBCOPphklRURHWKdGgxwC2MSuT586bN+/67RBi
XQe8p+ke//Dhw1T47bffUuHHH3/MC2OsyQiIZlmIhTD+pZdegrc1HtpK6sUD
9vfGe4jTyNH06tULgRwVLlq0iHxKUlKSY714lDHvXbt2jRzHiRMnsFrBPyNH
jkxOTsbM4bfoPfrGAoyM1EagPpgdSwMuw1sc60rrfoKLvIcwA7OCAjMiQBAO
knee92BDmi3CjReAIkMQHV9oujc1ZcoUSCLl4QtBIyhs3749mrBWxBnvAfjg
xYsXTeuU14t4D+uIsu9Tp05per5MyxnJFN4iVLBbrecW7yGSRCW85KpVq6j/
yKaFSmzxnhEwCC/mgPe6desmDDGx9CuvvMJKsKyouXfeecfYN9NtLnd5D54X
j5o1ayYQLA0BwBOCvF4Cypj3CgoK8AjByffff4+EiB9W+E3hXNtIfT5Jz8XW
/QF3eQ+v+/TpgzQQ6xFZJ2adwHvIRjU9Tzx9+vSV27FlyxY8wrQxbaK4uHjz
5s1z584dNWoUAkueHAgZGRnklOvXrz9p0qRDhw55U8QZ7yFjOn78uLc65fUi
3mOdh6fAW+Tv9Hb37t0U2DgwF/Fe48aNhb4RtQL79u0THtniPQyosBsGB8eL
OeC97777ThAeNGgQypHOsxLaXggJCZG/I+0u71EWLGy/e/SAn7ZkEc6xQnm9
BMizGcSQ3chIWjDP2rVrGdU0aNBg5syZSCJWr15N8QOmnOA9eeoD6WGZW5Oe
u627DixDrEHrqywESd5bsWIFqUPHxALvIUk0jRx4CNN74cKF3bt3pw0xAUI3
li1bRpsGhCZNmowZM4ZPRQnOeG/AgAEWxpHXyxbv2TKXN967fPkySebm5gqP
bPGeP/b3jPxA/PPcc8+xErI/Fp116zxc5L2TJ09SVViYxk/Rxuy4ceNYibxe
AmR4D+nGvHnzMHkkr3lYME92djbpFRcXJ2xR0i49Fp3wEUZ9EPBJeq637i5A
3QiQEhMTjcGAAEneQ+Zeo0YNvF2+fLnHwHu0W6XpWyWmgB9h1cLOKNH0rDAq
Kgp+Pysr68yZM5mZmaa859Ev56Bd+FaWmoFD4Bz5o09nvIc6LYwjr5ct3rNl
Lp+8h8qFR+WW93j+oWOdZ555xrp1Hi7y3okTJ6iqbdu2GT/VunVrPEIOwkrk
9RIgw3tJSUmal3zfFBbMU1RU5M1EyD01PQwzfgqJBm0sz58/v+xbdxeFhYUU
TVncCPJI8x6AqBWzlOIQgfdAXKSvcLfEFLCtph96IioWeuKN9xigC/wR0gqS
nDJlCnv02GOPoWTs2LHCR/4J78nrZYv3bJnLAe/B2dEj64BfkvdsGVaeH6ZN
m4aS0NBQ6/nJQ1Iv63YJCAxoi1U4cQPgTKtVqyY88ivvHThwICUlBY1ixflW
ydeJKt0fwGoSyillQ/QilLP0Fg4OU4Kd2pRN664DfBUZGWkcKQHyvMdD4L3i
4mK6W8K7SG+gLRHjZFi6dKmR97zdZ+7atat2e5b0wgsvoAR/ebHz58+T73bG
e/J62eI9W+ZywHsXLlygR9Y5iyTv2TKsPD+wcxnTw1DTYyxJvazbZejUqZNm
OMTxcF/DBB050EuA/P4eMkGwn4ykNfMgy9PMMkr0RDPckuIPMkpKSmJiYnxS
n4utuw4MGbJIn9TtcYn3gOnTp2v61iUSIv7MKz8/H3ODv4UyYsQITT9HY5yG
GBJBPrudxSQRLT/88MPR0dE7duzgW4e7p7B82LBhrHD06NGafpbEdmwQHrDb
yM54T14vW7xny1wOeA+oU6eOpu878VdwL126xMtI8p4tw8rzA8I8+sJjlSpV
Zs2axQ5V0eHJkydjfE2vlsnoZd0uw7p16+jG+PDhw9kQrFy5kqaW8F3aMuA9
t+7vHT16lLwqEjQWS2/cuJGyP/6bv8bTW7gbUB+MbEEdbrWO5Y+YPy0tTbio
j9GcNGmS8bzp3Llz48eP5w+bjHD9PFeAkfdgQ2TBtBZq1aqF15g5MA6dxmJi
M8nMzEwqxFzq1avXk08+SWkFXaXjeW/btm3Ig4gfIiIi4uLiwJm9e/emm36I
qHmPfOzYMfqVGPxFu3QUUrVqVZqZjnlPUi+7vCdvLme898EHH9DThx56KEEH
HA2swTOqJO/ZMqwtfjhz5gy7KowPYsV17NiRrqnDkl9//bUzvXy2KzzV9PwL
oQjGi5gwPDxc+PGQgPNefHx8jVsIDg5m3SY8/fTTvDC8KinStGlTzCssMXob
GxvLuAgzsF+/fsaDDNN7fa637tG/U0b1ZGRk8B+fOHEilWNN8eUIcqjceKbJ
4Arv7dmzB60Il/wJxHvGa0vp6en82StQr149KChMS4hhsTOZhg0bItnBQNA3
HXhJjEJqamqrVq2CgoKYPMwIojCeYy5ZsoQoUdPjEzB2Tk4OuBFvo6KiBOH+
/ftrt0eMFvCpFzGbwHvMJxp5T95cdPhrwXumX+6DMTH9BKOhPwUFBUwmLCxM
hvc8dgxL8Zg3fgBNCeUwFOY5+0qLpl/0wro7ePCgaU9k9OJBwaqxXV419s0L
Tb8nCd9aXFwsiNnVi8Et3mvfvr3mHcYfGFyxYgXmEhOAa0AUzWcWhYWFmHum
OwZEfXAx/mvdo9/ooKdCH0AFmn7oKYwpgkAaIIvfs3KF9xzj4sWLiBWzs7Mt
vr8DI2DBItcwXrs1BYJhxN5ZWVn4lHFaMiBlxpJZv369P36+QEav8lOtRzcy
at60aROI19vdbEn41bAe/XfqkAjs3bv32rVrPoVd1IuAHAqq5eXluf5Tuv7I
c+UBivCTXq60vmXLFtMfwcNMyM/PFwrh8latWmUR7HkCzXsKCgoEeTZDRISw
yt/9+W9j/vz5kj8dqXhPQcF/kOc9us8QqG/0/wdQUlLSrl27mJgYGWHFewoK
/gN4r169esk60tLSLCSRx9HF1NDQ0MWLF5dZD/8DuHr1KugOPBYSEmJ6zMeQ
m5tLY9GtWzfFewoKfsL69esn3oLMERIWZnp6urf/+kHBFKWlpXPmzMnIyPD5
6yV5eXlsOAL4vw8oKCgoKCgoKCgoKCgoKJQN/g9BaJS+
    "], {{0, 16.}, {212., 0}}, {0, 255},
    ColorFunction->RGBColor,
    ImageResolution->{144., 144.},
    RasterInterpolation->"High"],
   BoxForm`ImageTag["Byte", ColorSpace -> "RGB", Interleaving -> True],
   Selectable->False],
  DefaultBaseStyle->"ImageGraphics",
  ImageSize->Automatic,
  ImageSizeRaw->{212., 16.},
  PlotRange->{{0, 212.}, {0, 16.}}]], "Output",
 CellTags->"RasterizedOutput",
 CellLabel->"Out[5]=",
 CellID->2065044,ExpressionUUID->"9e9462ec-6aa8-4664-bc7d-4d9d2273daa7"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{"mat4", "[", "vin", "]"}], "//", "Normal"}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[6]:=",
 CellID->1136936051,ExpressionUUID->"877efba6-d5ca-4f1f-95e4-6d005ae0741b"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0", ",", 
   SuperscriptBox["\[ExponentialE]", 
    FractionBox[
     RowBox[{"\[ImaginaryI]", " ", "\[Pi]"}], "4"]], ",", "0", ",", "0", ",", 
   "0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0"}], 
  "}"}]], "Output",
 CellLabel->"Out[6]=",
 CellID->1201485021,ExpressionUUID->"94baf607-c787-42e2-b93e-5ff8113902a1"]
}, Open  ]],

Cell["\<\
Calculate the probability distribution using the operator method.\
\>", "ExampleText",
 CellID->1265760217,ExpressionUUID->"30f03086-d54c-47cd-bf8f-a0673a4671d2"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{"EchoTiming", "[", 
  RowBox[{
   RowBox[{"dd", "=", 
    RowBox[{"First", "/@", 
     RowBox[{"Table", "[", 
      RowBox[{
       RowBox[{
        RowBox[{"fun4", "[", "in", "]"}], ";", 
        RowBox[{"Readout", "[", 
         RowBox[{"Through", "[", 
          RowBox[{"SS", "[", "3", "]"}], "]"}], "]"}]}], ",", "500"}], 
      "]"}]}]}], ";"}], "]"}], "\[IndentingNewLine]", 
 RowBox[{"Histogram", "[", "dd", "]"}]}], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[7]:=",
 CellID->972098041,ExpressionUUID->"c825f302-701c-4765-a9aa-100845527b70"],

Cell[BoxData["11.798502`"], "EchoTiming",
 CellID->1896957895,ExpressionUUID->"bad7016e-6f88-4af7-885a-85d442158d07"],

Cell[BoxData[
 GraphicsBox[{
   {RGBColor[0.987148, 0.8073604000000001, 0.49470040000000004`], EdgeForm[{
    Opacity[0.6719999999999999], Thickness[Small]}], {}, 
    {RGBColor[0.987148, 0.8073604000000001, 0.49470040000000004`], EdgeForm[{
     Opacity[0.6719999999999999], Thickness[Small]}], 
     TagBox[
      TooltipBox[
       TagBox[
        TagBox[
         DynamicBox[{
           FEPrivate`If[
            CurrentValue["MouseOver"], 
            EdgeForm[{
              GrayLevel[0.5], 
              AbsoluteThickness[1.5], 
              Opacity[0.66]}], {}, {}], 
           RectangleBox[{-0.5, 0}, {0.5, 256.}, "RoundingRadius" -> 0]},
          
          ImageSizeCache->{{55.9679487179487, 
           307.60897435897436`}, {-172.5808584307546, 146.51566276981615`}}],
         "DelayedMouseEffectStyle"],
        StatusArea[#, 256]& ,
        TagBoxNote->"256"],
       StyleBox["256", {}, StripOnInput -> False]],
      Annotation[#, 
       Style[256, {}], "Tooltip"]& ], 
     TagBox[
      TooltipBox[
       TagBox[
        TagBox[
         DynamicBox[{
           FEPrivate`If[
            CurrentValue["MouseOver"], 
            EdgeForm[{
              GrayLevel[0.5], 
              AbsoluteThickness[1.5], 
              Opacity[0.66]}], {}, {}], 
           RectangleBox[{0.5, 0}, {1.5, 244.}, "RoundingRadius" -> 0]},
          
          ImageSizeCache->{{307.10897435897436`, 
           558.75}, {-157.64664649947784`, 146.51566276981615`}}],
         "DelayedMouseEffectStyle"],
        StatusArea[#, 244]& ,
        TagBoxNote->"244"],
       StyleBox["244", {}, StripOnInput -> False]],
      Annotation[#, 
       Style[244, {}], "Tooltip"]& ]}, {}, {}}, {{}, {}}},
  AspectRatio->NCache[GoldenRatio^(-1), 0.6180339887498948],
  Axes->{False, False},
  AxesLabel->{None, None},
  AxesOrigin->{-0.54, 0},
  AxesStyle->Large,
  Frame->True,
  FrameLabel->{{None, None}, {None, None}},
  FrameStyle->Large,
  FrameTicks->{{Automatic, Automatic}, {Automatic, Automatic}},
  GridLines->{Automatic, Automatic},
  GridLinesStyle->Directive[
    GrayLevel[0.5, 0.4]],
  ImageSize->Large,
  PlotRange->{{-0.5, 1.5}, {All, All}},
  PlotRangePadding->{{
     Scaled[0.025], 
     Scaled[0.025]}, {None, 
     Scaled[0.025]}},
  Ticks->{Automatic, Automatic}]], "Output",
 CellLabel->"Out[7]=",
 CellID->629117903,ExpressionUUID->"e08c70c3-5580-42b2-8d09-564804dcb704"]
}, Open  ]],

Cell["\<\
Since the circuit is not shallow, using the matrix representation is faster.\
\>", "ExampleText",
 CellID->1040025289,ExpressionUUID->"1974169f-03a6-4a26-9967-368155b2b09d"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"mm", "=", 
   RowBox[{"Matrix", "[", 
    RowBox[{
     RowBox[{"Through", "[", 
      RowBox[{"SS", "[", "3", "]"}], "]"}], ",", "SS"}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{"EchoTiming", "[", 
  RowBox[{
   RowBox[{"dd", "=", 
    RowBox[{"First", "/@", 
     RowBox[{"Table", "[", 
      RowBox[{
       RowBox[{
        RowBox[{"mat4", "[", "vin", "]"}], ";", 
        RowBox[{"Readout", "[", "mm", "]"}]}], ",", "500"}], "]"}]}]}], ";"}],
   "]"}], "\[IndentingNewLine]", 
 RowBox[{"Histogram", "[", "dd", "]"}]}], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[8]:=",
 CellID->910171363,ExpressionUUID->"70af47b5-8695-4de6-88ee-0c676fabc061"],

Cell[BoxData["0.351945`"], "EchoTiming",
 CellID->312060448,ExpressionUUID->"74b1bfed-bd48-4b11-891a-da1034c36ed0"],

Cell[BoxData[
 GraphicsBox[{
   {RGBColor[0.987148, 0.8073604000000001, 0.49470040000000004`], EdgeForm[{
    Opacity[0.6719999999999999], Thickness[Small]}], {}, 
    {RGBColor[0.987148, 0.8073604000000001, 0.49470040000000004`], EdgeForm[{
     Opacity[0.6719999999999999], Thickness[Small]}], 
     TagBox[
      TooltipBox[
       TagBox[
        TagBox[
         DynamicBox[{
           FEPrivate`If[
            CurrentValue["MouseOver"], 
            EdgeForm[{
              GrayLevel[0.5], 
              AbsoluteThickness[1.5], 
              Opacity[0.66]}], {}, {}], 
           RectangleBox[{-0.5, 0}, {0.5, 257.}, "RoundingRadius" -> 0]},
          
          ImageSizeCache->{{55.96794871794869, 
           307.60897435897436`}, {-172.58085843075457`, 146.51566276981617`}}],
         "DelayedMouseEffectStyle"],
        StatusArea[#, 257]& ,
        TagBoxNote->"257"],
       StyleBox["257", {}, StripOnInput -> False]],
      Annotation[#, 
       Style[257, {}], "Tooltip"]& ], 
     TagBox[
      TooltipBox[
       TagBox[
        TagBox[
         DynamicBox[{
           FEPrivate`If[
            CurrentValue["MouseOver"], 
            EdgeForm[{
              GrayLevel[0.5], 
              AbsoluteThickness[1.5], 
              Opacity[0.66]}], {}, {}], 
           RectangleBox[{0.5, 0}, {1.5, 243.}, "RoundingRadius" -> 0]},
          
          ImageSizeCache->{{307.10897435897436`, 
           558.75}, {-155.22540591399195`, 146.51566276981617`}}],
         "DelayedMouseEffectStyle"],
        StatusArea[#, 243]& ,
        TagBoxNote->"243"],
       StyleBox["243", {}, StripOnInput -> False]],
      Annotation[#, 
       Style[243, {}], "Tooltip"]& ]}, {}, {}}, {{}, {}}},
  AspectRatio->NCache[GoldenRatio^(-1), 0.6180339887498948],
  Axes->{False, False},
  AxesLabel->{None, None},
  AxesOrigin->{-0.54, 0},
  AxesStyle->Large,
  Frame->True,
  FrameLabel->{{None, None}, {None, None}},
  FrameStyle->Large,
  FrameTicks->{{Automatic, Automatic}, {Automatic, Automatic}},
  GridLines->{Automatic, Automatic},
  GridLinesStyle->Directive[
    GrayLevel[0.5, 0.4]],
  ImageSize->Large,
  PlotRange->{{-0.5, 1.5}, {All, All}},
  PlotRangePadding->{{
     Scaled[0.025], 
     Scaled[0.025]}, {None, 
     Scaled[0.025]}},
  Ticks->{Automatic, Automatic}]], "Output",
 CellLabel->"Out[8]=",
 CellID->644883562,ExpressionUUID->"9bd0cc54-79cb-4b5b-b972-82f854ce8c48"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 InterpretationBox[Cell[
  "\t", "ExampleDelimiter",ExpressionUUID->
   "171bb0b2-a8d7-4bf5-a19d-7e709d01a4f8"],
  $Line = 0; Null]], "ExampleDelimiter",
 CellID->464096408,ExpressionUUID->"c4e2931e-1946-4dc3-917d-fa5b18751ada"],

Cell["\<\
Finally, let us consider the case with both input state and measurements are \
included in the quantum circuit.\
\>", "ExampleText",
 CellID->445102530,ExpressionUUID->"9c9a91fb-0d1a-4d5d-9e56-2e9a16379b52"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"gates", "=", 
   RowBox[{
    RowBox[{"ExpandAll", "[", "op", "]"}], "/.", 
    RowBox[{
     RowBox[{"S", "[", 
      RowBox[{"k_", ",", "6"}], "]"}], "->", 
     RowBox[{"Sequence", "[", 
      RowBox[{
       RowBox[{"S", "[", 
        RowBox[{"k", ",", "6"}], "]"}], ",", 
       RowBox[{"Measurement", "[", 
        RowBox[{"S", "[", 
         RowBox[{"k", ",", "3"}], "]"}], "]"}]}], "]"}]}]}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{"qc5", "=", 
  RowBox[{"QuantumCircuit", "[", 
   RowBox[{"in", ",", 
    RowBox[{"Sequence", "@@", "gates"}]}], "]"}]}]}], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[1]:=",
 CellID->1924999179,ExpressionUUID->"a56878e1-d9b0-4c3f-af4b-c8a3dd12c79c"],

Cell[BoxData[
 InterpretationBox[
  GraphicsBox[{
    {Dashing[{Small, Small}], 
     LineBox[{{{2, -1}, {16, -1}}, {{5, -2}, {16, -2}}, {{9, -3}, {
      16, -3}}, {{14, -4}, {16, -4}}}]}, 
    LineBox[{{{0, -1}, {2, -1}}, {{0, -2}, {5, -2}}, {{0, -3}, {9, -3}}, {{
     0, -4}, {14, -4}}}], {InsetBox[
      TemplateBox[{"1"},
       "Ket"], {-0.2, -1.}, NCache[
      ImageScaled[{1, Rational[1, 2]}], ImageScaled[{1, 0.5}]], Automatic, {1,
       0}], InsetBox[
      TemplateBox[{"0"},
       "Ket"], {-0.2, -2.}, NCache[
      ImageScaled[{1, Rational[1, 2]}], ImageScaled[{1, 0.5}]], Automatic, {1,
       0}], InsetBox[
      TemplateBox[{"1"},
       "Ket"], {-0.2, -3.}, NCache[
      ImageScaled[{1, Rational[1, 2]}], ImageScaled[{1, 0.5}]], Automatic, {1,
       0}], InsetBox[
      TemplateBox[{"1"},
       "Ket"], {-0.2, -4.}, NCache[
      ImageScaled[{1, Rational[1, 2]}], ImageScaled[{1, 0.5}]], Automatic, {1,
       0}]}, {
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{0.6, -1.4}, {1.4, -0.6}]}, InsetBox[
      StyleBox["\<\"H\"\>",
       StripOnInput->False,
       FontSize->Scaled[0.025],
       FontWeight->"Light",
       FontSlant->Italic], {1., -1.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{1.6, -1.4}, {2.4, -0.6}]}, 
     CircleBox[{2, -1.2}, 0.4, 
      NCache[{Rational[1, 6] Pi, Rational[5, 6] Pi}, {0.5235987755982988, 
       2.6179938779914944`}]], LineBox[{{2, -1.2}, {2.24, -0.76}}]}, {
     LineBox[{{3, -1}, {3, -2}}], DiskBox[{3, -1}, 0.09], 
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{2.6, -2.4}, {3.4, -1.6}]}, InsetBox[
      StyleBox[
       SubscriptBox["\<\"Z\"\>", "2"],
       StripOnInput->False,
       FontSize->Scaled[0.025],
       FontWeight->"Light",
       FontSlant->Italic], {3., -2.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{3.6, -2.4}, {4.4, -1.6}]}, InsetBox[
      StyleBox["\<\"H\"\>",
       StripOnInput->False,
       FontSize->Scaled[0.025],
       FontWeight->"Light",
       FontSlant->Italic], {4., -2.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{4.6, -2.4}, {5.4, -1.6}]}, 
     CircleBox[{5, -2.2}, 0.4, 
      NCache[{Rational[1, 6] Pi, Rational[5, 6] Pi}, {0.5235987755982988, 
       2.6179938779914944`}]], LineBox[{{5, -2.2}, {5.24, -1.76}}]}, {
     LineBox[{{6, -1}, {6, -3}}], DiskBox[{6, -1}, 0.09], 
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{5.6, -3.4}, {6.4, -2.6}]}, InsetBox[
      StyleBox[
       SubscriptBox["\<\"Z\"\>", "3"],
       StripOnInput->False,
       FontSize->Scaled[0.025],
       FontWeight->"Light",
       FontSlant->Italic], {6., -3.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {LineBox[{{7, -2}, {7, -3}}], 
     DiskBox[{7, -2}, 0.09], 
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{6.6, -3.4}, {7.4, -2.6}]}, InsetBox[
      StyleBox[
       SubscriptBox["\<\"Z\"\>", "2"],
       StripOnInput->False,
       FontSize->Scaled[0.025],
       FontWeight->"Light",
       FontSlant->Italic], {7., -3.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{7.6, -3.4}, {8.4, -2.6}]}, InsetBox[
      StyleBox["\<\"H\"\>",
       StripOnInput->False,
       FontSize->Scaled[0.025],
       FontWeight->"Light",
       FontSlant->Italic], {8., -3.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{8.6, -3.4}, {9.4, -2.6}]}, 
     CircleBox[{9, -3.2}, 0.4, 
      NCache[{Rational[1, 6] Pi, Rational[5, 6] Pi}, {0.5235987755982988, 
       2.6179938779914944`}]], LineBox[{{9, -3.2}, {9.24, -2.76}}]}, {
     LineBox[{{10, -1}, {10, -4}}], DiskBox[{10, -1}, 0.09], 
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{9.6, -4.4}, {10.4, -3.6}]}, InsetBox[
      StyleBox[
       SubscriptBox["\<\"Z\"\>", "4"],
       StripOnInput->False,
       FontSize->Scaled[0.025],
       FontWeight->"Light",
       FontSlant->Italic], {10., -4.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {LineBox[{{11, -2}, {11, -4}}], 
     DiskBox[{11, -2}, 0.09], 
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{10.6, -4.4}, {11.4, -3.6}]}, InsetBox[
      StyleBox[
       SubscriptBox["\<\"Z\"\>", "3"],
       StripOnInput->False,
       FontSize->Scaled[0.025],
       FontWeight->"Light",
       FontSlant->Italic], {11., -4.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {LineBox[{{12, -3}, {12, -4}}], 
     DiskBox[{12, -3}, 0.09], 
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{11.6, -4.4}, {12.4, -3.6}]}, InsetBox[
      StyleBox[
       SubscriptBox["\<\"Z\"\>", "2"],
       StripOnInput->False,
       FontSize->Scaled[0.025],
       FontWeight->"Light",
       FontSlant->Italic], {12., -4.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{12.6, -4.4}, {13.4, -3.6}]}, InsetBox[
      StyleBox["\<\"H\"\>",
       StripOnInput->False,
       FontSize->Scaled[0.025],
       FontWeight->"Light",
       FontSlant->Italic], {13., -4.}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {1, 0}]}, {
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{13.6, -4.4}, {14.4, -3.6}]}, 
     CircleBox[{14, -4.2}, 0.4, 
      NCache[{Rational[1, 6] Pi, Rational[5, 6] Pi}, {0.5235987755982988, 
       2.6179938779914944`}]], LineBox[{{14, -4.2}, {14.24, -3.76}}]}, {
     {GrayLevel[1], EdgeForm[Opacity[1]], 
      RectangleBox[{14.6, -4.4}, {15.4, -0.6}]}, InsetBox[
      StyleBox["\<\"QBR\"\>",
       StripOnInput->False,
       FontSize->Scaled[0.025],
       FontWeight->"Light",
       FontSlant->Italic], {15., -2.5}, NCache[
      ImageScaled[{Rational[1, 2], Rational[1, 2]}], ImageScaled[{0.5, 0.5}]],
       Automatic, {0, 1}]}},
   AxesStyle->Large,
   FrameStyle->Large,
   ImagePadding->{{23.400000000000002`, 23.400000000000002`}, {7.2, 7.2}},
   ImageSize->622.8000000000001,
   PlotRange->{{0, 16}, {-4.5, -0.5}},
   PlotRangePadding->Scaled[0.025]],
  Q3`QuantumCircuit[
   Q3`QuantumCircuitIn[
    Ket[<|$CellContext`S[1, Q3`$] -> 1, $CellContext`S[2, Q3`$] -> 
      0, $CellContext`S[3, Q3`$] -> 1, $CellContext`S[4, Q3`$] -> 1|>]], 
   $CellContext`S[1, 6], 
   Q3`Measurement[
    $CellContext`S[1, 3]], 
   Q3`ControlledGate[{$CellContext`S[1, Q3`$] -> 1}, 
    $CellContext`S[2, 7], "Label" -> Subscript["Z", 2]], 
   $CellContext`S[2, 6], 
   Q3`Measurement[
    $CellContext`S[2, 3]], 
   Q3`ControlledGate[{$CellContext`S[1, Q3`$] -> 1}, 
    $CellContext`S[3, 8], "Label" -> Subscript["Z", 3]], 
   Q3`ControlledGate[{$CellContext`S[2, Q3`$] -> 1}, 
    $CellContext`S[3, 7], "Label" -> Subscript["Z", 2]], 
   $CellContext`S[3, 6], 
   Q3`Measurement[
    $CellContext`S[3, 3]], 
   Q3`ControlledGate[{$CellContext`S[1, Q3`$] -> 1}, 
    $CellContext`S[4, 9], "Label" -> Subscript["Z", 4]], 
   Q3`ControlledGate[{$CellContext`S[2, Q3`$] -> 1}, 
    $CellContext`S[4, 8], "Label" -> Subscript["Z", 3]], 
   Q3`ControlledGate[{$CellContext`S[3, Q3`$] -> 1}, 
    $CellContext`S[4, 7], "Label" -> Subscript["Z", 2]], 
   $CellContext`S[4, 6], 
   Q3`Measurement[
    $CellContext`S[4, 3]], 
   Q3`QBR[{
     $CellContext`S[1, Q3`$], 
     $CellContext`S[2, Q3`$], 
     $CellContext`S[3, Q3`$], 
     $CellContext`S[4, Q3`$]}]]]], "Output",
 CellLabel->"Out[1]=",
 CellID->864354794,ExpressionUUID->"4bcf8f40-c40d-4c5a-b9df-d7cae50f4c88"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"EchoTiming", "[", 
  RowBox[{"out5", "=", 
   RowBox[{"Elaborate", "[", "qc5", "]"}]}], "]"}]], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[2]:=",
 CellID->1323974852,ExpressionUUID->"56dce272-7d65-44f8-8142-3354d3d14be3"],

Cell[BoxData["0.05432`"], "EchoTiming",
 CellID->681134144,ExpressionUUID->"30720a8c-566a-4cbc-ad15-0c81a906d2ba"],

Cell[BoxData[
 FractionBox[
  RowBox[{
   RowBox[{"(", 
    RowBox[{"1", "+", "\[ImaginaryI]"}], ")"}], " ", 
   InterpretationBox[
    TemplateBox[{
      TemplateBox[{"\[VeryThinSpace]", "\"\[VeryThinSpace]\"", 
        SubscriptBox["0", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["S", 
             TemplateBox[{",", "\",\"", "1"}, "RowWithSeparators"]], 
            $CellContext`S[1, Q3`$]]}, "RowWithSeparators"]], 
        SubscriptBox["1", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["S", 
             TemplateBox[{",", "\",\"", "2"}, "RowWithSeparators"]], 
            $CellContext`S[2, Q3`$]]}, "RowWithSeparators"]], 
        SubscriptBox["1", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["S", 
             TemplateBox[{",", "\",\"", "3"}, "RowWithSeparators"]], 
            $CellContext`S[3, Q3`$]]}, "RowWithSeparators"]], 
        SubscriptBox["0", 
         TemplateBox[{",", "\",\"", 
           InterpretationBox[
            SubscriptBox["S", 
             TemplateBox[{",", "\",\"", "4"}, "RowWithSeparators"]], 
            $CellContext`S[4, Q3`$]]}, "RowWithSeparators"]]}, 
       "RowWithSeparators"]},
     "Ket"],
    Ket[<|$CellContext`S[1, Q3`$] -> 0, $CellContext`S[2, Q3`$] -> 
      1, $CellContext`S[3, Q3`$] -> 1, $CellContext`S[4, Q3`$] -> 0|>]]}], 
  SqrtBox["2"]]], "Output",
 CellLabel->"Out[2]=",
 CellID->1733719698,ExpressionUUID->"91c474a2-4f21-4a6f-9ede-36d094f177e1"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{"EchoTiming", "[", 
  RowBox[{
   RowBox[{"vec5", "=", 
    RowBox[{"Matrix", "[", "qc5", "]"}]}], ";"}], 
  "]"}], "\[IndentingNewLine]", 
 RowBox[{"vec5", "//", "Normal"}]}], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[3]:=",
 CellID->651172032,ExpressionUUID->"b20ed52c-2ea8-48e0-b8a5-ecc8b80af0e7"],

Cell[BoxData["0.010325`"], "EchoTiming",
 CellID->85698714,ExpressionUUID->"a50d67eb-8326-4161-b7f1-5a4225b46063"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"0", ",", "0", ",", "0", ",", "0", ",", 
   RowBox[{"-", "\[ImaginaryI]"}], ",", "0", ",", "0", ",", "0", ",", "0", 
   ",", "0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0"}], 
  "}"}]], "Output",
 CellLabel->"Out[3]=",
 CellID->1524242708,ExpressionUUID->"5d45cc85-1aa8-455e-a91a-ac361bf3aac3"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{"EchoTiming", "[", 
  RowBox[{
   RowBox[{"dd", "=", 
    RowBox[{"First", "/@", 
     RowBox[{"Table", "[", 
      RowBox[{
       RowBox[{
        RowBox[{"Elaborate", "[", "qc5", "]"}], ";", 
        RowBox[{"Readout", "[", 
         RowBox[{"Through", "[", 
          RowBox[{"SS", "[", "3", "]"}], "]"}], "]"}]}], ",", "500"}], 
      "]"}]}]}], ";"}], "]"}], "\[IndentingNewLine]", 
 RowBox[{"Histogram", "[", "dd", "]"}]}], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[4]:=",
 CellID->1221292532,ExpressionUUID->"4a1818ac-5cd3-4711-a715-39fff07d548d"],

Cell[BoxData["18.910276`"], "EchoTiming",
 CellID->520803882,ExpressionUUID->"55c65ce8-d582-4ed5-aa58-7a3eca572723"],

Cell[BoxData[
 GraphicsBox[{
   {RGBColor[0.987148, 0.8073604000000001, 0.49470040000000004`], EdgeForm[{
    Opacity[0.6719999999999999], Thickness[Small]}], {}, 
    {RGBColor[0.987148, 0.8073604000000001, 0.49470040000000004`], EdgeForm[{
     Opacity[0.6719999999999999], Thickness[Small]}], 
     TagBox[
      TooltipBox[
       TagBox[
        TagBox[
         DynamicBox[{
           FEPrivate`If[
            CurrentValue["MouseOver"], 
            EdgeForm[{
              GrayLevel[0.5], 
              AbsoluteThickness[1.5], 
              Opacity[0.66]}], {}, {}], 
           RectangleBox[{-0.5, 0}, {0.5, 243.}, "RoundingRadius" -> 0]},
          
          ImageSizeCache->{{55.96794871794869, 
           307.60897435897436`}, {-155.22540591399195`, 146.51566276981617`}}],
         "DelayedMouseEffectStyle"],
        StatusArea[#, 243]& ,
        TagBoxNote->"243"],
       StyleBox["243", {}, StripOnInput -> False]],
      Annotation[#, 
       Style[243, {}], "Tooltip"]& ], 
     TagBox[
      TooltipBox[
       TagBox[
        TagBox[
         DynamicBox[{
           FEPrivate`If[
            CurrentValue["MouseOver"], 
            EdgeForm[{
              GrayLevel[0.5], 
              AbsoluteThickness[1.5], 
              Opacity[0.66]}], {}, {}], 
           RectangleBox[{0.5, 0}, {1.5, 257.}, "RoundingRadius" -> 0]},
          
          ImageSizeCache->{{307.10897435897436`, 
           558.75}, {-172.58085843075457`, 146.51566276981617`}}],
         "DelayedMouseEffectStyle"],
        StatusArea[#, 257]& ,
        TagBoxNote->"257"],
       StyleBox["257", {}, StripOnInput -> False]],
      Annotation[#, 
       Style[257, {}], "Tooltip"]& ]}, {}, {}}, {{}, {}}},
  AspectRatio->NCache[GoldenRatio^(-1), 0.6180339887498948],
  Axes->{False, False},
  AxesLabel->{None, None},
  AxesOrigin->{-0.54, 0},
  AxesStyle->Large,
  Frame->True,
  FrameLabel->{{None, None}, {None, None}},
  FrameStyle->Large,
  FrameTicks->{{Automatic, Automatic}, {Automatic, Automatic}},
  GridLines->{Automatic, Automatic},
  GridLinesStyle->Directive[
    GrayLevel[0.5, 0.4]],
  ImageSize->Large,
  PlotRange->{{-0.5, 1.5}, {All, All}},
  PlotRangePadding->{{
     Scaled[0.025], 
     Scaled[0.025]}, {None, 
     Scaled[0.025]}},
  Ticks->{Automatic, Automatic}]], "Output",
 CellLabel->"Out[4]=",
 CellID->7499602,ExpressionUUID->"ea07a77f-5133-4366-ab4f-1a5ad176ca15"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"mm", "=", 
   RowBox[{"Matrix", "[", 
    RowBox[{
     RowBox[{"Through", "[", 
      RowBox[{"SS", "[", "3", "]"}], "]"}], ",", "SS"}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{"EchoTiming", "[", 
  RowBox[{
   RowBox[{"dd", "=", 
    RowBox[{"First", "/@", 
     RowBox[{"Table", "[", 
      RowBox[{
       RowBox[{
        RowBox[{"Matrix", "[", "qc5", "]"}], ";", 
        RowBox[{"Readout", "[", "mm", "]"}]}], ",", "500"}], "]"}]}]}], ";"}],
   "]"}], "\[IndentingNewLine]", 
 RowBox[{"Histogram", "[", "dd", "]"}]}], "Input",
 CellProlog:>Needs["Q3`"],
 CellLabel->"In[5]:=",
 CellID->292590197,ExpressionUUID->"ca218191-2814-4177-be07-a124675a9a78"],

Cell[BoxData["2.224412`"], "EchoTiming",
 CellID->1491759288,ExpressionUUID->"2b822581-fd02-44b5-ae8f-231323f086d1"],

Cell[BoxData[
 GraphicsBox[{
   {RGBColor[0.987148, 0.8073604000000001, 0.49470040000000004`], EdgeForm[{
    Opacity[0.6719999999999999], Thickness[Small]}], {}, 
    {RGBColor[0.987148, 0.8073604000000001, 0.49470040000000004`], EdgeForm[{
     Opacity[0.6719999999999999], Thickness[Small]}], 
     TagBox[
      TooltipBox[
       TagBox[
        TagBox[
         DynamicBox[{
           FEPrivate`If[
            CurrentValue["MouseOver"], 
            EdgeForm[{
              GrayLevel[0.5], 
              AbsoluteThickness[1.5], 
              Opacity[0.66]}], {}, {}], 
           RectangleBox[{-0.5, 0}, {0.5, 246.}, "RoundingRadius" -> 0]},
          
          ImageSizeCache->{{55.967948717948715`, 
           307.6089743589743}, {-162.54632232994922`, 146.51566276981615`}}],
         "DelayedMouseEffectStyle"],
        StatusArea[#, 246]& ,
        TagBoxNote->"246"],
       StyleBox["246", {}, StripOnInput -> False]],
      Annotation[#, 
       Style[246, {}], "Tooltip"]& ], 
     TagBox[
      TooltipBox[
       TagBox[
        TagBox[
         DynamicBox[{
           FEPrivate`If[
            CurrentValue["MouseOver"], 
            EdgeForm[{
              GrayLevel[0.5], 
              AbsoluteThickness[1.5], 
              Opacity[0.66]}], {}, {}], 
           RectangleBox[{0.5, 0}, {1.5, 254.}, "RoundingRadius" -> 0]},
          
          ImageSizeCache->{{307.1089743589743, 
           558.7499999999999}, {-172.5808584307546, 146.51566276981615`}}],
         "DelayedMouseEffectStyle"],
        StatusArea[#, 254]& ,
        TagBoxNote->"254"],
       StyleBox["254", {}, StripOnInput -> False]],
      Annotation[#, 
       Style[254, {}], "Tooltip"]& ]}, {}, {}}, {{}, {}}},
  AspectRatio->NCache[GoldenRatio^(-1), 0.6180339887498948],
  Axes->{False, False},
  AxesLabel->{None, None},
  AxesOrigin->{-0.54, 0},
  AxesStyle->Large,
  Frame->True,
  FrameLabel->{{None, None}, {None, None}},
  FrameStyle->Large,
  FrameTicks->{{Automatic, Automatic}, {Automatic, Automatic}},
  GridLines->{Automatic, Automatic},
  GridLinesStyle->Directive[
    GrayLevel[0.5, 0.4]],
  ImageSize->Large,
  PlotRange->{{-0.5, 1.5}, {All, All}},
  PlotRangePadding->{{
     Scaled[0.025], 
     Scaled[0.025]}, {None, 
     Scaled[0.025]}},
  Ticks->{Automatic, Automatic}]], "Output",
 CellLabel->"Out[5]=",
 CellID->126774691,ExpressionUUID->"5045cf73-788b-442f-a13f-b83aab7ccf91"]
}, Open  ]]
}, Open  ]]
}, Dynamic[CurrentValue[
 EvaluationNotebook[], {TaggingRules, "Openers", "ExampleSection", "3"}, 
  Closed]]]]
}, Dynamic[CurrentValue[
 EvaluationNotebook[], {TaggingRules, "Openers", "PrimaryExamplesSection"}, 
  Closed]]]],

Cell[BoxData[GridBox[{
   {
    DynamicBox[FEPrivate`ImportImage[
      FrontEnd`FileName[{"Documentation", "FooterIcons"}, 
       "RelatedFunction.png"]],
     ImageSizeCache->{50., {27., 33.}}], GridBox[{
      {
       StyleBox[
        RowBox[{"See", " ", "Also"}], "SeeAlsoSection"]},
      {Cell[TextData[{
        Cell[BoxData[
         TemplateBox[{
           Cell[
            TextData["CNOT"]], "paclet:Q3/ref/CNOT", "Q3 Package Symbol"},
          "PackageLink",
          BaseStyle->"InlineFormula"]], "InlineFormula",
         FontFamily->"Source Sans Pro",ExpressionUUID->
         "ac61140f-d17e-4384-aaa6-10117241fda6"],
        "\[NonBreakingSpace]",
        StyleBox[
        "\[MediumSpace]\[FilledVerySmallSquare]\[MediumSpace]", 
         "InlineSeparator"],
        " ",
        Cell[BoxData[
         TemplateBox[{
           Cell[
            TextData["CZ"]], "paclet:Q3/ref/CZ", "Q3 Package Symbol"},
          "PackageLink",
          BaseStyle->"InlineFormula"]], "InlineFormula",
         FontFamily->"Source Sans Pro",ExpressionUUID->
         "6935f293-79b8-47d1-b311-0de30e8d2aae"],
        "\[NonBreakingSpace]",
        StyleBox[
        "\[MediumSpace]\[FilledVerySmallSquare]\[MediumSpace]", 
         "InlineSeparator"],
        " ",
        Cell[BoxData[
         TemplateBox[{
           Cell[
            TextData["Swap"]], "paclet:Q3/ref/Swap", "Q3 Package Symbol"},
          "PackageLink",
          BaseStyle->"InlineFormula"]], "InlineFormula",
         FontFamily->"Source Sans Pro",ExpressionUUID->
         "135a5ffb-9523-49f4-b45b-b3a6aa9ebe81"],
        "\[NonBreakingSpace]",
        StyleBox[
        "\[MediumSpace]\[FilledVerySmallSquare]\[MediumSpace]", 
         "InlineSeparator"],
        " ",
        Cell[BoxData[
         TemplateBox[{
           Cell[
            TextData["ControlledGate"]], "paclet:Q3/ref/ControlledGate", 
           "Q3 Package Symbol"},
          "PackageLink",
          BaseStyle->"InlineFormula"]], "InlineFormula",
         FontFamily->"Source Sans Pro",ExpressionUUID->
         "b53e75bd-1ce0-4a2e-af67-743dd70c2ba9"],
        "\[NonBreakingSpace]",
        StyleBox[
        "\[MediumSpace]\[FilledVerySmallSquare]\[MediumSpace]", 
         "InlineSeparator"],
        " ",
        Cell[BoxData[
         TemplateBox[{
           Cell[
            TextData["ControlledPower"]], "paclet:Q3/ref/ControlledPower", 
           "Q3 Package Symbol"},
          "PackageLink",
          BaseStyle->"InlineFormula"]], "InlineFormula",
         FontFamily->"Source Sans Pro",ExpressionUUID->
         "2369418d-9d7f-4f06-843d-36e2f36991c0"],
        "\[NonBreakingSpace]",
        StyleBox[
        "\[MediumSpace]\[FilledVerySmallSquare]\[MediumSpace]", 
         "InlineSeparator"],
        " ",
        Cell[BoxData[
         TemplateBox[{
           Cell[
            TextData["Measurement"]], "paclet:Q3/ref/Measurement", 
           "Q3 Package Symbol"},
          "PackageLink",
          BaseStyle->"InlineFormula"]], "InlineFormula",
         FontFamily->"Source Sans Pro",ExpressionUUID->
         "1d6aef99-0d4b-49ae-964c-eff950d4073a"],
        "\[NonBreakingSpace]",
        StyleBox[
        "\[MediumSpace]\[FilledVerySmallSquare]\[MediumSpace]", 
         "InlineSeparator"],
        " ",
        Cell[BoxData[
         TemplateBox[{
           Cell[
            TextData["Toffoli"]], "paclet:Q3/ref/Toffoli", 
           "Q3 Package Symbol"},
          "PackageLink",
          BaseStyle->"InlineFormula"]], "InlineFormula",
         FontFamily->"Source Sans Pro",ExpressionUUID->
         "3f38eeda-4608-49bc-beb1-7b5b7ec0cdfd"],
        "\[NonBreakingSpace]",
        StyleBox[
        "\[MediumSpace]\[FilledVerySmallSquare]\[MediumSpace]", 
         "InlineSeparator"],
        " ",
        Cell[BoxData[
         TemplateBox[{
           Cell[
            TextData["Fredkin"]], "paclet:Q3/ref/Fredkin", 
           "Q3 Package Symbol"},
          "PackageLink",
          BaseStyle->"InlineFormula"]], "InlineFormula",
         FontFamily->"Source Sans Pro",ExpressionUUID->
         "b345a3f7-e549-44a9-b3a9-e3894e2d86dd"],
        "\[NonBreakingSpace]",
        StyleBox[
        "\[MediumSpace]\[FilledVerySmallSquare]\[MediumSpace]", 
         "InlineSeparator"],
        " ",
        Cell[BoxData[
         TemplateBox[{
           Cell[
            TextData["Projector"]], "paclet:Q3/ref/Projector", 
           "Q3 Package Symbol"},
          "PackageLink",
          BaseStyle->"InlineFormula"]], "InlineFormula",
         FontFamily->"Source Sans Pro",ExpressionUUID->
         "c8516d46-7e16-4c86-85ae-101ba42996e6"],
        "\[NonBreakingSpace]",
        StyleBox[
        "\[MediumSpace]\[FilledVerySmallSquare]\[MediumSpace]", 
         "InlineSeparator"],
        " ",
        Cell[BoxData[
         TemplateBox[{
           Cell[
            TextData["Phase"]], "paclet:Q3/ref/Phase", "Q3 Package Symbol"},
          "PackageLink",
          BaseStyle->"InlineFormula"]], "InlineFormula",
         FontFamily->"Source Sans Pro",ExpressionUUID->
         "4eaa0fdb-ace9-4ded-939b-f1d083361f5c"],
        "\[NonBreakingSpace]",
        StyleBox[
        "\[MediumSpace]\[FilledVerySmallSquare]\[MediumSpace]", 
         "InlineSeparator"],
        " ",
        Cell[BoxData[
         TemplateBox[{
           Cell[
            TextData["Rotation"]], "paclet:Q3/ref/Rotation", 
           "Q3 Package Symbol"},
          "PackageLink",
          BaseStyle->"InlineFormula"]], "InlineFormula",
         FontFamily->"Source Sans Pro",ExpressionUUID->
         "7ba805d9-2292-49a5-a4aa-14db6d647099"],
        "\[NonBreakingSpace]",
        StyleBox[
        "\[MediumSpace]\[FilledVerySmallSquare]\[MediumSpace]", 
         "InlineSeparator"],
        " ",
        Cell[BoxData[
         TemplateBox[{
           Cell[
            TextData["EulerRotation"]], "paclet:Q3/ref/EulerRotation", 
           "Q3 Package Symbol"},
          "PackageLink",
          BaseStyle->"InlineFormula"]], "InlineFormula",
         FontFamily->"Source Sans Pro",ExpressionUUID->
         "396b74d0-c4ef-4eb3-97f7-0091aff7e736"]
       }], "SeeAlso",ExpressionUUID->"c4ffb9ae-874d-41a9-bd88-381fcbe656e7"]}
     }]}
  }]], "SeeAlsoSection",ExpressionUUID->"469d44ed-fe71-4c83-8036-\
d5c0c12f744b"],

Cell[BoxData[GridBox[{
   {
    DynamicBox[FEPrivate`ImportImage[
      FrontEnd`FileName[{"Documentation", "FooterIcons"}, 
       "RelatedTutorial.png"]],
     ImageSizeCache->{50., {27., 33.}}], GridBox[{
      {
       StyleBox["Tutorials", "TutorialsSection"]},
      {
       RowBox[{"\[FilledVerySmallSquare]", Cell[BoxData[
         TemplateBox[{
           Cell[
            TextData["Quantum Fourier Transform"]], 
           "paclet:Q3/tutorial/QuantumFourierTransform"},
          "RefLinkPlain",
          BaseStyle->{"Tutorials"}]], "Tutorials",ExpressionUUID->
         "a52694a5-42cd-4027-b8ae-08aa5063ae50"]}]},
      {
       RowBox[{"\[FilledVerySmallSquare]", Cell[BoxData[
         TemplateBox[{
           Cell[
            TextData["Quantum Information Systems with Q3"]], 
           "paclet:Q3/tutorial/QuantumInformationSystems"},
          "RefLinkPlain",
          BaseStyle->{"Tutorials"}]], "Tutorials",ExpressionUUID->
         "82170ba5-0a9b-429d-81d5-363e06c33e3a"]}]},
      {
       RowBox[{"\[FilledVerySmallSquare]", Cell[BoxData[
         TemplateBox[{
           Cell[
            TextData["Quick Quantum Computing with Q3"]], 
           "paclet:Q3/tutorial/QuickQuantumComputingWithQ3"},
          "RefLinkPlain",
          BaseStyle->{"Tutorials"}]], "Tutorials",ExpressionUUID->
         "b69a3856-052f-4e14-b202-13ab9bf13706"]}]},
      {
       RowBox[{"\[FilledVerySmallSquare]", Cell[BoxData[
         TemplateBox[{
           Cell[
            TextData["Q3: Quick Start"]], "paclet:Q3/tutorial/Q3QuickStart"},
          "RefLinkPlain",
          BaseStyle->{"Tutorials"}]], "Tutorials",ExpressionUUID->
         "60580978-ac73-4c00-9509-be04f8a383c4"]}]}
     }]}
  }]], "TutorialsSection",ExpressionUUID->"ce814c45-4034-4891-8310-\
a4dc6f1b9e94"],

Cell[BoxData[GridBox[{
   {
    DynamicBox[FEPrivate`ImportImage[
      FrontEnd`FileName[{"Documentation", "FooterIcons"}, "RelatedGuide.png"]],
     ImageSizeCache->{50., {27., 33.}}], GridBox[{
      {
       StyleBox[
        RowBox[{"Related", " ", "Guides"}], "MoreAboutSection"]},
      {
       RowBox[{"\[FilledVerySmallSquare]", Cell[BoxData[
         TemplateBox[{
           Cell[
            TextData["Quantum Information Systems"]], 
           "paclet:Q3/guide/QuantumInformationSystems"},
          "RefLinkPlain",
          BaseStyle->{"MoreAbout"}]], "MoreAbout",ExpressionUUID->
         "60703d52-258c-4953-b4eb-b027aa24b133"]}]},
      {
       RowBox[{"\[FilledVerySmallSquare]", Cell[BoxData[
         TemplateBox[{
           Cell[
            TextData["Q3"]], "paclet:Q3/guide/Q3"},
          "RefLinkPlain",
          BaseStyle->{"MoreAbout"}]], "MoreAbout",ExpressionUUID->
         "df2d41ee-b671-4e21-b91f-bfee0f2fb751"]}]}
     }]}
  }]], "MoreAboutSection",ExpressionUUID->"d9e4d795-a97b-4b47-9da8-\
b2ceaafbac1c"],

Cell[BoxData[GridBox[{
   {
    TemplateBox[{29},
     "Spacer1"], GridBox[{
      {
       RowBox[{
        TemplateBox[{17},
         "Spacer1"], 
        StyleBox[
         RowBox[{"Related", " ", "Links"}], "RelatedLinksSection"]}]},
      {Cell[TextData[{
        Cell[BoxData[
         RowBox[{
          TemplateBox[{16},
           "Spacer1"], "\[FilledVerySmallSquare]", Cell[BoxData[
           TemplateBox[{
             Cell[
              TextData[
               Cell[
                TextData[{
                  Cell[
                   BoxData[
                    TemplateBox[{2}, "Spacer1"]]], 
                  "M. Nielsen and I. L. Chuang (2022)"}]]]], 
             "https://doi.org/10.1017/CBO9780511976667"},
            "WebLink",
            BaseStyle->{"RelatedLinks"}]],ExpressionUUID->
           "19efe515-02aa-4868-b49e-4cbbc694f47e"]}]],ExpressionUUID->
         "0c5bc220-e871-4660-9492-0c870ec48790"],
        StyleBox[
        ", Quantum Computation and Quantum Information (Cambridge University \
Press).",
         FontSlant->"Plain"]
       }], "RelatedLinks",ExpressionUUID->
        "d1403129-09c3-4ae7-9004-d8510a613b49"]},
      {Cell[TextData[{
        Cell[BoxData[
         RowBox[{
          TemplateBox[{16},
           "Spacer1"], "\[FilledVerySmallSquare]", Cell[BoxData[
           TemplateBox[{
             Cell[
              TextData[
               Cell[
                TextData[{
                  Cell[
                   BoxData[
                    TemplateBox[{2}, "Spacer1"]]], 
                  "Mahn-Soo Choi (2022)"}]]]], 
             "https://doi.org/10.1007/978-3-030-91214-7"},
            "WebLink",
            BaseStyle->{"RelatedLinks"}]],ExpressionUUID->
           "59f9c63c-c362-4e0b-8a1d-73c822d9a84a"]}]],ExpressionUUID->
         "40301da9-72fe-4ff1-85e8-6c0ef97ad2c8"],
        ", A Quantum Computation Workbook (Springer)."
       }], "RelatedLinks",ExpressionUUID->
        "90c5358a-da00-43c0-963a-6aa2fa342784"]}
     }]}
  }]], "RelatedLinksSection",ExpressionUUID->"d80c618f-3977-4a04-ba9e-\
aefbde904bf9"],

Cell[" ", "FooterCell",ExpressionUUID->"57a93ef5-37ab-4b4b-8c05-bc5eae318644"]
},
Saveable->False,
ScreenStyleEnvironment->"Working",
WindowSize->{900, 830},
WindowMargins->{{0, Automatic}, {Automatic, 0}},
WindowTitle->"QFT",
TaggingRules->{
 "ModificationHighlight" -> False, "ColorType" -> "", "LinkTrails" -> "", 
  "ExampleCounter" -> 1, 
  "Openers" -> {
   "PrimaryExamplesSection" -> Open, 
    "ExampleSection" -> {
     "0" -> Open, "1" -> Closed, "2" -> Closed, "3" -> Open}, "AllOptsTable" -> 
    Closed, "NotesSection" -> Closed, 
    "ExampleSubsection" -> {
     "0" -> Closed, "1" -> Closed, "2" -> Closed, "3" -> Closed}}, 
  "NewStyles" -> True, "CitationPopupData" -> $Failed, "ShowCitation" -> 
  False, "HasOptions" -> True, "RootCaptions" -> "", 
  "HeaderCoreAreaLink" -> {}, 
  "Metadata" -> {
   "built" -> "{2024, 2, 26, 0, 27, 6.508433}", 
    "history" -> {"12", "14.0", "", ""}, "context" -> "Q3`", 
    "keywords" -> {
     "quantum Fourier transform", "discrete Fourier transform", 
      "quantum algorithm"}, "specialkeywords" -> {}, 
    "tutorialcollectionlinks" -> {}, "index" -> True, "label" -> "Q3 Symbol", 
    "language" -> "en", "paclet" -> "Q3", "status" -> "None", "summary" -> 
    "QFT[{s1, s2, ...}, opts] represents the quantum Fourier transform on \
qubits {s1, s2, ...}. Dagger[QFT[...]] represents the inverse quantum Fourier \
transform.", "synonyms" -> {}, "tabletags" -> {}, "title" -> "QFT", 
    "titlemodifier" -> "", "metadescription" -> "", "windowtitle" -> "QFT", 
    "type" -> "Symbol", "uri" -> "Q3/ref/QFT"}},
CellContext->"Global`",
FrontEndVersion->"14.0 for Mac OS X ARM (64-bit) (December 12, 2023)",
StyleDefinitions->Notebook[{
   Cell[
    StyleData[
    StyleDefinitions -> FrontEnd`FileName[{"Wolfram"}, "Reference.nb"]]], 
   Cell[
    StyleData["Input"], CellContext -> "Global`"], 
   Cell[
    StyleData["Output"], CellContext -> "Global`"]}, Visible -> False, 
  FrontEndVersion -> "14.0 for Mac OS X ARM (64-bit) (December 12, 2023)", 
  StyleDefinitions -> "Default.nb"],
ExpressionUUID->"e346eb5d-5c5d-4591-8e63-f6411b4c5163"
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{
 "PrimaryExamplesSection"->{
  Cell[21770, 613, 1390, 37, 36, "PrimaryExamplesSection",ExpressionUUID->"f76ea6a0-d54f-4e4e-8f25-45b6de9e0ea7",
   CellTags->"PrimaryExamplesSection",
   CellID->539554785]},
 "RasterizedOutput"->{
  Cell[310608, 8317, 5855, 102, 40, "Output",ExpressionUUID->"9e9462ec-6aa8-4664-bc7d-4d9d2273daa7",
   CellTags->"RasterizedOutput",
   CellID->2065044]}
 }
*)
(*CellTagsIndex
CellTagsIndex->{
 {"PrimaryExamplesSection", 356415, 9529},
 {"RasterizedOutput", 356615, 9533}
 }
*)
(*NotebookFileOutline
Notebook[{
Cell[575, 21, 7890, 187, 57, "AnchorBarGrid",ExpressionUUID->"5d7efcab-ba6b-4cc7-8b1c-80a957f0b910",
 CellID->1],
Cell[8468, 210, 85, 0, 23, "ContextNameCell",ExpressionUUID->"cc998a54-e7a3-40a6-89bc-e236ba676112"],
Cell[CellGroupData[{
Cell[8578, 214, 1166, 31, 60, "ObjectNameGrid",ExpressionUUID->"bafec4d4-c736-426b-bc2e-7886d18a02cf"],
Cell[9747, 247, 2077, 56, 192, "Usage",ExpressionUUID->"0787f5a8-39cb-473c-be64-1c0c5e751f41"]
}, Open  ]],
Cell[CellGroupData[{
Cell[11861, 308, 1899, 47, 37, "NotesSection",ExpressionUUID->"6d29d022-5f52-4862-80fd-892da2d27cf7",
 CellGroupingRules->{"SectionGrouping", 50},
 CellID->1614446090],
Cell[13763, 357, 2984, 98, 70, "Notes",ExpressionUUID->"97106119-fda6-4984-80ab-9bd080684440",
 CellID->59811791],
Cell[16750, 457, 724, 21, 70, "Notes",ExpressionUUID->"89dc1c88-41b3-4017-bcc2-0806936b2b8e",
 CellID->1585121827],
Cell[17477, 480, 949, 31, 70, "Notes",ExpressionUUID->"d73c5f52-4a40-4422-906a-7183b2f47882",
 CellID->1475780666],
Cell[18429, 513, 1050, 33, 70, "Notes",ExpressionUUID->"9b607e85-858c-4a8e-bf34-4da5b66dfd56",
 CellID->715252122],
Cell[19482, 548, 760, 23, 70, "Notes",ExpressionUUID->"f1168e39-452e-4c63-a878-1e7ccfb91bad",
 CellID->1190401891],
Cell[20245, 573, 1398, 34, 70, "3ColumnTableMod",ExpressionUUID->"5dee12f5-f3c4-406f-b68a-1ea0eadd4c34",
 CellID->1462322296]
}, Dynamic[CurrentValue[EvaluationNotebook[], {TaggingRules, "Openers", "NotesSection"}, Closed]]]],
Cell[CellGroupData[{
Cell[21770, 613, 1390, 37, 36, "PrimaryExamplesSection",ExpressionUUID->"f76ea6a0-d54f-4e4e-8f25-45b6de9e0ea7",
 CellTags->"PrimaryExamplesSection",
 CellID->539554785],
Cell[23163, 652, 192, 3, 31, "Input",ExpressionUUID->"d3a0a51f-4a66-486a-b71f-661645120e9b",
 CellID->1927565408],
Cell[CellGroupData[{
Cell[23380, 659, 1368, 36, 31, "ExampleSection",ExpressionUUID->"d97afb08-293f-4926-9839-eb286e2a25e1",
 CellID->1621313861],
Cell[24751, 697, 313, 9, 39, "ExampleText",ExpressionUUID->"1fcd6478-65c8-4941-b945-6fba321c9081",
 CellID->332252718],
Cell[25067, 708, 209, 5, 29, "Input",ExpressionUUID->"cbda06a3-fecf-4280-876e-2c600a788080",
 CellID->1218779485],
Cell[25279, 715, 177, 3, 38, "ExampleText",ExpressionUUID->"4c947d5c-e8fe-4f74-9520-d9a376e15d0e",
 CellID->1975652896],
Cell[CellGroupData[{
Cell[25481, 722, 280, 8, 29, "Input",ExpressionUUID->"68f1163b-f9b2-40ca-ab7f-4c64aea1e059",
 CellID->907845956],
Cell[25764, 732, 488, 15, 37, "Output",ExpressionUUID->"c14ee992-1c8e-4db5-ba5a-78de122ed511",
 CellID->350931326]
}, Open  ]],
Cell[CellGroupData[{
Cell[26289, 752, 189, 4, 29, "Input",ExpressionUUID->"1a8825ce-e4a2-4a61-82b1-dc8d6c3cef7b",
 CellID->1463562962],
Cell[26481, 758, 3610, 95, 52, "Output",ExpressionUUID->"da43f48d-86dc-405b-ab87-66a1ab04e8db",
 CellID->159792869]
}, Open  ]],
Cell[CellGroupData[{
Cell[30128, 858, 219, 5, 29, "Input",ExpressionUUID->"a24aaf1b-18e9-4896-a05a-f514360412d9",
 CellID->1065133665],
Cell[30350, 865, 1757, 50, 132, "Output",ExpressionUUID->"77e9bf65-6b86-44f1-9712-2b7a918e2d20",
 CellID->805939135]
}, Open  ]],
Cell[32122, 918, 468, 13, 70, "ExampleText",ExpressionUUID->"32fbfaaa-9ebf-4413-9be0-e76119f93c70",
 CellID->21662866],
Cell[CellGroupData[{
Cell[32615, 935, 300, 7, 70, "Input",ExpressionUUID->"f8875100-50ac-4830-af68-044e26b0678e",
 CellID->1935243801],
Cell[32918, 944, 1253, 41, 132, "Output",ExpressionUUID->"f0c61014-3ef1-40b4-9e50-313d992e2324",
 CellID->1564588226]
}, Open  ]],
Cell[CellGroupData[{
Cell[34208, 990, 242, 5, 70, "ExampleDelimiter",ExpressionUUID->"683c6bbd-ba22-4e0a-ac50-305e29b28d05",
 CellID->633346104],
Cell[34453, 997, 614, 19, 70, "ExampleText",ExpressionUUID->"27d2fdce-e84f-4014-b9f5-57f28360fb84",
 CellID->377537796],
Cell[CellGroupData[{
Cell[35092, 1020, 349, 10, 70, "Input",ExpressionUUID->"e985ae1a-fbc9-4a91-9413-ccb265eab4b6",
 CellID->1394257481],
Cell[35444, 1032, 3816, 95, 39, "Output",ExpressionUUID->"b84edc21-3c65-452a-8dc2-168d9c59171d",
 CellID->1140825125]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[39309, 1133, 243, 5, 70, "ExampleDelimiter",ExpressionUUID->"62230d7e-3204-4353-8bbf-0becbfd553c4",
 CellID->1755184417],
Cell[CellGroupData[{
Cell[39577, 1142, 245, 6, 70, "Input",ExpressionUUID->"59bb3cf8-7190-4f5a-8575-da2e3622c84e",
 CellID->1456139501],
Cell[39825, 1150, 10742, 220, 70, "Output",ExpressionUUID->"b1bb2aea-ad8e-40da-8fc8-f0875fbdc57f",
 CellID->216045046]
}, Open  ]],
Cell[CellGroupData[{
Cell[50604, 1375, 212, 5, 70, "Input",ExpressionUUID->"0fdf941a-0b6c-4bef-932e-6ac26e2df597",
 CellID->1935546351],
Cell[50819, 1382, 667, 19, 100, "Output",ExpressionUUID->"b7e6af12-e7db-40f5-a1da-22b241510299",
 CellID->1193656189]
}, Open  ]],
Cell[CellGroupData[{
Cell[51523, 1406, 243, 6, 70, "Input",ExpressionUUID->"06120170-a297-416b-947f-e4cd89281c13",
 CellID->605417927],
Cell[51769, 1414, 3610, 95, 52, "Output",ExpressionUUID->"8a207630-dd5c-42c3-a2cc-937c9be3ffcf",
 CellID->501369000]
}, Open  ]],
Cell[CellGroupData[{
Cell[55416, 1514, 210, 5, 70, "Input",ExpressionUUID->"c768de60-653f-4c34-8374-3ae8c4802f33",
 CellID->351390116],
Cell[55629, 1521, 126, 2, 37, "Output",ExpressionUUID->"56766625-64e3-4018-b01f-8591857c7841",
 CellID->116182881]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[55804, 1529, 243, 5, 70, "ExampleDelimiter",ExpressionUUID->"81293c7f-1034-4de8-b051-14baee4dc76a",
 CellID->1140153602],
Cell[56050, 1536, 136, 1, 70, "ExampleText",ExpressionUUID->"3e16715c-9f28-405b-8593-25c951ac51b1",
 CellID->661684588],
Cell[CellGroupData[{
Cell[56211, 1541, 217, 5, 70, "Input",ExpressionUUID->"4fcd8500-4b2f-48ac-a9c1-c8e67d5cb331",
 CellID->801017643],
Cell[56431, 1548, 1080, 29, 95, "Output",ExpressionUUID->"c6250834-170b-4a40-95af-d2f89746b00e",
 CellID->1680284625]
}, Open  ]],
Cell[CellGroupData[{
Cell[57548, 1582, 246, 7, 70, "Input",ExpressionUUID->"f5a32788-6369-4be8-a673-2b3da94bf46e",
 CellID->1972853389],
Cell[57797, 1591, 468, 12, 37, "Output",ExpressionUUID->"9e630851-fb57-403d-b580-affb85df0a59",
 CellID->1562063991]
}, Open  ]],
Cell[CellGroupData[{
Cell[58302, 1608, 189, 4, 70, "Input",ExpressionUUID->"925aba2d-dd9c-4193-b70f-32bc9f74f8bb",
 CellID->1329021571],
Cell[58494, 1614, 3610, 95, 52, "Output",ExpressionUUID->"a4b94a97-19bc-4d3b-955c-c2a5aba1fdbb",
 CellID->313742131]
}, Open  ]],
Cell[62119, 1712, 543, 15, 70, "ExampleText",ExpressionUUID->"74b60a74-0200-49e8-90b6-4221d1ac8fa3",
 CellID->297503565],
Cell[CellGroupData[{
Cell[62687, 1731, 246, 6, 70, "Input",ExpressionUUID->"b38aa8e1-81f4-4096-b7c7-5edf672ff470",
 CellID->262345946],
Cell[62936, 1739, 1137, 30, 95, "Output",ExpressionUUID->"2ffab817-8f6d-4ed2-ab83-f2070f8d0e13",
 CellID->2035426966]
}, Open  ]],
Cell[CellGroupData[{
Cell[64110, 1774, 316, 9, 70, "Input",ExpressionUUID->"5b568f3b-3a55-487b-a602-5a70d8e63e6a",
 CellID->1243515870],
Cell[64429, 1785, 666, 19, 100, "Output",ExpressionUUID->"0f2e34b0-3473-4d76-b049-c3427bacb2c6",
 CellID->274207047]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[65144, 1810, 242, 5, 70, "ExampleDelimiter",ExpressionUUID->"77feb1a6-bb6f-49ee-9cd5-c7dc856bdbe3",
 CellID->990347448],
Cell[65389, 1817, 219, 5, 70, "Input",ExpressionUUID->"31f6b430-2a77-4992-a5d3-8d7c1657ec4f",
 CellID->1765419446],
Cell[65611, 1824, 266, 7, 70, "ExampleText",ExpressionUUID->"ced049d2-f071-47cb-bcf8-b8df22776263",
 CellID->1770561970],
Cell[CellGroupData[{
Cell[65902, 1835, 328, 9, 70, "Input",ExpressionUUID->"9a8af734-c6d8-418d-ac5c-1fe5c96f017e",
 CellID->154133311],
Cell[66233, 1846, 744, 24, 37, "Output",ExpressionUUID->"365cb6f4-d2ce-4cc6-b9f7-c3bd598377c2",
 CellID->1950376551]
}, Open  ]],
Cell[66992, 1873, 168, 5, 70, "ExampleText",ExpressionUUID->"7e58cedf-dc49-40c6-9689-8f487ae3087f",
 CellID->1735430401],
Cell[CellGroupData[{
Cell[67185, 1882, 206, 5, 70, "Input",ExpressionUUID->"fba9d2d7-26a7-489c-9720-5fe1bed839ec",
 CellID->255856053],
Cell[67394, 1889, 795, 25, 37, "Output",ExpressionUUID->"817e2f13-865f-4492-9e3e-75f919c295c3",
 CellID->1980723237]
}, Open  ]],
Cell[68204, 1917, 195, 5, 70, "ExampleText",ExpressionUUID->"f9d50d81-1915-4830-84a8-eeae8bd7fa13",
 CellID->632779064],
Cell[CellGroupData[{
Cell[68424, 1926, 210, 5, 70, "Input",ExpressionUUID->"6ba1b426-1cad-4e03-84b3-ffa5a1dc666d",
 CellID->778708704],
Cell[68637, 1933, 6215, 152, 167, "Output",ExpressionUUID->"edbde898-34df-4ce7-94a6-dc18136428fc",
 CellID->1827852526]
}, Open  ]],
Cell[74867, 2088, 1034, 32, 70, "ExampleText",ExpressionUUID->"d4c4d98e-d526-4d57-9b9b-df002b24e920",
 CellID->2102151572],
Cell[75904, 2122, 530, 17, 70, "ExampleText",ExpressionUUID->"ba0844ad-adb6-43ba-9c8a-a1cb607e9e49",
 CellID->460510160],
Cell[76437, 2141, 942, 33, 70, "ExampleText",ExpressionUUID->"26251890-65e0-4ead-b066-3ddc991ab980",
 CellID->1448207431],
Cell[77382, 2176, 183, 3, 70, "ExampleText",ExpressionUUID->"3934d353-cce4-4100-8bbc-9b98042d78f5",
 CellID->1142443156],
Cell[CellGroupData[{
Cell[77590, 2183, 212, 5, 70, "Input",ExpressionUUID->"c5ad79cd-55e7-401e-a2b3-5c593678a94c",
 CellID->390835065],
Cell[77805, 2190, 9723, 218, 167, "Output",ExpressionUUID->"1fa225ee-0909-4d6a-ab3d-8ce1b765d23a",
 CellID->501782224]
}, Open  ]],
Cell[87543, 2411, 217, 5, 70, "ExampleText",ExpressionUUID->"e8078a21-8c71-4791-9553-c6e8dd86214c",
 CellID->263195332],
Cell[CellGroupData[{
Cell[87785, 2420, 215, 5, 70, "Input",ExpressionUUID->"7d7e2be4-03e5-4898-bb91-df749f14997a",
 CellID->1855115751],
Cell[88003, 2427, 6171, 148, 167, "Output",ExpressionUUID->"7492cded-b04f-4f4d-b77e-2580e55f98a2",
 CellID->592494685]
}, Open  ]],
Cell[94189, 2578, 133, 1, 70, "ExampleText",ExpressionUUID->"25895b09-8f15-4283-aad5-73c48a648faf",
 CellID->823311427],
Cell[CellGroupData[{
Cell[94347, 2583, 558, 17, 70, "Input",ExpressionUUID->"1fc27ea6-98b7-4789-93ea-913316245c64",
 CellID->1158015968],
Cell[94908, 2602, 2179, 51, 304, "Output",ExpressionUUID->"a7f77a06-2be4-4f0c-bd75-4a1ae3fad992",
 CellID->1546735301],
Cell[97090, 2655, 2178, 51, 304, "Output",ExpressionUUID->"db7d9491-9abd-48b1-8881-9b9ddd8afdf7",
 CellID->690656972]
}, Open  ]]
}, Open  ]]
}, Dynamic[CurrentValue[EvaluationNotebook[], {TaggingRules, "Openers", "ExampleSection", "0"}, Closed]]]],
Cell[CellGroupData[{
Cell[99429, 2715, 1394, 36, 70, "ExampleSection",ExpressionUUID->"e59bd87c-88ad-4f31-af08-782bc1e11aee",
 CellID->1293636265],
Cell[CellGroupData[{
Cell[100848, 2755, 1406, 36, 70, "ExampleSubsection",ExpressionUUID->"79efc4e8-b8c0-485f-8723-42d4a731c2f0",
 CellID->413764730],
Cell[102257, 2793, 209, 5, 70, "Input",ExpressionUUID->"92e05823-88a1-42d6-9674-5680fb3fefd1",
 CellID->1686585030],
Cell[102469, 2800, 350, 10, 70, "Input",ExpressionUUID->"2ca61d5f-d447-4374-88a5-8d515830f648",
 CellID->1797942457],
Cell[CellGroupData[{
Cell[102844, 2814, 205, 5, 70, "Input",ExpressionUUID->"23e2eaa0-1892-423a-99cd-86bbb4af1dd4",
 CellID->32807560],
Cell[103052, 2821, 642, 20, 37, "Output",ExpressionUUID->"9893638d-dd8b-475c-b09f-04908f199339",
 CellID->1277442879]
}, Open  ]],
Cell[CellGroupData[{
Cell[103731, 2846, 217, 5, 70, "Input",ExpressionUUID->"a287fe9c-30f3-4333-ac63-76ff5c7307a6",
 CellID->776477862],
Cell[103951, 2853, 1099, 30, 131, "Output",ExpressionUUID->"93a14edc-49ad-443b-852d-5f83b586b824",
 CellID->1281356159]
}, Open  ]],
Cell[105065, 2886, 646, 20, 70, "ExampleText",ExpressionUUID->"3f840bf9-5620-4626-9a23-3832393900af",
 CellID->1382320030],
Cell[CellGroupData[{
Cell[105736, 2910, 209, 5, 70, "Input",ExpressionUUID->"d5145597-9d84-4b68-b328-1d228976e2e5",
 CellID->1879716809],
Cell[105948, 2917, 3657, 91, 131, "Output",ExpressionUUID->"7c60b9fc-56ca-438f-a08d-15072e20679e",
 CellID->870389206]
}, Open  ]],
Cell[109620, 3011, 458, 13, 70, "ExampleText",ExpressionUUID->"345ada25-7c3e-4528-b4d4-d7718f108596",
 CellID->1927916963],
Cell[CellGroupData[{
Cell[110103, 3028, 252, 6, 70, "Input",ExpressionUUID->"1c1cb22e-aec0-4fdd-9d4e-8bce8ffb8bdd",
 CellID->1094389178],
Cell[110358, 3036, 3657, 91, 131, "Output",ExpressionUUID->"7a6c8cef-8d7b-4b7a-a388-79d7553ee6a6",
 CellID->675990565]
}, Open  ]],
Cell[CellGroupData[{
Cell[114052, 3132, 323, 9, 70, "Input",ExpressionUUID->"c504b7bd-21d4-4834-9665-d455f019ce19",
 CellID->1808047765],
Cell[114378, 3143, 1016, 26, 168, "Output",ExpressionUUID->"ae7f9c58-5155-47a5-b7a4-a1d13f936499",
 CellID->101193027]
}, Open  ]],
Cell[115409, 3172, 150, 1, 70, "ExampleText",ExpressionUUID->"5136e8e6-17b8-4189-8089-582fd8f509bf",
 CellID->183340444],
Cell[CellGroupData[{
Cell[115584, 3177, 279, 7, 70, "Input",ExpressionUUID->"16b97f74-f6cd-4ab8-a94e-a01a91176bbd",
 CellID->899472820],
Cell[115866, 3186, 1155, 31, 131, "Output",ExpressionUUID->"2141a90e-0bee-4f02-9098-0aba8c2083aa",
 CellID->176066688]
}, Open  ]],
Cell[CellGroupData[{
Cell[117058, 3222, 314, 8, 70, "Input",ExpressionUUID->"9caf5e28-2a24-4eeb-980b-c2f471637a5b",
 CellID->367327380],
Cell[117375, 3232, 3834, 94, 131, "Output",ExpressionUUID->"e7f867d6-8c75-44b5-8332-e759efe91a7b",
 CellID->742935228]
}, Open  ]],
Cell[CellGroupData[{
Cell[121246, 3331, 282, 7, 70, "Input",ExpressionUUID->"da083bc9-cb8f-4a6e-8fc9-8eba86b3cb1c",
 CellID->1194269668],
Cell[121531, 3340, 1594, 34, 168, "Output",ExpressionUUID->"eef770dc-d6d5-4f92-abc5-d0dc68e46714",
 CellID->2142630484]
}, Open  ]],
Cell[CellGroupData[{
Cell[123162, 3379, 243, 5, 70, "ExampleDelimiter",ExpressionUUID->"b8945c9f-72b3-46e5-bd42-e437392b172e",
 CellID->1380513404],
Cell[123408, 3386, 348, 10, 70, "Input",ExpressionUUID->"75e96388-c791-4a84-be5b-caad3b067735",
 CellID->36152287],
Cell[CellGroupData[{
Cell[123781, 3400, 249, 6, 70, "Input",ExpressionUUID->"5158cd7c-bebb-482f-aa42-9c2344a7ae20",
 CellID->2021099155],
Cell[124033, 3408, 1188, 32, 167, "Output",ExpressionUUID->"f064ade2-3e07-4207-8b18-3178d22f1cbb",
 CellID->1563293521]
}, Open  ]],
Cell[125236, 3443, 517, 16, 70, "ExampleText",ExpressionUUID->"c53d999f-04e8-4779-ab7c-350bd2a6c86a",
 CellID->2114845985],
Cell[CellGroupData[{
Cell[125778, 3463, 283, 7, 70, "Input",ExpressionUUID->"da14b4a4-6e8b-4de8-b2cf-5caf4b2f481f",
 CellID->1002278531],
Cell[126064, 3472, 6171, 148, 167, "Output",ExpressionUUID->"3e1a7d85-d245-414e-bfed-1e679892cb3d",
 CellID->178160393]
}, Open  ]],
Cell[CellGroupData[{
Cell[132272, 3625, 322, 9, 70, "Input",ExpressionUUID->"625f02f5-d567-4f92-a2d7-69a6c090d1f9",
 CellID->152733072],
Cell[132597, 3636, 2179, 51, 304, "Output",ExpressionUUID->"dd6a1601-461a-4b9a-802f-d367b5af2ff7",
 CellID->1207425344]
}, Open  ]],
Cell[CellGroupData[{
Cell[134813, 3692, 315, 8, 70, "Input",ExpressionUUID->"7e819729-2028-4a6d-a209-45bced299ab2",
 CellID->1933626297],
Cell[135131, 3702, 6526, 154, 167, "Output",ExpressionUUID->"0659effe-ce5b-48b2-8f39-c87219734364",
 CellID->1942008312]
}, Open  ]],
Cell[CellGroupData[{
Cell[141694, 3861, 280, 7, 70, "Input",ExpressionUUID->"ff14499c-a01a-4e12-99d2-62a929ec347b",
 CellID->364103446],
Cell[141977, 3870, 4592, 82, 304, "Output",ExpressionUUID->"eb4dc825-231a-4b57-8ee0-8fb2daeb7175",
 CellID->892730419]
}, Open  ]]
}, Open  ]]
}, Dynamic[CurrentValue[EvaluationNotebook[], {TaggingRules, "Openers", "ExampleSubsection", "0"}, Closed]]]]
}, Dynamic[CurrentValue[EvaluationNotebook[], {TaggingRules, "Openers", "ExampleSection", "1"}, Closed]]]],
Cell[CellGroupData[{
Cell[146845, 3964, 1396, 36, 70, "ExampleSection",ExpressionUUID->"4fa0465f-2336-404e-afe3-b74d987b362c",
 CellID->2061341341],
Cell[CellGroupData[{
Cell[148266, 4004, 1399, 36, 70, "ExampleSubsection",ExpressionUUID->"b117ec2a-03b6-444e-a4d2-3a3c9ae5cc2a",
 CellID->1431794078],
Cell[149668, 4042, 208, 5, 70, "Input",ExpressionUUID->"65dabfc3-f1c2-43b5-b415-d1c7d7d93cd3",
 CellID->693055259],
Cell[149879, 4049, 312, 5, 70, "ExampleText",ExpressionUUID->"86e1a7f4-adaa-4a2d-b1ac-bf310e78d2d7",
 CellID->1341532187],
Cell[150194, 4056, 342, 11, 70, "Input",ExpressionUUID->"bcb1861c-1379-4d91-a108-ccb90f60bde4",
 CellID->33901077],
Cell[CellGroupData[{
Cell[150561, 4071, 247, 6, 70, "Input",ExpressionUUID->"f1e5ea39-94fe-4fe6-b35a-8d61341ee979",
 CellID->906967599],
Cell[150811, 4079, 18788, 485, 157, "Output",ExpressionUUID->"af148a0e-2c7b-46a0-b48d-7ea4cd3964a2",
 CellID->917964531]
}, Open  ]],
Cell[169614, 4567, 241, 4, 70, "ExampleText",ExpressionUUID->"066d5fd1-cd8f-4db5-9bb0-edcc2290b5fb",
 CellID->2026986986],
Cell[CellGroupData[{
Cell[169880, 4575, 260, 7, 70, "Input",ExpressionUUID->"e398b88e-8c07-4b53-a777-e6db23969fd8",
 CellID->128347872],
Cell[170143, 4584, 715, 22, 37, "Output",ExpressionUUID->"8e7acb4f-f1f2-4e7b-a8a3-fba27a4a1814",
 CellID->1504321952]
}, Open  ]],
Cell[CellGroupData[{
Cell[170895, 4611, 245, 6, 70, "Input",ExpressionUUID->"09940018-52a2-44c8-887a-6080de8aa9a4",
 CellID->1370290686],
Cell[171143, 4619, 18455, 435, 129, "Output",ExpressionUUID->"336c8649-43bd-41b5-94bb-7021a3435e73",
 CellID->1171499210]
}, Open  ]]
}, Dynamic[CurrentValue[EvaluationNotebook[], {TaggingRules, "Openers", "ExampleSubsection", "1"}, Closed]]]],
Cell[CellGroupData[{
Cell[189750, 5062, 1407, 36, 70, "ExampleSubsection",ExpressionUUID->"4e9779b7-7246-4119-b680-0de6092fa095",
 CellID->1757724783],
Cell[191160, 5100, 209, 5, 70, "Input",ExpressionUUID->"f947207e-fc5f-4615-b3d4-a3cef4b62cc1",
 CellID->2062892999],
Cell[CellGroupData[{
Cell[191394, 5109, 308, 8, 70, "Input",ExpressionUUID->"f945374e-5719-4444-8429-255fd80fb251",
 CellID->1575895929],
Cell[191705, 5119, 1098, 30, 131, "Output",ExpressionUUID->"71243c61-7f19-4f30-847c-a8c8d38169d3",
 CellID->457330713]
}, Open  ]],
Cell[CellGroupData[{
Cell[192840, 5154, 382, 10, 70, "Input",ExpressionUUID->"55d71311-77ff-4d36-87aa-37ffc284c5b3",
 CellID->424855823],
Cell[193225, 5166, 1117, 30, 131, "Output",ExpressionUUID->"6c1786d5-cc3e-47eb-adc9-f34afcafb7a4",
 CellID->1178426550]
}, Open  ]]
}, Dynamic[CurrentValue[EvaluationNotebook[], {TaggingRules, "Openers", "ExampleSubsection", "2"}, Closed]]]],
Cell[CellGroupData[{
Cell[194494, 5204, 1412, 36, 70, "ExampleSubsection",ExpressionUUID->"2a3d10d6-88c8-4863-a92e-2fd01125d0ae",
 CellID->1295379749],
Cell[195909, 5242, 208, 5, 70, "Input",ExpressionUUID->"f7d5c074-af48-4869-8a08-16ebcc7e85c9",
 CellID->753183923],
Cell[CellGroupData[{
Cell[196142, 5251, 308, 8, 70, "Input",ExpressionUUID->"e010bb09-bffc-4284-84bf-c6470e09bbda",
 CellID->1177126702],
Cell[196453, 5261, 1099, 30, 131, "Output",ExpressionUUID->"e2b20eb3-2b9a-48b9-842b-876326d16ca3",
 CellID->2123326225]
}, Open  ]],
Cell[CellGroupData[{
Cell[197589, 5296, 378, 10, 70, "Input",ExpressionUUID->"d84786fc-8310-43e3-8bc2-44566627b4be",
 CellID->1697291578],
Cell[197970, 5308, 1053, 28, 131, "Output",ExpressionUUID->"659710d5-653f-4622-84f5-0f9a1c1024b1",
 CellID->38783641]
}, Open  ]]
}, Dynamic[CurrentValue[EvaluationNotebook[], {TaggingRules, "Openers", "ExampleSubsection", "3"}, Closed]]]]
}, Dynamic[CurrentValue[EvaluationNotebook[], {TaggingRules, "Openers", "ExampleSection", "2"}, Closed]]]],
Cell[CellGroupData[{
Cell[199287, 5347, 1376, 36, 70, "ExampleSection",ExpressionUUID->"a1b7b0b6-41b4-49fe-bf1c-9f9e25ad2a7c",
 CellID->2123667759],
Cell[200666, 5385, 378, 6, 70, "ExampleText",ExpressionUUID->"19e6d81e-f69d-4681-b1b3-386e2b609e3f",
 CellID->1326551885],
Cell[201047, 5393, 491, 13, 70, "ExampleText",ExpressionUUID->"c1d581ca-5a22-4ecf-8e31-4c290f85c3a7",
 CellID->1844377872],
Cell[CellGroupData[{
Cell[201563, 5410, 412, 11, 70, "Input",ExpressionUUID->"fc2b530d-8d72-443b-9538-5fb5a36c3a3a",
 CellID->750101519],
Cell[201978, 5423, 744, 24, 37, "Output",ExpressionUUID->"1b2c320d-3b79-4a07-b84e-20dac1c24963",
 CellID->1614273162]
}, Open  ]],
Cell[CellGroupData[{
Cell[202759, 5452, 207, 5, 70, "Input",ExpressionUUID->"3d4ddc8f-5b0d-4032-b038-087f012002bd",
 CellID->1656672336],
Cell[202969, 5459, 795, 25, 37, "Output",ExpressionUUID->"f8f2b31e-ffd0-4a9c-9a95-b9e013cce528",
 CellID->1343038270]
}, Open  ]],
Cell[CellGroupData[{
Cell[203801, 5489, 218, 5, 70, "Input",ExpressionUUID->"bcceb716-ed3f-4395-b08e-7caf509910fd",
 CellID->1092106273],
Cell[204022, 5496, 1052, 28, 179, "Output",ExpressionUUID->"f6902201-6cd9-4ef9-a80c-68a3608eadce",
 CellID->1818315264]
}, Open  ]],
Cell[205089, 5527, 141, 1, 70, "ExampleText",ExpressionUUID->"4aa51914-d87d-4c4c-a10b-ab23e839422d",
 CellID->1188118867],
Cell[CellGroupData[{
Cell[205255, 5532, 272, 7, 70, "Input",ExpressionUUID->"669a4c68-e146-4331-8077-23e202cfe097",
 CellID->1516752790],
Cell[205530, 5541, 115, 1, 70, "EchoTiming",ExpressionUUID->"71bf096b-9413-4318-9e4e-b2ba96b3be99",
 CellID->591679553]
}, Open  ]],
Cell[CellGroupData[{
Cell[205682, 5547, 269, 7, 70, "Input",ExpressionUUID->"9e77f999-2f41-4bba-a5b5-8a2b51296782",
 CellID->2006007153],
Cell[205954, 5556, 115, 1, 70, "EchoTiming",ExpressionUUID->"b69e8add-2231-488e-ac54-5f035d58f703",
 CellID->602966676]
}, Open  ]],
Cell[206084, 5560, 144, 1, 70, "ExampleText",ExpressionUUID->"97e6fd3e-52f5-477b-9762-cafac06d5cb4",
 CellID->122037108],
Cell[CellGroupData[{
Cell[206253, 5565, 420, 10, 70, "Input",ExpressionUUID->"3e76469e-ca2c-4191-a940-3a24c6a5ff57",
 CellID->1043266157],
Cell[206676, 5577, 116, 1, 70, "EchoTiming",ExpressionUUID->"96583eb8-d91e-46e6-9a6d-9fc4787c82a5",
 CellID->1816876483],
Cell[206795, 5580, 23449, 595, 148, "Output",ExpressionUUID->"edb91177-7310-4276-ac96-17697a13c894",
 CellID->1173073088]
}, Open  ]],
Cell[CellGroupData[{
Cell[230281, 6180, 243, 5, 70, "ExampleDelimiter",ExpressionUUID->"04961e52-1056-4896-8035-d81c1a7b9022",
 CellID->1166242150],
Cell[230527, 6187, 203, 4, 70, "ExampleText",ExpressionUUID->"f52a7324-1cfe-47fb-bcc6-f9b05d758463",
 CellID->643625537],
Cell[CellGroupData[{
Cell[230755, 6195, 248, 6, 70, "Input",ExpressionUUID->"c08d6504-3f14-45e5-9ca4-8172397f0ad2",
 CellID->1791312436],
Cell[231006, 6203, 6271, 149, 179, "Output",ExpressionUUID->"b6dba75a-7dc1-4536-960a-a94bd669c974",
 CellID->365712631]
}, Open  ]],
Cell[237292, 6355, 242, 4, 70, "ExampleText",ExpressionUUID->"3ed5c717-74d6-40b2-a548-40cfeb98e5ca",
 CellID->562437636],
Cell[237537, 6361, 274, 7, 70, "Input",ExpressionUUID->"6303015e-981b-425c-8ed2-d5a392fc9292",
 CellID->1949985825],
Cell[237814, 6370, 152, 1, 70, "ExampleText",ExpressionUUID->"5a6920f9-404c-4686-a374-9e3f71d0f04a",
 CellID->1896345337],
Cell[CellGroupData[{
Cell[237991, 6375, 488, 14, 70, "Input",ExpressionUUID->"bca1a9b8-b628-456d-a96f-75752cc6b298",
 CellID->803044201],
Cell[CellGroupData[{
Cell[238504, 6393, 116, 1, 70, "EchoTiming",ExpressionUUID->"111937a6-cdcf-4c67-b863-bf9d151a1048",
 CellID->1403564203],
Cell[238623, 6396, 116, 1, 70, "EchoTiming",ExpressionUUID->"ffd3db22-aa88-4d45-9310-7c70815382a1",
 CellID->1743181173]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[238788, 6403, 246, 7, 70, "Input",ExpressionUUID->"39a0d434-181a-4b76-a1f0-6c8e041bb51f",
 CellID->1367139557],
Cell[239037, 6412, 126, 2, 37, "Output",ExpressionUUID->"4b6164c9-5cb1-4cbe-b4e8-206bedbf9f02",
 CellID->592926129]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[239212, 6420, 242, 5, 70, "ExampleDelimiter",ExpressionUUID->"452a47ff-bab6-4860-9b30-8e5b6b69a0ce",
 CellID->948568881],
Cell[239457, 6427, 158, 2, 70, "ExampleText",ExpressionUUID->"5553970f-db30-4884-b282-86d85afe8d4f",
 CellID->1538911483],
Cell[CellGroupData[{
Cell[239640, 6433, 250, 6, 70, "Input",ExpressionUUID->"3f9f16ea-630a-4aba-ab71-0a301fd0dcf6",
 CellID->192250313],
Cell[239893, 6441, 6441, 152, 179, "Output",ExpressionUUID->"26519448-e9c6-492e-a6e3-c9f77d916487",
 CellID->1021521576]
}, Open  ]],
Cell[246349, 6596, 583, 15, 70, "ExampleText",ExpressionUUID->"7774eb5e-c860-4c9a-ae2a-72c960d51fc3",
 CellID->261653958],
Cell[246935, 6613, 274, 7, 70, "Input",ExpressionUUID->"95a96e23-c7b2-405f-9472-762de21c0da6",
 CellID->1580018662],
Cell[CellGroupData[{
Cell[247234, 6624, 489, 14, 70, "Input",ExpressionUUID->"d9651214-5948-4fc3-8c0e-6068825bfc33",
 CellID->1611158688],
Cell[CellGroupData[{
Cell[247748, 6642, 115, 1, 70, "EchoTiming",ExpressionUUID->"80f453cd-a1f7-4173-aee0-576fc51f8c0e",
 CellID->976234001],
Cell[247866, 6645, 115, 1, 70, "EchoTiming",ExpressionUUID->"d8489a3c-7bde-4a12-991e-96983cc61626",
 CellID->789791727]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[248030, 6652, 244, 7, 70, "Input",ExpressionUUID->"5dc64689-ee2b-4b65-a085-13f5111d0e34",
 CellID->862610285],
Cell[248277, 6661, 127, 2, 37, "Output",ExpressionUUID->"882e54ca-cd43-43d0-b766-3026f1285fdc",
 CellID->1126948178]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[248453, 6669, 242, 5, 70, "ExampleDelimiter",ExpressionUUID->"c7787d67-d061-4980-867d-fd971bb654a9",
 CellID->482954205],
Cell[248698, 6676, 170, 3, 70, "ExampleText",ExpressionUUID->"6d1109b9-f8fb-4129-a02b-d2d2bc672cae",
 CellID->1516158721],
Cell[CellGroupData[{
Cell[248893, 6683, 535, 16, 70, "Input",ExpressionUUID->"152cc4ad-c30b-40d2-af99-a5c6960cb989",
 CellID->1172182133],
Cell[249431, 6701, 1868, 47, 179, "Output",ExpressionUUID->"749e1a5d-6517-49c8-a5da-27ba23352c2b",
 CellID->1509120574]
}, Open  ]],
Cell[CellGroupData[{
Cell[251336, 6753, 252, 6, 70, "Input",ExpressionUUID->"fe23cb44-e5c9-4695-bb18-b28857cbafac",
 CellID->1201405585],
Cell[251591, 6761, 116, 1, 70, "EchoTiming",ExpressionUUID->"50282829-f088-49a0-aad2-3ab0b21570a7",
 CellID->2035407598],
Cell[251710, 6764, 23449, 595, 148, "Output",ExpressionUUID->"03db50be-eb73-45e5-9182-b6ffd9ab9765",
 CellID->1828486523]
}, Open  ]],
Cell[CellGroupData[{
Cell[275196, 7364, 289, 7, 70, "Input",ExpressionUUID->"81cd7bf2-19da-43e9-a212-bce7053b85b4",
 CellID->846449171],
Cell[275488, 7373, 2533, 77, 86, "Output",ExpressionUUID->"526924c4-3ecb-4bbd-b9ad-b40ab7ce867d",
 CellID->1967287256]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[278070, 7456, 243, 5, 70, "ExampleDelimiter",ExpressionUUID->"d0567419-5805-4384-96d2-936fa788a425",
 CellID->1614855469],
Cell[CellGroupData[{
Cell[278338, 7465, 273, 7, 70, "Input",ExpressionUUID->"b7f28150-7f3f-4a43-b6a9-1b72909c8bdd",
 CellID->521039949],
Cell[278614, 7474, 7087, 168, 179, "Output",ExpressionUUID->"66772dc1-ba56-4293-a656-0e5aef75b86c",
 CellID->974309768]
}, Open  ]],
Cell[CellGroupData[{
Cell[285738, 7647, 273, 7, 70, "Input",ExpressionUUID->"c89af717-c437-4eba-a0a5-a6231c9a31d4",
 CellID->914158327],
Cell[286014, 7656, 115, 1, 70, "EchoTiming",ExpressionUUID->"35f3df2d-d954-438d-ab16-dc68a2b476d6",
 CellID->556748200]
}, Open  ]],
Cell[CellGroupData[{
Cell[286166, 7662, 488, 14, 70, "Input",ExpressionUUID->"6a7b03a2-ccc3-49b4-8b47-62cd5b8f951f",
 CellID->743538915],
Cell[CellGroupData[{
Cell[286679, 7680, 116, 1, 70, "EchoTiming",ExpressionUUID->"77142b14-cc53-4d0e-b604-641094d4cc83",
 CellID->1105049928],
Cell[286798, 7683, 116, 1, 70, "EchoTiming",ExpressionUUID->"e0e05d6f-8c56-4041-9dfa-1fa9d4987da5",
 CellID->1135560640]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[286963, 7690, 245, 7, 70, "Input",ExpressionUUID->"88690fe0-222a-438d-bed6-22771f6f0825",
 CellID->930119028],
Cell[287211, 7699, 127, 2, 37, "Output",ExpressionUUID->"9580c762-9443-45a4-a342-8bd9a445c2a5",
 CellID->1633387929]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[287387, 7707, 243, 5, 70, "ExampleDelimiter",ExpressionUUID->"2b654faf-a8a3-406c-b5a5-d17b117232c6",
 CellID->1176843909],
Cell[CellGroupData[{
Cell[287655, 7716, 276, 7, 70, "Input",ExpressionUUID->"849a122a-1f67-4d43-816f-1c8bbb6f1d2d",
 CellID->474550426],
Cell[287934, 7725, 7036, 165, 179, "Output",ExpressionUUID->"9d2915eb-1824-4fce-baca-4e892f504100",
 CellID->1775604673]
}, Open  ]],
Cell[CellGroupData[{
Cell[295007, 7895, 273, 7, 70, "Input",ExpressionUUID->"63b42e77-ab52-413c-9ca5-992427c5fcb0",
 CellID->855637563],
Cell[295283, 7904, 115, 1, 70, "EchoTiming",ExpressionUUID->"3132803e-651e-473c-9bea-edd60eafafea",
 CellID->795316478]
}, Open  ]],
Cell[CellGroupData[{
Cell[295435, 7910, 489, 14, 70, "Input",ExpressionUUID->"a2711440-95a5-44aa-883f-5add16d9e872",
 CellID->1050611403],
Cell[CellGroupData[{
Cell[295949, 7928, 115, 1, 70, "EchoTiming",ExpressionUUID->"7ecdd09b-8643-4bcc-a1b4-793839b531df",
 CellID->912184114],
Cell[296067, 7931, 115, 1, 70, "EchoTiming",ExpressionUUID->"b2599eb3-dcee-495d-afb5-43ef1046e8ad",
 CellID->192648065]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[296231, 7938, 178, 4, 70, "Input",ExpressionUUID->"fa7c17c4-83da-46e9-86da-469a963a47e7",
 CellID->801372723],
Cell[296412, 7944, 126, 2, 37, "Output",ExpressionUUID->"8dcd1212-34d8-44e3-bbe6-56492a73c6d3",
 CellID->822164131]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[296587, 7952, 241, 5, 70, "ExampleDelimiter",ExpressionUUID->"e0951005-f68f-4863-833c-6bc49977d5e3",
 CellID->98462808],
Cell[296831, 7959, 240, 4, 70, "ExampleText",ExpressionUUID->"3cf8fa36-5a1c-496c-992e-1ed5fc7cfeba",
 CellID->2095504517],
Cell[CellGroupData[{
Cell[297096, 7967, 652, 19, 70, "Input",ExpressionUUID->"bd5ff9e0-0618-420d-a5d0-a1ccd65689c2",
 CellID->1583354475],
Cell[297751, 7988, 7458, 176, 179, "Output",ExpressionUUID->"dc8b7066-8eaf-480e-ae06-500be717514a",
 CellID->2035613670]
}, Open  ]],
Cell[CellGroupData[{
Cell[305246, 8169, 254, 6, 70, "Input",ExpressionUUID->"18be41e6-6fd6-41b4-a4d6-70abbd155162",
 CellID->1048152860],
Cell[305503, 8177, 116, 1, 70, "EchoTiming",ExpressionUUID->"4f588611-2713-4518-8f7f-f947d4c3c794",
 CellID->1364099093],
Cell[305622, 8180, 2060, 49, 37, "Output",ExpressionUUID->"5435b628-5e82-4a5d-bb99-a05ad62cb1c9",
 CellID->2025524326]
}, Open  ]],
Cell[CellGroupData[{
Cell[307719, 8234, 183, 4, 70, "Input",ExpressionUUID->"bc38948f-cb1e-4380-9160-b9a1ff9253b3",
 CellID->780905546],
Cell[307905, 8240, 1612, 39, 62, "Output",ExpressionUUID->"00730728-4df8-4ec5-85c6-e9a285a46d1d",
 CellID->293387073]
}, Open  ]],
Cell[CellGroupData[{
Cell[309554, 8284, 320, 8, 70, "Input",ExpressionUUID->"416dce5c-7187-41b2-938c-a69075545775",
 CellID->1649932810],
Cell[309877, 8294, 322, 7, 37, "Output",ExpressionUUID->"02d5bb4e-800f-4a92-95f7-b584a37c3a95",
 CellID->540256258]
}, Open  ]],
Cell[CellGroupData[{
Cell[310236, 8306, 251, 6, 70, "Input",ExpressionUUID->"65a89a44-123b-456f-b68c-8b6f092fe245",
 CellID->1804603064],
Cell[310490, 8314, 115, 1, 70, "EchoTiming",ExpressionUUID->"a3d2ee6e-a990-4ce6-a85b-d96beafb9ca3",
 CellID->758928167],
Cell[310608, 8317, 5855, 102, 40, "Output",ExpressionUUID->"9e9462ec-6aa8-4664-bc7d-4d9d2273daa7",
 CellTags->"RasterizedOutput",
 CellID->2065044]
}, Open  ]],
Cell[CellGroupData[{
Cell[316500, 8424, 214, 5, 70, "Input",ExpressionUUID->"877efba6-d5ca-4f1f-95e4-6d005ae0741b",
 CellID->1136936051],
Cell[316717, 8431, 423, 9, 50, "Output",ExpressionUUID->"94baf607-c787-42e2-b93e-5ff8113902a1",
 CellID->1201485021]
}, Open  ]],
Cell[317155, 8443, 172, 3, 70, "ExampleText",ExpressionUUID->"30f03086-d54c-47cd-bf8f-a0673a4671d2",
 CellID->1265760217],
Cell[CellGroupData[{
Cell[317352, 8450, 582, 16, 70, "Input",ExpressionUUID->"c825f302-701c-4765-a9aa-100845527b70",
 CellID->972098041],
Cell[317937, 8468, 117, 1, 70, "EchoTiming",ExpressionUUID->"bad7016e-6f88-4af7-885a-85d442158d07",
 CellID->1896957895],
Cell[318057, 8471, 2397, 68, 70, "Output",ExpressionUUID->"e08c70c3-5580-42b2-8d09-564804dcb704",
 CellID->629117903]
}, Open  ]],
Cell[320469, 8542, 183, 3, 70, "ExampleText",ExpressionUUID->"1974169f-03a6-4a26-9967-368155b2b09d",
 CellID->1040025289],
Cell[CellGroupData[{
Cell[320677, 8549, 704, 21, 70, "Input",ExpressionUUID->"70af47b5-8695-4de6-88ee-0c676fabc061",
 CellID->910171363],
Cell[321384, 8572, 115, 1, 70, "EchoTiming",ExpressionUUID->"74b1bfed-bd48-4b11-891a-da1034c36ed0",
 CellID->312060448],
Cell[321502, 8575, 2400, 68, 70, "Output",ExpressionUUID->"9bd0cc54-79cb-4b5b-b972-82f854ce8c48",
 CellID->644883562]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[323951, 8649, 242, 5, 70, "ExampleDelimiter",ExpressionUUID->"c4e2931e-1946-4dc3-917d-fa5b18751ada",
 CellID->464096408],
Cell[324196, 8656, 217, 4, 70, "ExampleText",ExpressionUUID->"9c9a91fb-0d1a-4d5d-9e56-2e9a16379b52",
 CellID->445102530],
Cell[CellGroupData[{
Cell[324438, 8664, 740, 22, 70, "Input",ExpressionUUID->"a56878e1-d9b0-4c3f-af4b-c8a3dd12c79c",
 CellID->1924999179],
Cell[325181, 8688, 8273, 195, 179, "Output",ExpressionUUID->"4bcf8f40-c40d-4c5a-b9df-d7cae50f4c88",
 CellID->864354794]
}, Open  ]],
Cell[CellGroupData[{
Cell[333491, 8888, 254, 6, 70, "Input",ExpressionUUID->"56dce272-7d65-44f8-8142-3354d3d14be3",
 CellID->1323974852],
Cell[333748, 8896, 114, 1, 70, "EchoTiming",ExpressionUUID->"30720a8c-566a-4cbc-ad15-0c81a906d2ba",
 CellID->681134144],
Cell[333865, 8899, 1560, 38, 62, "Output",ExpressionUUID->"91c474a2-4f21-4a6f-9ede-36d094f177e1",
 CellID->1733719698]
}, Open  ]],
Cell[CellGroupData[{
Cell[335462, 8942, 334, 9, 70, "Input",ExpressionUUID->"b20ed52c-2ea8-48e0-b8a5-ecc8b80af0e7",
 CellID->651172032],
Cell[335799, 8953, 114, 1, 70, "EchoTiming",ExpressionUUID->"a50d67eb-8326-4161-b7f1-5a4225b46063",
 CellID->85698714],
Cell[335916, 8956, 350, 7, 37, "Output",ExpressionUUID->"5d45cc85-1aa8-455e-a91a-ac361bf3aac3",
 CellID->1524242708]
}, Open  ]],
Cell[CellGroupData[{
Cell[336303, 8968, 589, 16, 70, "Input",ExpressionUUID->"4a1818ac-5cd3-4711-a715-39fff07d548d",
 CellID->1221292532],
Cell[336895, 8986, 116, 1, 70, "EchoTiming",ExpressionUUID->"55c65ce8-d582-4ed5-aa58-7a3eca572723",
 CellID->520803882],
Cell[337014, 8989, 2398, 68, 70, "Output",ExpressionUUID->"ea07a77f-5133-4366-ab4f-1a5ad176ca15",
 CellID->7499602]
}, Open  ]],
Cell[CellGroupData[{
Cell[339449, 9062, 706, 21, 70, "Input",ExpressionUUID->"ca218191-2814-4177-be07-a124675a9a78",
 CellID->292590197],
Cell[340158, 9085, 116, 1, 70, "EchoTiming",ExpressionUUID->"2b822581-fd02-44b5-ae8f-231323f086d1",
 CellID->1491759288],
Cell[340277, 9088, 2407, 68, 70, "Output",ExpressionUUID->"5045cf73-788b-442f-a13f-b83aab7ccf91",
 CellID->126774691]
}, Open  ]]
}, Open  ]]
}, Dynamic[CurrentValue[EvaluationNotebook[], {TaggingRules, "Openers", "ExampleSection", "3"}, Closed]]]]
}, Dynamic[CurrentValue[EvaluationNotebook[], {TaggingRules, "Openers", "PrimaryExamplesSection"}, Closed]]]],
Cell[342938, 9166, 6295, 172, 70, "SeeAlsoSection",ExpressionUUID->"469d44ed-fe71-4c83-8036-d5c0c12f744b"],
Cell[349236, 9340, 1795, 45, 70, "TutorialsSection",ExpressionUUID->"ce814c45-4034-4891-8310-a4dc6f1b9e94"],
Cell[351034, 9387, 1045, 27, 70, "MoreAboutSection",ExpressionUUID->"d9e4d795-a97b-4b47-9da8-b2ceaafbac1c"],
Cell[352082, 9416, 2094, 59, 70, "RelatedLinksSection",ExpressionUUID->"d80c618f-3977-4a04-ba9e-aefbde904bf9"],
Cell[354179, 9477, 78, 0, 70, "FooterCell",ExpressionUUID->"57a93ef5-37ab-4b4b-8c05-bc5eae318644"]
}
]
*)

(* End of internal cache information *)

