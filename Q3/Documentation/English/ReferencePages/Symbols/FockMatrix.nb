(* Content-type: application/vnd.wolfram.mathematica *)

(*** Wolfram Notebook File ***)
(* http://www.wolfram.com/nb *)

(* CreatedBy='Mathematica 12.3' *)

(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[       158,          7]
NotebookDataLength[     54276,       1730]
NotebookOptionsPosition[     46317,       1558]
NotebookOutlinePosition[     48851,       1619]
CellTagsIndexPosition[     48765,       1614]
WindowTitle->FockMatrix
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{
Cell[BoxData[GridBox[{
   {Cell["Q3 SYMBOL", "PacletNameCell"], Cell[TextData[{
     Cell[BoxData[
      ActionMenuBox[
       FrameBox[
        InterpretationBox[Cell[TextData[{
          "See Also",
          StyleBox[" \[FilledDownTriangle]", "AnchorBarArrow",
           StripOnInput->False]
         }]],
         TextCell[
          Row[{"See Also", 
            Style[" \[FilledDownTriangle]", "AnchorBarArrow"]}]]],
        StripOnInput->False], {"\<\"Matrix\"\>":>Documentation`HelpLookup[
       "paclet:Q3/ref/Matrix"], "\<\"FermionBasis\"\>":>
       Documentation`HelpLookup[
       "paclet:Q3/ref/FermionBasis"], "\<\"FockMatrixForm\"\>":>
       Documentation`HelpLookup[
       "paclet:Q3/ref/FockMatrixForm"], "\<\"PrintFermionBasis\"\>":>
       Documentation`HelpLookup["paclet:Q3/ref/PrintFermionBasis"]},
       Appearance->None,
       MenuAppearance->Automatic,
       MenuStyle->"SeeAlso"]],
      LineSpacing->{1.4, 0}],
     "\[ThickSpace]\[ThickSpace]\[ThickSpace]\[ThickSpace]\[ThickSpace]\
\[ThickSpace]",
     Cell[BoxData[
      ActionMenuBox[
       FrameBox[
        InterpretationBox[Cell[TextData[{
          "Related Guides",
          StyleBox[" \[FilledDownTriangle]", "AnchorBarArrow",
           StripOnInput->False]
         }]],
         TextCell[
          Row[{"Related Guides", 
            Style[" \[FilledDownTriangle]", "AnchorBarArrow"]}]]],
        StripOnInput->False], {"\<\"Fock\"\>":>Documentation`HelpLookup[
       "paclet:Q3/guide/FockPackageGuide"]},
       Appearance->None,
       MenuAppearance->Automatic,
       MenuStyle->"MoreAbout"]],
      LineSpacing->{1.4, 0}],
     "\[ThickSpace]\[ThickSpace]\[ThickSpace]\[ThickSpace]\[ThickSpace]\
\[ThickSpace]",
     Cell[BoxData[
      ActionMenuBox[
       FrameBox[
        InterpretationBox[Cell[TextData[{
          "URL",
          StyleBox[" \[FilledDownTriangle]", "AnchorBarArrow",
           StripOnInput->False]
         }]],
         TextCell[
          Row[{"URL", 
            Style[" \[FilledDownTriangle]", "AnchorBarArrow"]}]]],
        StripOnInput->False], {"\<\"Q3/ref/FockMatrix\"\>":>
       None, "\<\"Copy Wolfram Documentation Center URL\"\>":>
       Module[{DocumentationSearch`Private`nb$}, 
        DocumentationSearch`Private`nb$ = NotebookPut[
           Notebook[{
             Cell["Q3/ref/FockMatrix"]}, Visible -> False]]; 
        SelectionMove[DocumentationSearch`Private`nb$, All, Notebook]; 
        FrontEndTokenExecute[DocumentationSearch`Private`nb$, "Copy"]; 
        NotebookClose[DocumentationSearch`Private`nb$]; Null], 
       Delimiter, "\<\"Copy web URL\"\>":>
       Module[{DocumentationSearch`Private`nb$}, 
        DocumentationSearch`Private`nb$ = NotebookPut[
           Notebook[{
             Cell[
              BoxData[
               MakeBoxes[
                Hyperlink[
                "http://reference.wolfram.com/language/Q3/ref/FockMatrix.\
html"], StandardForm]], "Input", TextClipboardType -> "PlainText"]}, Visible -> 
            False]]; SelectionMove[
         DocumentationSearch`Private`nb$, All, Notebook]; 
        FrontEndTokenExecute[DocumentationSearch`Private`nb$, "Copy"]; 
        NotebookClose[DocumentationSearch`Private`nb$]; 
        Null], "\<\"Go to web URL\"\>":>FrontEndExecute[{
         NotebookLocate[{
           URL[
            StringJoin[
             If[
              TrueQ[DocumentationBuild`Make`Private`wsmlinkQ$69904], 
              "http://reference.wolfram.com/system-modeler/", 
              "http://reference.wolfram.com/language/"], "Q3/ref/FockMatrix", 
             ".html"]], None}]}]},
       Appearance->None,
       MenuAppearance->Automatic,
       MenuStyle->"URLMenu"]],
      LineSpacing->{1.4, 0}]
    }], "AnchorBar"]}
  }]], "AnchorBarGrid",
 CellID->1],

Cell[CellGroupData[{

Cell[TextData[{
 Cell["FockMatrix", "ObjectName"],
 Cell[BoxData[
  TemplateBox[{8},
   "Spacer1"]]],
 Cell[BoxData[""], "ObjectNameTranslation"]
}], "ObjectNameGrid"],

Cell[BoxData[GridBox[{
   {"", Cell[TextData[{
     Cell[BoxData[
      RowBox[{"FockMatrix", "[", 
       RowBox[{
        StyleBox["op", "TI"], ",", " ", 
        StyleBox["vlist", "TI"]}], "]"}]], "InlineFormula"],
     "\[LineSeparator]computes the matrix elements of the operator ",
     Cell[BoxData[
      StyleBox["op", "TI"]], "InlineFormula"],
     " between the vectors in the list ",
     Cell[BoxData[
      StyleBox["vlist", "TI"]], "InlineFormula"],
     ". Vectors in ",
     Cell[BoxData[
      StyleBox["vlist", "TI"]], "InlineFormula"],
     " can be either in the Ket or Cat form (the latter is slightly more \
efficient. "
    }]]},
   {"", Cell[TextData[{
     Cell[BoxData[
      RowBox[{"FockMatrix", "[", 
       RowBox[{
        StyleBox["op", "TI"], ",", " ", 
        SubscriptBox[
         StyleBox["vlist", "TI"], 
         StyleBox["1", "TR"]], ",", " ", 
        SubscriptBox[
         StyleBox["vlist", "TI"], 
         StyleBox["2", "TR"]]}], "]"}]], "InlineFormula"],
     "\[LineSeparator]calculates the matrix elements between two vectors, one \
from ",
     Cell[BoxData[
      SubscriptBox[
       StyleBox["vlist", "TI"], 
       StyleBox["1", "TR"]]], "InlineFormula"],
     " and the other from ",
     Cell[BoxData[
      SubscriptBox[
       StyleBox["vlist", "TI"], 
       StyleBox["2", "TR"]]], "InlineFormula"],
     ". "
    }]]},
   {"", Cell[TextData[{
     Cell[BoxData[
      RowBox[{"FockMatrix", "[", 
       RowBox[{
        StyleBox["op", "TI"], ",", " ", 
        StyleBox["basis", "TI"]}], "]"}]], "InlineFormula"],
     "\[LineSeparator]calculates the matrix representation in the basis ",
     Cell[BoxData[
      StyleBox["basis", "TI"]], "InlineFormula"],
     ". The basis is a list with particular structure and can be constructed \
by ",
     Cell[BoxData[
      TemplateBox[{
        Cell[
         TextData["FermionBasis"]], "paclet:Q3/ref/FermionBasis"},
       "RefLink",
       BaseStyle->{"InlineFormula"}]], "InlineFormula"],
     "."
    }]]}
  }]], "Usage",
 GridBoxOptions->{
 GridBoxBackground->{"Columns" -> {{None}}, "Rows" -> {None, None, {None}}}}]
}, Open  ]],

Cell[CellGroupData[{

Cell[TextData[Cell[BoxData[
 ButtonBox[Cell[TextData[{
   Cell[BoxData[
    TemplateBox[{6},
     "Spacer1"]]],
   "Details"
  }], "NotesFrameText"],
  Appearance->{Automatic, None, "Normal", Automatic},
  BaseStyle->None,
  ButtonFunction:>(FrontEndExecute[{
     FrontEnd`SelectionMove[
      FrontEnd`SelectedNotebook[], All, ButtonCell], 
     FrontEndToken["OpenCloseGroup"], 
     FrontEnd`SelectionMove[
      FrontEnd`SelectedNotebook[], After, CellContents]}]& ),
  Evaluator->None,
  Method->"Preemptive"]]]], "NotesSection",
 WholeCellGroupOpener->True,
 CellGroupingRules->{"SectionGrouping", 50},
 CellID->1580036652],

Cell["", "SectionHeaderSpacer"],

Cell[TextData[{
 "To be distinguished from the more general ",
 Cell[BoxData[
  TemplateBox[{
    Cell[
     TextData["Matrix"]], "paclet:Q3/ref/Matrix"},
   "RefLink",
   BaseStyle->{"InlineFormula"}]], "InlineFormula"],
 "."
}], "Notes",
 CellID->613871602],

Cell["The following options can be given: ", "Notes"]
}, Closed]],

Cell[CellGroupData[{

Cell[TextData[{
 Cell[BoxData[
  TemplateBox[{6},
   "Spacer1"]]],
 "Examples",
 "\[NonBreakingSpace]\[NonBreakingSpace]",
 Cell["(2)", "ExampleCount"]
}], "PrimaryExamplesSection",
 WholeCellGroupOpener->True,
 CellTags->"PrimaryExamplesSection",
 CellID->2040715009],

Cell[CellGroupData[{

Cell[TextData[{
 "Basic Examples",
 "\[NonBreakingSpace]\[NonBreakingSpace]",
 Cell["(1)", "ExampleCount"]
}], "ExampleSection", "ExampleSection",
 WholeCellGroupOpener->True,
 CellID->835830026],

Cell[BoxData[
 RowBox[{"<<", "Q3`"}]], "Input",
 CellLabel->"In[1]:=",
 CellID->666594043],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{"Let", "[", 
  RowBox[{"Boson", ",", "a", ",", "b"}], "]"}], "\[IndentingNewLine]", 
 RowBox[{"aa", "=", 
  RowBox[{"a", "[", 
   RowBox[{"{", 
    RowBox[{"1", ",", "2"}], "}"}], "]"}]}]}], "Input",
 CellLabel->"In[2]:=",
 CellID->1983840372],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   SubscriptBox[
    TemplateBox[{"a"},
     "RowDefault"], 
    TemplateBox[{"1"},
     "RowDefault"]], ",", 
   SubscriptBox[
    TemplateBox[{"a"},
     "RowDefault"], 
    TemplateBox[{"2"},
     "RowDefault"]]}], "}"}]], "Output",
 CellLabel->"Out[2]=",
 CellID->296279578]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{"vv", "=", 
  RowBox[{"Flatten", "@", 
   RowBox[{"Outer", "[", 
    RowBox[{
     RowBox[{
      RowBox[{"FockCat", "[", 
       RowBox[{"aa", "\[Rule]", 
        RowBox[{"{", 
         RowBox[{"#1", ",", "#2"}], "}"}]}], "]"}], "&"}], ",", 
     RowBox[{"{", 
      RowBox[{"0", ",", "1", ",", "2"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"0", ",", "1", ",", "2"}], "}"}]}], 
    "]"}]}]}], "\[IndentingNewLine]", 
 RowBox[{"uu", "=", 
  RowBox[{"FockKet", "[", "vv", "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"HH", "=", 
  RowBox[{"PlusDagger", "[", 
   RowBox[{"Hop", "@@", 
    RowBox[{"a", "[", 
     RowBox[{"{", 
      RowBox[{"1", ",", "2"}], "}"}], "]"}]}], "]"}]}]}], "Input",
 CellLabel->"In[3]:=",
 CellID->1206877450],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   TemplateBox[{"\"\[SpaceIndicator]\""},
    "Ket"], ",", 
   TagBox[
    RowBox[{
     TagBox[
      TagBox[
       TemplateBox[{
         TemplateBox[{"a"}, "RowDefault"], 
         TemplateBox[{"2"}, "RowDefault"], 
         TemplateBox[{"\"\[Dagger]\""}, "RowDefault"]},
        "Subsuperscript"],
       DisplayForm],
      DisplayForm], 
     TagBox[
      TemplateBox[{"\"\[SpaceIndicator]\""},
       "Ket"],
      DisplayForm]}],
    DisplayForm], ",", 
   FractionBox[
    TagBox[
     RowBox[{
      TagBox[
       TagBox[
        TemplateBox[{
          TemplateBox[{"a"}, "RowDefault"], 
          TemplateBox[{"2"}, "RowDefault"], 
          TemplateBox[{"\"\[Dagger]\""}, "RowDefault"]},
         "Subsuperscript"],
        DisplayForm],
       DisplayForm], 
      TagBox[
       TagBox[
        TemplateBox[{
          TemplateBox[{"a"}, "RowDefault"], 
          TemplateBox[{"2"}, "RowDefault"], 
          TemplateBox[{"\"\[Dagger]\""}, "RowDefault"]},
         "Subsuperscript"],
        DisplayForm],
       DisplayForm], 
      TagBox[
       TemplateBox[{"\"\[SpaceIndicator]\""},
        "Ket"],
       DisplayForm]}],
     DisplayForm], 
    SqrtBox["2"]], ",", 
   TagBox[
    RowBox[{
     TagBox[
      TagBox[
       TemplateBox[{
         TemplateBox[{"a"}, "RowDefault"], 
         TemplateBox[{"1"}, "RowDefault"], 
         TemplateBox[{"\"\[Dagger]\""}, "RowDefault"]},
        "Subsuperscript"],
       DisplayForm],
      DisplayForm], 
     TagBox[
      TemplateBox[{"\"\[SpaceIndicator]\""},
       "Ket"],
      DisplayForm]}],
    DisplayForm], ",", 
   TagBox[
    RowBox[{
     TagBox[
      TagBox[
       TemplateBox[{
         TemplateBox[{"a"}, "RowDefault"], 
         TemplateBox[{"1"}, "RowDefault"], 
         TemplateBox[{"\"\[Dagger]\""}, "RowDefault"]},
        "Subsuperscript"],
       DisplayForm],
      DisplayForm], 
     TagBox[
      TagBox[
       TemplateBox[{
         TemplateBox[{"a"}, "RowDefault"], 
         TemplateBox[{"2"}, "RowDefault"], 
         TemplateBox[{"\"\[Dagger]\""}, "RowDefault"]},
        "Subsuperscript"],
       DisplayForm],
      DisplayForm], 
     TagBox[
      TemplateBox[{"\"\[SpaceIndicator]\""},
       "Ket"],
      DisplayForm]}],
    DisplayForm], ",", 
   FractionBox[
    TagBox[
     RowBox[{
      TagBox[
       TagBox[
        TemplateBox[{
          TemplateBox[{"a"}, "RowDefault"], 
          TemplateBox[{"1"}, "RowDefault"], 
          TemplateBox[{"\"\[Dagger]\""}, "RowDefault"]},
         "Subsuperscript"],
        DisplayForm],
       DisplayForm], 
      TagBox[
       TagBox[
        TemplateBox[{
          TemplateBox[{"a"}, "RowDefault"], 
          TemplateBox[{"2"}, "RowDefault"], 
          TemplateBox[{"\"\[Dagger]\""}, "RowDefault"]},
         "Subsuperscript"],
        DisplayForm],
       DisplayForm], 
      TagBox[
       TagBox[
        TemplateBox[{
          TemplateBox[{"a"}, "RowDefault"], 
          TemplateBox[{"2"}, "RowDefault"], 
          TemplateBox[{"\"\[Dagger]\""}, "RowDefault"]},
         "Subsuperscript"],
        DisplayForm],
       DisplayForm], 
      TagBox[
       TemplateBox[{"\"\[SpaceIndicator]\""},
        "Ket"],
       DisplayForm]}],
     DisplayForm], 
    SqrtBox["2"]], ",", 
   FractionBox[
    TagBox[
     RowBox[{
      TagBox[
       TagBox[
        TemplateBox[{
          TemplateBox[{"a"}, "RowDefault"], 
          TemplateBox[{"1"}, "RowDefault"], 
          TemplateBox[{"\"\[Dagger]\""}, "RowDefault"]},
         "Subsuperscript"],
        DisplayForm],
       DisplayForm], 
      TagBox[
       TagBox[
        TemplateBox[{
          TemplateBox[{"a"}, "RowDefault"], 
          TemplateBox[{"1"}, "RowDefault"], 
          TemplateBox[{"\"\[Dagger]\""}, "RowDefault"]},
         "Subsuperscript"],
        DisplayForm],
       DisplayForm], 
      TagBox[
       TemplateBox[{"\"\[SpaceIndicator]\""},
        "Ket"],
       DisplayForm]}],
     DisplayForm], 
    SqrtBox["2"]], ",", 
   FractionBox[
    TagBox[
     RowBox[{
      TagBox[
       TagBox[
        TemplateBox[{
          TemplateBox[{"a"}, "RowDefault"], 
          TemplateBox[{"1"}, "RowDefault"], 
          TemplateBox[{"\"\[Dagger]\""}, "RowDefault"]},
         "Subsuperscript"],
        DisplayForm],
       DisplayForm], 
      TagBox[
       TagBox[
        TemplateBox[{
          TemplateBox[{"a"}, "RowDefault"], 
          TemplateBox[{"1"}, "RowDefault"], 
          TemplateBox[{"\"\[Dagger]\""}, "RowDefault"]},
         "Subsuperscript"],
        DisplayForm],
       DisplayForm], 
      TagBox[
       TagBox[
        TemplateBox[{
          TemplateBox[{"a"}, "RowDefault"], 
          TemplateBox[{"2"}, "RowDefault"], 
          TemplateBox[{"\"\[Dagger]\""}, "RowDefault"]},
         "Subsuperscript"],
        DisplayForm],
       DisplayForm], 
      TagBox[
       TemplateBox[{"\"\[SpaceIndicator]\""},
        "Ket"],
       DisplayForm]}],
     DisplayForm], 
    SqrtBox["2"]], ",", 
   RowBox[{
    FractionBox["1", "2"], " ", 
    TagBox[
     RowBox[{
      TagBox[
       TagBox[
        TemplateBox[{
          TemplateBox[{"a"}, "RowDefault"], 
          TemplateBox[{"1"}, "RowDefault"], 
          TemplateBox[{"\"\[Dagger]\""}, "RowDefault"]},
         "Subsuperscript"],
        DisplayForm],
       DisplayForm], 
      TagBox[
       TagBox[
        TemplateBox[{
          TemplateBox[{"a"}, "RowDefault"], 
          TemplateBox[{"1"}, "RowDefault"], 
          TemplateBox[{"\"\[Dagger]\""}, "RowDefault"]},
         "Subsuperscript"],
        DisplayForm],
       DisplayForm], 
      TagBox[
       TagBox[
        TemplateBox[{
          TemplateBox[{"a"}, "RowDefault"], 
          TemplateBox[{"2"}, "RowDefault"], 
          TemplateBox[{"\"\[Dagger]\""}, "RowDefault"]},
         "Subsuperscript"],
        DisplayForm],
       DisplayForm], 
      TagBox[
       TagBox[
        TemplateBox[{
          TemplateBox[{"a"}, "RowDefault"], 
          TemplateBox[{"2"}, "RowDefault"], 
          TemplateBox[{"\"\[Dagger]\""}, "RowDefault"]},
         "Subsuperscript"],
        DisplayForm],
       DisplayForm], 
      TagBox[
       TemplateBox[{"\"\[SpaceIndicator]\""},
        "Ket"],
       DisplayForm]}],
     DisplayForm]}]}], "}"}]], "Output",
 CellLabel->"Out[3]=",
 CellID->585625896],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   TemplateBox[{"\"\[SpaceIndicator]\""},
    "Ket"], ",", 
   TemplateBox[{
     TagBox[
      TemplateBox[{
        SubscriptBox["1", 
         SubscriptBox[
          TemplateBox[{"a"}, "RowDefault"], 
          TemplateBox[{"2"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
    "Ket"], ",", 
   TemplateBox[{
     TagBox[
      TemplateBox[{
        SubscriptBox["2", 
         SubscriptBox[
          TemplateBox[{"a"}, "RowDefault"], 
          TemplateBox[{"2"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
    "Ket"], ",", 
   TemplateBox[{
     TagBox[
      TemplateBox[{
        SubscriptBox["1", 
         SubscriptBox[
          TemplateBox[{"a"}, "RowDefault"], 
          TemplateBox[{"1"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
    "Ket"], ",", 
   TemplateBox[{
     TagBox[
      TemplateBox[{
        SubscriptBox["1", 
         SubscriptBox[
          TemplateBox[{"a"}, "RowDefault"], 
          TemplateBox[{"1"}, "RowDefault"]]], 
        SubscriptBox["1", 
         SubscriptBox[
          TemplateBox[{"a"}, "RowDefault"], 
          TemplateBox[{"2"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
    "Ket"], ",", 
   TemplateBox[{
     TagBox[
      TemplateBox[{
        SubscriptBox["1", 
         SubscriptBox[
          TemplateBox[{"a"}, "RowDefault"], 
          TemplateBox[{"1"}, "RowDefault"]]], 
        SubscriptBox["2", 
         SubscriptBox[
          TemplateBox[{"a"}, "RowDefault"], 
          TemplateBox[{"2"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
    "Ket"], ",", 
   TemplateBox[{
     TagBox[
      TemplateBox[{
        SubscriptBox["2", 
         SubscriptBox[
          TemplateBox[{"a"}, "RowDefault"], 
          TemplateBox[{"1"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
    "Ket"], ",", 
   TemplateBox[{
     TagBox[
      TemplateBox[{
        SubscriptBox["2", 
         SubscriptBox[
          TemplateBox[{"a"}, "RowDefault"], 
          TemplateBox[{"1"}, "RowDefault"]]], 
        SubscriptBox["1", 
         SubscriptBox[
          TemplateBox[{"a"}, "RowDefault"], 
          TemplateBox[{"2"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
    "Ket"], ",", 
   TemplateBox[{
     TagBox[
      TemplateBox[{
        SubscriptBox["2", 
         SubscriptBox[
          TemplateBox[{"a"}, "RowDefault"], 
          TemplateBox[{"1"}, "RowDefault"]]], 
        SubscriptBox["2", 
         SubscriptBox[
          TemplateBox[{"a"}, "RowDefault"], 
          TemplateBox[{"2"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
    "Ket"]}], "}"}]], "Output",
 CellLabel->"Out[3]=",
 CellID->696879871],

Cell[BoxData[
 RowBox[{
  TagBox[
   RowBox[{
    TagBox[
     TagBox[
      TemplateBox[{
        TemplateBox[{"a"}, "RowDefault"], 
        TemplateBox[{"1"}, "RowDefault"], 
        TemplateBox[{"\"\[Dagger]\""}, "RowDefault"]},
       "Subsuperscript"],
      DisplayForm],
     DisplayForm], 
    TagBox[
     SubscriptBox[
      TemplateBox[{"a"},
       "RowDefault"], 
      TemplateBox[{"2"},
       "RowDefault"]],
     DisplayForm]}],
   DisplayForm], "+", 
  TagBox[
   RowBox[{
    TagBox[
     TagBox[
      TemplateBox[{
        TemplateBox[{"a"}, "RowDefault"], 
        TemplateBox[{"2"}, "RowDefault"], 
        TemplateBox[{"\"\[Dagger]\""}, "RowDefault"]},
       "Subsuperscript"],
      DisplayForm],
     DisplayForm], 
    TagBox[
     SubscriptBox[
      TemplateBox[{"a"},
       "RowDefault"], 
      TemplateBox[{"1"},
       "RowDefault"]],
     DisplayForm]}],
   DisplayForm]}]], "Output",
 CellLabel->"Out[3]=",
 CellID->84181159]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"M1", "=", 
   RowBox[{"FockMatrix", "[", 
    RowBox[{"HH", ",", "vv"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"M1", "//", "MatrixForm"}]}], "Input",
 CellLabel->"In[4]:=",
 CellID->1412906953],

Cell[BoxData[
 TagBox[
  RowBox[{"(", "\[NoBreak]", GridBox[{
     {"0", "0", "0", "0", "0", "0", "0", "0", "0"},
     {"0", "0", "0", "1", "0", "0", "0", "0", "0"},
     {"0", "0", "0", "0", 
      SqrtBox["2"], "0", "0", "0", "0"},
     {"0", "1", "0", "0", "0", "0", "0", "0", "0"},
     {"0", "0", 
      SqrtBox["2"], "0", "0", "0", 
      SqrtBox["2"], "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "2", "0"},
     {"0", "0", "0", "0", 
      SqrtBox["2"], "0", "0", "0", "0"},
     {"0", "0", "0", "0", "0", "2", "0", "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0"}
    },
    GridBoxAlignment->{"Columns" -> {{Center}}, "Rows" -> {{Baseline}}},
    GridBoxSpacings->{"Columns" -> {
        Offset[0.27999999999999997`], {
         Offset[0.7]}, 
        Offset[0.27999999999999997`]}, "Rows" -> {
        Offset[0.2], {
         Offset[0.4]}, 
        Offset[0.2]}}], "\[NoBreak]", ")"}],
  Function[BoxForm`e$, 
   MatrixForm[BoxForm`e$]]]], "Output",
 CellLabel->"Out[4]//MatrixForm=",
 CellID->1122241809]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"M2", "=", 
   RowBox[{"FockMatrix", "[", 
    RowBox[{"HH", ",", "uu"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"M2", "//", "MatrixForm"}], "\[IndentingNewLine]"}], "Input",
 CellLabel->"In[5]:=",
 CellID->965767512],

Cell[BoxData[
 TagBox[
  RowBox[{"(", "\[NoBreak]", GridBox[{
     {"0", "0", "0", "0", "0", "0", "0", "0", "0"},
     {"0", "0", "0", "1", "0", "0", "0", "0", "0"},
     {"0", "0", "0", "0", 
      SqrtBox["2"], "0", "0", "0", "0"},
     {"0", "1", "0", "0", "0", "0", "0", "0", "0"},
     {"0", "0", 
      SqrtBox["2"], "0", "0", "0", 
      SqrtBox["2"], "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "2", "0"},
     {"0", "0", "0", "0", 
      SqrtBox["2"], "0", "0", "0", "0"},
     {"0", "0", "0", "0", "0", "2", "0", "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0"}
    },
    GridBoxAlignment->{"Columns" -> {{Center}}, "Rows" -> {{Baseline}}},
    GridBoxSpacings->{"Columns" -> {
        Offset[0.27999999999999997`], {
         Offset[0.7]}, 
        Offset[0.27999999999999997`]}, "Rows" -> {
        Offset[0.2], {
         Offset[0.4]}, 
        Offset[0.2]}}], "\[NoBreak]", ")"}],
  Function[BoxForm`e$, 
   MatrixForm[BoxForm`e$]]]], "Output",
 CellLabel->"Out[5]//MatrixForm=",
 CellID->621407174]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"M3", "=", 
   RowBox[{"FockMatrix", "[", 
    RowBox[{"HH", ",", "uu", ",", "vv"}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{"M2", "//", "MatrixForm"}], "\[IndentingNewLine]"}], "Input",
 CellLabel->"In[6]:=",
 CellID->835389954],

Cell[BoxData[
 TagBox[
  RowBox[{"(", "\[NoBreak]", GridBox[{
     {"0", "0", "0", "0", "0", "0", "0", "0", "0"},
     {"0", "0", "0", "1", "0", "0", "0", "0", "0"},
     {"0", "0", "0", "0", 
      SqrtBox["2"], "0", "0", "0", "0"},
     {"0", "1", "0", "0", "0", "0", "0", "0", "0"},
     {"0", "0", 
      SqrtBox["2"], "0", "0", "0", 
      SqrtBox["2"], "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "2", "0"},
     {"0", "0", "0", "0", 
      SqrtBox["2"], "0", "0", "0", "0"},
     {"0", "0", "0", "0", "0", "2", "0", "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0"}
    },
    GridBoxAlignment->{"Columns" -> {{Center}}, "Rows" -> {{Baseline}}},
    GridBoxSpacings->{"Columns" -> {
        Offset[0.27999999999999997`], {
         Offset[0.7]}, 
        Offset[0.27999999999999997`]}, "Rows" -> {
        Offset[0.2], {
         Offset[0.4]}, 
        Offset[0.2]}}], "\[NoBreak]", ")"}],
  Function[BoxForm`e$, 
   MatrixForm[BoxForm`e$]]]], "Output",
 CellLabel->"Out[6]//MatrixForm=",
 CellID->859172019]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"M3", "=", 
   RowBox[{"FockMatrix", "[", 
    RowBox[{"HH", ",", "vv", ",", "uu"}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{"M2", "//", "MatrixForm"}]}], "Input",
 CellLabel->"In[7]:=",
 CellID->1688311684],

Cell[BoxData[
 TagBox[
  RowBox[{"(", "\[NoBreak]", GridBox[{
     {"0", "0", "0", "0", "0", "0", "0", "0", "0"},
     {"0", "0", "0", "1", "0", "0", "0", "0", "0"},
     {"0", "0", "0", "0", 
      SqrtBox["2"], "0", "0", "0", "0"},
     {"0", "1", "0", "0", "0", "0", "0", "0", "0"},
     {"0", "0", 
      SqrtBox["2"], "0", "0", "0", 
      SqrtBox["2"], "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "2", "0"},
     {"0", "0", "0", "0", 
      SqrtBox["2"], "0", "0", "0", "0"},
     {"0", "0", "0", "0", "0", "2", "0", "0", "0"},
     {"0", "0", "0", "0", "0", "0", "0", "0", "0"}
    },
    GridBoxAlignment->{"Columns" -> {{Center}}, "Rows" -> {{Baseline}}},
    GridBoxSpacings->{"Columns" -> {
        Offset[0.27999999999999997`], {
         Offset[0.7]}, 
        Offset[0.27999999999999997`]}, "Rows" -> {
        Offset[0.2], {
         Offset[0.4]}, 
        Offset[0.2]}}], "\[NoBreak]", ")"}],
  Function[BoxForm`e$, 
   MatrixForm[BoxForm`e$]]]], "Output",
 CellLabel->"Out[7]//MatrixForm=",
 CellID->52539829]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell[TextData[{
 "Generalizations & Extensions",
 "\[NonBreakingSpace]\[NonBreakingSpace]",
 Cell["(1)", "ExampleCount"]
}], "ExampleSection", "ExampleSection",
 WholeCellGroupOpener->True,
 CellID->1020263627],

Cell[TextData[{
 Cell[BoxData["FockMatrix"], "InlineFormula"],
 " can take a special data structure returned by FermionBasis. The basis \
structure consists of the conserved quantum numbers and the basis spanning \
the subspace corresponding to the quantum numbers."
}], "ExampleText",
 CellID->15291577],

Cell[BoxData[
 RowBox[{"Let", "[", 
  RowBox[{"Fermion", ",", "c", ",", "d"}], "]"}]], "Input",
 CellLabel->"In[1]:=",
 CellID->1454980646],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"bs", "=", 
   RowBox[{"FermionBasis", "[", 
    RowBox[{
     RowBox[{"c", "[", "1", "]"}], ",", 
     RowBox[{"c", "[", "2", "]"}]}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"bs", "//", "PrintFermionBasis"}]}], "Input",
 CellLabel->"In[2]:=",
 CellID->463428933],

Cell[BoxData[
 TagBox[GridBox[{
    {
     RowBox[{"{", 
      RowBox[{"0", ",", "0"}], "}"}], 
     RowBox[{"{", 
      TemplateBox[{"\"\[SpaceIndicator]\""},
       "Ket"], "}"}]},
    {
     RowBox[{"{", 
      RowBox[{"1", ",", 
       FractionBox["1", "2"]}], "}"}], 
     RowBox[{"{", 
      RowBox[{
       TemplateBox[{
         TagBox[
          TemplateBox[{
            SubscriptBox["1", 
             SubscriptBox[
              TemplateBox[{"c"}, "RowDefault"], 
              TemplateBox[{"2", "\",\"", "\"\[UpArrow]\""}, "RowDefault"]]]}, 
           "RowDefault"], DisplayForm]},
        "Ket"], ",", 
       TemplateBox[{
         TagBox[
          TemplateBox[{
            SubscriptBox["1", 
             SubscriptBox[
              TemplateBox[{"c"}, "RowDefault"], 
              TemplateBox[{"1", "\",\"", "\"\[UpArrow]\""}, "RowDefault"]]]}, 
           "RowDefault"], DisplayForm]},
        "Ket"]}], "}"}]},
    {
     RowBox[{"{", 
      RowBox[{"2", ",", "0"}], "}"}], 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"-", 
        TemplateBox[{
          TagBox[
           TemplateBox[{
             SubscriptBox["1", 
              SubscriptBox[
               TemplateBox[{"c"}, "RowDefault"], 
               
               TemplateBox[{"1", "\",\"", "\"\[DownArrow]\""}, 
                "RowDefault"]]], 
             SubscriptBox["1", 
              SubscriptBox[
               TemplateBox[{"c"}, "RowDefault"], 
               TemplateBox[{"1", "\",\"", "\"\[UpArrow]\""}, "RowDefault"]]]},
             "RowDefault"], DisplayForm]},
         "Ket"]}], ",", 
       RowBox[{
        RowBox[{"-", 
         FractionBox[
          TemplateBox[{
            TagBox[
             TemplateBox[{
               SubscriptBox["1", 
                SubscriptBox[
                 TemplateBox[{"c"}, "RowDefault"], 
                 
                 TemplateBox[{"1", "\",\"", "\"\[DownArrow]\""}, 
                  "RowDefault"]]], 
               SubscriptBox["1", 
                SubscriptBox[
                 TemplateBox[{"c"}, "RowDefault"], 
                 
                 TemplateBox[{"2", "\",\"", "\"\[UpArrow]\""}, 
                  "RowDefault"]]]}, "RowDefault"], DisplayForm]},
           "Ket"], 
          SqrtBox["2"]]}], "+", 
        FractionBox[
         TemplateBox[{
           TagBox[
            TemplateBox[{
              SubscriptBox["1", 
               SubscriptBox[
                TemplateBox[{"c"}, "RowDefault"], 
                TemplateBox[{"1", "\",\"", "\"\[UpArrow]\""}, "RowDefault"]]], 
              SubscriptBox["1", 
               SubscriptBox[
                TemplateBox[{"c"}, "RowDefault"], 
                
                TemplateBox[{"2", "\",\"", "\"\[DownArrow]\""}, 
                 "RowDefault"]]]}, "RowDefault"], DisplayForm]},
          "Ket"], 
         SqrtBox["2"]]}], ",", 
       RowBox[{"-", 
        TemplateBox[{
          TagBox[
           TemplateBox[{
             SubscriptBox["1", 
              SubscriptBox[
               TemplateBox[{"c"}, "RowDefault"], 
               
               TemplateBox[{"2", "\",\"", "\"\[DownArrow]\""}, 
                "RowDefault"]]], 
             SubscriptBox["1", 
              SubscriptBox[
               TemplateBox[{"c"}, "RowDefault"], 
               TemplateBox[{"2", "\",\"", "\"\[UpArrow]\""}, "RowDefault"]]]},
             "RowDefault"], DisplayForm]},
         "Ket"]}]}], "}"}]},
    {
     RowBox[{"{", 
      RowBox[{"2", ",", "1"}], "}"}], 
     RowBox[{"{", 
      TemplateBox[{
        TagBox[
         TemplateBox[{
           SubscriptBox["1", 
            SubscriptBox[
             TemplateBox[{"c"}, "RowDefault"], 
             TemplateBox[{"1", "\",\"", "\"\[UpArrow]\""}, "RowDefault"]]], 
           SubscriptBox["1", 
            SubscriptBox[
             TemplateBox[{"c"}, "RowDefault"], 
             TemplateBox[{"2", "\",\"", "\"\[UpArrow]\""}, "RowDefault"]]]}, 
          "RowDefault"], DisplayForm]},
       "Ket"], "}"}]},
    {
     RowBox[{"{", 
      RowBox[{"3", ",", 
       FractionBox["1", "2"]}], "}"}], 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"-", 
        TemplateBox[{
          TagBox[
           TemplateBox[{
             SubscriptBox["1", 
              SubscriptBox[
               TemplateBox[{"c"}, "RowDefault"], 
               
               TemplateBox[{"1", "\",\"", "\"\[DownArrow]\""}, 
                "RowDefault"]]], 
             SubscriptBox["1", 
              SubscriptBox[
               TemplateBox[{"c"}, "RowDefault"], 
               TemplateBox[{"1", "\",\"", "\"\[UpArrow]\""}, "RowDefault"]]], 
             
             SubscriptBox["1", 
              SubscriptBox[
               TemplateBox[{"c"}, "RowDefault"], 
               TemplateBox[{"2", "\",\"", "\"\[UpArrow]\""}, "RowDefault"]]]},
             "RowDefault"], DisplayForm]},
         "Ket"]}], ",", 
       TemplateBox[{
         TagBox[
          TemplateBox[{
            SubscriptBox["1", 
             SubscriptBox[
              TemplateBox[{"c"}, "RowDefault"], 
              TemplateBox[{"1", "\",\"", "\"\[UpArrow]\""}, "RowDefault"]]], 
            SubscriptBox["1", 
             SubscriptBox[
              TemplateBox[{"c"}, "RowDefault"], 
              TemplateBox[{"2", "\",\"", "\"\[DownArrow]\""}, "RowDefault"]]], 
            SubscriptBox["1", 
             SubscriptBox[
              TemplateBox[{"c"}, "RowDefault"], 
              TemplateBox[{"2", "\",\"", "\"\[UpArrow]\""}, "RowDefault"]]]}, 
           "RowDefault"], DisplayForm]},
        "Ket"]}], "}"}]},
    {
     RowBox[{"{", 
      RowBox[{"4", ",", "0"}], "}"}], 
     RowBox[{"{", 
      TemplateBox[{
        TagBox[
         TemplateBox[{
           SubscriptBox["1", 
            SubscriptBox[
             TemplateBox[{"c"}, "RowDefault"], 
             TemplateBox[{"1", "\",\"", "\"\[DownArrow]\""}, "RowDefault"]]], 
           
           SubscriptBox["1", 
            SubscriptBox[
             TemplateBox[{"c"}, "RowDefault"], 
             TemplateBox[{"1", "\",\"", "\"\[UpArrow]\""}, "RowDefault"]]], 
           SubscriptBox["1", 
            SubscriptBox[
             TemplateBox[{"c"}, "RowDefault"], 
             TemplateBox[{"2", "\",\"", "\"\[DownArrow]\""}, "RowDefault"]]], 
           
           SubscriptBox["1", 
            SubscriptBox[
             TemplateBox[{"c"}, "RowDefault"], 
             TemplateBox[{"2", "\",\"", "\"\[UpArrow]\""}, "RowDefault"]]]}, 
          "RowDefault"], DisplayForm]},
       "Ket"], "}"}]}
   },
   AutoDelete->False,
   GridBoxAlignment->{"Columns" -> {Center, {Left}}, "Rows" -> {{Center}}},
   GridBoxDividers->{"Rows" -> {True, {
        Dashing[{Small, Small}]}, True}},
   GridBoxFrame->{"Columns" -> False, "Rows" -> False},
   GridBoxItemSize->{"Columns" -> {{Automatic}}, "Rows" -> {{Automatic}}}],
  "Grid"]], "Output",
 CellLabel->"Out[2]=",
 CellID->1520228460]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{"HH", "=", 
  RowBox[{"PlusDagger", "[", " ", 
   RowBox[{"Hop", "@@", 
    RowBox[{"{", 
     RowBox[{
      RowBox[{"c", "[", 
       RowBox[{"1", ",", "All"}], "]"}], ",", 
      RowBox[{"c", "[", 
       RowBox[{"2", ",", "All"}], "]"}]}], "}"}]}], " ", 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"MM", "=", 
  RowBox[{"FockMatrix", "[", 
   RowBox[{"HH", ",", "bs"}], "]"}]}]}], "Input",
 CellLabel->"In[3]:=",
 CellID->1735956165],

Cell[BoxData[
 RowBox[{
  TagBox[
   RowBox[{
    TagBox[
     TemplateBox[{
       TemplateBox[{"c"}, "RowDefault"], 
       TemplateBox[{"1", "\",\"", "\"\[DownArrow]\""}, "RowDefault"], 
       TemplateBox[{"\"\[Dagger]\""}, "RowDefault"]},
      "Subsuperscript"],
     DisplayForm], 
    TagBox[
     SubscriptBox[
      TemplateBox[{"c"},
       "RowDefault"], 
      TemplateBox[{"2", "\",\"", "\"\[DownArrow]\""},
       "RowDefault"]],
     DisplayForm]}],
   DisplayForm], "+", 
  TagBox[
   RowBox[{
    TagBox[
     TemplateBox[{
       TemplateBox[{"c"}, "RowDefault"], 
       TemplateBox[{"1", "\",\"", "\"\[DownArrow]\""}, "RowDefault"], 
       TemplateBox[{"\"\[Dagger]\""}, "RowDefault"]},
      "Subsuperscript"],
     DisplayForm], 
    TagBox[
     SubscriptBox[
      TemplateBox[{"c"},
       "RowDefault"], 
      TemplateBox[{"2", "\",\"", "\"\[UpArrow]\""},
       "RowDefault"]],
     DisplayForm]}],
   DisplayForm], "+", 
  TagBox[
   RowBox[{
    TagBox[
     TemplateBox[{
       TemplateBox[{"c"}, "RowDefault"], 
       TemplateBox[{"1", "\",\"", "\"\[UpArrow]\""}, "RowDefault"], 
       TemplateBox[{"\"\[Dagger]\""}, "RowDefault"]},
      "Subsuperscript"],
     DisplayForm], 
    TagBox[
     SubscriptBox[
      TemplateBox[{"c"},
       "RowDefault"], 
      TemplateBox[{"2", "\",\"", "\"\[DownArrow]\""},
       "RowDefault"]],
     DisplayForm]}],
   DisplayForm], "+", 
  TagBox[
   RowBox[{
    TagBox[
     TemplateBox[{
       TemplateBox[{"c"}, "RowDefault"], 
       TemplateBox[{"1", "\",\"", "\"\[UpArrow]\""}, "RowDefault"], 
       TemplateBox[{"\"\[Dagger]\""}, "RowDefault"]},
      "Subsuperscript"],
     DisplayForm], 
    TagBox[
     SubscriptBox[
      TemplateBox[{"c"},
       "RowDefault"], 
      TemplateBox[{"2", "\",\"", "\"\[UpArrow]\""},
       "RowDefault"]],
     DisplayForm]}],
   DisplayForm], "+", 
  TagBox[
   RowBox[{
    TagBox[
     TemplateBox[{
       TemplateBox[{"c"}, "RowDefault"], 
       TemplateBox[{"2", "\",\"", "\"\[DownArrow]\""}, "RowDefault"], 
       TemplateBox[{"\"\[Dagger]\""}, "RowDefault"]},
      "Subsuperscript"],
     DisplayForm], 
    TagBox[
     SubscriptBox[
      TemplateBox[{"c"},
       "RowDefault"], 
      TemplateBox[{"1", "\",\"", "\"\[DownArrow]\""},
       "RowDefault"]],
     DisplayForm]}],
   DisplayForm], "+", 
  TagBox[
   RowBox[{
    TagBox[
     TemplateBox[{
       TemplateBox[{"c"}, "RowDefault"], 
       TemplateBox[{"2", "\",\"", "\"\[DownArrow]\""}, "RowDefault"], 
       TemplateBox[{"\"\[Dagger]\""}, "RowDefault"]},
      "Subsuperscript"],
     DisplayForm], 
    TagBox[
     SubscriptBox[
      TemplateBox[{"c"},
       "RowDefault"], 
      TemplateBox[{"1", "\",\"", "\"\[UpArrow]\""},
       "RowDefault"]],
     DisplayForm]}],
   DisplayForm], "+", 
  TagBox[
   RowBox[{
    TagBox[
     TemplateBox[{
       TemplateBox[{"c"}, "RowDefault"], 
       TemplateBox[{"2", "\",\"", "\"\[UpArrow]\""}, "RowDefault"], 
       TemplateBox[{"\"\[Dagger]\""}, "RowDefault"]},
      "Subsuperscript"],
     DisplayForm], 
    TagBox[
     SubscriptBox[
      TemplateBox[{"c"},
       "RowDefault"], 
      TemplateBox[{"1", "\",\"", "\"\[DownArrow]\""},
       "RowDefault"]],
     DisplayForm]}],
   DisplayForm], "+", 
  TagBox[
   RowBox[{
    TagBox[
     TemplateBox[{
       TemplateBox[{"c"}, "RowDefault"], 
       TemplateBox[{"2", "\",\"", "\"\[UpArrow]\""}, "RowDefault"], 
       TemplateBox[{"\"\[Dagger]\""}, "RowDefault"]},
      "Subsuperscript"],
     DisplayForm], 
    TagBox[
     SubscriptBox[
      TemplateBox[{"c"},
       "RowDefault"], 
      TemplateBox[{"1", "\",\"", "\"\[UpArrow]\""},
       "RowDefault"]],
     DisplayForm]}],
   DisplayForm]}]], "Output",
 CellLabel->"Out[3]=",
 CellID->424154902],

Cell[BoxData[
 RowBox[{"\[LeftAssociation]", 
  RowBox[{
   RowBox[{
    RowBox[{"{", 
     RowBox[{"0", ",", "0"}], "}"}], "\[Rule]", 
    RowBox[{"{", 
     RowBox[{"{", "0", "}"}], "}"}]}], ",", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"1", ",", 
      FractionBox["1", "2"]}], "}"}], "\[Rule]", 
    RowBox[{"{", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{"0", ",", "1"}], "}"}], ",", 
      RowBox[{"{", 
       RowBox[{"1", ",", "0"}], "}"}]}], "}"}]}], ",", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"2", ",", "0"}], "}"}], "\[Rule]", 
    RowBox[{"{", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{"0", ",", 
        SqrtBox["2"], ",", "0"}], "}"}], ",", 
      RowBox[{"{", 
       RowBox[{
        SqrtBox["2"], ",", "0", ",", 
        SqrtBox["2"]}], "}"}], ",", 
      RowBox[{"{", 
       RowBox[{"0", ",", 
        SqrtBox["2"], ",", "0"}], "}"}]}], "}"}]}], ",", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"2", ",", "1"}], "}"}], "\[Rule]", 
    RowBox[{"{", 
     RowBox[{"{", "0", "}"}], "}"}]}], ",", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"3", ",", 
      FractionBox["1", "2"]}], "}"}], "\[Rule]", 
    RowBox[{"{", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{"0", ",", "1"}], "}"}], ",", 
      RowBox[{"{", 
       RowBox[{"1", ",", "0"}], "}"}]}], "}"}]}], ",", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"4", ",", "0"}], "}"}], "\[Rule]", 
    RowBox[{"{", 
     RowBox[{"{", "0", "}"}], "}"}]}]}], "\[RightAssociation]"}]], "Output",
 CellLabel->"Out[3]=",
 CellID->1273213521]
}, Open  ]],

Cell["\<\
In this case, the output has a special data structure. It is convenient to \
use FockMatrixForm to display the particular data structure.\
\>", "ExampleText",
 CellID->797316146],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"MM", "//", "FockMatrixForm"}]], "Input",
 CellLabel->"In[4]:=",
 CellID->194508542],

Cell[BoxData[
 TagBox[GridBox[{
    {"\<\"\"\>", 
     RowBox[{"{", 
      RowBox[{"0", ",", "0"}], "}"}], 
     RowBox[{"{", 
      RowBox[{"1", ",", 
       FractionBox["1", "2"]}], "}"}], "\[SpanFromLeft]", 
     RowBox[{"{", 
      RowBox[{"2", ",", "0"}], "}"}], "\[SpanFromLeft]", "\[SpanFromLeft]", 
     RowBox[{"{", 
      RowBox[{"2", ",", "1"}], "}"}], 
     RowBox[{"{", 
      RowBox[{"3", ",", 
       FractionBox["1", "2"]}], "}"}], "\[SpanFromLeft]", 
     RowBox[{"{", 
      RowBox[{"4", ",", "0"}], "}"}]},
    {
     RowBox[{"{", 
      RowBox[{"0", ",", "0"}], "}"}], "0", "0", "0", "0", "0", "0", "0", "0", 
     "0", "0"},
    {
     RowBox[{"{", 
      RowBox[{"1", ",", 
       FractionBox["1", "2"]}], "}"}], "0", "0", "1", "0", "0", "0", "0", "0",
      "0", "0"},
    {"\[SpanFromAbove]", "0", "1", "0", "0", "0", "0", "0", "0", "0", "0"},
    {
     RowBox[{"{", 
      RowBox[{"2", ",", "0"}], "}"}], "0", "0", "0", "0", 
     SqrtBox["2"], "0", "0", "0", "0", "0"},
    {"\[SpanFromAbove]", "0", "0", "0", 
     SqrtBox["2"], "0", 
     SqrtBox["2"], "0", "0", "0", "0"},
    {"\[SpanFromAbove]", "0", "0", "0", "0", 
     SqrtBox["2"], "0", "0", "0", "0", "0"},
    {
     RowBox[{"{", 
      RowBox[{"2", ",", "1"}], "}"}], "0", "0", "0", "0", "0", "0", "0", "0", 
     "0", "0"},
    {
     RowBox[{"{", 
      RowBox[{"3", ",", 
       FractionBox["1", "2"]}], "}"}], "0", "0", "0", "0", "0", "0", "0", "0",
      "1", "0"},
    {"\[SpanFromAbove]", "0", "0", "0", "0", "0", "0", "0", "1", "0", "0"},
    {
     RowBox[{"{", 
      RowBox[{"4", ",", "0"}], "}"}], "0", "0", "0", "0", "0", "0", "0", "0", 
     "0", "0"}
   },
   AutoDelete->False,
   GridBoxAlignment->{"Columns" -> {{Center}}},
   GridBoxDividers->{
    "ColumnsIndexed" -> {
      2 -> True, 3 -> Dashing[{Small, Small}], 5 -> Dashing[{Small, Small}], 
       8 -> Dashing[{Small, Small}], 9 -> Dashing[{Small, Small}], 11 -> 
       Dashing[{Small, Small}]}, 
     "RowsIndexed" -> {
      2 -> True, 3 -> Dashing[{Small, Small}], 5 -> Dashing[{Small, Small}], 
       8 -> Dashing[{Small, Small}], 9 -> Dashing[{Small, Small}], 11 -> 
       Dashing[{Small, Small}]}},
   GridBoxFrame->{"ColumnsIndexed" -> {{{1, -1}, {1, -1}} -> True}},
   GridBoxItemSize->{"Columns" -> {{Automatic}}, "Rows" -> {{Automatic}}}],
  "Grid"]], "Output",
 CellLabel->"Out[4]=",
 CellID->841123830]
}, Open  ]],

Cell[TextData[{
 "Above only diagonal blocks have been evaluated given that the Hamiltonian \
conserves Spin and Number. You can check if the off-diagonal blocks indeed \
vanishes by setting the option ",
 StyleBox["\"DiagonalOnly\"->False", "Input"],
 "."
}], "ExampleText",
 CellID->836728677],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"M2", "=", 
   RowBox[{"FockMatrix", "[", 
    RowBox[{"HH", ",", "bs", ",", 
     RowBox[{"\"\<DiagonalOnly\>\"", "\[Rule]", "False"}]}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{"M2", "//", "FockMatrixForm"}]}], "Input",
 CellLabel->"In[5]:=",
 CellID->1175953783],

Cell[BoxData[
 TagBox[GridBox[{
    {"\<\"\"\>", 
     RowBox[{"{", 
      RowBox[{"0", ",", "0"}], "}"}], 
     RowBox[{"{", 
      RowBox[{"1", ",", 
       FractionBox["1", "2"]}], "}"}], "\[SpanFromLeft]", 
     RowBox[{"{", 
      RowBox[{"2", ",", "0"}], "}"}], "\[SpanFromLeft]", "\[SpanFromLeft]", 
     RowBox[{"{", 
      RowBox[{"2", ",", "1"}], "}"}], 
     RowBox[{"{", 
      RowBox[{"3", ",", 
       FractionBox["1", "2"]}], "}"}], "\[SpanFromLeft]", 
     RowBox[{"{", 
      RowBox[{"4", ",", "0"}], "}"}]},
    {
     RowBox[{"{", 
      RowBox[{"0", ",", "0"}], "}"}], "0", "0", "0", "0", "0", "0", "0", "0", 
     "0", "0"},
    {
     RowBox[{"{", 
      RowBox[{"1", ",", 
       FractionBox["1", "2"]}], "}"}], "0", "0", "1", "0", "0", "0", "0", "0",
      "0", "0"},
    {"\[SpanFromAbove]", "0", "1", "0", "0", "0", "0", "0", "0", "0", "0"},
    {
     RowBox[{"{", 
      RowBox[{"2", ",", "0"}], "}"}], "0", "0", "0", "0", 
     SqrtBox["2"], "0", "1", "0", "0", "0"},
    {"\[SpanFromAbove]", "0", "0", "0", 
     SqrtBox["2"], "0", 
     SqrtBox["2"], "0", "0", "0", "0"},
    {"\[SpanFromAbove]", "0", "0", "0", "0", 
     SqrtBox["2"], "0", 
     RowBox[{"-", "1"}], "0", "0", "0"},
    {
     RowBox[{"{", 
      RowBox[{"2", ",", "1"}], "}"}], "0", "0", "0", "1", "0", 
     RowBox[{"-", "1"}], "0", "0", "0", "0"},
    {
     RowBox[{"{", 
      RowBox[{"3", ",", 
       FractionBox["1", "2"]}], "}"}], "0", "0", "0", "0", "0", "0", "0", "0",
      "1", "0"},
    {"\[SpanFromAbove]", "0", "0", "0", "0", "0", "0", "0", "1", "0", "0"},
    {
     RowBox[{"{", 
      RowBox[{"4", ",", "0"}], "}"}], "0", "0", "0", "0", "0", "0", "0", "0", 
     "0", "0"}
   },
   AutoDelete->False,
   GridBoxAlignment->{"Columns" -> {{Center}}},
   GridBoxDividers->{
    "ColumnsIndexed" -> {
      2 -> True, 3 -> Dashing[{Small, Small}], 5 -> Dashing[{Small, Small}], 
       8 -> Dashing[{Small, Small}], 9 -> Dashing[{Small, Small}], 11 -> 
       Dashing[{Small, Small}]}, 
     "RowsIndexed" -> {
      2 -> True, 3 -> Dashing[{Small, Small}], 5 -> Dashing[{Small, Small}], 
       8 -> Dashing[{Small, Small}], 9 -> Dashing[{Small, Small}], 11 -> 
       Dashing[{Small, Small}]}},
   GridBoxFrame->{"ColumnsIndexed" -> {{{1, -1}, {1, -1}} -> True}},
   GridBoxItemSize->{"Columns" -> {{Automatic}}, "Rows" -> {{Automatic}}}],
  "Grid"]], "Output",
 CellLabel->"Out[5]=",
 CellID->1828130523]
}, Open  ]]
}, Closed]],

Cell["", "SectionFooterSpacer"]
}, Open  ]],

Cell[CellGroupData[{

Cell[TextData[{
 Cell[BoxData[
  TemplateBox[{6},
   "Spacer1"]]],
 "See Also"
}], "SeeAlsoSection",
 WholeCellGroupOpener->True,
 CellID->1255426704],

Cell[TextData[{
 Cell[BoxData[
  TemplateBox[{
    Cell[
     TextData["Matrix"]], "paclet:Q3/ref/Matrix"},
   "RefLink",
   BaseStyle->{"InlineFormula", FontFamily -> "Verdana"}]], "InlineFormula"],
 "\[NonBreakingSpace]",
 StyleBox["\[MediumSpace]\[FilledVerySmallSquare]\[MediumSpace]", 
  "InlineSeparator"],
 " ",
 Cell[BoxData[
  TemplateBox[{
    Cell[
     TextData["FermionBasis"]], "paclet:Q3/ref/FermionBasis"},
   "RefLink",
   BaseStyle->{"InlineFormula", FontFamily -> "Verdana"}]], "InlineFormula"],
 "\[NonBreakingSpace]",
 StyleBox["\[MediumSpace]\[FilledVerySmallSquare]\[MediumSpace]", 
  "InlineSeparator"],
 " ",
 Cell[BoxData[
  TemplateBox[{
    Cell[
     TextData["FockMatrixForm"]], "paclet:Q3/ref/FockMatrixForm"},
   "RefLink",
   BaseStyle->{"InlineFormula", FontFamily -> "Verdana"}]], "InlineFormula"],
 "\[NonBreakingSpace]",
 StyleBox["\[MediumSpace]\[FilledVerySmallSquare]\[MediumSpace]", 
  "InlineSeparator"],
 " ",
 Cell[BoxData[
  TemplateBox[{
    Cell[
     TextData["PrintFermionBasis"]], "paclet:Q3/ref/PrintFermionBasis"},
   "RefLink",
   BaseStyle->{"InlineFormula", FontFamily -> "Verdana"}]], "InlineFormula"]
}], "SeeAlso",
 CellID->929782353],

Cell[BoxData[Cell[BoxData[
  TemplateBox[{
    Cell[
     TextData["Fock"]], "paclet:Q3/guide/FockPackageGuide"},
   "RefLink",
   BaseStyle->"MoreAbout"]], "InlineFormula"]], "MoreAbout",
 CellID->1665078683]
}, Open  ]],

Cell[" ", "FooterCell"]
},
Saveable->False,
ScreenStyleEnvironment->"Working",
WindowSize->{725, 750},
WindowMargins->{{0, Automatic}, {Automatic, 0}},
WindowTitle->"FockMatrix",
TaggingRules->{
 "ModificationHighlight" -> False, "ColorType" -> "SymbolColor", "LinkTrails" -> 
  GridBox[{{
      RowBox[{
        ButtonBox[
        "Q3 Application", ButtonData -> "paclet:Q3/guide/Q3", 
         BaseStyle -> {"Link", "DockedLinkTrail"}]}]}}, ColumnAlignments -> 
    Left], "HasOptions" -> False, "ExampleCounter" -> 1, "NeedPlatMsgIn" -> 
  None, "RootCaptions" -> "", 
  "Metadata" -> {
   "built" -> "{2021, 6, 30, 12, 32, 30.137995}", 
    "history" -> {"XX", "", "", ""}, "context" -> "Q3`", "keywords" -> {}, 
    "specialkeywords" -> {}, "tutorialcollectionlinks" -> {}, "index" -> True,
     "label" -> "Q3 Symbol", "language" -> "en", "paclet" -> "Q3", "status" -> 
    "None", "summary" -> 
    "FockMatrix[op, vlist] computes the matrix elements of the operator op \
between the vectors in the list vlist. Vectors in vlist can be either in the \
Ket or Cat form (the latter is slightly more efficient. FockMatrix[op, \
vlist1, vlist2] calculates the matrix elements between two vectors, one from \
vlist1 and the other from vlist2. FockMatrix[op, basis] calculates the matrix \
representation in the basis basis. The basis is a list with particular \
structure and can be constructed by FermionBasis.", "synonyms" -> {}, 
    "tabletags" -> {}, "title" -> "FockMatrix", "titlemodifier" -> "", 
    "windowtitle" -> "FockMatrix", "type" -> "Symbol", "uri" -> 
    "Q3/ref/FockMatrix", "WorkflowDockedCell" -> ""}, "SearchTextTranslated" -> 
  "", "NewStyles" -> False},
CellContext->"Global`",
FrontEndVersion->"12.3 for Mac OS X x86 (64-bit) (May 11, 2021)",
StyleDefinitions->Notebook[{
   Cell[
    StyleData[
    StyleDefinitions -> FrontEnd`FileName[{"Wolfram"}, "Reference.nb"]]], 
   Cell[
    StyleData["Input"], CellContext -> "Global`"], 
   Cell[
    StyleData["Output"], CellContext -> "Global`"]}, Visible -> False, 
  FrontEndVersion -> "12.3 for Mac OS X x86 (64-bit) (May 11, 2021)", 
  StyleDefinitions -> "Default.nb"]
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{
 "PrimaryExamplesSection"->{
  Cell[7746, 236, 268, 10, 70, "PrimaryExamplesSection",ExpressionUUID->"0344da86-e7be-4f2a-8a39-9cd0639df4de",
   CellTags->"PrimaryExamplesSection",
   CellID->2040715009]}
 }
*)
(*CellTagsIndex
CellTagsIndex->{
 {"PrimaryExamplesSection", 48566, 1607}
 }
*)
(*NotebookFileOutline
Notebook[{
Cell[582, 21, 3784, 94, 70, "AnchorBarGrid",ExpressionUUID->"605c6ece-34f5-4fd0-b69d-e511bf26d23c",
 CellID->1],
Cell[CellGroupData[{
Cell[4391, 119, 167, 6, 70, "ObjectNameGrid",ExpressionUUID->"06a25c6e-aa86-4093-83f3-de1d2a8c9cf0"],
Cell[4561, 127, 2129, 64, 70, "Usage",ExpressionUUID->"3a134346-6a06-4ff0-acaf-e6569a2667e4"]
}, Open  ]],
Cell[CellGroupData[{
Cell[6727, 196, 630, 19, 70, "NotesSection",ExpressionUUID->"f57674d3-06d8-4cce-bf1f-b428b8f9081c",
 CellGroupingRules->{"SectionGrouping", 50},
 CellID->1580036652],
Cell[7360, 217, 31, 0, 70, "SectionHeaderSpacer",ExpressionUUID->"bb2cbb91-ef0d-4d92-8c3a-24f0371303ee"],
Cell[7394, 219, 259, 10, 70, "Notes",ExpressionUUID->"82131811-702b-42a2-94b4-84b76fe305af",
 CellID->613871602],
Cell[7656, 231, 53, 0, 70, "Notes",ExpressionUUID->"0e523b4a-24bc-4936-baed-6657b9a4fd67"]
}, Closed]],
Cell[CellGroupData[{
Cell[7746, 236, 268, 10, 70, "PrimaryExamplesSection",ExpressionUUID->"0344da86-e7be-4f2a-8a39-9cd0639df4de",
 CellTags->"PrimaryExamplesSection",
 CellID->2040715009],
Cell[CellGroupData[{
Cell[8039, 250, 195, 6, 70, "ExampleSection",ExpressionUUID->"a6fe82f9-0edc-4337-ae22-281fc19eef00",
 CellID->835830026],
Cell[8237, 258, 90, 3, 70, "Input",ExpressionUUID->"8df3528e-c46e-400f-be2b-bf892290de73",
 CellID->666594043],
Cell[CellGroupData[{
Cell[8352, 265, 267, 8, 70, "Input",ExpressionUUID->"6fef0644-c87c-4678-acc9-c584e1728f16",
 CellID->1983840372],
Cell[8622, 275, 318, 14, 70, "Output",ExpressionUUID->"809dd66b-2a9c-49d1-9bd5-c72c8b853ac5",
 CellID->296279578]
}, Open  ]],
Cell[CellGroupData[{
Cell[8977, 294, 763, 24, 70, "Input",ExpressionUUID->"66945b98-3edc-41e1-a23b-e5767d87656b",
 CellID->1206877450],
Cell[9743, 320, 6350, 234, 70, "Output",ExpressionUUID->"bcfd93f4-1fc6-4334-92bd-61ddbac6da2e",
 CellID->585625896],
Cell[16096, 556, 2644, 86, 70, "Output",ExpressionUUID->"7a1ee3d1-77a2-4625-93f7-c0d5a1f9bc2a",
 CellID->696879871],
Cell[18743, 644, 962, 41, 70, "Output",ExpressionUUID->"5dfeffd6-92e5-40c3-b4a0-76a5c1e5390a",
 CellID->84181159]
}, Open  ]],
Cell[CellGroupData[{
Cell[19742, 690, 240, 7, 70, "Input",ExpressionUUID->"79c6b9ec-317d-46cf-8068-2fe199fa5f73",
 CellID->1412906953],
Cell[19985, 699, 1036, 28, 70, "Output",ExpressionUUID->"3f602275-6658-479f-90b6-00d835d5f2aa",
 CellID->1122241809]
}, Open  ]],
Cell[CellGroupData[{
Cell[21058, 732, 262, 7, 70, "Input",ExpressionUUID->"32925c2d-8014-42b7-8c86-923ff192aff0",
 CellID->965767512],
Cell[21323, 741, 1035, 28, 70, "Output",ExpressionUUID->"e5d73bf5-44e6-4991-ab00-f5392ca42c28",
 CellID->621407174]
}, Open  ]],
Cell[CellGroupData[{
Cell[22395, 774, 276, 8, 70, "Input",ExpressionUUID->"18a712bf-2f3b-4b34-a976-f7fd6c86c4f1",
 CellID->835389954],
Cell[22674, 784, 1035, 28, 70, "Output",ExpressionUUID->"0568dd2d-e8c2-4888-8aae-da58cf2517a7",
 CellID->859172019]
}, Open  ]],
Cell[CellGroupData[{
Cell[23746, 817, 254, 8, 70, "Input",ExpressionUUID->"1aa60cfa-82a5-43a7-a197-505c6038043a",
 CellID->1688311684],
Cell[24003, 827, 1034, 28, 70, "Output",ExpressionUUID->"4879b3b2-ab14-47c5-8ad7-e7f978b88598",
 CellID->52539829]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[25086, 861, 210, 6, 70, "ExampleSection",ExpressionUUID->"bb3f54bb-8866-4444-8437-faeac0672e05",
 CellID->1020263627],
Cell[25299, 869, 304, 6, 70, "ExampleText",ExpressionUUID->"b545ba83-ba4d-498d-b443-7c56395141c4",
 CellID->15291577],
Cell[25606, 877, 139, 4, 70, "Input",ExpressionUUID->"86be0f63-9514-4b4f-9474-810c6f9cd270",
 CellID->1454980646],
Cell[CellGroupData[{
Cell[25770, 885, 308, 9, 70, "Input",ExpressionUUID->"4da11981-5de4-47a0-8661-f8ad09041e2e",
 CellID->463428933],
Cell[26081, 896, 6935, 202, 70, "Output",ExpressionUUID->"b9946cf6-31dc-42b7-a929-0e239f6f225d",
 CellID->1520228460]
}, Open  ]],
Cell[CellGroupData[{
Cell[33053, 1103, 463, 15, 70, "Input",ExpressionUUID->"9b4cc87f-6bb3-447d-a0c3-61fa584f7548",
 CellID->1735956165],
Cell[33519, 1120, 3777, 139, 70, "Output",ExpressionUUID->"42440388-c438-4beb-a63c-4fffe8ee3df2",
 CellID->424154902],
Cell[37299, 1261, 1531, 54, 70, "Output",ExpressionUUID->"8ec488c2-26d7-4d33-baf0-4234ae8d9058",
 CellID->1273213521]
}, Open  ]],
Cell[38845, 1318, 188, 4, 70, "ExampleText",ExpressionUUID->"90ad2684-fb54-46cb-830f-46a213979f8c",
 CellID->797316146],
Cell[CellGroupData[{
Cell[39058, 1326, 107, 3, 70, "Input",ExpressionUUID->"e7af9caa-1007-47b5-bc81-b1ce31d7721d",
 CellID->194508542],
Cell[39168, 1331, 2384, 66, 70, "Output",ExpressionUUID->"67441c68-2dfa-4659-af3f-1e4a62bcd6d1",
 CellID->841123830]
}, Open  ]],
Cell[41567, 1400, 295, 7, 70, "ExampleText",ExpressionUUID->"f35f372b-4a01-4fcf-9756-d2f8c39518cb",
 CellID->836728677],
Cell[CellGroupData[{
Cell[41887, 1411, 312, 9, 70, "Input",ExpressionUUID->"71e89e67-57af-4aec-950f-7d6f2a51b5a2",
 CellID->1175953783],
Cell[42202, 1422, 2421, 67, 70, "Output",ExpressionUUID->"ad3bc8c7-69f5-4ec2-8b44-71d496e6c87e",
 CellID->1828130523]
}, Open  ]]
}, Closed]],
Cell[44650, 1493, 31, 0, 70, "SectionFooterSpacer",ExpressionUUID->"c01eac34-6a8e-4a45-894c-2de7e8338359"]
}, Open  ]],
Cell[CellGroupData[{
Cell[44718, 1498, 150, 7, 70, "SeeAlsoSection",ExpressionUUID->"9ecd4af4-126f-4061-8065-c38149a7b01d",
 CellID->1255426704],
Cell[44871, 1507, 1192, 38, 70, "SeeAlso",ExpressionUUID->"24fd9a8b-13f7-4290-be38-b4f3e273e3b3",
 CellID->929782353],
Cell[46066, 1547, 209, 6, 70, "MoreAbout",ExpressionUUID->"b25b2eb7-8449-4691-b353-7e5f40c6e0ef",
 CellID->1665078683]
}, Open  ]],
Cell[46290, 1556, 23, 0, 70, "FooterCell",ExpressionUUID->"51323dce-fc4b-4a83-982d-393da38705a1"]
}
]
*)

(* End of internal cache information *)
