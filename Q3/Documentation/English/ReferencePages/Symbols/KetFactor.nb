(* Content-type: application/vnd.wolfram.mathematica *)

(*** Wolfram Notebook File ***)
(* http://www.wolfram.com/nb *)

(* CreatedBy='Mathematica 13.0' *)

(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[       158,          7]
NotebookDataLength[    109065,       3380]
NotebookOptionsPosition[     93128,       3045]
NotebookOutlinePosition[     95497,       3103]
CellTagsIndexPosition[     95411,       3098]
WindowTitle->KetFactor
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{
Cell[BoxData[GridBox[{
   {GridBox[{
      {
       ItemBox[Cell[BoxData[
         RowBox[{
          TemplateBox[{12},
           "Spacer1"], Cell["Q3 SYMBOL", "PacletNameCell",
           TextAlignment->Center,ExpressionUUID->
           "5f51f467-98e1-4179-b703-604b64530e12"], 
          TemplateBox[{8},
           "Spacer1"]}]],
         TextAlignment->Center,ExpressionUUID->
         "682a795d-b69e-4bf5-b06c-040fb1c4564a"],
        Background->RGBColor[0.490196, 0.576471, 0.690196],
        ItemSize->Full], ""}
     },
     GridBoxAlignment->{"Rows" -> {{Center}}},
     GridBoxItemSize->{"Columns" -> {Full, 
         Scaled[0.02]}, "Rows" -> {{2.5}}}], Cell[TextData[{
     Cell[BoxData[
      TagBox[
       ActionMenuBox[
        FrameBox[Cell[TextData[{
          "See Also",
          " ",
          Cell[BoxData[
           GraphicsBox[
            {GrayLevel[0.66667], Thickness[0.13], 
             LineBox[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]},
            AspectRatio->1,
            AxesStyle->Large,
            FrameStyle->Large,
            ImageSize->20,
            PlotRange->{{-3, 4}, {-1, 1}},
            PlotRangePadding->Scaled[0.025]]],ExpressionUUID->
           "d311e42d-d8a7-4b8b-942a-6c23d2746773"]
         }],ExpressionUUID->"860ad40b-baf5-4f1a-9e1a-5cd26dfa7989"],
         StripOnInput->False], {"\<\"Factor\"\>":>Documentation`HelpLookup[
        "paclet:ref/Factor"], Delimiter, 
        StyleBox["\<\"Functions\"\>", "SeeAlsoSection",
         StripOnInput->False,
         FontSize->14,
         FontSlant->"Italic"]:>NotebookFind[
         EvaluationNotebook[], "SeeAlsoSection", All, CellStyle], 
        StyleBox["\<\"OSlash\"\>", "SeeAlsoRelated",
         StripOnInput->False]:>Documentation`HelpLookup[
        "paclet:Q3/ref/OSlash"], 
        StyleBox["\<\"OTimes\"\>", "SeeAlsoRelated",
         StripOnInput->False]:>Documentation`HelpLookup[
        "paclet:Q3/ref/OTimes"]},
        Appearance->None,
        MenuAppearance->Automatic,
        MenuStyle->"SeeAlso"],
       MouseAppearanceTag["LinkHand"]]],
      LineSpacing->{1.4, 0},ExpressionUUID->
      "d048058f-15be-4a65-8e57-84974455edad"],
     "\[ThickSpace]\[ThickSpace]\[ThickSpace]\[ThickSpace]\[ThickSpace]\
\[ThickSpace]",
     Cell[BoxData[
      TagBox[
       ActionMenuBox[
        FrameBox[Cell[TextData[{
          "URL",
          " ",
          Cell[BoxData[
           GraphicsBox[
            {GrayLevel[0.66667], Thickness[0.13], 
             LineBox[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]},
            AspectRatio->1,
            AxesStyle->Large,
            FrameStyle->Large,
            ImageSize->20,
            PlotRange->{{-3, 4}, {-1, 1}},
            PlotRangePadding->Scaled[0.025]]],ExpressionUUID->
           "dde88af4-989c-4b19-86e5-aa4202e037da"]
         }],ExpressionUUID->"464e5787-f90d-4901-9a4a-5bd7838548c4"],
         StripOnInput->False], {"\<\"Q3/ref/KetFactor\"\>":>
        None, "\<\"Copy Wolfram Documentation Center URL\"\>":>
        Module[{DocumentationSearch`Private`nb$}, 
         DocumentationSearch`Private`nb$ = NotebookPut[
            Notebook[{
              Cell["Q3/ref/KetFactor"]}, Visible -> False]]; 
         SelectionMove[DocumentationSearch`Private`nb$, All, Notebook]; 
         FrontEndTokenExecute[DocumentationSearch`Private`nb$, "Copy"]; 
         NotebookClose[DocumentationSearch`Private`nb$]; Null], 
        Delimiter, "\<\"Copy web URL\"\>":>
        Module[{DocumentationSearch`Private`nb$}, 
         DocumentationSearch`Private`nb$ = NotebookPut[
            Notebook[{
              Cell[
               BoxData[
                MakeBoxes[
                 Hyperlink[
                 "http://reference.wolfram.com/language/Q3/ref/KetFactor.\
html"], StandardForm]], "Input", TextClipboardType -> "PlainText"]}, Visible -> 
             False]]; SelectionMove[
          DocumentationSearch`Private`nb$, All, Notebook]; 
         FrontEndTokenExecute[DocumentationSearch`Private`nb$, "Copy"]; 
         NotebookClose[DocumentationSearch`Private`nb$]; 
         Null], "\<\"Go to web URL\"\>":>FrontEndExecute[{
          NotebookLocate[{
            URL[If[
               TrueQ[DocumentationBuild`Make`Private`wsmlinkQ$101855], 
               "http://reference.wolfram.com/system-modeler/", 
               "http://reference.wolfram.com/language/"] <> 
             "Q3/ref/KetFactor" <> ".html"], None}]}]},
        Appearance->None,
        MenuAppearance->Automatic,
        MenuStyle->"URLMenu"],
       MouseAppearanceTag["LinkHand"]]],
      LineSpacing->{1.4, 0},ExpressionUUID->
      "3ea5faa2-3c0e-4141-816a-1b272a235d14"]
    }], "AnchorBar",
     CacheGraphics->False,ExpressionUUID->
     "0366981e-d77f-4e09-b427-c15960f2e685"]}
  }]], "AnchorBarGrid",
 GridBoxOptions->{GridBoxItemSize->{"Columns" -> {
     Scaled[0.65], {
      Scaled[0.34]}}, "ColumnsIndexed" -> {}, "Rows" -> {{1.}}, 
   "RowsIndexed" -> {}}},
 CellID->1,ExpressionUUID->"da3946f6-85f6-461f-b056-6bf80369c464"],

Cell["Q3`", "ContextNameCell",ExpressionUUID->"0b2e2808-cfe9-446b-8521-3232d91e787a"],

Cell[CellGroupData[{

Cell[BoxData[GridBox[{
   {Cell[TextData[{
     Cell[
     "KetFactor", "ObjectName",ExpressionUUID->
      "b582d018-3fbc-4eb5-bf9a-a54f1849aa49"],
     Cell[BoxData[
      TemplateBox[{8},
       "Spacer1"]],ExpressionUUID->"e41bb4cf-66af-4d95-9834-f8c12d6d1224"],
     Cell[BoxData[
     ""], "ObjectNameTranslation",ExpressionUUID->
      "d01fb3b2-d43e-42e2-9531-c16daa5f533c"]
    }],ExpressionUUID->"4587d4b7-01a0-4fd8-83aa-abc445f7ae04"], 
    "\[SpanFromLeft]"}
  }]], "ObjectNameGrid",ExpressionUUID->"0bc680fa-a808-41c5-a01e-\
a255f0e586e2"],

Cell[BoxData[GridBox[{
   {"", Cell[TextData[{
     Cell[BoxData[
      RowBox[{"KetFactor", "[", 
       StyleBox["expr", "TI"], "]"}]], "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "92545d53-0a49-4013-8f94-b2883ec28fa1"],
     "\[LineSeparator]tries to factorize ket expression ",
     Cell[BoxData[
      StyleBox["expr", "TI"]], "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "425fc4fa-4891-4ccf-b43b-b99c273119a2"],
     " and, if successful at all, returns the result in the form of ",
     Cell[BoxData[
      RowBox[{
       TemplateBox[{
         Cell[
          TextData["OTimes"]], "paclet:Q3/ref/OTimes", "Q3 Package Symbol"},
        "PackageLink",
        BaseStyle->"InlineFormula"], "[", "\[Ellipsis]", "]"}]], 
      "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "48508518-e8ad-4eb2-bc81-93126385e308"],
     ". Otherwise it just throws ",
     Cell[BoxData[
      StyleBox["expr", "TI"]], "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "2cec8261-7052-40fe-bec6-2f10b8be99bd"],
     " out."
    }],ExpressionUUID->"9673c0cb-a9c8-42b9-a39d-736fc78f65a7"]},
   {"", Cell[TextData[{
     Cell[BoxData[
      RowBox[{"KetFactor", "[", 
       RowBox[{
        StyleBox["expr", "TI"], ",", 
        RowBox[{"{", 
         RowBox[{
          SubscriptBox[
           StyleBox["s", "TI"], 
           StyleBox["1", "TR"]], ",", 
          SubscriptBox[
           StyleBox["s", "TI"], 
           StyleBox["2", "TR"]], ",", "\[Ellipsis]"}], "}"}]}], "]"}]], 
      "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "fe45a378-b7b7-4f95-abb9-2927d0e79a95"],
     "\[LineSeparator]factors out the state concerning the specified qubits \
and returns the result in ",
     Cell[BoxData[
      RowBox[{
       TemplateBox[{
         Cell[
          TextData["OSlash"]], "paclet:Q3/ref/OSlash", "Q3 Package Symbol"},
        "PackageLink",
        BaseStyle->"InlineFormula"], "[", "\[Ellipsis]", "]"}]], 
      "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "cc6ec457-fc8a-4d1f-be42-3b5b185c1567"],
     "."
    }],ExpressionUUID->"2f46981d-a3ea-43b6-9360-ad47ff65183b"]},
   {"", Cell[TextData[{
     Cell[BoxData[
      RowBox[{"KetFactor", "[", 
       RowBox[{
        StyleBox["expr", "TI"], ",", 
        StyleBox["s", "TI"]}], "]"}]], "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "06212af9-7132-4a8e-b454-4dd1b55dead9"],
     "\[LineSeparator]is equivalent to ",
     Cell[BoxData[
      RowBox[{"KetFactor", "[", 
       RowBox[{
        StyleBox["expr", "TI"], ",", 
        RowBox[{"{", 
         StyleBox["s", "TI"], "}"}]}], "]"}]], "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "c0ce5b45-f8ae-47cc-981f-07c81102609b"],
     "."
    }],ExpressionUUID->"e6fb40e5-24b8-466c-8d4e-aa2468b55747"]}
  }]], "Usage",
 GridBoxOptions->{
 GridBoxBackground->{"Columns" -> {{None}}, "Rows" -> {None, None, {None}}}},
 CellID->197957673,ExpressionUUID->"c83a32a3-cd50-402e-8333-d2cef35d0a22"]
}, Open  ]],

Cell[CellGroupData[{

Cell[TextData[Cell[BoxData[
 ButtonBox[Cell[TextData[{
   Cell[BoxData[
    DynamicBox[ToBoxes[
      If[
       MatchQ[
        CurrentValue[
         EvaluationNotebook[], {TaggingRules, "Openers", "NotesSection"}, 
         Closed], 
        Alternatives[Open, True]], 
       Style[
        Graphics[{
          Thickness[0.18], 
          RGBColor[0.8509803921568627, 0.396078431372549, 0], 
          Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
         PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
        0.68 Inherited], 
       Rotate[
        Style[
         Graphics[{
           Thickness[0.18], 
           RGBColor[0.8509803921568627, 0.396078431372549, 0], 
           Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
          PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
         0.68 Inherited], Rational[1, 2] Pi, {-1.65, -1}]]],
     ImageSizeCache->{14., {5., 9.}}]],ExpressionUUID->
    "fc7b2cab-9ee3-4cc9-bb32-b2aa35985d6d"],
   Cell[BoxData[
    TemplateBox[{1},
     "Spacer1"]],ExpressionUUID->"4f4c2099-97c7-4503-8b42-971dc0c7a3d1"],
   "Details"
  }], "NotesFrameText",ExpressionUUID->"e99248c1-9360-411e-96ba-27bd8eb8cc0a"],
  Appearance->{Automatic, None, "Normal", Automatic},
  BaseStyle->None,
  ButtonFunction:>(FrontEndExecute[{
     FrontEnd`SelectionMove[
      FrontEnd`SelectedNotebook[], All, ButtonCell], 
     FrontEndToken["OpenCloseGroup"], 
     FrontEnd`SelectionMove[
      FrontEnd`SelectedNotebook[], After, CellContents]}]& ),
  Evaluator->None,
  Method->
   "Preemptive"]],ExpressionUUID->"078ae36d-2e7e-43e6-b8d8-15367b057766"]], \
"NotesSection",
 WholeCellGroupOpener->True,
 CellGroupingRules->{"SectionGrouping", 50},
 CacheGraphics->False,
 CellID->2097562837,ExpressionUUID->"25ac5360-1aea-45f3-805a-2c6917c882c8"],

Cell[TextData[{
 "When ",
 Cell[BoxData[
  StyleBox["expr", "TI"]], "InlineFormula",
  FontFamily->"Source Sans Pro",ExpressionUUID->
  "01d1bbd1-1fdf-4a58-a6cf-3aa7e927040f"],
 " is an association or list, ",
 Cell[BoxData[
  TemplateBox[{
    Cell[
     TextData["KetFactor"]], "paclet:Q3/ref/KetFactor", "Q3 Package Symbol"},
   "PackageLink",
   BaseStyle->"InlineFormula"]], "InlineFormula",
  FontFamily->"Source Sans Pro",ExpressionUUID->
  "ed3cc890-356a-40f5-8748-bd3826d20c28"],
 " automatically maps it."
}], "Notes",
 CellID->622440908,ExpressionUUID->"8bb17c17-23c7-4fc0-a911-d009a73cbcb4"]
}, Dynamic[CurrentValue[
 EvaluationNotebook[], {TaggingRules, "Openers", "NotesSection"}, Closed]]]],

Cell[CellGroupData[{

Cell[TextData[{
 Cell[BoxData[
  DynamicBox[ToBoxes[
    If[
     MatchQ[
      CurrentValue[
       EvaluationNotebook[], {
       TaggingRules, "Openers", "PrimaryExamplesSection"}, Open], 
      Alternatives[True, Open]], 
     Style[
      Graphics[{
        Thickness[0.18], 
        RGBColor[0.8509803921568627, 0.396078431372549, 0], 
        Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
       PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
      0.68 Inherited], 
     Rotate[
      Style[
       Graphics[{
         Thickness[0.18], 
         RGBColor[0.8509803921568627, 0.396078431372549, 0], 
         Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
        PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
       0.68 Inherited], Rational[1, 2] Pi, {-1.65, -1}]]],
   ImageSizeCache->{14., {5., 9.}}]],ExpressionUUID->
  "cdff9508-fcc7-40c8-825a-e1a0ed784d90"],
 Cell[BoxData[
  TemplateBox[{1},
   "Spacer1"]],ExpressionUUID->"79eb68e0-faf2-45ad-8210-3d593e7b0eed"],
 "Examples",
 "\[NonBreakingSpace]\[NonBreakingSpace]",
 Cell["(5)", "ExampleCount",ExpressionUUID->
  "70a07116-4876-4dd0-a01f-9061375153f3"]
}], "PrimaryExamplesSection",
 WholeCellGroupOpener->True,
 CacheGraphics->False,
 CellTags->"PrimaryExamplesSection",
 CellID->647052307,ExpressionUUID->"0bfb4c21-d943-4ef3-88cc-80e5eb89ed9f"],

Cell[CellGroupData[{

Cell[TextData[{
 Cell[BoxData[
  DynamicBox[ToBoxes[
    If[
     MatchQ[
      CurrentValue[
       EvaluationNotebook[], {TaggingRules, "Openers", "ExampleSection", "0"},
        Closed], 
      Alternatives[Open, True]], 
     Style[
      Graphics[{
        Thickness[0.18], 
        RGBColor[0.8509803921568627, 0.396078431372549, 0], 
        Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
       PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
      0.68 Inherited], 
     Rotate[
      Style[
       Graphics[{
         Thickness[0.18], 
         RGBColor[0.8509803921568627, 0.396078431372549, 0], 
         Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
        PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
       0.68 Inherited], Rational[1, 2] Pi, {-1.65, -1}]]],
   ImageSizeCache->{14., {5., 9.}}]],ExpressionUUID->
  "a484e5ff-4943-49c0-adc4-466dbfe411c5"],
 Cell[BoxData[
  TemplateBox[{1},
   "Spacer1"]],ExpressionUUID->"cb90d5aa-dca4-4f25-806f-25c754d6ceb8"],
 "Basic Examples",
 "\[NonBreakingSpace]\[NonBreakingSpace]",
 Cell["(5)", "ExampleCount",ExpressionUUID->
  "08fee5de-e099-465c-9aea-b9a17ae5ef4e"]
}], "ExampleSection", "ExampleSection",
 WholeCellGroupOpener->True,
 CacheGraphics->False,
 CellID->150935341,ExpressionUUID->"3972b579-5adb-4840-a030-8bda735106e7"],

Cell[BoxData[
 RowBox[{"<<", "Q3`"}]], "Input",
 CellLabel->"In[1]:=",
 CellID->892669559,ExpressionUUID->"05e86663-1a51-4a80-aae0-75b66441412e"],

Cell[BoxData[
 RowBox[{"Let", "[", 
  RowBox[{"Qubit", ",", "S"}], "]"}]], "Input",
 CellLabel->"In[2]:=",
 CellID->2078920508,ExpressionUUID->"a1622a60-efa4-480c-ba4a-d12431a27d30"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"v1", "=", 
  RowBox[{"ProductState", "[", 
   RowBox[{
    RowBox[{
     RowBox[{"S", "[", "1", "]"}], "\[Rule]", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{"1", ",", "1"}], "}"}], "/", 
      RowBox[{"Sqrt", "[", "2", "]"}]}]}], ",", 
    RowBox[{
     RowBox[{"S", "[", "2", "]"}], "\[Rule]", 
     RowBox[{"{", 
      RowBox[{"1", ",", 
       RowBox[{"-", "I"}]}], "}"}]}]}], "]"}]}]], "Input",
 CellLabel->"In[3]:=",
 CellID->858041266,ExpressionUUID->"b1136d11-1bfb-45ed-a268-741522ef944a"],

Cell[BoxData[
 RowBox[{
  TagBox[
   SubscriptBox[
    RowBox[{"(", 
     RowBox[{
      FractionBox[
       TemplateBox[{"0"},
        "Ket"], 
       SqrtBox["2"]], "+", 
      FractionBox[
       TemplateBox[{"1"},
        "Ket"], 
       SqrtBox["2"]]}], ")"}], 
    SubscriptBox[
     TemplateBox[{"S"},
      "RowDefault"], 
     TemplateBox[{"1"},
      "RowDefault"]]],
   DisplayForm], "\[CircleTimes]", 
  TagBox[
   SubscriptBox[
    RowBox[{"(", 
     RowBox[{
      TemplateBox[{"0"},
       "Ket"], "-", 
      RowBox[{"\[ImaginaryI]", " ", 
       TemplateBox[{"1"},
        "Ket"]}]}], ")"}], 
    SubscriptBox[
     TemplateBox[{"S"},
      "RowDefault"], 
     TemplateBox[{"2"},
      "RowDefault"]]],
   DisplayForm]}]], "Output",
 CellLabel->"Out[3]=",
 CellID->1198049632,ExpressionUUID->"007615f7-d1f0-4e68-b77a-b3caf5885491"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"v2", "=", 
   RowBox[{
    RowBox[{"Elaborate", "[", "v1", "]"}], "//", "Garner"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"v3", "=", 
   RowBox[{
    RowBox[{"Ket", "[", "]"}], "+", 
    RowBox[{"I", " ", 
     RowBox[{"Ket", "[", 
      RowBox[{
       RowBox[{"S", "[", 
        RowBox[{"{", 
         RowBox[{"3", ",", "4"}], "}"}], "]"}], "\[Rule]", "1"}], "]"}]}]}]}],
   ";"}], "\[IndentingNewLine]", 
 RowBox[{"v4", "=", 
  RowBox[{"v2", "**", "v3"}]}]}], "Input",
 CellLabel->"In[4]:=",
 CellID->2130549762,ExpressionUUID->"34f4f365-dc92-4a50-bc7a-6e5dc8054241"],

Cell[BoxData[
 RowBox[{
  FractionBox[
   TemplateBox[{"\"\[SpaceIndicator]\""},
    "Ket"], 
   SqrtBox["2"]], "+", 
  FractionBox[
   TemplateBox[{
     TagBox[
      TemplateBox[{
        SubscriptBox["1", 
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"1"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
    "Ket"], 
   SqrtBox["2"]], "-", 
  FractionBox[
   RowBox[{"\[ImaginaryI]", " ", 
    TemplateBox[{
      TagBox[
       TemplateBox[{
         SubscriptBox["1", 
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"1"}, "RowDefault"]]], 
         SubscriptBox["1", 
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"2"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
     "Ket"]}], 
   SqrtBox["2"]], "+", 
  FractionBox[
   TemplateBox[{
     TagBox[
      TemplateBox[{
        SubscriptBox["1", 
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"1"}, "RowDefault"]]], 
        SubscriptBox["1", 
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"2"}, "RowDefault"]]], 
        SubscriptBox["1", 
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"3"}, "RowDefault"]]], 
        SubscriptBox["1", 
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"4"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
    "Ket"], 
   SqrtBox["2"]], "+", 
  FractionBox[
   RowBox[{"\[ImaginaryI]", " ", 
    TemplateBox[{
      TagBox[
       TemplateBox[{
         SubscriptBox["1", 
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"1"}, "RowDefault"]]], 
         SubscriptBox["1", 
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"3"}, "RowDefault"]]], 
         SubscriptBox["1", 
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"4"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
     "Ket"]}], 
   SqrtBox["2"]], "-", 
  FractionBox[
   RowBox[{"\[ImaginaryI]", " ", 
    TemplateBox[{
      TagBox[
       TemplateBox[{
         SubscriptBox["1", 
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"2"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
     "Ket"]}], 
   SqrtBox["2"]], "+", 
  FractionBox[
   TemplateBox[{
     TagBox[
      TemplateBox[{
        SubscriptBox["1", 
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"2"}, "RowDefault"]]], 
        SubscriptBox["1", 
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"3"}, "RowDefault"]]], 
        SubscriptBox["1", 
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"4"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
    "Ket"], 
   SqrtBox["2"]], "+", 
  FractionBox[
   RowBox[{"\[ImaginaryI]", " ", 
    TemplateBox[{
      TagBox[
       TemplateBox[{
         SubscriptBox["1", 
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"3"}, "RowDefault"]]], 
         SubscriptBox["1", 
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"4"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
     "Ket"]}], 
   SqrtBox["2"]]}]], "Output",
 CellLabel->"Out[4]=",
 CellID->2092805747,ExpressionUUID->"79862ccf-1dca-4757-a9ad-c9871b1b2175"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"expr", "=", 
  RowBox[{"KetFactor", "[", "v4", "]"}]}]], "Input",
 CellLabel->"In[5]:=",
 CellID->1873594102,ExpressionUUID->"0a3fb146-c021-4545-b92d-eebe84b7b81d"],

Cell[BoxData[
 FractionBox[
  TagBox[
   RowBox[{
    RowBox[{"(", 
     RowBox[{
      TemplateBox[{
        TagBox[
         TemplateBox[{
           SubscriptBox["0", 
            SubscriptBox[
             TemplateBox[{"S"}, "RowDefault"], 
             TemplateBox[{"1"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
       "Ket"], "+", 
      TemplateBox[{
        TagBox[
         TemplateBox[{
           SubscriptBox["1", 
            SubscriptBox[
             TemplateBox[{"S"}, "RowDefault"], 
             TemplateBox[{"1"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
       "Ket"]}], ")"}], "\[CircleTimes]", 
    RowBox[{"(", 
     RowBox[{
      TemplateBox[{
        TagBox[
         TemplateBox[{
           SubscriptBox["0", 
            SubscriptBox[
             TemplateBox[{"S"}, "RowDefault"], 
             TemplateBox[{"2"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
       "Ket"], "-", 
      RowBox[{"\[ImaginaryI]", " ", 
       TemplateBox[{
         TagBox[
          TemplateBox[{
            SubscriptBox["1", 
             SubscriptBox[
              TemplateBox[{"S"}, "RowDefault"], 
              TemplateBox[{"2"}, "RowDefault"]]]}, "RowDefault"], 
          DisplayForm]},
        "Ket"]}]}], ")"}], "\[CircleTimes]", 
    RowBox[{"(", 
     RowBox[{
      TemplateBox[{
        TagBox[
         TemplateBox[{
           SubscriptBox["0", 
            SubscriptBox[
             TemplateBox[{"S"}, "RowDefault"], 
             TemplateBox[{"3"}, "RowDefault"]]], 
           SubscriptBox["0", 
            SubscriptBox[
             TemplateBox[{"S"}, "RowDefault"], 
             TemplateBox[{"4"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
       "Ket"], "+", 
      RowBox[{"\[ImaginaryI]", " ", 
       TemplateBox[{
         TagBox[
          TemplateBox[{
            SubscriptBox["1", 
             SubscriptBox[
              TemplateBox[{"S"}, "RowDefault"], 
              TemplateBox[{"3"}, "RowDefault"]]], 
            SubscriptBox["1", 
             SubscriptBox[
              TemplateBox[{"S"}, "RowDefault"], 
              TemplateBox[{"4"}, "RowDefault"]]]}, "RowDefault"], 
          DisplayForm]},
        "Ket"]}]}], ")"}]}],
   HoldForm], 
  SqrtBox["2"]]], "Output",
 CellLabel->"Out[5]=",
 CellID->578749318,ExpressionUUID->"4a763810-05ff-4b03-a984-a8bc45047297"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{"v4", "-", "expr"}], "//", "Elaborate"}]], "Input",
 CellLabel->"In[6]:=",
 CellID->1603183107,ExpressionUUID->"1a7641d2-acb0-4176-be1a-5c9a2cc3b606"],

Cell[BoxData["0"], "Output",
 CellLabel->"Out[6]=",
 CellID->655062015,ExpressionUUID->"f77825dc-cd4c-497e-acba-6a7fc5a83191"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"InputForm", "[", "expr", "]"}]], "Input",
 CellLabel->"In[7]:=",
 CellID->224248721,ExpressionUUID->"5841a418-04b5-4a4c-8221-56cc38c8ed14"],

Cell["\<\
OTimes[Ket[<|S[1, None] -> 0|>] + Ket[<|S[1, None] -> 1|>], 
  Ket[<|S[2, None] -> 0|>] - I*Ket[<|S[2, None] -> 1|>], 
  Ket[<|S[3, None] -> 0, S[4, None] -> 0|>] + 
   I*Ket[<|S[3, None] -> 1, S[4, None] -> 1|>]]/Sqrt[2]\
\>", "Output",
 CellLabel->"Out[7]//InputForm=",
 CellID->140013690,ExpressionUUID->"177f229d-cd61-4d30-9bbd-cfacca616638"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"Dagger", "[", "expr", "]"}]], "Input",
 CellLabel->"In[8]:=",
 CellID->1009993283,ExpressionUUID->"76c67070-10be-41f0-8c1c-11c33db418ff"],

Cell[BoxData[
 FractionBox[
  TagBox[
   RowBox[{
    RowBox[{"(", 
     RowBox[{
      TemplateBox[{
        TagBox[
         TemplateBox[{
           SubscriptBox["0", 
            SubscriptBox[
             TemplateBox[{"S"}, "RowDefault"], 
             TemplateBox[{"1"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
       "Bra"], "+", 
      TemplateBox[{
        TagBox[
         TemplateBox[{
           SubscriptBox["1", 
            SubscriptBox[
             TemplateBox[{"S"}, "RowDefault"], 
             TemplateBox[{"1"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
       "Bra"]}], ")"}], "\[CircleTimes]", 
    RowBox[{"(", 
     RowBox[{
      TemplateBox[{
        TagBox[
         TemplateBox[{
           SubscriptBox["0", 
            SubscriptBox[
             TemplateBox[{"S"}, "RowDefault"], 
             TemplateBox[{"2"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
       "Bra"], "+", 
      RowBox[{"\[ImaginaryI]", " ", 
       TemplateBox[{
         TagBox[
          TemplateBox[{
            SubscriptBox["1", 
             SubscriptBox[
              TemplateBox[{"S"}, "RowDefault"], 
              TemplateBox[{"2"}, "RowDefault"]]]}, "RowDefault"], 
          DisplayForm]},
        "Bra"]}]}], ")"}], "\[CircleTimes]", 
    RowBox[{"(", 
     RowBox[{
      TemplateBox[{
        TagBox[
         TemplateBox[{
           SubscriptBox["0", 
            SubscriptBox[
             TemplateBox[{"S"}, "RowDefault"], 
             TemplateBox[{"3"}, "RowDefault"]]], 
           SubscriptBox["0", 
            SubscriptBox[
             TemplateBox[{"S"}, "RowDefault"], 
             TemplateBox[{"4"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
       "Bra"], "-", 
      RowBox[{"\[ImaginaryI]", " ", 
       TemplateBox[{
         TagBox[
          TemplateBox[{
            SubscriptBox["1", 
             SubscriptBox[
              TemplateBox[{"S"}, "RowDefault"], 
              TemplateBox[{"3"}, "RowDefault"]]], 
            SubscriptBox["1", 
             SubscriptBox[
              TemplateBox[{"S"}, "RowDefault"], 
              TemplateBox[{"4"}, "RowDefault"]]]}, "RowDefault"], 
          DisplayForm]},
        "Bra"]}]}], ")"}]}],
   HoldForm], 
  SqrtBox["2"]]], "Output",
 CellLabel->"Out[8]=",
 CellID->1763478918,ExpressionUUID->"fb94521d-4665-406b-b1c9-3af2a7068a1b"]
}, Open  ]],

Cell[TextData[{
 "If the state cannot be factorized, ",
 StyleBox["KetFactor", "Input"],
 " just throws the input out."
}], "ExampleText",
 CellID->1042120013,ExpressionUUID->"c2c25b7c-f162-49cc-9851-a9271ca42630"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"KetFactor", "[", "v3", "]"}]], "Input",
 CellLabel->"In[9]:=",
 CellID->34433559,ExpressionUUID->"0eec61ed-a2c5-43d5-8ea1-a1aaa16da78f"],

Cell[BoxData[
 RowBox[{
  TemplateBox[{"\"\[SpaceIndicator]\""},
   "Ket"], "+", 
  RowBox[{"\[ImaginaryI]", " ", 
   TemplateBox[{
     TagBox[
      TemplateBox[{
        SubscriptBox["1", 
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"3"}, "RowDefault"]]], 
        SubscriptBox["1", 
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"4"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
    "Ket"]}]}]], "Output",
 CellLabel->"Out[9]=",
 CellID->2013282968,ExpressionUUID->"bb10e7e7-af58-4ab4-ba44-b8bb033ce143"]
}, Open  ]],

Cell["\<\
If the expression is not factorized and a qubit (or qubits) is specified, \
then each term is factorized separately with respect to the specified \
qubit(s). This is useful to analyze measurement results.\
\>", "ExampleText",
 CellID->1823025660,ExpressionUUID->"8a251682-c2d3-422d-a220-b91996efed47"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"new", "=", 
  RowBox[{"KetFactor", "[", 
   RowBox[{"v3", ",", 
    RowBox[{"S", "[", "3", "]"}]}], "]"}]}]], "Input",
 CellLabel->"In[10]:=",
 CellID->1820327759,ExpressionUUID->"19d2ee75-b287-4f7d-9c6b-c05335603b3c"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   TagBox[
    TemplateBox[{
      TagBox[
       TemplateBox[{
         SubscriptBox["0", 
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"3"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
     "Ket"],
    HoldForm], "\[CircleTimes]", 
   TagBox[
    TemplateBox[{"\"\[SpaceIndicator]\""},
     "Ket"],
    HoldForm]}], "+", 
  TagBox[
   RowBox[{
    TagBox[
     TemplateBox[{
       TagBox[
        TemplateBox[{
          SubscriptBox["1", 
           SubscriptBox[
            TemplateBox[{"S"}, "RowDefault"], 
            TemplateBox[{"3"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
      
      "Ket"],
     HoldForm], "\[CircleTimes]", 
    RowBox[{"(", 
     RowBox[{"\[ImaginaryI]", " ", 
      TemplateBox[{
        TagBox[
         TemplateBox[{
           SubscriptBox["1", 
            SubscriptBox[
             TemplateBox[{"S"}, "RowDefault"], 
             TemplateBox[{"4"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
       "Ket"]}], ")"}]}],
   DisplayForm]}]], "Output",
 CellLabel->"Out[10]=",
 CellID->1931562767,ExpressionUUID->"02cf5d6f-182e-4ebb-b73e-de81d393824d"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"LogicalForm", "[", "new", "]"}]], "Input",
 CellLabel->"In[11]:=",
 CellID->1335653111,ExpressionUUID->"bb5e8415-eb7f-4516-9b96-5a5ae0c070b2"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   TagBox[
    TemplateBox[{
      TagBox[
       TemplateBox[{
         SubscriptBox["0", 
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"3"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
     "Ket"],
    HoldForm], "\[CircleTimes]", 
   TagBox[
    TemplateBox[{
      TagBox[
       TemplateBox[{
         SubscriptBox["0", 
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"4"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
     "Ket"],
    HoldForm]}], "+", 
  TagBox[
   RowBox[{
    TagBox[
     TemplateBox[{
       TagBox[
        TemplateBox[{
          SubscriptBox["1", 
           SubscriptBox[
            TemplateBox[{"S"}, "RowDefault"], 
            TemplateBox[{"3"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
      
      "Ket"],
     HoldForm], "\[CircleTimes]", 
    RowBox[{"(", 
     RowBox[{"\[ImaginaryI]", " ", 
      TemplateBox[{
        TagBox[
         TemplateBox[{
           SubscriptBox["1", 
            SubscriptBox[
             TemplateBox[{"S"}, "RowDefault"], 
             TemplateBox[{"4"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
       "Ket"]}], ")"}]}],
   DisplayForm]}]], "Output",
 CellLabel->"Out[11]=",
 CellID->564349037,ExpressionUUID->"670f573c-996c-4059-8ae0-a761e35100f3"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 InterpretationBox[Cell[
  "\t", "ExampleDelimiter",ExpressionUUID->
   "0530b04e-2a10-4952-92f8-02a801b187de"],
  $Line = 0; Null]], "ExampleDelimiter",
 CellID->1303332931,ExpressionUUID->"5ceaab74-4196-458c-baf5-fdc1e206787a"],

Cell["Here is another example.", "ExampleText",
 CellID->1340709830,ExpressionUUID->"16a7d2f9-d175-4285-b545-1a047dc2573c"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"ket", "=", 
  RowBox[{
   RowBox[{"2", 
    RowBox[{"Ket", "[", "]"}]}], "+", 
   RowBox[{"4", 
    RowBox[{"Ket", "[", 
     RowBox[{
      RowBox[{"S", "[", "2", "]"}], "->", "1"}], "]"}]}]}]}]], "Input",
 CellLabel->"In[1]:=",
 CellID->947688046,ExpressionUUID->"fe741ddd-9df2-4778-9d16-f6e25daaece3"],

Cell[BoxData[
 RowBox[{
  RowBox[{"2", " ", 
   TemplateBox[{"\"\[SpaceIndicator]\""},
    "Ket"]}], "+", 
  RowBox[{"4", " ", 
   TemplateBox[{
     TagBox[
      TemplateBox[{
        SubscriptBox["1", 
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"2"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
    "Ket"]}]}]], "Output",
 CellLabel->"Out[1]=",
 CellID->1844441880,ExpressionUUID->"30aad482-00ff-4326-8ff7-c0e6d00f6efa"]
}, Open  ]],

Cell[TextData[{
 "From the default form of the above vector, it appears to be state of qubit ",
 StyleBox["S[2,None]", "Input"],
 ". As such, no further factorization is possible except for the trivial \
factor of 2."
}], "ExampleText",
 CellID->1869109781,ExpressionUUID->"f2991d05-bf95-46f1-afd3-be96a94cb57b"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"KetFactor", "[", "ket", "]"}]], "Input",
 CellLabel->"In[2]:=",
 CellID->2114337064,ExpressionUUID->"af0375ed-7c07-4436-b933-fcc6355b9bdb"],

Cell[BoxData[
 RowBox[{"2", " ", 
  RowBox[{"(", 
   RowBox[{
    TemplateBox[{"\"\[SpaceIndicator]\""},
     "Ket"], "+", 
    RowBox[{"2", " ", 
     TemplateBox[{
       TagBox[
        TemplateBox[{
          SubscriptBox["1", 
           SubscriptBox[
            TemplateBox[{"S"}, "RowDefault"], 
            TemplateBox[{"2"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
      
      "Ket"]}]}], ")"}]}]], "Output",
 CellLabel->"Out[2]=",
 CellID->1695013276,ExpressionUUID->"690d3ef2-6a97-4b69-8f62-95d2c844e0d7"]
}, Open  ]],

Cell[TextData[{
 "However, the state vector can be regarded to be associated with two qubits ",
 StyleBox["S[1,None]", "Input"],
 " and ",
 StyleBox["S[2,None]", "Input"],
 "."
}], "ExampleText",
 CellID->2065171665,ExpressionUUID->"9d1ba85e-7b3f-4aa9-aeb3-de779abeadbd"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"LogicalForm", "[", 
  RowBox[{"ket", ",", 
   RowBox[{"S", "@", 
    RowBox[{"{", 
     RowBox[{"1", ",", "2"}], "}"}]}]}], "]"}]], "Input",
 CellLabel->"In[3]:=",
 CellID->934552399,ExpressionUUID->"cc792ace-8fee-4743-a252-9dc5b73cf903"],

Cell[BoxData[
 RowBox[{
  RowBox[{"2", " ", 
   TemplateBox[{
     TagBox[
      TemplateBox[{
        SubscriptBox["0", 
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"1"}, "RowDefault"]]], 
        SubscriptBox["0", 
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"2"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
    "Ket"]}], "+", 
  RowBox[{"4", " ", 
   TemplateBox[{
     TagBox[
      TemplateBox[{
        SubscriptBox["0", 
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"1"}, "RowDefault"]]], 
        SubscriptBox["1", 
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"2"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
    "Ket"]}]}]], "Output",
 CellLabel->"Out[3]=",
 CellID->498520126,ExpressionUUID->"89ddde4e-2b35-46be-b35f-e5d13cde491f"]
}, Open  ]],

Cell["In the above case, a factorization is possible as follows.", \
"ExampleText",
 CellID->617093176,ExpressionUUID->"efd59e33-18b4-4d0f-abe7-463f284c8ac2"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"KetFactor", "[", 
  RowBox[{"ket", ",", 
   RowBox[{"S", "@", 
    RowBox[{"{", 
     RowBox[{"1", ",", "2"}], "}"}]}]}], "]"}]], "Input",
 CellLabel->"In[4]:=",
 CellID->903143971,ExpressionUUID->"93b3129f-d01c-4abc-927f-0015145ae144"],

Cell[BoxData[
 RowBox[{"2", " ", 
  TagBox[
   RowBox[{
    TemplateBox[{
      TagBox[
       TemplateBox[{
         SubscriptBox["0", 
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"1"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
     "Ket"], "\[CircleTimes]", 
    RowBox[{"(", 
     RowBox[{
      TemplateBox[{
        TagBox[
         TemplateBox[{
           SubscriptBox["0", 
            SubscriptBox[
             TemplateBox[{"S"}, "RowDefault"], 
             TemplateBox[{"2"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
       "Ket"], "+", 
      RowBox[{"2", " ", 
       TemplateBox[{
         TagBox[
          TemplateBox[{
            SubscriptBox["1", 
             SubscriptBox[
              TemplateBox[{"S"}, "RowDefault"], 
              TemplateBox[{"2"}, "RowDefault"]]]}, "RowDefault"], 
          DisplayForm]},
        "Ket"]}]}], ")"}]}],
   HoldForm]}]], "Output",
 CellLabel->"Out[4]=",
 CellID->1631985954,ExpressionUUID->"ac3693f1-7bf4-41e5-adeb-b7893fcb0819"]
}, Open  ]],

Cell["\<\
If it is regarded to be associated with 6 qubits, then the factorization \
reads as follows.\
\>", "ExampleText",
 CellID->1973171003,ExpressionUUID->"9042414e-bf9f-4daf-a417-62250e7afa4a"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"KetFactor", "[", 
  RowBox[{"ket", ",", 
   RowBox[{"S", "@", 
    RowBox[{"Range", "[", 
     RowBox[{"0", ",", "5"}], "]"}]}]}], "]"}]], "Input",
 CellLabel->"In[5]:=",
 CellID->2013531351,ExpressionUUID->"52e5194b-b221-48f4-b3e8-15db535d1c56"],

Cell[BoxData[
 RowBox[{"2", " ", 
  TagBox[
   RowBox[{
    TemplateBox[{
      TagBox[
       TemplateBox[{
         SubscriptBox["0", 
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"0"}, "RowDefault"]]], 
         SubscriptBox["0", 
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"1"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
     "Ket"], "\[CircleTimes]", 
    RowBox[{"(", 
     RowBox[{
      TemplateBox[{
        TagBox[
         TemplateBox[{
           SubscriptBox["0", 
            SubscriptBox[
             TemplateBox[{"S"}, "RowDefault"], 
             TemplateBox[{"2"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
       "Ket"], "+", 
      RowBox[{"2", " ", 
       TemplateBox[{
         TagBox[
          TemplateBox[{
            SubscriptBox["1", 
             SubscriptBox[
              TemplateBox[{"S"}, "RowDefault"], 
              TemplateBox[{"2"}, "RowDefault"]]]}, "RowDefault"], 
          DisplayForm]},
        "Ket"]}]}], ")"}], "\[CircleTimes]", 
    TemplateBox[{
      TagBox[
       TemplateBox[{
         SubscriptBox["0", 
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"3"}, "RowDefault"]]], 
         SubscriptBox["0", 
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"4"}, "RowDefault"]]], 
         SubscriptBox["0", 
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"5"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
     "Ket"]}],
   HoldForm]}]], "Output",
 CellLabel->"Out[5]=",
 CellID->349635486,ExpressionUUID->"706ba76c-14bf-426c-bbc0-ec08f3ecec36"]
}, Open  ]],

Cell["\<\
You can make clearer the qubits that the state vector is associated with by \
using LogicalForm before using KetFactor.\
\>", "ExampleText",
 CellID->1216169220,ExpressionUUID->"28a77538-cb00-4941-9c89-291719968b86"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{"expr", "=", 
  RowBox[{"LogicalForm", "[", 
   RowBox[{"ket", ",", 
    RowBox[{"S", "@", 
     RowBox[{"Range", "[", 
      RowBox[{"0", ",", "5"}], "]"}]}]}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"new", "=", 
  RowBox[{"KetFactor", "[", "expr", "]"}]}]}], "Input",
 CellLabel->"In[6]:=",
 CellID->2048042578,ExpressionUUID->"610df1e8-9fd4-42be-a492-106e647d8a0a"],

Cell[BoxData[
 RowBox[{
  RowBox[{"2", " ", 
   TemplateBox[{
     TagBox[
      TemplateBox[{
        SubscriptBox["0", 
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"0"}, "RowDefault"]]], 
        SubscriptBox["0", 
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"1"}, "RowDefault"]]], 
        SubscriptBox["0", 
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"2"}, "RowDefault"]]], 
        SubscriptBox["0", 
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"3"}, "RowDefault"]]], 
        SubscriptBox["0", 
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"4"}, "RowDefault"]]], 
        SubscriptBox["0", 
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"5"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
    "Ket"]}], "+", 
  RowBox[{"4", " ", 
   TemplateBox[{
     TagBox[
      TemplateBox[{
        SubscriptBox["0", 
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"0"}, "RowDefault"]]], 
        SubscriptBox["0", 
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"1"}, "RowDefault"]]], 
        SubscriptBox["1", 
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"2"}, "RowDefault"]]], 
        SubscriptBox["0", 
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"3"}, "RowDefault"]]], 
        SubscriptBox["0", 
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"4"}, "RowDefault"]]], 
        SubscriptBox["0", 
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"5"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
    "Ket"]}]}]], "Output",
 CellLabel->"Out[6]=",
 CellID->526512895,ExpressionUUID->"4bfc8215-8d4f-438d-a45e-cdf4bc33e90e"],

Cell[BoxData[
 RowBox[{"2", " ", 
  TagBox[
   RowBox[{
    TemplateBox[{
      TagBox[
       TemplateBox[{
         SubscriptBox["0", 
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"0"}, "RowDefault"]]], 
         SubscriptBox["0", 
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"1"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
     "Ket"], "\[CircleTimes]", 
    RowBox[{"(", 
     RowBox[{
      TemplateBox[{
        TagBox[
         TemplateBox[{
           SubscriptBox["0", 
            SubscriptBox[
             TemplateBox[{"S"}, "RowDefault"], 
             TemplateBox[{"2"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
       "Ket"], "+", 
      RowBox[{"2", " ", 
       TemplateBox[{
         TagBox[
          TemplateBox[{
            SubscriptBox["1", 
             SubscriptBox[
              TemplateBox[{"S"}, "RowDefault"], 
              TemplateBox[{"2"}, "RowDefault"]]]}, "RowDefault"], 
          DisplayForm]},
        "Ket"]}]}], ")"}], "\[CircleTimes]", 
    TemplateBox[{
      TagBox[
       TemplateBox[{
         SubscriptBox["0", 
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"3"}, "RowDefault"]]], 
         SubscriptBox["0", 
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"4"}, "RowDefault"]]], 
         SubscriptBox["0", 
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"5"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
     "Ket"]}],
   HoldForm]}]], "Output",
 CellLabel->"Out[6]=",
 CellID->1469600625,ExpressionUUID->"db7219a3-573e-49ee-8f33-6495f73e1fcc"]
}, Open  ]],

Cell[TextData[{
 "For the above expression, the specification of, say, ",
 StyleBox["S[1,None]", "Input"],
 " does not affect the result as it can be factorized anyway."
}], "ExampleText",
 CellID->1316655907,ExpressionUUID->"e75cbece-37bd-465d-958e-03b0b2a35f51"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"KetFactor", "[", 
  RowBox[{"expr", ",", 
   RowBox[{"S", "[", "1", "]"}]}], "]"}]], "Input",
 CellLabel->"In[7]:=",
 CellID->823690278,ExpressionUUID->"0e2d4428-2e62-4c86-b966-2ca736d893f5"],

Cell[BoxData[
 RowBox[{"2", " ", 
  TagBox[
   RowBox[{
    TemplateBox[{
      TagBox[
       TemplateBox[{
         SubscriptBox["0", 
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"0"}, "RowDefault"]]], 
         SubscriptBox["0", 
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"1"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
     "Ket"], "\[CircleTimes]", 
    RowBox[{"(", 
     RowBox[{
      TemplateBox[{
        TagBox[
         TemplateBox[{
           SubscriptBox["0", 
            SubscriptBox[
             TemplateBox[{"S"}, "RowDefault"], 
             TemplateBox[{"2"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
       "Ket"], "+", 
      RowBox[{"2", " ", 
       TemplateBox[{
         TagBox[
          TemplateBox[{
            SubscriptBox["1", 
             SubscriptBox[
              TemplateBox[{"S"}, "RowDefault"], 
              TemplateBox[{"2"}, "RowDefault"]]]}, "RowDefault"], 
          DisplayForm]},
        "Ket"]}]}], ")"}], "\[CircleTimes]", 
    TemplateBox[{
      TagBox[
       TemplateBox[{
         SubscriptBox["0", 
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"3"}, "RowDefault"]]], 
         SubscriptBox["0", 
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"4"}, "RowDefault"]]], 
         SubscriptBox["0", 
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"5"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
     "Ket"]}],
   HoldForm]}]], "Output",
 CellLabel->"Out[7]=",
 CellID->1649043876,ExpressionUUID->"be4efe8c-d484-43e3-9abe-8b5d2641ac13"]
}, Open  ]],

Cell[TextData[{
 "When factorization is successful, the result from ",
 StyleBox["KetFactor", "Input"],
 " involves ",
 Cell[BoxData[
  TemplateBox[{
    Cell[
     TextData["OTimes"]], "paclet:Q3/ref/OTimes", "Q3 Package Symbol"},
   "PackageLink",
   BaseStyle->"InlineFormula"]], "InlineFormula",
  FontFamily->"Source Sans Pro",ExpressionUUID->
  "eada760c-8269-4627-aed6-d3ab6ce88cf8"],
 ", which is similar to ",
 Cell[BoxData[
  TemplateBox[{
    Cell[
     TextData["CircleTimes"]], "paclet:ref/CircleTimes"},
   "RefLink",
   BaseStyle->{"InlineFormula"}]], "InlineFormula",
  FontFamily->"Source Sans Pro",ExpressionUUID->
  "47c567d1-3cd1-460b-9895-c5d04ea03f7a"],
 " but \[OpenCurlyDoubleQuote]holds\[CloseCurlyDoubleQuote] (see ",
 Cell[BoxData[
  TemplateBox[{
    Cell[
     TextData["Hold"]], "paclet:ref/Hold"},
   "RefLink",
   BaseStyle->{"InlineFormula"}]], "InlineFormula",
  FontFamily->"Source Sans Pro",ExpressionUUID->
  "116365d5-261c-43ca-becd-0e13ce134ac9"],
 ") the arguments."
}], "ExampleText",
 CellID->1745135099,ExpressionUUID->"003ef661-034c-4e02-a2da-f68fe1348d33"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"InputForm", "[", "new", "]"}]], "Input",
 CellLabel->"In[8]:=",
 CellID->1840995808,ExpressionUUID->"e4b15e95-9948-407b-9917-d2fdf45672f0"],

Cell["\<\
2*OTimes[Ket[<|S[0, None] -> 0, S[1, None] -> 0|>], 
  Ket[<|S[2, None] -> 0|>] + 2*Ket[<|S[2, None] -> 1|>], 
  Ket[<|S[3, None] -> 0, S[4, None] -> 0, S[5, None] -> 0|>]]\
\>", "Output",
 CellLabel->"Out[8]//InputForm=",
 CellID->1870718705,ExpressionUUID->"558edc8e-6a30-4105-b013-70b32b3be624"]
}, Open  ]],

Cell["Compare the above result with the following.", "ExampleText",
 CellID->486279643,ExpressionUUID->"c2c260d2-3c21-48d2-bf8d-56c4e3c1c505"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"new", "=", 
  RowBox[{"KetFactor", "[", 
   RowBox[{"ket", ",", 
    RowBox[{"S", "[", "1", "]"}]}], "]"}]}]], "Input",
 CellLabel->"In[9]:=",
 CellID->1128291247,ExpressionUUID->"c1979b64-de72-493e-acbb-eb523fc54d91"],

Cell[BoxData[
 TagBox[
  RowBox[{
   TagBox[
    TemplateBox[{
      TagBox[
       TemplateBox[{
         SubscriptBox["0", 
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"1"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
     "Ket"],
    HoldForm], "\[CircleTimes]", 
   RowBox[{"(", 
    RowBox[{"2", " ", 
     RowBox[{"(", 
      RowBox[{
       TemplateBox[{"\"\[SpaceIndicator]\""},
        "Ket"], "+", 
       RowBox[{"2", " ", 
        TemplateBox[{
          TagBox[
           TemplateBox[{
             SubscriptBox["1", 
              SubscriptBox[
               TemplateBox[{"S"}, "RowDefault"], 
               TemplateBox[{"2"}, "RowDefault"]]]}, "RowDefault"], 
           DisplayForm]},
         "Ket"]}]}], ")"}]}], ")"}]}],
  DisplayForm]], "Output",
 CellLabel->"Out[9]=",
 CellID->384831708,ExpressionUUID->"d056f239-f91f-4c72-810e-4d37777f0aac"]
}, Open  ]],

Cell[TextData[{
 "The result from ",
 StyleBox["KetFactor", "Input"],
 " involves ",
 Cell[BoxData[
  TemplateBox[{
    Cell[
     TextData["OSlash"]], "paclet:Q3/ref/OSlash", "Q3 Package Symbol"},
   "PackageLink",
   BaseStyle->"InlineFormula"]], "InlineFormula",
  FontFamily->"Source Sans Pro",ExpressionUUID->
  "f2e879ab-2d4c-4cc8-8920-2fcc45a86b46"],
 ", which is similar to ",
 Cell[BoxData[
  TemplateBox[{
    Cell[
     TextData["CircleTimes"]], "paclet:ref/CircleTimes"},
   "RefLink",
   BaseStyle->{"InlineFormula"}]], "InlineFormula",
  FontFamily->"Source Sans Pro",ExpressionUUID->
  "83e52af3-e970-401f-a69d-bc6a8363efa6"],
 " but \[OpenCurlyDoubleQuote]holds\[CloseCurlyDoubleQuote] (see ",
 Cell[BoxData[
  TemplateBox[{
    Cell[
     TextData["Hold"]], "paclet:ref/Hold"},
   "RefLink",
   BaseStyle->{"InlineFormula"}]], "InlineFormula",
  FontFamily->"Source Sans Pro",ExpressionUUID->
  "038b59b0-2b29-430e-9dfd-c919be0af56d"],
 ") the arguments."
}], "ExampleText",
 CellID->2038164986,ExpressionUUID->"1069b1c1-1631-453a-a084-d0374a43047d"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"InputForm", "[", "new", "]"}]], "Input",
 CellLabel->"In[10]:=",
 CellID->849623719,ExpressionUUID->"6ec57250-ea11-43d1-b0b1-4994826365e4"],

Cell["\<\
OSlash[Ket[<|S[1, None] -> 0|>], 2*(Ket[<||>] + 2*Ket[<|S[2, None] -> 1|>])]\
\>", "Output",
 CellLabel->"Out[10]//InputForm=",
 CellID->1077974447,ExpressionUUID->"ef2ca321-aa45-45f1-a557-38fa2ad08e4d"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"ReleaseTimes", "[", "new", "]"}]], "Input",
 CellLabel->"In[11]:=",
 CellID->452168761,ExpressionUUID->"7b975fc8-408e-49ba-ade6-c45adcf2f2cc"],

Cell[BoxData[
 RowBox[{"2", " ", 
  RowBox[{"(", 
   RowBox[{
    TemplateBox[{"\"\[SpaceIndicator]\""},
     "Ket"], "+", 
    RowBox[{"2", " ", 
     TemplateBox[{
       TagBox[
        TemplateBox[{
          SubscriptBox["1", 
           SubscriptBox[
            TemplateBox[{"S"}, "RowDefault"], 
            TemplateBox[{"2"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
      
      "Ket"]}]}], ")"}]}]], "Output",
 CellLabel->"Out[11]=",
 CellID->277241914,ExpressionUUID->"04a78e5e-14ab-4047-a5bb-9c79965baa94"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 InterpretationBox[Cell[
  "\t", "ExampleDelimiter",ExpressionUUID->
   "06420f25-193a-4fa6-969f-4bd329f772a6"],
  $Line = 0; Null]], "ExampleDelimiter",
 CellID->684520124,ExpressionUUID->"46586d0d-39aa-40e9-81c2-865fde295888"],

Cell[BoxData[
 RowBox[{"Let", "[", 
  RowBox[{"Qubit", ",", "S"}], "]"}]], "Input",
 CellLabel->"In[1]:=",
 CellID->950297347,ExpressionUUID->"48a500bc-3512-4167-ac6b-5a25df6c53b1"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"u", "=", 
   RowBox[{
    RowBox[{"-", "2"}], "I", " ", 
    RowBox[{"Ket", "[", 
     RowBox[{
      RowBox[{
       RowBox[{"S", "[", "1", "]"}], "\[Rule]", "1"}], ",", 
      RowBox[{
       RowBox[{"S", "[", "3", "]"}], "\[Rule]", "1"}]}], "]"}]}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{"u", "//", "LogicalForm"}], "\[IndentingNewLine]", 
 RowBox[{"uu", "=", 
  RowBox[{"KetFactor", "[", 
   RowBox[{"u", ",", 
    RowBox[{"{", 
     RowBox[{
      RowBox[{"S", "[", "1", "]"}], ",", 
      RowBox[{"S", "[", "3", "]"}]}], "}"}]}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"uu", "=", 
  RowBox[{"KetFactor", "[", 
   RowBox[{"u", ",", 
    RowBox[{"S", "[", "1", "]"}]}], "]"}]}]}], "Input",
 CellLabel->"In[2]:=",
 CellID->811628290,ExpressionUUID->"ef57028d-8b91-43fe-abc9-82aaaceaf435"],

Cell[BoxData[
 RowBox[{
  RowBox[{"-", "2"}], " ", "\[ImaginaryI]", " ", 
  TemplateBox[{
    TagBox[
     TemplateBox[{
       SubscriptBox["1", 
        SubscriptBox[
         TemplateBox[{"S"}, "RowDefault"], 
         TemplateBox[{"1"}, "RowDefault"]]], 
       SubscriptBox["1", 
        SubscriptBox[
         TemplateBox[{"S"}, "RowDefault"], 
         TemplateBox[{"3"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
   "Ket"]}]], "Output",
 CellLabel->"Out[2]=",
 CellID->51249007,ExpressionUUID->"434cadfd-db81-487e-af63-8da22a8ab341"],

Cell[BoxData[
 TagBox[
  RowBox[{
   TagBox[
    TemplateBox[{
      TagBox[
       TemplateBox[{
         SubscriptBox["1", 
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"1"}, "RowDefault"]]], 
         SubscriptBox["1", 
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"3"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
     "Ket"],
    HoldForm], "\[CircleTimes]", 
   RowBox[{"(", 
    RowBox[{
     RowBox[{"-", "2"}], " ", "\[ImaginaryI]", " ", 
     TemplateBox[{"\"\[SpaceIndicator]\""},
      "Ket"]}], ")"}]}],
  DisplayForm]], "Output",
 CellLabel->"Out[2]=",
 CellID->201118202,ExpressionUUID->"9a2a3f56-beb3-45e9-9f7a-d33c68c736c1"],

Cell[BoxData[
 TagBox[
  RowBox[{
   TagBox[
    TemplateBox[{
      TagBox[
       TemplateBox[{
         SubscriptBox["1", 
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"1"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
     "Ket"],
    HoldForm], "\[CircleTimes]", 
   RowBox[{"(", 
    RowBox[{
     RowBox[{"-", "2"}], " ", "\[ImaginaryI]", " ", 
     TemplateBox[{
       TagBox[
        TemplateBox[{
          SubscriptBox["1", 
           SubscriptBox[
            TemplateBox[{"S"}, "RowDefault"], 
            TemplateBox[{"3"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
      
      "Ket"]}], ")"}]}],
  DisplayForm]], "Output",
 CellLabel->"Out[2]=",
 CellID->54360636,ExpressionUUID->"4c2dbb7d-2eb1-4fff-8042-00bb4d81a64f"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"Dagger", "[", "uu", "]"}]], "Input",
 CellLabel->"In[3]:=",
 CellID->604094786,ExpressionUUID->"6400ac56-f99d-42a2-83f7-3c061f0ebdbd"],

Cell[BoxData[
 TagBox[
  RowBox[{
   TagBox[
    TemplateBox[{
      TagBox[
       TemplateBox[{
         SubscriptBox["1", 
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"1"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
     "Bra"],
    HoldForm], "\[CircleTimes]", 
   RowBox[{"(", 
    RowBox[{"2", " ", "\[ImaginaryI]", " ", 
     TemplateBox[{
       TagBox[
        TemplateBox[{
          SubscriptBox["1", 
           SubscriptBox[
            TemplateBox[{"S"}, "RowDefault"], 
            TemplateBox[{"3"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
      
      "Bra"]}], ")"}]}],
  DisplayForm]], "Output",
 CellLabel->"Out[3]=",
 CellID->1859051925,ExpressionUUID->"5193f853-cdbe-43a8-8ae9-bc89b79914a0"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{"v", "=", 
  RowBox[{
   RowBox[{"Ket", "[", "]"}], "+", 
   RowBox[{"Ket", "[", 
    RowBox[{
     RowBox[{
      RowBox[{"S", "[", "1", "]"}], "\[Rule]", "0"}], ",", 
     RowBox[{
      RowBox[{"S", "[", "2", "]"}], "\[Rule]", "1"}]}], 
    "]"}]}]}], "\[IndentingNewLine]", 
 RowBox[{"v", "//", 
  RowBox[{
   RowBox[{"LogicalForm", "[", 
    RowBox[{"#", ",", 
     RowBox[{"S", "[", 
      RowBox[{"{", 
       RowBox[{"1", ",", "2"}], "}"}], "]"}]}], "]"}], "&"}]}]}], "Input",
 CellLabel->"In[4]:=",
 CellID->2102943437,ExpressionUUID->"52280221-c784-46c3-9f98-7f3a10ab6b87"],

Cell[BoxData[
 RowBox[{
  TemplateBox[{"\"\[SpaceIndicator]\""},
   "Ket"], "+", 
  TemplateBox[{
    TagBox[
     TemplateBox[{
       SubscriptBox["1", 
        SubscriptBox[
         TemplateBox[{"S"}, "RowDefault"], 
         TemplateBox[{"2"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
   "Ket"]}]], "Output",
 CellLabel->"Out[4]=",
 CellID->618529424,ExpressionUUID->"3c861e93-49ca-4678-971b-7cf0f5cfeead"],

Cell[BoxData[
 RowBox[{
  TemplateBox[{
    TagBox[
     TemplateBox[{
       SubscriptBox["0", 
        SubscriptBox[
         TemplateBox[{"S"}, "RowDefault"], 
         TemplateBox[{"1"}, "RowDefault"]]], 
       SubscriptBox["0", 
        SubscriptBox[
         TemplateBox[{"S"}, "RowDefault"], 
         TemplateBox[{"2"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
   "Ket"], "+", 
  TemplateBox[{
    TagBox[
     TemplateBox[{
       SubscriptBox["0", 
        SubscriptBox[
         TemplateBox[{"S"}, "RowDefault"], 
         TemplateBox[{"1"}, "RowDefault"]]], 
       SubscriptBox["1", 
        SubscriptBox[
         TemplateBox[{"S"}, "RowDefault"], 
         TemplateBox[{"2"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
   "Ket"]}]], "Output",
 CellLabel->"Out[4]=",
 CellID->1803177688,ExpressionUUID->"82274d6a-708b-4445-b258-88df44992a63"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{"v1", "=", 
  RowBox[{"KetFactor", "[", 
   RowBox[{"v", ",", 
    RowBox[{"S", "[", "1", "]"}]}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"LogicalForm", "[", "v1", "]"}]}], "Input",
 CellLabel->"In[5]:=",
 CellID->629573197,ExpressionUUID->"cc3d6fac-15bf-4cf6-81c0-ede0c84da18f"],

Cell[BoxData[
 RowBox[{
  TagBox[
   TemplateBox[{
     TagBox[
      TemplateBox[{
        SubscriptBox["0", 
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"1"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
    "Ket"],
   HoldForm], "\[CircleTimes]", 
  RowBox[{"(", 
   TagBox[
    RowBox[{
     TemplateBox[{"\"\[SpaceIndicator]\""},
      "Ket"], "+", 
     TemplateBox[{
       TagBox[
        TemplateBox[{
          SubscriptBox["1", 
           SubscriptBox[
            TemplateBox[{"S"}, "RowDefault"], 
            TemplateBox[{"2"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
      
      "Ket"]}],
    HoldForm], ")"}]}]], "Output",
 CellLabel->"Out[5]=",
 CellID->856894075,ExpressionUUID->"ffc43141-5c4d-4535-acb4-2f90f74b1de2"],

Cell[BoxData[
 RowBox[{
  TagBox[
   TemplateBox[{
     TagBox[
      TemplateBox[{
        SubscriptBox["0", 
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"1"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
    "Ket"],
   HoldForm], "\[CircleTimes]", 
  RowBox[{"(", 
   TagBox[
    RowBox[{
     TemplateBox[{
       TagBox[
        TemplateBox[{
          SubscriptBox["0", 
           SubscriptBox[
            TemplateBox[{"S"}, "RowDefault"], 
            TemplateBox[{"2"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
      
      "Ket"], "+", 
     TemplateBox[{
       TagBox[
        TemplateBox[{
          SubscriptBox["1", 
           SubscriptBox[
            TemplateBox[{"S"}, "RowDefault"], 
            TemplateBox[{"2"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
      
      "Ket"]}],
    HoldForm], ")"}]}]], "Output",
 CellLabel->"Out[5]=",
 CellID->793381743,ExpressionUUID->"ef07140c-30b9-4761-9c1d-14dca6e5aaca"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{"v2", "=", 
  RowBox[{"KetFactor", "[", 
   RowBox[{"v", ",", 
    RowBox[{"S", "[", "2", "]"}]}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"LogicalForm", "[", 
  RowBox[{"v2", ",", 
   RowBox[{"S", "[", "1", "]"}]}], "]"}]}], "Input",
 CellLabel->"In[6]:=",
 CellID->782848255,ExpressionUUID->"e68deb21-9570-4b0a-a9cd-20c85d5071ae"],

Cell[BoxData[
 RowBox[{
  TemplateBox[{"\"\[SpaceIndicator]\""},
   "Ket"], "+", 
  TemplateBox[{
    TagBox[
     TemplateBox[{
       SubscriptBox["1", 
        SubscriptBox[
         TemplateBox[{"S"}, "RowDefault"], 
         TemplateBox[{"2"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
   "Ket"]}]], "Output",
 CellLabel->"Out[6]=",
 CellID->926342037,ExpressionUUID->"a7253d7a-d892-42f9-989c-e9fa9fbb48f4"],

Cell[BoxData[
 RowBox[{
  TemplateBox[{
    TagBox[
     TemplateBox[{
       SubscriptBox["0", 
        SubscriptBox[
         TemplateBox[{"S"}, "RowDefault"], 
         TemplateBox[{"1"}, "RowDefault"]]], 
       SubscriptBox["0", 
        SubscriptBox[
         TemplateBox[{"S"}, "RowDefault"], 
         TemplateBox[{"2"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
   "Ket"], "+", 
  TemplateBox[{
    TagBox[
     TemplateBox[{
       SubscriptBox["0", 
        SubscriptBox[
         TemplateBox[{"S"}, "RowDefault"], 
         TemplateBox[{"1"}, "RowDefault"]]], 
       SubscriptBox["1", 
        SubscriptBox[
         TemplateBox[{"S"}, "RowDefault"], 
         TemplateBox[{"2"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
   "Ket"]}]], "Output",
 CellLabel->"Out[6]=",
 CellID->1921658756,ExpressionUUID->"2ba220a1-2949-4387-8725-bff2ca38c4a1"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 InterpretationBox[Cell[
  "\t", "ExampleDelimiter",ExpressionUUID->
   "4820810f-5219-4bf2-bef9-30e57f5c3635"],
  $Line = 0; Null]], "ExampleDelimiter",
 CellID->491591238,ExpressionUUID->"08a9cfef-cc90-4ed4-ae38-ac8d2c37ff00"],

Cell["Here is another example.", "ExampleText",
 CellID->2107610364,ExpressionUUID->"030895de-f420-4dd7-b1cd-22592d802af2"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"v", "=", 
   RowBox[{
    RowBox[{"Ket", "[", 
     RowBox[{
      RowBox[{
       RowBox[{"S", "[", "1", "]"}], "\[Rule]", "0"}], ",", 
      RowBox[{
       RowBox[{"S", "[", "2", "]"}], "\[Rule]", "1"}]}], "]"}], "-", 
    RowBox[{"Ket", "[", 
     RowBox[{
      RowBox[{
       RowBox[{"S", "[", "1", "]"}], "\[Rule]", "1"}], ",", 
      RowBox[{
       RowBox[{"S", "[", "2", "]"}], "\[Rule]", "1"}]}], "]"}]}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{"v", "//", "LogicalForm"}], "\[IndentingNewLine]", 
 RowBox[{"vv", "=", 
  RowBox[{"KetFactor", "[", 
   RowBox[{"v", ",", 
    RowBox[{"S", "[", "1", "]"}]}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"KetFactor", "[", 
  RowBox[{"v", ",", 
   RowBox[{"S", "[", "2", "]"}]}], "]"}]}], "Input",
 CellLabel->"In[1]:=",
 CellID->2012114130,ExpressionUUID->"d0d32d3f-9c71-4f0d-b77c-7c78879e6cab"],

Cell[BoxData[
 RowBox[{
  TemplateBox[{
    TagBox[
     TemplateBox[{
       SubscriptBox["0", 
        SubscriptBox[
         TemplateBox[{"S"}, "RowDefault"], 
         TemplateBox[{"1"}, "RowDefault"]]], 
       SubscriptBox["1", 
        SubscriptBox[
         TemplateBox[{"S"}, "RowDefault"], 
         TemplateBox[{"2"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
   "Ket"], "-", 
  TemplateBox[{
    TagBox[
     TemplateBox[{
       SubscriptBox["1", 
        SubscriptBox[
         TemplateBox[{"S"}, "RowDefault"], 
         TemplateBox[{"1"}, "RowDefault"]]], 
       SubscriptBox["1", 
        SubscriptBox[
         TemplateBox[{"S"}, "RowDefault"], 
         TemplateBox[{"2"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
   "Ket"]}]], "Output",
 CellLabel->"Out[1]=",
 CellID->200549879,ExpressionUUID->"38b412c3-ab58-4b0f-aaeb-8058adc38843"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   TagBox[
    TemplateBox[{
      TagBox[
       TemplateBox[{
         SubscriptBox["0", 
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"1"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
     "Ket"],
    HoldForm], "\[CircleTimes]", 
   TagBox[
    TemplateBox[{
      TagBox[
       TemplateBox[{
         SubscriptBox["1", 
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"2"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
     "Ket"],
    HoldForm]}], "+", 
  TagBox[
   RowBox[{
    TagBox[
     TemplateBox[{
       TagBox[
        TemplateBox[{
          SubscriptBox["1", 
           SubscriptBox[
            TemplateBox[{"S"}, "RowDefault"], 
            TemplateBox[{"1"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
      
      "Ket"],
     HoldForm], "\[CircleTimes]", 
    RowBox[{"(", 
     RowBox[{"-", 
      TemplateBox[{
        TagBox[
         TemplateBox[{
           SubscriptBox["1", 
            SubscriptBox[
             TemplateBox[{"S"}, "RowDefault"], 
             TemplateBox[{"2"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
       "Ket"]}], ")"}]}],
   DisplayForm]}]], "Output",
 CellLabel->"Out[1]=",
 CellID->1239974210,ExpressionUUID->"4c7f87d9-0fff-49f3-966f-394275c1b1bb"],

Cell[BoxData[
 RowBox[{
  TagBox[
   TemplateBox[{
     TagBox[
      TemplateBox[{
        SubscriptBox["1", 
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"2"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
    "Ket"],
   HoldForm], "\[CircleTimes]", 
  RowBox[{"(", 
   TagBox[
    RowBox[{
     TemplateBox[{"\"\[SpaceIndicator]\""},
      "Ket"], "-", 
     TemplateBox[{
       TagBox[
        TemplateBox[{
          SubscriptBox["1", 
           SubscriptBox[
            TemplateBox[{"S"}, "RowDefault"], 
            TemplateBox[{"1"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
      
      "Ket"]}],
    HoldForm], ")"}]}]], "Output",
 CellLabel->"Out[1]=",
 CellID->1065236982,ExpressionUUID->"c2b36a44-7550-4ebc-bdbc-53c635f3f9f2"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{"vv", "//", "LogicalForm"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"vv", "//", "LogicalForm"}], "//", "DefaultForm"}]}], "Input",
 CellLabel->"In[2]:=",
 CellID->364076623,ExpressionUUID->"196a569f-1fc1-49b1-b5af-ee5e6004f378"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   TagBox[
    TemplateBox[{
      TagBox[
       TemplateBox[{
         SubscriptBox["0", 
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"1"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
     "Ket"],
    HoldForm], "\[CircleTimes]", 
   TagBox[
    TemplateBox[{
      TagBox[
       TemplateBox[{
         SubscriptBox["1", 
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"2"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
     "Ket"],
    HoldForm]}], "+", 
  TagBox[
   RowBox[{
    TagBox[
     TemplateBox[{
       TagBox[
        TemplateBox[{
          SubscriptBox["1", 
           SubscriptBox[
            TemplateBox[{"S"}, "RowDefault"], 
            TemplateBox[{"1"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
      
      "Ket"],
     HoldForm], "\[CircleTimes]", 
    RowBox[{"(", 
     RowBox[{"-", 
      TemplateBox[{
        TagBox[
         TemplateBox[{
           SubscriptBox["1", 
            SubscriptBox[
             TemplateBox[{"S"}, "RowDefault"], 
             TemplateBox[{"2"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
       "Ket"]}], ")"}]}],
   DisplayForm]}]], "Output",
 CellLabel->"Out[2]=",
 CellID->2138179600,ExpressionUUID->"82388fbf-c14e-4de2-a1b2-3386566a54a6"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   TagBox[
    TemplateBox[{
      TagBox[
       TemplateBox[{
         SubscriptBox["0", 
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"1"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
     "Ket"],
    HoldForm], "\[CircleTimes]", 
   TagBox[
    TemplateBox[{
      TagBox[
       TemplateBox[{
         SubscriptBox["1", 
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"2"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
     "Ket"],
    HoldForm]}], "+", 
  TagBox[
   RowBox[{
    TagBox[
     TemplateBox[{
       TagBox[
        TemplateBox[{
          SubscriptBox["1", 
           SubscriptBox[
            TemplateBox[{"S"}, "RowDefault"], 
            TemplateBox[{"1"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
      
      "Ket"],
     HoldForm], "\[CircleTimes]", 
    RowBox[{"(", 
     RowBox[{"-", 
      TemplateBox[{
        TagBox[
         TemplateBox[{
           SubscriptBox["1", 
            SubscriptBox[
             TemplateBox[{"S"}, "RowDefault"], 
             TemplateBox[{"2"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
       "Ket"]}], ")"}]}],
   DisplayForm]}]], "Output",
 CellLabel->"Out[2]=",
 CellID->393188302,ExpressionUUID->"9fe1b285-9b7a-469f-8302-afef1ba23f41"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{"v", "//", "LogicalForm"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"v", "//", "LogicalForm"}], "//", "DefaultForm"}]}], "Input",
 CellLabel->"In[3]:=",
 CellID->54964081,ExpressionUUID->"45daceb1-e3f2-4c5d-a131-fce3702e7951"],

Cell[BoxData[
 RowBox[{
  TemplateBox[{
    TagBox[
     TemplateBox[{
       SubscriptBox["0", 
        SubscriptBox[
         TemplateBox[{"S"}, "RowDefault"], 
         TemplateBox[{"1"}, "RowDefault"]]], 
       SubscriptBox["1", 
        SubscriptBox[
         TemplateBox[{"S"}, "RowDefault"], 
         TemplateBox[{"2"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
   "Ket"], "-", 
  TemplateBox[{
    TagBox[
     TemplateBox[{
       SubscriptBox["1", 
        SubscriptBox[
         TemplateBox[{"S"}, "RowDefault"], 
         TemplateBox[{"1"}, "RowDefault"]]], 
       SubscriptBox["1", 
        SubscriptBox[
         TemplateBox[{"S"}, "RowDefault"], 
         TemplateBox[{"2"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
   "Ket"]}]], "Output",
 CellLabel->"Out[3]=",
 CellID->943436145,ExpressionUUID->"41f8c573-0a1c-4b83-bf98-155d798964e9"],

Cell[BoxData[
 RowBox[{
  RowBox[{"-", 
   TemplateBox[{
     TagBox[
      TemplateBox[{
        SubscriptBox["1", 
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"1"}, "RowDefault"]]], 
        SubscriptBox["1", 
         SubscriptBox[
          TemplateBox[{"S"}, "RowDefault"], 
          TemplateBox[{"2"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
    "Ket"]}], "+", 
  TemplateBox[{
    TagBox[
     TemplateBox[{
       SubscriptBox["1", 
        SubscriptBox[
         TemplateBox[{"S"}, "RowDefault"], 
         TemplateBox[{"2"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
   "Ket"]}]], "Output",
 CellLabel->"Out[3]=",
 CellID->1459523214,ExpressionUUID->"661366f2-c3ba-4e37-b54a-ccdfacd5b607"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 InterpretationBox[Cell[
  "\t", "ExampleDelimiter",ExpressionUUID->
   "f9d84d4a-42df-4f1a-9b11-4c554a6cd860"],
  $Line = 0; Null]], "ExampleDelimiter",
 CellID->804347057,ExpressionUUID->"5cd52ad2-111c-4a0d-b318-15ef14823dc7"],

Cell["Here is a more complicated example.", "ExampleText",
 CellID->285956569,ExpressionUUID->"9bfba26d-1926-412c-aa8d-da67f2d9bd4e"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"v", "=", 
   RowBox[{
    RowBox[{
     RowBox[{"Multiply", "@@", 
      RowBox[{"S", "[", 
       RowBox[{
        RowBox[{"Range", "[", "3", "]"}], ",", "Hadamard"}], "]"}]}], "**", 
     RowBox[{"Multiply", "@@", 
      RowBox[{"S", "[", 
       RowBox[{
        RowBox[{"Range", "[", "3", "]"}], ",", "2"}], "]"}]}], "**", 
     RowBox[{"Ket", "[", "]"}]}], "//", "Simplify"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{"v", "//", "LogicalForm"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"vv", "=", 
   RowBox[{"KetFactor", "[", 
    RowBox[{"v", ",", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"S", "[", "1", "]"}], ",", 
       RowBox[{"S", "[", "2", "]"}]}], "}"}]}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{"vv", "=", 
  RowBox[{"vv", "//", "Expand"}]}]}], "Input",
 CellLabel->"In[1]:=",
 CellID->3653197,ExpressionUUID->"77208f5e-2140-404c-a53a-11b6add45666"],

Cell[BoxData[
 RowBox[{
  RowBox[{"-", 
   FractionBox["1", 
    RowBox[{"2", " ", 
     SqrtBox["2"]}]]}], "\[ImaginaryI]", " ", 
  RowBox[{"(", 
   RowBox[{
    TemplateBox[{
      TagBox[
       TemplateBox[{
         SubscriptBox["0", 
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"1"}, "RowDefault"]]], 
         SubscriptBox["0", 
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"2"}, "RowDefault"]]], 
         SubscriptBox["0", 
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"3"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
     "Ket"], "-", 
    TemplateBox[{
      TagBox[
       TemplateBox[{
         SubscriptBox["0", 
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"1"}, "RowDefault"]]], 
         SubscriptBox["0", 
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"2"}, "RowDefault"]]], 
         SubscriptBox["1", 
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"3"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
     "Ket"], "-", 
    TemplateBox[{
      TagBox[
       TemplateBox[{
         SubscriptBox["0", 
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"1"}, "RowDefault"]]], 
         SubscriptBox["1", 
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"2"}, "RowDefault"]]], 
         SubscriptBox["0", 
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"3"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
     "Ket"], "+", 
    TemplateBox[{
      TagBox[
       TemplateBox[{
         SubscriptBox["0", 
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"1"}, "RowDefault"]]], 
         SubscriptBox["1", 
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"2"}, "RowDefault"]]], 
         SubscriptBox["1", 
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"3"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
     "Ket"], "-", 
    TemplateBox[{
      TagBox[
       TemplateBox[{
         SubscriptBox["1", 
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"1"}, "RowDefault"]]], 
         SubscriptBox["0", 
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"2"}, "RowDefault"]]], 
         SubscriptBox["0", 
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"3"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
     "Ket"], "+", 
    TemplateBox[{
      TagBox[
       TemplateBox[{
         SubscriptBox["1", 
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"1"}, "RowDefault"]]], 
         SubscriptBox["0", 
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"2"}, "RowDefault"]]], 
         SubscriptBox["1", 
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"3"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
     "Ket"], "+", 
    TemplateBox[{
      TagBox[
       TemplateBox[{
         SubscriptBox["1", 
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"1"}, "RowDefault"]]], 
         SubscriptBox["1", 
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"2"}, "RowDefault"]]], 
         SubscriptBox["0", 
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"3"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
     "Ket"], "-", 
    TemplateBox[{
      TagBox[
       TemplateBox[{
         SubscriptBox["1", 
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"1"}, "RowDefault"]]], 
         SubscriptBox["1", 
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"2"}, "RowDefault"]]], 
         SubscriptBox["1", 
          SubscriptBox[
           TemplateBox[{"S"}, "RowDefault"], 
           TemplateBox[{"3"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
     "Ket"]}], ")"}]}]], "Output",
 CellLabel->"Out[1]=",
 CellID->1461453124,ExpressionUUID->"3e0c250c-b607-4917-8e4b-36503938c422"],

Cell[BoxData[
 RowBox[{
  TagBox[
   RowBox[{
    TagBox[
     TemplateBox[{
       TagBox[
        TemplateBox[{
          SubscriptBox["0", 
           SubscriptBox[
            TemplateBox[{"S"}, "RowDefault"], 
            TemplateBox[{"1"}, "RowDefault"]]], 
          SubscriptBox["0", 
           SubscriptBox[
            TemplateBox[{"S"}, "RowDefault"], 
            TemplateBox[{"2"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
      
      "Ket"],
     HoldForm], "\[CircleTimes]", 
    RowBox[{"(", 
     RowBox[{"-", 
      FractionBox[
       RowBox[{"\[ImaginaryI]", " ", 
        RowBox[{"(", 
         RowBox[{
          TemplateBox[{"\"\[SpaceIndicator]\""},
           "Ket"], "-", 
          TemplateBox[{
            TagBox[
             TemplateBox[{
               SubscriptBox["1", 
                SubscriptBox[
                 TemplateBox[{"S"}, "RowDefault"], 
                 TemplateBox[{"3"}, "RowDefault"]]]}, "RowDefault"], 
             DisplayForm]},
           "Ket"]}], ")"}]}], 
       RowBox[{"2", " ", 
        SqrtBox["2"]}]]}], ")"}]}],
   DisplayForm], "+", 
  TagBox[
   RowBox[{
    TagBox[
     TemplateBox[{
       TagBox[
        TemplateBox[{
          SubscriptBox["0", 
           SubscriptBox[
            TemplateBox[{"S"}, "RowDefault"], 
            TemplateBox[{"1"}, "RowDefault"]]], 
          SubscriptBox["1", 
           SubscriptBox[
            TemplateBox[{"S"}, "RowDefault"], 
            TemplateBox[{"2"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
      
      "Ket"],
     HoldForm], "\[CircleTimes]", 
    RowBox[{"(", 
     RowBox[{"-", 
      FractionBox[
       RowBox[{"\[ImaginaryI]", " ", 
        RowBox[{"(", 
         RowBox[{
          RowBox[{"-", 
           TemplateBox[{"\"\[SpaceIndicator]\""},
            "Ket"]}], "+", 
          TemplateBox[{
            TagBox[
             TemplateBox[{
               SubscriptBox["1", 
                SubscriptBox[
                 TemplateBox[{"S"}, "RowDefault"], 
                 TemplateBox[{"3"}, "RowDefault"]]]}, "RowDefault"], 
             DisplayForm]},
           "Ket"]}], ")"}]}], 
       RowBox[{"2", " ", 
        SqrtBox["2"]}]]}], ")"}]}],
   DisplayForm], "+", 
  TagBox[
   RowBox[{
    TagBox[
     TemplateBox[{
       TagBox[
        TemplateBox[{
          SubscriptBox["1", 
           SubscriptBox[
            TemplateBox[{"S"}, "RowDefault"], 
            TemplateBox[{"1"}, "RowDefault"]]], 
          SubscriptBox["0", 
           SubscriptBox[
            TemplateBox[{"S"}, "RowDefault"], 
            TemplateBox[{"2"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
      
      "Ket"],
     HoldForm], "\[CircleTimes]", 
    RowBox[{"(", 
     RowBox[{"-", 
      FractionBox[
       RowBox[{"\[ImaginaryI]", " ", 
        RowBox[{"(", 
         RowBox[{
          RowBox[{"-", 
           TemplateBox[{"\"\[SpaceIndicator]\""},
            "Ket"]}], "+", 
          TemplateBox[{
            TagBox[
             TemplateBox[{
               SubscriptBox["1", 
                SubscriptBox[
                 TemplateBox[{"S"}, "RowDefault"], 
                 TemplateBox[{"3"}, "RowDefault"]]]}, "RowDefault"], 
             DisplayForm]},
           "Ket"]}], ")"}]}], 
       RowBox[{"2", " ", 
        SqrtBox["2"]}]]}], ")"}]}],
   DisplayForm], "+", 
  TagBox[
   RowBox[{
    TagBox[
     TemplateBox[{
       TagBox[
        TemplateBox[{
          SubscriptBox["1", 
           SubscriptBox[
            TemplateBox[{"S"}, "RowDefault"], 
            TemplateBox[{"1"}, "RowDefault"]]], 
          SubscriptBox["1", 
           SubscriptBox[
            TemplateBox[{"S"}, "RowDefault"], 
            TemplateBox[{"2"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
      
      "Ket"],
     HoldForm], "\[CircleTimes]", 
    RowBox[{"(", 
     RowBox[{"-", 
      FractionBox[
       RowBox[{"\[ImaginaryI]", " ", 
        RowBox[{"(", 
         RowBox[{
          TemplateBox[{"\"\[SpaceIndicator]\""},
           "Ket"], "-", 
          TemplateBox[{
            TagBox[
             TemplateBox[{
               SubscriptBox["1", 
                SubscriptBox[
                 TemplateBox[{"S"}, "RowDefault"], 
                 TemplateBox[{"3"}, "RowDefault"]]]}, "RowDefault"], 
             DisplayForm]},
           "Ket"]}], ")"}]}], 
       RowBox[{"2", " ", 
        SqrtBox["2"]}]]}], ")"}]}],
   DisplayForm]}]], "Output",
 CellLabel->"Out[1]=",
 CellID->1872184329,ExpressionUUID->"124286d9-2466-4d91-bf47-8d11e6fc07df"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{"vx", "=", 
  RowBox[{"vv", "//", "LogicalForm"}]}], "\[IndentingNewLine]", 
 RowBox[{"vx", "//", "DefaultForm"}]}], "Input",
 CellLabel->"In[2]:=",
 CellID->206645756,ExpressionUUID->"60c662a4-2d91-426b-a380-86e42327cdcc"],

Cell[BoxData[
 RowBox[{
  TagBox[
   RowBox[{
    TagBox[
     TemplateBox[{
       TagBox[
        TemplateBox[{
          SubscriptBox["0", 
           SubscriptBox[
            TemplateBox[{"S"}, "RowDefault"], 
            TemplateBox[{"1"}, "RowDefault"]]], 
          SubscriptBox["0", 
           SubscriptBox[
            TemplateBox[{"S"}, "RowDefault"], 
            TemplateBox[{"2"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
      
      "Ket"],
     HoldForm], "\[CircleTimes]", 
    RowBox[{"(", 
     RowBox[{"-", 
      FractionBox[
       RowBox[{"\[ImaginaryI]", " ", 
        RowBox[{"(", 
         RowBox[{
          TemplateBox[{
            TagBox[
             TemplateBox[{
               SubscriptBox["0", 
                SubscriptBox[
                 TemplateBox[{"S"}, "RowDefault"], 
                 TemplateBox[{"3"}, "RowDefault"]]]}, "RowDefault"], 
             DisplayForm]},
           "Ket"], "-", 
          TemplateBox[{
            TagBox[
             TemplateBox[{
               SubscriptBox["1", 
                SubscriptBox[
                 TemplateBox[{"S"}, "RowDefault"], 
                 TemplateBox[{"3"}, "RowDefault"]]]}, "RowDefault"], 
             DisplayForm]},
           "Ket"]}], ")"}]}], 
       RowBox[{"2", " ", 
        SqrtBox["2"]}]]}], ")"}]}],
   DisplayForm], "+", 
  TagBox[
   RowBox[{
    TagBox[
     TemplateBox[{
       TagBox[
        TemplateBox[{
          SubscriptBox["0", 
           SubscriptBox[
            TemplateBox[{"S"}, "RowDefault"], 
            TemplateBox[{"1"}, "RowDefault"]]], 
          SubscriptBox["1", 
           SubscriptBox[
            TemplateBox[{"S"}, "RowDefault"], 
            TemplateBox[{"2"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
      
      "Ket"],
     HoldForm], "\[CircleTimes]", 
    RowBox[{"(", 
     RowBox[{"-", 
      FractionBox[
       RowBox[{"\[ImaginaryI]", " ", 
        RowBox[{"(", 
         RowBox[{
          RowBox[{"-", 
           TemplateBox[{
             TagBox[
              TemplateBox[{
                SubscriptBox["0", 
                 SubscriptBox[
                  TemplateBox[{"S"}, "RowDefault"], 
                  TemplateBox[{"3"}, "RowDefault"]]]}, "RowDefault"], 
              DisplayForm]},
            "Ket"]}], "+", 
          TemplateBox[{
            TagBox[
             TemplateBox[{
               SubscriptBox["1", 
                SubscriptBox[
                 TemplateBox[{"S"}, "RowDefault"], 
                 TemplateBox[{"3"}, "RowDefault"]]]}, "RowDefault"], 
             DisplayForm]},
           "Ket"]}], ")"}]}], 
       RowBox[{"2", " ", 
        SqrtBox["2"]}]]}], ")"}]}],
   DisplayForm], "+", 
  TagBox[
   RowBox[{
    TagBox[
     TemplateBox[{
       TagBox[
        TemplateBox[{
          SubscriptBox["1", 
           SubscriptBox[
            TemplateBox[{"S"}, "RowDefault"], 
            TemplateBox[{"1"}, "RowDefault"]]], 
          SubscriptBox["0", 
           SubscriptBox[
            TemplateBox[{"S"}, "RowDefault"], 
            TemplateBox[{"2"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
      
      "Ket"],
     HoldForm], "\[CircleTimes]", 
    RowBox[{"(", 
     RowBox[{"-", 
      FractionBox[
       RowBox[{"\[ImaginaryI]", " ", 
        RowBox[{"(", 
         RowBox[{
          RowBox[{"-", 
           TemplateBox[{
             TagBox[
              TemplateBox[{
                SubscriptBox["0", 
                 SubscriptBox[
                  TemplateBox[{"S"}, "RowDefault"], 
                  TemplateBox[{"3"}, "RowDefault"]]]}, "RowDefault"], 
              DisplayForm]},
            "Ket"]}], "+", 
          TemplateBox[{
            TagBox[
             TemplateBox[{
               SubscriptBox["1", 
                SubscriptBox[
                 TemplateBox[{"S"}, "RowDefault"], 
                 TemplateBox[{"3"}, "RowDefault"]]]}, "RowDefault"], 
             DisplayForm]},
           "Ket"]}], ")"}]}], 
       RowBox[{"2", " ", 
        SqrtBox["2"]}]]}], ")"}]}],
   DisplayForm], "+", 
  TagBox[
   RowBox[{
    TagBox[
     TemplateBox[{
       TagBox[
        TemplateBox[{
          SubscriptBox["1", 
           SubscriptBox[
            TemplateBox[{"S"}, "RowDefault"], 
            TemplateBox[{"1"}, "RowDefault"]]], 
          SubscriptBox["1", 
           SubscriptBox[
            TemplateBox[{"S"}, "RowDefault"], 
            TemplateBox[{"2"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
      
      "Ket"],
     HoldForm], "\[CircleTimes]", 
    RowBox[{"(", 
     RowBox[{"-", 
      FractionBox[
       RowBox[{"\[ImaginaryI]", " ", 
        RowBox[{"(", 
         RowBox[{
          TemplateBox[{
            TagBox[
             TemplateBox[{
               SubscriptBox["0", 
                SubscriptBox[
                 TemplateBox[{"S"}, "RowDefault"], 
                 TemplateBox[{"3"}, "RowDefault"]]]}, "RowDefault"], 
             DisplayForm]},
           "Ket"], "-", 
          TemplateBox[{
            TagBox[
             TemplateBox[{
               SubscriptBox["1", 
                SubscriptBox[
                 TemplateBox[{"S"}, "RowDefault"], 
                 TemplateBox[{"3"}, "RowDefault"]]]}, "RowDefault"], 
             DisplayForm]},
           "Ket"]}], ")"}]}], 
       RowBox[{"2", " ", 
        SqrtBox["2"]}]]}], ")"}]}],
   DisplayForm]}]], "Output",
 CellLabel->"Out[2]=",
 CellID->1321687147,ExpressionUUID->"dfb389ce-da89-4b26-b25a-94c5e1e2ec91"],

Cell[BoxData[
 RowBox[{
  TagBox[
   RowBox[{
    TagBox[
     TemplateBox[{
       TagBox[
        TemplateBox[{
          SubscriptBox["0", 
           SubscriptBox[
            TemplateBox[{"S"}, "RowDefault"], 
            TemplateBox[{"1"}, "RowDefault"]]], 
          SubscriptBox["0", 
           SubscriptBox[
            TemplateBox[{"S"}, "RowDefault"], 
            TemplateBox[{"2"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
      
      "Ket"],
     HoldForm], "\[CircleTimes]", 
    RowBox[{"(", 
     RowBox[{"-", 
      FractionBox[
       RowBox[{"\[ImaginaryI]", " ", 
        RowBox[{"(", 
         RowBox[{
          TemplateBox[{"\"\[SpaceIndicator]\""},
           "Ket"], "-", 
          TemplateBox[{
            TagBox[
             TemplateBox[{
               SubscriptBox["1", 
                SubscriptBox[
                 TemplateBox[{"S"}, "RowDefault"], 
                 TemplateBox[{"3"}, "RowDefault"]]]}, "RowDefault"], 
             DisplayForm]},
           "Ket"]}], ")"}]}], 
       RowBox[{"2", " ", 
        SqrtBox["2"]}]]}], ")"}]}],
   DisplayForm], "+", 
  TagBox[
   RowBox[{
    TagBox[
     TemplateBox[{
       TagBox[
        TemplateBox[{
          SubscriptBox["0", 
           SubscriptBox[
            TemplateBox[{"S"}, "RowDefault"], 
            TemplateBox[{"1"}, "RowDefault"]]], 
          SubscriptBox["1", 
           SubscriptBox[
            TemplateBox[{"S"}, "RowDefault"], 
            TemplateBox[{"2"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
      
      "Ket"],
     HoldForm], "\[CircleTimes]", 
    RowBox[{"(", 
     RowBox[{"-", 
      FractionBox[
       RowBox[{"\[ImaginaryI]", " ", 
        RowBox[{"(", 
         RowBox[{
          RowBox[{"-", 
           TemplateBox[{"\"\[SpaceIndicator]\""},
            "Ket"]}], "+", 
          TemplateBox[{
            TagBox[
             TemplateBox[{
               SubscriptBox["1", 
                SubscriptBox[
                 TemplateBox[{"S"}, "RowDefault"], 
                 TemplateBox[{"3"}, "RowDefault"]]]}, "RowDefault"], 
             DisplayForm]},
           "Ket"]}], ")"}]}], 
       RowBox[{"2", " ", 
        SqrtBox["2"]}]]}], ")"}]}],
   DisplayForm], "+", 
  TagBox[
   RowBox[{
    TagBox[
     TemplateBox[{
       TagBox[
        TemplateBox[{
          SubscriptBox["1", 
           SubscriptBox[
            TemplateBox[{"S"}, "RowDefault"], 
            TemplateBox[{"1"}, "RowDefault"]]], 
          SubscriptBox["0", 
           SubscriptBox[
            TemplateBox[{"S"}, "RowDefault"], 
            TemplateBox[{"2"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
      
      "Ket"],
     HoldForm], "\[CircleTimes]", 
    RowBox[{"(", 
     RowBox[{"-", 
      FractionBox[
       RowBox[{"\[ImaginaryI]", " ", 
        RowBox[{"(", 
         RowBox[{
          RowBox[{"-", 
           TemplateBox[{"\"\[SpaceIndicator]\""},
            "Ket"]}], "+", 
          TemplateBox[{
            TagBox[
             TemplateBox[{
               SubscriptBox["1", 
                SubscriptBox[
                 TemplateBox[{"S"}, "RowDefault"], 
                 TemplateBox[{"3"}, "RowDefault"]]]}, "RowDefault"], 
             DisplayForm]},
           "Ket"]}], ")"}]}], 
       RowBox[{"2", " ", 
        SqrtBox["2"]}]]}], ")"}]}],
   DisplayForm], "+", 
  TagBox[
   RowBox[{
    TagBox[
     TemplateBox[{
       TagBox[
        TemplateBox[{
          SubscriptBox["1", 
           SubscriptBox[
            TemplateBox[{"S"}, "RowDefault"], 
            TemplateBox[{"1"}, "RowDefault"]]], 
          SubscriptBox["1", 
           SubscriptBox[
            TemplateBox[{"S"}, "RowDefault"], 
            TemplateBox[{"2"}, "RowDefault"]]]}, "RowDefault"], DisplayForm]},
      
      "Ket"],
     HoldForm], "\[CircleTimes]", 
    RowBox[{"(", 
     RowBox[{"-", 
      FractionBox[
       RowBox[{"\[ImaginaryI]", " ", 
        RowBox[{"(", 
         RowBox[{
          TemplateBox[{"\"\[SpaceIndicator]\""},
           "Ket"], "-", 
          TemplateBox[{
            TagBox[
             TemplateBox[{
               SubscriptBox["1", 
                SubscriptBox[
                 TemplateBox[{"S"}, "RowDefault"], 
                 TemplateBox[{"3"}, "RowDefault"]]]}, "RowDefault"], 
             DisplayForm]},
           "Ket"]}], ")"}]}], 
       RowBox[{"2", " ", 
        SqrtBox["2"]}]]}], ")"}]}],
   DisplayForm]}]], "Output",
 CellLabel->"Out[2]=",
 CellID->25035061,ExpressionUUID->"71aa6e07-6c64-44b0-a75e-82619e13ce5e"]
}, Open  ]]
}, Open  ]]
}, Dynamic[CurrentValue[
 EvaluationNotebook[], {TaggingRules, "Openers", "ExampleSection", "0"}, 
  Closed]]]]
}, Dynamic[CurrentValue[
 EvaluationNotebook[], {TaggingRules, "Openers", "PrimaryExamplesSection"}, 
  Closed]]]],

Cell[BoxData[GridBox[{
   {
    DynamicBox[FEPrivate`ImportImage[
      FrontEnd`FileName[{"Documentation", "FooterIcons"}, 
       "RelatedFunction.png"]],
     ImageSizeCache->{50., {27., 33.}}], GridBox[{
      {
       StyleBox[
        RowBox[{"See", " ", "Also"}], "SeeAlsoSection"]},
      {Cell[TextData[{
        Cell[BoxData[
         TemplateBox[{
           Cell[
            TextData["OSlash"]], "paclet:Q3/ref/OSlash", "Q3 Package Symbol"},
          
          "PackageLink",
          BaseStyle->"InlineFormula"]], "InlineFormula",
         FontFamily->"Source Sans Pro",ExpressionUUID->
         "da0838e0-90da-468a-a5bb-8f3c04646dc0"],
        "\[NonBreakingSpace]",
        StyleBox[
        "\[MediumSpace]\[FilledVerySmallSquare]\[MediumSpace]", 
         "InlineSeparator"],
        " ",
        Cell[BoxData[
         TemplateBox[{
           Cell[
            TextData["OTimes"]], "paclet:Q3/ref/OTimes", "Q3 Package Symbol"},
          
          "PackageLink",
          BaseStyle->"InlineFormula"]], "InlineFormula",
         FontFamily->"Source Sans Pro",ExpressionUUID->
         "41b8916e-4924-4721-aecb-1081236d3fd3"],
        "\[NonBreakingSpace]",
        StyleBox[
        "\[MediumSpace]\[FilledVerySmallSquare]\[MediumSpace]", 
         "InlineSeparator"],
        " ",
        Cell[BoxData[
         TemplateBox[{
           Cell[
            TextData["Factor"]], "paclet:ref/Factor"},
          "RefLink",
          BaseStyle->{"InlineFormula"}]], "InlineFormula",
         FontFamily->"Source Sans Pro",ExpressionUUID->
         "0c589aa4-be19-47a6-a840-ed52f701cf94"]
       }], "SeeAlso",ExpressionUUID->"577d24ef-8695-4a9a-b83c-92b5f2b6509a"]}
     }]}
  }]], "SeeAlsoSection",ExpressionUUID->"df2b56a1-81dd-4ea0-875e-\
a16dafca33df"],

Cell[" ", "FooterCell",ExpressionUUID->"5010f110-9316-4ada-b2ac-1e891e80d6e0"]
},
Saveable->False,
ScreenStyleEnvironment->"Working",
WindowSize->{900, 830},
WindowMargins->{{0, Automatic}, {Automatic, 0}},
WindowTitle->"KetFactor",
TaggingRules->{
 "ModificationHighlight" -> False, "ColorType" -> "", "LinkTrails" -> "", 
  "ExampleCounter" -> 1, 
  "Openers" -> {
   "PrimaryExamplesSection" -> Open, "ExampleSection" -> {"0" -> Open}, 
    "NotesSection" -> Closed}, "NewStyles" -> True, 
  "CitationPopupData" -> $Failed, "ShowCitation" -> False, "RootCaptions" -> 
  "", "Metadata" -> {
   "built" -> "{2022, 6, 6, 10, 32, 59.761037}", 
    "history" -> {"12", "", "", ""}, "context" -> "Q3`", "keywords" -> {}, 
    "specialkeywords" -> {}, "tutorialcollectionlinks" -> {}, "index" -> True,
     "label" -> "Q3 Symbol", "language" -> "en", "paclet" -> "Q3", "status" -> 
    "None", "summary" -> 
    "KetFactor[expr] tries to factorize ket expression expr and, if \
successful at all, returns the result in the form of OTimes[...]. Otherwise \
it just throws expr out. KetFactor[expr, {s1, s2, ...}] factors out the state \
concerning the specified qubits and returns the result in OSlash[...]. \
KetFactor[expr, s] is equivalent to KetFactor[expr, {s}].", "synonyms" -> {}, 
    "tabletags" -> {}, "title" -> "KetFactor", "titlemodifier" -> "", 
    "windowtitle" -> "KetFactor", "type" -> "Symbol", "uri" -> 
    "Q3/ref/KetFactor", "WorkflowDockedCell" -> ""}, "SearchTextTranslated" -> 
  ""},
CellContext->"Global`",
FrontEndVersion->"13.0 for Mac OS X ARM (64-bit) (February 4, 2022)",
StyleDefinitions->Notebook[{
   Cell[
    StyleData[
    StyleDefinitions -> FrontEnd`FileName[{"Wolfram"}, "Reference.nb"]]], 
   Cell[
    StyleData["Input"], CellContext -> "Global`"], 
   Cell[
    StyleData["Output"], CellContext -> "Global`"]}, Visible -> False, 
  FrontEndVersion -> "13.0 for Mac OS X ARM (64-bit) (February 4, 2022)", 
  StyleDefinitions -> "Default.nb"],
ExpressionUUID->"34dd9425-825b-4a13-854b-648053bf88b2"
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{
 "PrimaryExamplesSection"->{
  Cell[11999, 322, 1389, 37, 36, "PrimaryExamplesSection",ExpressionUUID->"0bfb4c21-d943-4ef3-88cc-80e5eb89ed9f",
   CellTags->"PrimaryExamplesSection",
   CellID->647052307]}
 }
*)
(*CellTagsIndex
CellTagsIndex->{
 {"PrimaryExamplesSection", 95211, 3091}
 }
*)
(*NotebookFileOutline
Notebook[{
Cell[581, 21, 4997, 120, 57, "AnchorBarGrid",ExpressionUUID->"da3946f6-85f6-461f-b056-6bf80369c464",
 CellID->1],
Cell[5581, 143, 85, 0, 23, "ContextNameCell",ExpressionUUID->"0b2e2808-cfe9-446b-8521-3232d91e787a"],
Cell[CellGroupData[{
Cell[5691, 147, 552, 14, 60, "ObjectNameGrid",ExpressionUUID->"0bc680fa-a808-41c5-a01e-a255f0e586e2"],
Cell[6246, 163, 3131, 82, 288, "Usage",ExpressionUUID->"c83a32a3-cd50-402e-8333-d2cef35d0a22",
 CellID->197957673]
}, Open  ]],
Cell[CellGroupData[{
Cell[9414, 250, 1852, 47, 38, "NotesSection",ExpressionUUID->"25ac5360-1aea-45f3-805a-2c6917c882c8",
 CellGroupingRules->{"SectionGrouping", 50},
 CellID->2097562837],
Cell[11269, 299, 603, 17, 38, "Notes",ExpressionUUID->"8bb17c17-23c7-4fc0-a911-d009a73cbcb4",
 CellID->622440908]
}, Dynamic[CurrentValue[EvaluationNotebook[], {TaggingRules, "Openers", "NotesSection"}, Closed]]]],
Cell[CellGroupData[{
Cell[11999, 322, 1389, 37, 36, "PrimaryExamplesSection",ExpressionUUID->"0bfb4c21-d943-4ef3-88cc-80e5eb89ed9f",
 CellTags->"PrimaryExamplesSection",
 CellID->647052307],
Cell[CellGroupData[{
Cell[13413, 363, 1367, 36, 31, "ExampleSection",ExpressionUUID->"3972b579-5adb-4840-a030-8bda735106e7",
 CellID->150935341],
Cell[14783, 401, 145, 3, 29, "Input",ExpressionUUID->"05e86663-1a51-4a80-aae0-75b66441412e",
 CellID->892669559],
Cell[14931, 406, 182, 4, 29, "Input",ExpressionUUID->"a1622a60-efa4-480c-ba4a-d12431a27d30",
 CellID->2078920508],
Cell[CellGroupData[{
Cell[15138, 414, 527, 16, 29, "Input",ExpressionUUID->"b1136d11-1bfb-45ed-a268-741522ef944a",
 CellID->858041266],
Cell[15668, 432, 849, 36, 68, "Output",ExpressionUUID->"007615f7-d1f0-4e68-b77a-b3caf5885491",
 CellID->1198049632]
}, Open  ]],
Cell[CellGroupData[{
Cell[16554, 473, 624, 20, 66, "Input",ExpressionUUID->"34f4f365-dc92-4a50-bc7a-6e5dc8054241",
 CellID->2130549762],
Cell[17181, 495, 3611, 117, 62, "Output",ExpressionUUID->"79862ccf-1dca-4757-a9ad-c9871b1b2175",
 CellID->2092805747]
}, Open  ]],
Cell[CellGroupData[{
Cell[20829, 617, 188, 4, 70, "Input",ExpressionUUID->"0a3fb146-c021-4545-b92d-eebe84b7b81d",
 CellID->1873594102],
Cell[21020, 623, 2347, 73, 62, "Output",ExpressionUUID->"4a763810-05ff-4b03-a984-a8bc45047297",
 CellID->578749318]
}, Open  ]],
Cell[CellGroupData[{
Cell[23404, 701, 184, 4, 70, "Input",ExpressionUUID->"1a7641d2-acb0-4176-be1a-5c9a2cc3b606",
 CellID->1603183107],
Cell[23591, 707, 126, 2, 37, "Output",ExpressionUUID->"f77825dc-cd4c-497e-acba-6a7fc5a83191",
 CellID->655062015]
}, Open  ]],
Cell[CellGroupData[{
Cell[23754, 714, 163, 3, 70, "Input",ExpressionUUID->"5841a418-04b5-4a4c-8221-56cc38c8ed14",
 CellID->224248721],
Cell[23920, 719, 356, 7, 101, "Output",ExpressionUUID->"177f229d-cd61-4d30-9bbd-cfacca616638",
 CellID->140013690]
}, Open  ]],
Cell[CellGroupData[{
Cell[24313, 731, 161, 3, 70, "Input",ExpressionUUID->"76c67070-10be-41f0-8c1c-11c33db418ff",
 CellID->1009993283],
Cell[24477, 736, 2348, 73, 62, "Output",ExpressionUUID->"fb94521d-4665-406b-b1c9-3af2a7068a1b",
 CellID->1763478918]
}, Open  ]],
Cell[26840, 812, 214, 5, 70, "ExampleText",ExpressionUUID->"c2c25b7c-f162-49cc-9851-a9271ca42630",
 CellID->1042120013],
Cell[CellGroupData[{
Cell[27079, 821, 160, 3, 70, "Input",ExpressionUUID->"0eec61ed-a2c5-43d5-8ea1-a1aaa16da78f",
 CellID->34433559],
Cell[27242, 826, 604, 18, 41, "Output",ExpressionUUID->"bb10e7e7-af58-4ab4-ba44-b8bb033ce143",
 CellID->2013282968]
}, Open  ]],
Cell[27861, 847, 311, 5, 70, "ExampleText",ExpressionUUID->"8a251682-c2d3-422d-a220-b91996efed47",
 CellID->1823025660],
Cell[CellGroupData[{
Cell[28197, 856, 242, 6, 70, "Input",ExpressionUUID->"19d2ee75-b287-4f7d-9c6b-c05335603b3c",
 CellID->1820327759],
Cell[28442, 864, 1190, 42, 41, "Output",ExpressionUUID->"02cf5d6f-182e-4ebb-b73e-de81d393824d",
 CellID->1931562767]
}, Open  ]],
Cell[CellGroupData[{
Cell[29669, 911, 166, 3, 70, "Input",ExpressionUUID->"bb5e8415-eb7f-4516-9b96-5a5ae0c070b2",
 CellID->1335653111],
Cell[29838, 916, 1375, 48, 41, "Output",ExpressionUUID->"670f573c-996c-4059-8ae0-a761e35100f3",
 CellID->564349037]
}, Open  ]],
Cell[CellGroupData[{
Cell[31250, 969, 243, 5, 70, "ExampleDelimiter",ExpressionUUID->"5ceaab74-4196-458c-baf5-fdc1e206787a",
 CellID->1303332931],
Cell[31496, 976, 123, 1, 70, "ExampleText",ExpressionUUID->"16a7d2f9-d175-4285-b545-1a047dc2573c",
 CellID->1340709830],
Cell[CellGroupData[{
Cell[31644, 981, 328, 10, 70, "Input",ExpressionUUID->"fe741ddd-9df2-4778-9d16-f6e25daaece3",
 CellID->947688046],
Cell[31975, 993, 475, 15, 41, "Output",ExpressionUUID->"30aad482-00ff-4326-8ff7-c0e6d00f6efa",
 CellID->1844441880]
}, Open  ]],
Cell[32465, 1011, 312, 6, 70, "ExampleText",ExpressionUUID->"f2991d05-bf95-46f1-afd3-be96a94cb57b",
 CellID->1869109781],
Cell[CellGroupData[{
Cell[32802, 1021, 163, 3, 70, "Input",ExpressionUUID->"af0375ed-7c07-4436-b933-fcc6355b9bdb",
 CellID->2114337064],
Cell[32968, 1026, 526, 17, 41, "Output",ExpressionUUID->"690d3ef2-6a97-4b69-8f62-95d2c844e0d7",
 CellID->1695013276]
}, Open  ]],
Cell[33509, 1046, 271, 7, 70, "ExampleText",ExpressionUUID->"9d1ba85e-7b3f-4aa9-aeb3-de779abeadbd",
 CellID->2065171665],
Cell[CellGroupData[{
Cell[33805, 1057, 262, 7, 70, "Input",ExpressionUUID->"cc792ace-8fee-4743-a252-9dc5b73cf903",
 CellID->934552399],
Cell[34070, 1066, 938, 29, 41, "Output",ExpressionUUID->"89ddde4e-2b35-46be-b35f-e5d13cde491f",
 CellID->498520126]
}, Open  ]],
Cell[35023, 1098, 158, 2, 70, "ExampleText",ExpressionUUID->"efd59e33-18b4-4d0f-abe7-463f284c8ac2",
 CellID->617093176],
Cell[CellGroupData[{
Cell[35206, 1104, 260, 7, 70, "Input",ExpressionUUID->"93b3129f-d01c-4abc-927f-0015145ae144",
 CellID->903143971],
Cell[35469, 1113, 1053, 34, 41, "Output",ExpressionUUID->"ac3693f1-7bf4-41e5-adeb-b7893fcb0819",
 CellID->1631985954]
}, Open  ]],
Cell[36537, 1150, 199, 4, 70, "ExampleText",ExpressionUUID->"9042414e-bf9f-4daf-a417-62250e7afa4a",
 CellID->1973171003],
Cell[CellGroupData[{
Cell[36761, 1158, 270, 7, 70, "Input",ExpressionUUID->"52e5194b-b221-48f4-b3e8-15db535d1c56",
 CellID->2013531351],
Cell[37034, 1167, 1751, 54, 41, "Output",ExpressionUUID->"706ba76c-14bf-426c-bbc0-ec08f3ecec36",
 CellID->349635486]
}, Open  ]],
Cell[38800, 1224, 226, 4, 70, "ExampleText",ExpressionUUID->"28a77538-cb00-4941-9c89-291719968b86",
 CellID->1216169220],
Cell[CellGroupData[{
Cell[39051, 1232, 395, 10, 70, "Input",ExpressionUUID->"610df1e8-9fd4-42be-a492-106e647d8a0a",
 CellID->2048042578],
Cell[39449, 1244, 2074, 61, 41, "Output",ExpressionUUID->"4bfc8215-8d4f-438d-a45e-cdf4bc33e90e",
 CellID->526512895],
Cell[41526, 1307, 1752, 54, 41, "Output",ExpressionUUID->"db7219a3-573e-49ee-8f33-6495f73e1fcc",
 CellID->1469600625]
}, Open  ]],
Cell[43293, 1364, 264, 5, 70, "ExampleText",ExpressionUUID->"e75cbece-37bd-465d-958e-03b0b2a35f51",
 CellID->1316655907],
Cell[CellGroupData[{
Cell[43582, 1373, 215, 5, 70, "Input",ExpressionUUID->"0e2d4428-2e62-4c86-b966-2ca736d893f5",
 CellID->823690278],
Cell[43800, 1380, 1752, 54, 41, "Output",ExpressionUUID->"be4efe8c-d484-43e3-9abe-8b5d2641ac13",
 CellID->1649043876]
}, Open  ]],
Cell[45567, 1437, 1101, 32, 70, "ExampleText",ExpressionUUID->"003ef661-034c-4e02-a2da-f68fe1348d33",
 CellID->1745135099],
Cell[CellGroupData[{
Cell[46693, 1473, 163, 3, 70, "Input",ExpressionUUID->"e4b15e95-9948-407b-9917-d2fdf45672f0",
 CellID->1840995808],
Cell[46859, 1478, 308, 6, 84, "Output",ExpressionUUID->"558edc8e-6a30-4105-b013-70b32b3be624",
 CellID->1870718705]
}, Open  ]],
Cell[47182, 1487, 142, 1, 70, "ExampleText",ExpressionUUID->"c2c260d2-3c21-48d2-bf8d-56c4e3c1c505",
 CellID->486279643],
Cell[CellGroupData[{
Cell[47349, 1492, 242, 6, 70, "Input",ExpressionUUID->"c1979b64-de72-493e-acbb-eb523fc54d91",
 CellID->1128291247],
Cell[47594, 1500, 921, 31, 41, "Output",ExpressionUUID->"d056f239-f91f-4c72-810e-4d37777f0aac",
 CellID->384831708]
}, Open  ]],
Cell[48530, 1534, 1067, 32, 70, "ExampleText",ExpressionUUID->"1069b1c1-1631-453a-a084-d0374a43047d",
 CellID->2038164986],
Cell[CellGroupData[{
Cell[49622, 1570, 163, 3, 70, "Input",ExpressionUUID->"6ec57250-ea11-43d1-b0b1-4994826365e4",
 CellID->849623719],
Cell[49788, 1575, 213, 4, 50, "Output",ExpressionUUID->"ef2ca321-aa45-45f1-a557-38fa2ad08e4d",
 CellID->1077974447]
}, Open  ]],
Cell[CellGroupData[{
Cell[50038, 1584, 166, 3, 70, "Input",ExpressionUUID->"7b975fc8-408e-49ba-ade6-c45adcf2f2cc",
 CellID->452168761],
Cell[50207, 1589, 526, 17, 41, "Output",ExpressionUUID->"04a78e5e-14ab-4047-a5bb-9c79965baa94",
 CellID->277241914]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[50782, 1612, 242, 5, 70, "ExampleDelimiter",ExpressionUUID->"46586d0d-39aa-40e9-81c2-865fde295888",
 CellID->684520124],
Cell[51027, 1619, 181, 4, 70, "Input",ExpressionUUID->"48a500bc-3512-4167-ac6b-5a25df6c53b1",
 CellID->950297347],
Cell[CellGroupData[{
Cell[51233, 1627, 837, 25, 70, "Input",ExpressionUUID->"ef57028d-8b91-43fe-abc9-82aaaceaf435",
 CellID->811628290],
Cell[52073, 1654, 547, 16, 41, "Output",ExpressionUUID->"434cadfd-db81-487e-af63-8da22a8ab341",
 CellID->51249007],
Cell[52623, 1672, 743, 24, 41, "Output",ExpressionUUID->"9a2a3f56-beb3-45e9-9f7a-d33c68c736c1",
 CellID->201118202],
Cell[53369, 1698, 795, 27, 41, "Output",ExpressionUUID->"4c2dbb7d-2eb1-4fff-8042-00bb4d81a64f",
 CellID->54360636]
}, Open  ]],
Cell[CellGroupData[{
Cell[54201, 1730, 158, 3, 70, "Input",ExpressionUUID->"6400ac56-f99d-42a2-83f7-3c061f0ebdbd",
 CellID->604094786],
Cell[54362, 1735, 776, 26, 41, "Output",ExpressionUUID->"5193f853-cdbe-43a8-8ae9-bc89b79914a0",
 CellID->1859051925]
}, Open  ]],
Cell[CellGroupData[{
Cell[55175, 1766, 607, 19, 70, "Input",ExpressionUUID->"52280221-c784-46c3-9f98-7f3a10ab6b87",
 CellID->2102943437],
Cell[55785, 1787, 418, 13, 41, "Output",ExpressionUUID->"3c861e93-49ca-4678-971b-7cf0f5cfeead",
 CellID->618529424],
Cell[56206, 1802, 869, 27, 41, "Output",ExpressionUUID->"82274d6a-708b-4445-b258-88df44992a63",
 CellID->1803177688]
}, Open  ]],
Cell[CellGroupData[{
Cell[57112, 1834, 306, 7, 70, "Input",ExpressionUUID->"cc3d6fac-15bf-4cf6-81c0-ede0c84da18f",
 CellID->629573197],
Cell[57421, 1843, 796, 28, 41, "Output",ExpressionUUID->"ffc43141-5c4d-4535-acb4-2f90f74b1de2",
 CellID->856894075],
Cell[58220, 1873, 995, 35, 41, "Output",ExpressionUUID->"ef07140c-30b9-4761-9c1d-14dca6e5aaca",
 CellID->793381743]
}, Open  ]],
Cell[CellGroupData[{
Cell[59252, 1913, 358, 9, 70, "Input",ExpressionUUID->"e68deb21-9570-4b0a-a9cd-20c85d5071ae",
 CellID->782848255],
Cell[59613, 1924, 418, 13, 41, "Output",ExpressionUUID->"a7253d7a-d892-42f9-989c-e9fa9fbb48f4",
 CellID->926342037],
Cell[60034, 1939, 869, 27, 41, "Output",ExpressionUUID->"2ba220a1-2949-4387-8725-bff2ca38c4a1",
 CellID->1921658756]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[60952, 1972, 242, 5, 70, "ExampleDelimiter",ExpressionUUID->"08a9cfef-cc90-4ed4-ae38-ac8d2c37ff00",
 CellID->491591238],
Cell[61197, 1979, 123, 1, 70, "ExampleText",ExpressionUUID->"030895de-f420-4dd7-b1cd-22592d802af2",
 CellID->2107610364],
Cell[CellGroupData[{
Cell[61345, 1984, 892, 26, 70, "Input",ExpressionUUID->"d0d32d3f-9c71-4f0d-b77c-7c78879e6cab",
 CellID->2012114130],
Cell[62240, 2012, 868, 27, 41, "Output",ExpressionUUID->"38b412c3-ab58-4b0f-aaeb-8058adc38843",
 CellID->200549879],
Cell[63111, 2041, 1358, 48, 41, "Output",ExpressionUUID->"4c7f87d9-0fff-49f3-966f-394275c1b1bb",
 CellID->1239974210],
Cell[64472, 2091, 797, 28, 41, "Output",ExpressionUUID->"c2b36a44-7550-4ebc-bdbc-53c635f3f9f2",
 CellID->1065236982]
}, Open  ]],
Cell[CellGroupData[{
Cell[65306, 2124, 257, 5, 70, "Input",ExpressionUUID->"196a569f-1fc1-49b1-b5af-ee5e6004f378",
 CellID->364076623],
Cell[65566, 2131, 1358, 48, 41, "Output",ExpressionUUID->"82388fbf-c14e-4de2-a1b2-3386566a54a6",
 CellID->2138179600],
Cell[66927, 2181, 1357, 48, 41, "Output",ExpressionUUID->"9fe1b285-9b7a-469f-8302-afef1ba23f41",
 CellID->393188302]
}, Open  ]],
Cell[CellGroupData[{
Cell[68321, 2234, 254, 5, 70, "Input",ExpressionUUID->"45daceb1-e3f2-4c5d-a131-fce3702e7951",
 CellID->54964081],
Cell[68578, 2241, 868, 27, 41, "Output",ExpressionUUID->"41f8c573-0a1c-4b83-bf98-155d798964e9",
 CellID->943436145],
Cell[69449, 2270, 761, 24, 41, "Output",ExpressionUUID->"661366f2-c3ba-4e37-b54a-ccdfacd5b607",
 CellID->1459523214]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[70259, 2300, 242, 5, 70, "ExampleDelimiter",ExpressionUUID->"5cd52ad2-111c-4a0d-b318-15ef14823dc7",
 CellID->804347057],
Cell[70504, 2307, 133, 1, 70, "ExampleText",ExpressionUUID->"9bfba26d-1926-412c-aa8d-da67f2d9bd4e",
 CellID->285956569],
Cell[CellGroupData[{
Cell[70662, 2312, 931, 28, 70, "Input",ExpressionUUID->"77208f5e-2140-404c-a53a-11b6add45666",
 CellID->3653197],
Cell[71596, 2342, 4593, 137, 56, "Output",ExpressionUUID->"3e0c250c-b607-4917-8e4b-36503938c422",
 CellID->1461453124],
Cell[76192, 2481, 4525, 153, 110, "Output",ExpressionUUID->"124286d9-2466-4d91-bf47-8d11e6fc07df",
 CellID->1872184329]
}, Open  ]],
Cell[CellGroupData[{
Cell[80754, 2639, 247, 5, 70, "Input",ExpressionUUID->"60c662a4-2d91-426b-a380-86e42327cdcc",
 CellID->206645756],
Cell[81004, 2646, 5483, 181, 110, "Output",ExpressionUUID->"dfb389ce-da89-4b26-b25a-94c5e1e2ec91",
 CellID->1321687147],
Cell[86490, 2829, 4523, 153, 110, "Output",ExpressionUUID->"71aa6e07-6c64-44b0-a75e-82619e13ce5e",
 CellID->25035061]
}, Open  ]]
}, Open  ]]
}, Dynamic[CurrentValue[EvaluationNotebook[], {TaggingRules, "Openers", "ExampleSection", "0"}, Closed]]]]
}, Dynamic[CurrentValue[EvaluationNotebook[], {TaggingRules, "Openers", "PrimaryExamplesSection"}, Closed]]]],
Cell[91267, 2992, 1776, 49, 70, "SeeAlsoSection",ExpressionUUID->"df2b56a1-81dd-4ea0-875e-a16dafca33df"],
Cell[93046, 3043, 78, 0, 70, "FooterCell",ExpressionUUID->"5010f110-9316-4ada-b2ac-1e891e80d6e0"]
}
]
*)

(* End of internal cache information *)

